<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>39C_day01_01</title>
    <url>/category/39C_day01_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础001"><a href="#基础001" class="headerlink" title="基础001"></a>基础001</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用vs创建一个程序，描述一下操作流程。观察一下创建解决方案和项目的时候，分别新建了哪些文件和文件夹？</li><li>(b). vs存在着普通状态和调试状态。如何进入调试状态？进入调试状态以后，调整好输出、监视、内存和调用堆栈窗口的布局。</li><li>(c). 如何查看一个变量的内存布局？描述一下操作行为。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码</span></span><br><span class="line"><span class="number">1.</span> 操作流程： 文件--&gt;新建--&gt;项目--&gt;空项目--&gt;配置新项目（一个解决方案是多个项目的集合）--&gt;在项目<span class="number">1</span>的源文件下创建一个main.c文件</span><br><span class="line"><span class="number">2.</span> 生成了解决方案文件夹（c++<span class="number">39</span>）、.vs文件夹、c++<span class="number">39.</span>sln（点击直接进入解决方案）、Project1文件夹、main.c文件等</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span> f5进入调试状态，f10继续调试</span><br><span class="line"><span class="number">2.</span> 调试--&gt;窗口</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">比如要查看<span class="built_in">i</span>的，就在监视<span class="number">1</span>窗口输入 &amp;<span class="built_in">i</span>即可查看</span><br></pre></td></tr></tbody></table></figure><h2 id="熟悉编程环境"><a href="#熟悉编程环境" class="headerlink" title="熟悉编程环境"></a>熟悉编程环境</h2><p>在江湖上，visual studio号称“宇宙第一IDE“，这个称号自然是来源于它强大的各种功能。对于一个新入门的菜鸟程序员而言，我们只需要使用它功能的一个非常有限的子集即可。</p><ul><li>在了解一个新的环境的时候，首先先明确自己的目标，比如我们这里使用vs，就是为了生成程序，并且能够使用简单好用的方式去调试程序。这个时候就可以把环境先用起来了，其他多余的功能完全可以等到需要用到的时候再去了解。没有必要一开始就做过多的拓展。</li><li>如果使用IDE创建了一个项目，先需要考虑整体项目是怎么样布局的，然后再考察一下创建这个项目的过程中生成了哪些文件和文件夹，从而了解到，如果要加入文件和资源，那么这些文件应当怎么布局？</li><li>使用环境的时候要注意了解整个系统的使用布局，比如哪些部分用来管理文件信息，哪些部分用来修改文件内容。</li><li>特别注意IDE的各种状态转换，比如普通状态和调试状态的联系和区别。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_02</title>
    <url>/category/39C_day01_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础002"><a href="#基础002" class="headerlink" title="基础002"></a>基础002</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 测试下本地环境中，short\int\long\long long\unsigned int\分别需要多大的存储空间？使用了什么运算符？</li><li>(b). 给出下面的代码</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// ... //</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">-1234</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">2345</span>;</span><br><span class="line"><span class="comment">// ... //</span></span><br></pre></td></tr></tbody></table></figure><p>如果采用小端法存储数据，a的地址是addr_a，b的地址是addr_b，int类型占据4个字节。说明变量a和b的真值、机器数和内存布局（每个字节的内容）分别如何？</p><ul><li><p>(c). 给出两个数据-123和12，如果采用原码方式，如何执行加法运算；如果是补码方式，如何执行加法运算？说明在原码加法和补码加法中，分别在哪些步骤中使用了加法器、减法器和大小比较器。</p></li><li><p>(d). 对于存储空间为N位，采用补码解释方式的数据。现在给出两个数据的机器数，说明如何在不转换成真值的情况下，比较两个数据的大小。</p></li><li><p>(e). 根据上一问的结论，先写出最大正数、最小负数和最大负数的机器数，从而说明有符号整数的可以表示的真值范围。</p></li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li><p>(a)</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码</span></span><br><span class="line"><span class="number">1.</span></span><br><span class="line">	short <span class="number">2</span>B</span><br><span class="line">	<span class="built_in">int</span> <span class="number">4</span>B</span><br><span class="line">	long <span class="number">4</span>B</span><br><span class="line">	long long <span class="number">8</span>B</span><br><span class="line">	unsigned <span class="built_in">int</span> <span class="number">4</span>B</span><br><span class="line"><span class="number">2.</span> 都使用了赋值运算符</span><br></pre></td></tr></tbody></table></figure></li><li><p>(b)</p></li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">变量a的真值是<span class="number">-1234</span>，b的真值是<span class="number">2345</span></span><br><span class="line">a的机器数是<span class="number">2</span>e fb ff ff，b的机器数是<span class="number">29</span> <span class="number">09</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">a的内存布局是从<span class="number">0x005bfbcc</span> {<span class="number">-1234</span>}开始<span class="number">4</span>个字节存储<span class="number">2</span>e fb ff ff,b的内存布局从<span class="number">0x005bfbc0</span> {<span class="number">2345</span>}开始四个字节存储<span class="number">29</span> <span class="number">09</span> <span class="number">00</span> <span class="number">00</span></span><br></pre></td></tr></tbody></table></figure><ul><li><p>(c)</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 先不管符号位，求用前一个数减去后一个数，若大于零，则符号位跟随前一个数；反之，则跟随后一个数</span><br><span class="line"><span class="number">2.</span> 补码的话，直接加</span><br><span class="line"><span class="number">3.</span></span><br><span class="line">	原码：减法器，大小比较器</span><br><span class="line">	补码：加法器</span><br></pre></td></tr></tbody></table></figure></li><li><p>(d)</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">机器数在计算机中以补码的形式存储，</span><br><span class="line">若两个数是正数，即符号位都为<span class="number">0</span>，则直接比较其他位，此时原码等于补码</span><br><span class="line">一个正数永远大于一个负数</span><br><span class="line">若两个数都是负数的的，即符号位都为<span class="number">1</span>，其他位表示越大，负数越大</span><br></pre></td></tr></tbody></table></figure></li><li><p>(e)</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">最大正数：<span class="number">2</span>*（N<span class="number">-1</span>）<span class="number">-1</span></span><br><span class="line">最小正数：<span class="number">0</span></span><br><span class="line">最大负数：<span class="number">-1</span></span><br><span class="line">最小负数：<span class="number">-2</span>*(N<span class="number">-1</span>)</span><br><span class="line">表示的范围为从最小负数到最大正数</span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="简单提示"><a href="#简单提示" class="headerlink" title="简单提示"></a>简单提示</h2><p>理解数据类型的底层实现是C/C++程序员的基本功。</p><p>我们所编写使用的软件都是构建在硬件之上的。基本的硬件元器件只能够提供一些有限的信息，比如时间、高低电平等等，能够实现的功能也是非常基本的，比如位的与或非操作。，程序员需要利用数据类型在真实存储的01数据和给用户展示的各种信息中构建一座桥梁。所以数据类型需要解决两个方面的问题：存储数据的<strong>空间大小</strong>，从机器数到真值的<strong>解释方式</strong>。</p><p>在作业的时候，要时刻提醒自己，什么是内存布局，什么是机器数，什么是真值。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_04</title>
    <url>/category/39C_day01_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试002"><a href="#测试002" class="headerlink" title="测试002"></a>测试002</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 求两个正有序数组的公共元素</li><li>(b). 求三个正有序数组的公共元素</li><li>(c). 求n个正有序数组的公共元素</li><li>(d). 在有序数组中找两个元素，使得这两个元素的距离最小。（即找到元素x、y，使得abs(x-y)最小）</li><li>(e). 在无序数组中找两个元素，使得这两个元素的距离最小。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>{ </span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>,i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; <span class="number">10</span> &amp;&amp; j &lt; <span class="number">10</span>) {  <span class="comment">//指针指向两个数组比较时不是两个for循环，而应用while</span></span><br><span class="line">        <span class="keyword">if</span> (arr1[i] == <span class="number">0</span> || arr2[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt; arr2[j]) j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr1[i] &lt; arr2[j]) i++;</span><br><span class="line">        <span class="keyword">else</span> {</span><br><span class="line">            res[k++] = arr1[i]; <span class="comment">//k初始化为0应放在外面</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> arr1[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span> };</span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> };</span><br><span class="line">    <span class="keyword">int</span> arr3[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> };</span><br><span class="line">    <span class="keyword">int</span> arrn[<span class="number">4</span>][<span class="number">10</span>] = {</span><br><span class="line">      {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>},</span><br><span class="line">      {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>},</span><br><span class="line">      {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>},</span><br><span class="line">      {<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>}</span><br><span class="line">      <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">int</span> res[<span class="number">10</span>] = {<span class="number">0</span>};</span><br><span class="line"></span><br><span class="line">    public_two(arr1, arr2,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>{ </span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>,i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; <span class="number">10</span> &amp;&amp; j &lt; <span class="number">10</span>) {  <span class="comment">//指针指向两个数组比较时不是两个for循环，而应用while</span></span><br><span class="line">        <span class="keyword">if</span> (arr1[i] == <span class="number">0</span> || arr2[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt; arr2[j]) j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr1[i] &lt; arr2[j]) i++;</span><br><span class="line">        <span class="keyword">else</span> {</span><br><span class="line">            res[k++] = arr1[i]; <span class="comment">//k初始化为0应放在外面</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_three</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> arr3[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> temp[<span class="number">10</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    public_two(arr1, arr2,temp);</span><br><span class="line">    public_two(temp, arr3,res);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> arr1[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span> };</span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> };</span><br><span class="line">    <span class="keyword">int</span> arr3[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> };</span><br><span class="line">    <span class="keyword">int</span> arrn[<span class="number">4</span>][<span class="number">10</span>] = {</span><br><span class="line">      {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>},</span><br><span class="line">      {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>},</span><br><span class="line">      {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>},</span><br><span class="line">      {<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>}</span><br><span class="line">      <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">int</span> res[<span class="number">10</span>] = {<span class="number">0</span>};</span><br><span class="line"></span><br><span class="line">    public_two(arr1, arr2,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    public_three(arr1, arr2, arr3,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>{ </span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>,i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; <span class="number">10</span> &amp;&amp; j &lt; <span class="number">10</span>) {  <span class="comment">//指针指向两个数组比较时不是两个for循环，而应用while</span></span><br><span class="line">        <span class="keyword">if</span> (arr1[i] == <span class="number">0</span> || arr2[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt; arr2[j]) j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr1[i] &lt; arr2[j]) i++;</span><br><span class="line">        <span class="keyword">else</span> {</span><br><span class="line">            res[k++] = arr1[i]; <span class="comment">//k初始化为0应放在外面</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_three</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> arr3[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> temp[<span class="number">10</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    public_two(arr1, arr2,temp);</span><br><span class="line">    public_two(temp, arr3,res);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_n</span><span class="params">(<span class="keyword">int</span> arrn[][<span class="number">10</span>], <span class="keyword">int</span> n,<span class="keyword">int</span> res[])</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> temp[<span class="number">10</span>] = { <span class="number">0</span> };</span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    public_two(arrn[<span class="number">0</span>], arrn[<span class="number">1</span>],temp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) {</span><br><span class="line">        public_two(temp, arrn[i],res);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">            temp[i] = res[i];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">int</span> arr1[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span> };</span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> };</span><br><span class="line">    <span class="keyword">int</span> arr3[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> };</span><br><span class="line">    <span class="keyword">int</span> arrn[<span class="number">4</span>][<span class="number">10</span>] = {</span><br><span class="line">      {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>},</span><br><span class="line">      {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>},</span><br><span class="line">      {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>},</span><br><span class="line">      {<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>}</span><br><span class="line">      <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">int</span> res[<span class="number">10</span>] = {<span class="number">0</span>};</span><br><span class="line"></span><br><span class="line">    public_two(arr1, arr2,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    public_three(arr1, arr2, arr3,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    public_n(arrn, <span class="number">4</span>,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">7</span>] = { <span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">14</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">20</span> },<span class="built_in">max</span>=<span class="number">10000</span>,k=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) {</span><br><span class="line">		<span class="keyword">int</span> temp = <span class="built_in">abs</span>(a[i] - a[i + <span class="number">1</span>]);</span><br><span class="line">		<span class="keyword">if</span> (temp &lt; <span class="built_in">max</span>) {</span><br><span class="line">			<span class="built_in">max</span> = temp;</span><br><span class="line">			k = i;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"第%d个元素和%d个元素差值最小\n"</span>, k + <span class="number">1</span>, k + <span class="number">2</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//先排序后调用d方法求</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">short_dis</span><span class="params">(<span class="keyword">int</span> a[])</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">max</span> = <span class="number">10000</span>, k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) {</span><br><span class="line">		<span class="keyword">int</span> temp = <span class="built_in">abs</span>(a[i] - a[i + <span class="number">1</span>]);</span><br><span class="line">		<span class="keyword">if</span> (temp &lt; <span class="built_in">max</span>) {</span><br><span class="line">			<span class="built_in">max</span> = temp;</span><br><span class="line">			k = i;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> k;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">7</span>] = { <span class="number">5</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">14</span>,<span class="number">17</span>,<span class="number">16</span>,<span class="number">20</span> };</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) {</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span> - i; j++) {</span><br><span class="line">			<span class="keyword">if</span> (a[j] &gt; a[j+<span class="number">1</span>]) {</span><br><span class="line">				<span class="keyword">int</span> temp = a[j];</span><br><span class="line">				a[j] = a[j+<span class="number">1</span>];</span><br><span class="line">				a[j+<span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">				</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; 7; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);*/</span></span><br><span class="line">	<span class="keyword">int</span> k = short_dis(a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d和%d差值最小\n"</span>, a[k], a[k+<span class="number">1</span>]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>1、 (a) (b) (c)</p><p>为了简化编程难度，这里做一些假设，数组的最大大小固定为10，数组的元素全都是正数，空的元素为0。</p><p>本题的意图是希望同学能够从繁琐的行为中提取相似的代码，构成一个函数。在解决复杂问题时候，要充分思考，利用已有的工具可以不可以减少代码量。</p><p>比如一个很显然的结论，三个数组的公共元素是否一定是任意两个数组的公共元素？</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_three</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_n</span><span class="params">(<span class="keyword">int</span> arr[][N], <span class="keyword">int</span> n, <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">  <span class="keyword">int</span> arr1[N] = {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>};<span class="comment">//注意C中数组，下标是从0开始的</span></span><br><span class="line">  <span class="keyword">int</span> arr2[N] = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>};</span><br><span class="line">  <span class="keyword">int</span> arr3[N] = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>};</span><br><span class="line">  <span class="keyword">int</span> res[N] = {<span class="number">0</span>}; <span class="comment">// res用来存储结果，一开始是空的</span></span><br><span class="line">  <span class="keyword">int</span> arrn[N][N] = {</span><br><span class="line">    {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>},</span><br><span class="line">    {<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>},</span><br><span class="line">    {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>},</span><br><span class="line">    <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  }</span><br><span class="line">  public_two(arr1,arr2,res);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2、 (d) (e)</p><p>如果已经完成了d，是否可以e问题转化成d问题，再利用d的方法解决问题。</p><h2 id="调试程序方法"><a href="#调试程序方法" class="headerlink" title="调试程序方法"></a>调试程序方法</h2><p>在调试比较复杂的程序的时候，要充分地把vs的工具利用起来。如果程序执行过程中，代码的运行结果不符合预期怎么办？</p><ul><li>首先，要明确增量编写法，在完成一部分以后，要注意检查结果是否正确。</li><li>其次，要充分利用现有的工具，在调试数组的时候，可以在循环中打一个断点，然后在单步调试或者继续调试，在监视窗口注意观察循环变量、数组下标、临时变量和数组元素等等的变化。</li><li>观察内存越界问题，在定义数组以后，可以先记录下数组的内存空间范围，如果程序出现内存报错，可以看看是不是访问数据超出了数组的内存空间范围。</li><li>在定义变量的时候，要牢记：这个变量是能够用中文解释出它的含义的。不要写自己都看不懂的代码。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_05</title>
    <url>/category/39C_day01_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试003"><a href="#测试003" class="headerlink" title="测试003"></a>测试003</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 求数组的最大值和最小值。</li><li>(b). 假设数组的大小是N，现在存在一个元素的重复次数超过了N/2，找到该元素。</li><li>(c). 数组的大小是1001，其中存储了1-1000之间的整数，每个整数至少出现一次，这样必然存在一个整数重复出现，找到该元素。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">max</span> = <span class="number">-1</span>, <span class="built_in">min</span> = <span class="number">100000</span>, a[<span class="number">10</span>] = {<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">9</span>};</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt; <span class="built_in">max</span>) <span class="built_in">max</span> = a[i];</span><br><span class="line">		<span class="keyword">if</span> (a[i] &lt; <span class="built_in">min</span>) <span class="built_in">min</span> = a[i];</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"最大值：%d，最小值：%d"</span>, <span class="built_in">max</span>, <span class="built_in">min</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//找众数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maj_sum</span><span class="params">(<span class="keyword">int</span> a[])</span> </span>{ </span><br><span class="line">	<span class="keyword">int</span> maj,c=<span class="number">0</span>,i=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">		<span class="keyword">if</span> (<span class="number">0</span> == c) {</span><br><span class="line">			maj = a[i];</span><br><span class="line">			c = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			maj == a[i] ? c++ : c--;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> maj;</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">10</span>] = { <span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span> }, count = <span class="number">0</span>;;</span><br><span class="line">	<span class="keyword">int</span> maj = maj_sum(a);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">		<span class="keyword">if</span> (maj == a[i]) count++;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (count&gt; <span class="number">5</span>) <span class="built_in">printf</span>(<span class="string">"元素为%d"</span>, maj);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"不存在"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 1001</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">int</span> arr[MAX];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i) {</span><br><span class="line">		arr[i] = i + <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i) {</span><br><span class="line">		<span class="keyword">int</span> j = rand() % (i + <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">int</span> tmp = arr[j];</span><br><span class="line">		arr[j] = arr[i];</span><br><span class="line">		arr[i] = tmp;</span><br><span class="line">	}</span><br><span class="line">	arr[<span class="number">1000</span>] = rand() % <span class="number">1000</span>+<span class="number">1</span>;</span><br><span class="line">	<span class="comment">//下面是待完成的代码，检查时需要注意结果和arr[1000]是否一致</span></span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1001</span>; i++) {</span><br><span class="line">		sum += arr[i];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> dig = sum - (<span class="number">1</span> + <span class="number">1000</span>) * <span class="number">1000</span> / <span class="number">2</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"重复的数是%d"</span>, dig);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>1、暴力法</p><p>在解决数组相关的问题当中，如果需要考虑任意两个数组元素的关系，一种比较直接的想法是采用一个双重循环。外层的循环i从0-N-1，内层的循环j从0-i-1，这样利用下标i和j就可以建立数组中任意两个元素之间的关系了。这种简单粗暴的方法就是所谓的暴力法</p><p>2、提高效率</p><p>在解决实际问题时候，由于暴力法的运行效率，所以往往需要对暴力法进行优化，最好的情况就是只需要一遍循环就能解决问题。优化的方式就要具体情况具体分析了。</p><p>(a) 在循环中，可以考虑使用两个变量存储当前最大和次大的元素。</p><p>(b) 使用一个变量key存储当前认为的重复元素，使用一个变量cnt存储该元素的出现次数-未出现次数，如果key确实是重复元素，那么遍历完数组以后应当满足对应的cnt应当大于0。所以可以使用循环遍历数组，比较当前元素是否为key，从而调整cnt的数值，如果cnt为0，则调整key的数值。</p><p>(c) 可以尝试观察它的数学性质，思考一样修改1-1000的顺序，有哪些信息是不变的？</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_03</title>
    <url>/category/39C_day01_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试001"><a href="#测试001" class="headerlink" title="测试001"></a>测试001</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 打印九九乘法表</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span>*<span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="number">1</span>*<span class="number">2</span> = <span class="number">2</span> <span class="number">2</span>*<span class="number">2</span> = <span class="number">4</span></span><br><span class="line"><span class="number">1</span>*<span class="number">3</span> = <span class="number">3</span> <span class="number">2</span>*<span class="number">3</span> = <span class="number">6</span> <span class="number">3</span>*<span class="number">3</span> = <span class="number">9</span></span><br><span class="line">... ...</span><br></pre></td></tr></tbody></table></figure><ul><li>(b). 打印图案</li></ul><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line"><span class="code">    *</span></span><br><span class="line"><span class="bullet">   * </span>*</span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span></span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">* </span><span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">   * </span>*</span><br><span class="line"><span class="code">    *</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(c). 打印图案</li></ul><figure class="highlight stata"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">   * *</span></span><br><span class="line"><span class="comment">  *   *</span></span><br><span class="line"><span class="comment"> *     *</span></span><br><span class="line"><span class="comment">*       *</span></span><br><span class="line"><span class="comment"> *     *</span></span><br><span class="line"><span class="comment">  *   *</span></span><br><span class="line"><span class="comment">   * *</span></span><br><span class="line"><span class="comment">    *</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d). 打印图案</li></ul><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line"><span class="bullet">   * </span><span class="emphasis">*       *</span> *</span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span>     <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> <span class="emphasis">*   *</span> <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">* </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">   * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">    * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> * </span><br><span class="line"><span class="bullet">     * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">      * </span><span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">       * </span><span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">        * </span>*</span><br><span class="line"><span class="code">         *</span></span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d*%d = %d "</span>, i, j, i * j);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j&gt; <span class="number">0</span>; j--) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) {</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">4</span>; i++) {</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) {</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j&gt; <span class="number">0</span>; j--) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) {</span><br><span class="line">			<span class="keyword">if</span> (a == <span class="number">0</span>||a==(k<span class="number">-1</span>)) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">4</span>; i++) {</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) {</span><br><span class="line">			<span class="keyword">if</span> (a == <span class="number">0</span> || a == (k - <span class="number">1</span>)) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> k =( <span class="number">19</span> - <span class="number">2</span>* i-(<span class="number">2</span>*i+<span class="number">1</span>))/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) {</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> b = <span class="number">0</span>; b &lt;= <span class="number">2</span> * i; b++) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) {</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">19</span>; i++) {</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">19</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) {</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>对于打印图形的问题，首先应当明确一个前提，那就是图形本身是一个二维的数据集合，具体在本次作业中就是行和列的处理。</p><p>如果只需要打印一行数据，往往一个循环就可以解决。对于新手而言，设计循环时最好先顺序地列出将要执行的指令，比如问题d的第一行，我们需要打印3个空格，再一个<code>*</code>，一个空格，一个<code>*</code>，7个空格，再一个<code>*</code>，一个空格，一个<code>*</code>。所以上述过程可以将重复的行为用循环来合并。</p><p>接下来自然就是要打印多行。我们可以创造一个循环，这个循环中把每一行打印出来，而每一行本身就是之前所述的一个小循环。这样就可以使用一个二重循环解决问题。</p><p>如果发现一次用一个循环打印多行很困难，可以尝试将图形进行分割，再分块处理。</p><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><p>因为图形是二维的数据，所以可以采用二维数组来存储每个位置的图形信息。所以可以先设计循环将图形信息存储在二维数组当中，然后再一次性将整个数组的元素打印出来。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_02</title>
    <url>/category/39C_day02_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试004"><a href="#测试004" class="headerlink" title="测试004"></a>测试004</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 读取一行字符串，然后将其重新打印出来，如果字符是小写字母，要将其转化成大写字母。</li><li>(b). 读取一行字符串，字符串当中的字符有3类，分别是字母（alp）、数字（num）和其他字符（oth）。假设3类字符的数量都不大于10个。统计3类字符的数量，然后按照3类字符的数量关系排序，并且输出如下所示的柱状图。</li></ul><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line">INPUT: </span><br><span class="line">hello123..</span><br><span class="line">OUTPUT:</span><br><span class="line">  5</span><br><span class="line"><span class="strong">*****</span></span><br><span class="line"><span class="strong">*****</span>   3  </span><br><span class="line"><span class="strong">*****</span> <span class="strong">*****</span>   2</span><br><span class="line"><span class="strong">*****</span> <span class="strong">*****</span> <span class="strong">*****</span></span><br><span class="line"><span class="strong">*****</span> <span class="strong">*****</span> <span class="strong">*****</span></span><br><span class="line"> alp   num   oth</span><br></pre></td></tr></tbody></table></figure><ul><li>(c). 读取一行字符串，是一个二进制数，即每个字符是’0’或者’1’。将其对应的10进制、8进制和16进制结果输出。（10进制数据可以直接用整型存储，8进制和16进制可以存储每一位的字符在字符数组当中）</li><li>(d). 读取一个整数，将其转成二进制和16进制数（使用字符数组存储）</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> c;</span><br><span class="line">	<span class="keyword">while</span> ((c = getchar()) != <span class="string">'\n'</span>){</span><br><span class="line">		<span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'z'</span>) <span class="built_in">printf</span>(<span class="string">"%c"</span>,c - <span class="number">32</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%c"</span>,c);</span><br><span class="line">		}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> alp, <span class="keyword">int</span> num, <span class="keyword">int</span> oth)</span> </span>{</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"  %d\n"</span>, alp);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; alp; j++) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"***** "</span>);</span><br><span class="line">			<span class="keyword">if</span> (j &lt; alp - num<span class="number">-1</span>) {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"     "</span>);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (j == (alp - num - <span class="number">1</span>)) <span class="built_in">printf</span>(<span class="string">"  %d  "</span>, num);</span><br><span class="line">			<span class="keyword">else</span> {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"***** "</span>);</span><br><span class="line">			}</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (j &lt; alp - oth<span class="number">-1</span>){</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"     "</span>);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (j == (alp - oth<span class="number">-1</span>)) <span class="built_in">printf</span>(<span class="string">"  %d  "</span>, oth);</span><br><span class="line">			<span class="keyword">else</span> {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"***** "</span>);</span><br><span class="line">		    }</span><br><span class="line">			</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> alp, <span class="keyword">int</span> num, <span class="keyword">int</span> oth,<span class="keyword">int</span> a[])</span> </span>{</span><br><span class="line">	<span class="keyword">if</span> (alp &gt; num) {</span><br><span class="line">		<span class="keyword">if</span> (num &gt; oth) {</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (num &gt; alp) {</span><br><span class="line">		<span class="keyword">if</span> (alp &gt; oth) {</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> {</span><br><span class="line">		<span class="keyword">if</span> (alp &gt; num) {</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> c;</span><br><span class="line">	<span class="keyword">int</span> alp = <span class="number">0</span>, num = <span class="number">0</span>, oth = <span class="number">0</span>, a[<span class="number">3</span>] = {<span class="number">0</span>};</span><br><span class="line">	<span class="keyword">while</span> ((c = getchar()) != <span class="string">'\n'</span>){</span><br><span class="line">		<span class="keyword">if</span> ((c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'z'</span>) || (c &gt;= <span class="string">'A'</span> &amp;&amp; c &lt;= <span class="string">'Z'</span>)) alp++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>) num++;</span><br><span class="line">		<span class="keyword">else</span> oth++;</span><br><span class="line">		}</span><br><span class="line">	<span class="comment">//printf("%d %d %d", alp, num, oth);</span></span><br><span class="line">	sort(alp,num,oth,a);</span><br><span class="line">	draw(alp, num, oth);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">3</span>) <span class="built_in">printf</span>(<span class="string">" alp   num   oth"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">2</span>) <span class="built_in">printf</span>(<span class="string">" alp   oth   num"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">3</span>) <span class="built_in">printf</span>(<span class="string">" num   alp   oth"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">2</span>) <span class="built_in">printf</span>(<span class="string">" num   oth   alp"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">" oth   alp   num"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">" oth   num   alp"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"11101010"</span>;</span><br><span class="line">	<span class="comment">//转换成十进制</span></span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) {</span><br><span class="line">		sum += (a[i]<span class="number">-48</span>)*<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">7</span>-i);</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"十进制是：%d\n"</span>, sum);</span><br><span class="line">	<span class="keyword">int</span> temp = sum;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//转换成八进制</span></span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">20</span>],c[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">		<span class="keyword">int</span> num = sum &amp; <span class="number">7</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		sum &gt;&gt;= <span class="number">3</span>;</span><br><span class="line">		b[j] = num+<span class="number">48</span>;</span><br><span class="line">		j++;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> k=j--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;j&gt;=<span class="number">0</span>; i++,j--) {</span><br><span class="line">		c[i] = b[j];</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"八进制是："</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c"</span>, c[i]);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//转换成十六进制</span></span><br><span class="line">    <span class="keyword">char</span> d[<span class="number">20</span>], e[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) {</span><br><span class="line">		<span class="keyword">int</span> num = temp &amp; <span class="number">15</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		temp &gt;&gt;= <span class="number">4</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">10</span>) d[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">10</span>) d[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">11</span>) d[p] = <span class="string">'B'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">12</span>) d[p] = <span class="string">'C'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">13</span>) d[p] = <span class="string">'D'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">14</span>) d[p] = <span class="string">'E'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">15</span>) d[p] = <span class="string">'F'</span>;</span><br><span class="line">		<span class="keyword">else</span> d[p] = num+<span class="number">48</span>;</span><br><span class="line">		p++;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> q = p--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; p &gt;= <span class="number">0</span>; i++, p--) {</span><br><span class="line">	e[i] = d[p];</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"十六进制是："</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q; i++){</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c"</span>, e[i]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> m;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入一个整数："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">20</span>], b[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,temp=m;</span><br><span class="line">	<span class="keyword">do</span> {</span><br><span class="line">		<span class="keyword">int</span> x = m % <span class="number">2</span>;</span><br><span class="line">		a[i] = x+<span class="number">48</span>;</span><br><span class="line">		m /= <span class="number">2</span>;</span><br><span class="line">		i++;</span><br><span class="line">	} <span class="keyword">while</span> (m);</span><br><span class="line">	<span class="keyword">int</span>  k = i--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; i &gt;= <span class="number">0</span>; j++,i--) {</span><br><span class="line">		b[j] = a[i];</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"对应的二进制位："</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) {</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c"</span>, b[i]);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> c[<span class="number">20</span>], d[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">do</span> {</span><br><span class="line">		<span class="keyword">int</span> num = temp % <span class="number">16</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">10</span>) c[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">10</span>) c[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">11</span>) c[p] = <span class="string">'B'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">12</span>) c[p] = <span class="string">'C'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">13</span>) c[p] = <span class="string">'D'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">14</span>) c[p] = <span class="string">'E'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">15</span>) c[p] = <span class="string">'F'</span>;</span><br><span class="line">		<span class="keyword">else</span> c[p] = num + <span class="number">48</span>;</span><br><span class="line">		temp /= <span class="number">16</span>;</span><br><span class="line">		p++;</span><br><span class="line">	} <span class="keyword">while</span> (temp);</span><br><span class="line">	<span class="keyword">int</span> r = p--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> q = <span class="number">0</span>;  p&gt;= <span class="number">0</span>; q++, p--) {</span><br><span class="line">		d[q] = c[p];</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"对应的十六进制："</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++) {</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c"</span>, d[i]);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>(a) (b)</li></ul><p>打印图形问题的基本思路依然是观察其行和列的基本信息。首先需要先明确总共有多少行，然后在每一行处理中要依次判断这一列需要完成什么工作，比如是打印5个<code>*</code>，还是打印数字，还是打印空格或者不打印。</p><ul><li>(c) (d)</li></ul><p>使用字符数组可以存储一个字符串。值得注意的是，数组的大小应当是一个常数，所以建议使用宏定义一个比较大的常数（比如128或者更大），然后再将数据存储在字符数组当中。</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> number[<span class="number">128</span>] = {<span class="number">0</span>};</span><br><span class="line">number[<span class="number">0</span>] = <span class="string">'1'</span>; </span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_04</title>
    <url>/category/39C_day02_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试005"><a href="#测试005" class="headerlink" title="测试005"></a>测试005</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 数组中有101个正数，其中有50对数是两两重复的，剩余一个数和其他所有数都不相同。求出这个独特的数。</li><li>(b). 数组中有102个正数，其中有50对数是两两重复的，剩余两个数和其他所有数都不相同。求出这两个独特的数。</li><li>(c). （选做题）数组中有103个正数，其中有50对数是两两重复的，剩余三个数和其他所有数都不相同。求出这三个独特的数。</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find1num</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find2num</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find3num</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span></span>;<span class="comment">//size描述数组的大小，res是一个数组，用来存储结果</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">int</span> arr1[] = { <span class="number">24</span>,<span class="number">40</span>,<span class="number">29</span>,<span class="number">54</span>,<span class="number">59</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">34</span>,<span class="number">53</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">16</span>,<span class="number">37</span>,<span class="number">32</span>,<span class="number">57</span>,<span class="number">15</span>,<span class="number">13</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">57</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">43</span>,<span class="number">39</span>,<span class="number">10</span>,<span class="number">31</span>,<span class="number">14</span>,<span class="number">45</span>,<span class="number">19</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">54</span>,<span class="number">50</span>,<span class="number">35</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">48</span>,<span class="number">20</span>,<span class="number">19</span>,<span class="number">31</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">41</span>,<span class="number">22</span>,<span class="number">47</span>,<span class="number">23</span>,<span class="number">43</span>,<span class="number">41</span>,<span class="number">52</span>,<span class="number">17</span>,<span class="number">53</span>,<span class="number">38</span>,<span class="number">32</span>,<span class="number">27</span>,<span class="number">59</span>,<span class="number">10</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">56</span>,<span class="number">27</span>,<span class="number">46</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">23</span>,<span class="number">28</span>,<span class="number">38</span>,<span class="number">12</span>,<span class="number">26</span>,<span class="number">55</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">17</span>,<span class="number">30</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">37</span>,<span class="number">26</span>,<span class="number">39</span>,<span class="number">44</span>,<span class="number">35</span>,<span class="number">56</span>,<span class="number">1</span>,<span class="number">29</span>,<span class="number">49</span>,<span class="number">18</span>,<span class="number">44</span>,<span class="number">28</span>,<span class="number">18</span>,<span class="number">51</span>,<span class="number">21</span>,<span class="number">46</span>,<span class="number">13</span>,<span class="number">33</span>,<span class="number">11</span>,<span class="number">47</span>,<span class="number">42</span>,<span class="number">51</span> };</span><br><span class="line">	<span class="keyword">int</span> arr2[] = { <span class="number">39</span>,<span class="number">33</span>,<span class="number">14</span>,<span class="number">32</span>,<span class="number">28</span>,<span class="number">43</span>,<span class="number">24</span>,<span class="number">12</span>,<span class="number">46</span>,<span class="number">49</span>,<span class="number">51</span>,<span class="number">38</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">39</span>,<span class="number">58</span>,<span class="number">17</span>,<span class="number">37</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">20</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">13</span>,<span class="number">35</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">15</span>,<span class="number">37</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">36</span>,<span class="number">10</span>,<span class="number">19</span>,<span class="number">16</span>,<span class="number">53</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">29</span>,<span class="number">59</span>,<span class="number">21</span>,<span class="number">42</span>,<span class="number">36</span>,<span class="number">22</span>,<span class="number">26</span>,<span class="number">29</span>,<span class="number">41</span>,<span class="number">48</span>,<span class="number">57</span>,<span class="number">46</span>,<span class="number">40</span>,<span class="number">11</span>,<span class="number">27</span>,<span class="number">31</span>,<span class="number">22</span>,<span class="number">55</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">34</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">12</span>,<span class="number">48</span>,<span class="number">32</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">54</span>,<span class="number">40</span>,<span class="number">53</span>,<span class="number">54</span>,<span class="number">51</span>,<span class="number">14</span>,<span class="number">55</span>,<span class="number">1</span>,<span class="number">34</span>,<span class="number">24</span>,<span class="number">59</span>,<span class="number">41</span>,<span class="number">17</span>,<span class="number">25</span>,<span class="number">43</span>,<span class="number">38</span>,<span class="number">26</span>,<span class="number">10</span>,<span class="number">33</span>,<span class="number">52</span>,<span class="number">2</span>,<span class="number">44</span>,<span class="number">19</span>,<span class="number">57</span>,<span class="number">27</span>,<span class="number">21</span>,<span class="number">45</span>,<span class="number">52</span>,<span class="number">15</span>,<span class="number">42</span>,<span class="number">28</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">31</span> };</span><br><span class="line">	<span class="keyword">int</span> arr3[] = { <span class="number">42</span>,<span class="number">14</span>,<span class="number">43</span>,<span class="number">6</span>,<span class="number">25</span>,<span class="number">46</span>,<span class="number">12</span>,<span class="number">59</span>,<span class="number">5</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">14</span>,<span class="number">26</span>,<span class="number">31</span>,<span class="number">17</span>,<span class="number">41</span>,<span class="number">56</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">18</span>,<span class="number">24</span>,<span class="number">57</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">33</span>,<span class="number">28</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">49</span>,<span class="number">32</span>,<span class="number">48</span>,<span class="number">19</span>,<span class="number">43</span>,<span class="number">33</span>,<span class="number">10</span>,<span class="number">42</span>,<span class="number">54</span>,<span class="number">22</span>,<span class="number">21</span>,<span class="number">36</span>,<span class="number">24</span>,<span class="number">58</span>,<span class="number">35</span>,<span class="number">57</span>,<span class="number">26</span>,<span class="number">40</span>,<span class="number">37</span>,<span class="number">51</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">58</span>,<span class="number">38</span>,<span class="number">13</span>,<span class="number">50</span>,<span class="number">39</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">48</span>,<span class="number">17</span>,<span class="number">27</span>,<span class="number">52</span>,<span class="number">47</span>,<span class="number">25</span>,<span class="number">54</span>,<span class="number">29</span>,<span class="number">36</span>,<span class="number">15</span>,<span class="number">19</span>,<span class="number">3</span>,<span class="number">11</span>,<span class="number">51</span>,<span class="number">49</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">59</span>,<span class="number">23</span>,<span class="number">50</span>,<span class="number">16</span>,<span class="number">32</span>,<span class="number">30</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">53</span>,<span class="number">22</span>,<span class="number">34</span>,<span class="number">41</span>,<span class="number">20</span>,<span class="number">27</span>,<span class="number">55</span>,<span class="number">39</span>,<span class="number">12</span>,<span class="number">44</span>,<span class="number">45</span>,<span class="number">18</span>,<span class="number">40</span>,<span class="number">38</span>,<span class="number">20</span>,<span class="number">46</span>,<span class="number">37</span> };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find1num</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span> </span>{</span><br><span class="line">	<span class="comment">//memset(res, 0, sizeof(int) * 10);</span></span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++) {</span><br><span class="line">		m ^= arr[i];</span><br><span class="line">	}</span><br><span class="line">	res[<span class="number">0</span>] = m;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find2num</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span> </span>{</span><br><span class="line">	<span class="comment">//memset(res, 0, sizeof(int) * 10);</span></span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++) {</span><br><span class="line">		m ^= arr[i];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span> bitvalue = m &amp; -m; <span class="comment">//求从右开始至少第几位不同</span></span><br><span class="line">	<span class="keyword">int</span> fir = <span class="number">0</span>, sec = <span class="number">0</span>; <span class="comment">//分成两类</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++) {</span><br><span class="line">		<span class="keyword">if</span> ((arr[i] &amp; bitvalue) == <span class="number">0</span>) fir ^= arr[i];</span><br><span class="line">		<span class="keyword">else</span> sec ^= arr[i];</span><br><span class="line">	}</span><br><span class="line">	res[<span class="number">0</span>] = fir;</span><br><span class="line">	res[<span class="number">1</span>] = sec;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find3num</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span> </span>{</span><br><span class="line">	<span class="comment">//memset(res, 0, sizeof(int) * 10);</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>,m=<span class="number">0</span>;m&lt;<span class="number">32</span>; i &lt;&lt;= <span class="number">1</span>,m++) {</span><br><span class="line">		<span class="keyword">int</span> fir = <span class="number">0</span>,fir_num=<span class="number">0</span>, sec = <span class="number">0</span>,sec_num=<span class="number">0</span>,arr1[<span class="number">103</span>],arr2[<span class="number">103</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="built_in">size</span>; j++) {</span><br><span class="line">			<span class="keyword">if</span> ((arr[j] &amp; i)== <span class="number">0</span>) {</span><br><span class="line">				fir ^= arr[j];</span><br><span class="line">				arr1[fir_num++]=arr[j];</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span> {</span><br><span class="line">				sec ^= arr[j];</span><br><span class="line">				arr2[sec_num++] = arr[j];</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (fir != <span class="number">0</span> &amp;&amp; fir_num % <span class="number">2</span> == <span class="number">0</span>) {</span><br><span class="line">			res[<span class="number">2</span>] = sec;</span><br><span class="line">			<span class="keyword">int</span> bitvalue = fir &amp; -fir;</span><br><span class="line">			<span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>; <span class="comment">//分成两类</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fir_num; i++) {</span><br><span class="line">				<span class="keyword">if</span> ((arr1[i] &amp; bitvalue) == <span class="number">0</span>) a ^= arr1[i];</span><br><span class="line">				<span class="keyword">else</span> b ^= arr1[i];</span><br><span class="line">			}</span><br><span class="line">			res[<span class="number">0</span>] = a;</span><br><span class="line">			res[<span class="number">1</span>] = b;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (sec != <span class="number">0</span> &amp;&amp; sec_num%<span class="number">2</span> == <span class="number">0</span>) {</span><br><span class="line">			res[<span class="number">2</span>] = fir;</span><br><span class="line">			<span class="keyword">int</span> bitvalue = sec &amp; -sec;</span><br><span class="line">			<span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>; <span class="comment">//分成两类</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sec_num; i++) {</span><br><span class="line">				<span class="keyword">if</span> ((arr2[i] &amp; bitvalue) == <span class="number">0</span>) a ^= arr2[i];</span><br><span class="line">				<span class="keyword">else</span> b ^= arr2[i];</span><br><span class="line">			}</span><br><span class="line">			res[<span class="number">0</span>] = a;</span><br><span class="line">			res[<span class="number">1</span>] = b;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> arr1[] = { <span class="number">24</span>,<span class="number">40</span>,<span class="number">29</span>,<span class="number">54</span>,<span class="number">59</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">34</span>,<span class="number">53</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">16</span>,<span class="number">37</span>,<span class="number">32</span>,<span class="number">57</span>,<span class="number">15</span>,<span class="number">13</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">57</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">43</span>,<span class="number">39</span>,<span class="number">10</span>,<span class="number">31</span>,<span class="number">14</span>,<span class="number">45</span>,<span class="number">19</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">54</span>,<span class="number">50</span>,<span class="number">35</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">48</span>,<span class="number">20</span>,<span class="number">19</span>,<span class="number">31</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">41</span>,<span class="number">22</span>,<span class="number">47</span>,<span class="number">23</span>,<span class="number">43</span>,<span class="number">41</span>,<span class="number">52</span>,<span class="number">17</span>,<span class="number">53</span>,<span class="number">38</span>,<span class="number">32</span>,<span class="number">27</span>,<span class="number">59</span>,<span class="number">10</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">56</span>,<span class="number">27</span>,<span class="number">46</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">23</span>,<span class="number">28</span>,<span class="number">38</span>,<span class="number">12</span>,<span class="number">26</span>,<span class="number">55</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">17</span>,<span class="number">30</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">37</span>,<span class="number">26</span>,<span class="number">39</span>,<span class="number">44</span>,<span class="number">35</span>,<span class="number">56</span>,<span class="number">1</span>,<span class="number">29</span>,<span class="number">49</span>,<span class="number">18</span>,<span class="number">44</span>,<span class="number">28</span>,<span class="number">18</span>,<span class="number">51</span>,<span class="number">21</span>,<span class="number">46</span>,<span class="number">13</span>,<span class="number">33</span>,<span class="number">11</span>,<span class="number">47</span>,<span class="number">42</span>,<span class="number">51</span> };</span><br><span class="line">	<span class="keyword">int</span> arr2[] = { <span class="number">39</span>,<span class="number">33</span>,<span class="number">14</span>,<span class="number">32</span>,<span class="number">28</span>,<span class="number">43</span>,<span class="number">24</span>,<span class="number">12</span>,<span class="number">46</span>,<span class="number">49</span>,<span class="number">51</span>,<span class="number">38</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">39</span>,<span class="number">58</span>,<span class="number">17</span>,<span class="number">37</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">20</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">13</span>,<span class="number">35</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">15</span>,<span class="number">37</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">36</span>,<span class="number">10</span>,<span class="number">19</span>,<span class="number">16</span>,<span class="number">53</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">29</span>,<span class="number">59</span>,<span class="number">21</span>,<span class="number">42</span>,<span class="number">36</span>,<span class="number">22</span>,<span class="number">26</span>,<span class="number">29</span>,<span class="number">41</span>,<span class="number">48</span>,<span class="number">57</span>,<span class="number">46</span>,<span class="number">40</span>,<span class="number">11</span>,<span class="number">27</span>,<span class="number">31</span>,<span class="number">22</span>,<span class="number">55</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">34</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">12</span>,<span class="number">48</span>,<span class="number">32</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">54</span>,<span class="number">40</span>,<span class="number">53</span>,<span class="number">54</span>,<span class="number">51</span>,<span class="number">14</span>,<span class="number">55</span>,<span class="number">1</span>,<span class="number">34</span>,<span class="number">24</span>,<span class="number">59</span>,<span class="number">41</span>,<span class="number">17</span>,<span class="number">25</span>,<span class="number">43</span>,<span class="number">38</span>,<span class="number">26</span>,<span class="number">10</span>,<span class="number">33</span>,<span class="number">52</span>,<span class="number">2</span>,<span class="number">44</span>,<span class="number">19</span>,<span class="number">57</span>,<span class="number">27</span>,<span class="number">21</span>,<span class="number">45</span>,<span class="number">52</span>,<span class="number">15</span>,<span class="number">42</span>,<span class="number">28</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">31</span> };</span><br><span class="line">	<span class="keyword">int</span> arr3[] = { <span class="number">42</span>,<span class="number">14</span>,<span class="number">43</span>,<span class="number">6</span>,<span class="number">25</span>,<span class="number">46</span>,<span class="number">12</span>,<span class="number">59</span>,<span class="number">5</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">14</span>,<span class="number">26</span>,<span class="number">31</span>,<span class="number">17</span>,<span class="number">41</span>,<span class="number">56</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">18</span>,<span class="number">24</span>,<span class="number">57</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">33</span>,<span class="number">28</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">49</span>,<span class="number">32</span>,<span class="number">48</span>,<span class="number">19</span>,<span class="number">43</span>,<span class="number">33</span>,<span class="number">10</span>,<span class="number">42</span>,<span class="number">54</span>,<span class="number">22</span>,<span class="number">21</span>,<span class="number">36</span>,<span class="number">24</span>,<span class="number">58</span>,<span class="number">35</span>,<span class="number">57</span>,<span class="number">26</span>,<span class="number">40</span>,<span class="number">37</span>,<span class="number">51</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">58</span>,<span class="number">38</span>,<span class="number">13</span>,<span class="number">50</span>,<span class="number">39</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">48</span>,<span class="number">17</span>,<span class="number">27</span>,<span class="number">52</span>,<span class="number">47</span>,<span class="number">25</span>,<span class="number">54</span>,<span class="number">29</span>,<span class="number">36</span>,<span class="number">15</span>,<span class="number">19</span>,<span class="number">3</span>,<span class="number">11</span>,<span class="number">51</span>,<span class="number">49</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">59</span>,<span class="number">23</span>,<span class="number">50</span>,<span class="number">16</span>,<span class="number">32</span>,<span class="number">30</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">53</span>,<span class="number">22</span>,<span class="number">34</span>,<span class="number">41</span>,<span class="number">20</span>,<span class="number">27</span>,<span class="number">55</span>,<span class="number">39</span>,<span class="number">12</span>,<span class="number">44</span>,<span class="number">45</span>,<span class="number">18</span>,<span class="number">40</span>,<span class="number">38</span>,<span class="number">20</span>,<span class="number">46</span>,<span class="number">37</span> };</span><br><span class="line">	<span class="keyword">int</span> res[<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">	find1num(arr1, <span class="number">101</span>, res);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, res[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">	find2num(arr2, <span class="number">102</span>, res);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, res[<span class="number">0</span>], res[<span class="number">1</span>]);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">	find3num(arr3, <span class="number">103</span>, res);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>, res[<span class="number">0</span>], res[<span class="number">1</span>], res[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>利用异或的交换律、结合律性质。</li><li>两个不同的数异或的结果必然不为0，利用这个异或和可以将原来的数组划分成两个部分。</li><li>三个不同的数异或的结果可能为0，对于32位正整数而言，可以设置32种划分条件，只要存在一种划分方法将1个独特数和另外2个分开，就是可以使用前两题的结论解决问题。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_01</title>
    <url>/category/39C_day02_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础003"><a href="#基础003" class="headerlink" title="基础003"></a>基础003</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 假如一个浮点数的内存布局如下所示，p表示浮点数的地址，内容均为16进制数（0x用来说明这是一个16进制数）。按照小端法存储，使用IEEE754.1的解释方式，计算一下该数据的机器数以及对应的真值是多少？</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">地址 |内容</span><br><span class="line">p    <span class="number">0x00</span></span><br><span class="line">p+<span class="number">1</span>  <span class="number">0x00</span></span><br><span class="line">p+<span class="number">2</span>  <span class="number">0x48</span></span><br><span class="line">p+<span class="number">3</span>  <span class="number">0x3f</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(b). 使用字符字面值的字符模式、16进制模式、8进制模式表示字符c；使用整数来表示字符c，写出对应的代码。</li><li>(c). 如何将一个字符2转换成整数2？如何将一个字符A转换成字符a？</li><li>(d). 字符串字面值”helloworld”在内存中占据了多大的存储空间？</li><li>(e). 整理已经学习过的printf相关的控制符，使用表格记录下来。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li><p>(a)</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">机器数： <span class="number">3f</span> <span class="number">48</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">真值：<span class="number">0.78125</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>(b)</p></li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	ch = <span class="string">'a'</span>;</span><br><span class="line">	ch = <span class="string">'\141'</span>;</span><br><span class="line">	ch = <span class="string">'\x61'</span>;</span><br><span class="line">	ch = <span class="number">97</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c\n"</span>,ch);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> ch1=<span class="string">'2'</span>,ch2=<span class="string">'A'</span>;   <span class="comment">//char数=int数+'0' (48)        </span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ch1-<span class="string">'0'</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c\n"</span>, ch2 + <span class="number">32</span>); <span class="comment">//小写字母=大写字母+32</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">11</span>B</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><table><thead><tr><th align="center">控制符</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">\n</td><td align="center">换行</td></tr><tr><td align="center">\t</td><td align="center">制表</td></tr><tr><td align="center">\a</td><td align="center">响铃</td></tr><tr><td align="center">\“</td><td align="center">“</td></tr><tr><td align="center">\\</td><td align="center">\</td></tr><tr><td align="center">\b</td><td align="center">退格</td></tr><tr><td align="center">\r</td><td align="center">回车（光标回到行首，同上，会覆盖）</td></tr></tbody></table><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><ul><li>printf小字节整数自动转换</li></ul><p>运行下面代码，根据运行的结果，你能得到什么结论？</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">short s = <span class="number">-1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"short s = %d, unsigned s = %u\n"</span>, s, s); <span class="comment">//不同的解释方式会得到不同结果</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">-1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"int i = %d, unsigned i = %d\n"</span>,i,i);</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_03</title>
    <url>/category/39C_day02_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础004"><a href="#基础004" class="headerlink" title="基础004"></a>基础004</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是缓冲区？我们使用了哪些缓冲区？缓冲区有哪些类型？缓冲区的数据是先进先出还是后进先出？</li><li>(b). scanf函数取出标准输入缓冲区的数据，使用%d和%c有什么区别？</li><li>(c). scanf函数的返回值是什么？如何输入一个EOF控制符，此时scanf的返回值是多少？</li><li>(d). putchar和getchar等价于什么形式的printf和scanf？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="number">1.</span> 缓冲区是用于内存空间和外部I/O设备的交互</span><br><span class="line"><span class="number">2.3</span>. 全缓冲：缓冲满再执行I/O   文件存储</span><br><span class="line">     行缓冲：遇到换行符   <span class="built_in">stdin</span>、<span class="built_in">stdout</span></span><br><span class="line">     不缓冲：直接进行I/O操作  <span class="built_in">stderr</span></span><br><span class="line"><span class="number">4.</span> 先进先出</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">%d遇到空白符停止，%c读入空白符</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 成功输入：返回<span class="number">1</span>，没有成功输入返回<span class="number">0</span>，错误返回EOF（ctrl+z）</span><br><span class="line"><span class="number">2.</span> 可以ctrl+z结束，<span class="built_in">scanf</span>返回的值为<span class="number">-1</span>（<span class="meta">#<span class="meta-keyword">define</span> EOF -1）</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight haml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">%<span class="selector-tag">c</span></span>字符型的输入输出</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>scanf这个函数负责从stdin中取出数据，并且将字符类型的数据转化成int、float等其他类型。值得特别注意的是scanf和printf的用法是完全不一致的，在王道学习的阶段，除了%c前面的空格以外，<font color="#dd0000">不要在格式字符串当中添加任何其他非控制字符</font>！</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;i,&amp;j);<span class="comment">// OK</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d\n"</span>,&amp;i,&amp;j); <span class="comment">// NO!!!!!</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_05</title>
    <url>/category/39C_day02_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试006"><a href="#测试006" class="headerlink" title="测试006"></a>测试006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 输入某一天的年月日，输出下一天的年月日。</li><li>(b). 输入某两天的年月日，输出这两天的相距多少天。</li><li>(c). 已知1970年1月1日是星期四，输入之后的某一天的年月日，判断它是周几？</li><li>(e). 输入1970年之后任意一年的年份，输出年历</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">$Please input the year whose calendear you want to know?</span><br><span class="line">$<span class="number">2004</span> &lt;-------这是输入的内容</span><br><span class="line">|=====================The Calendar of Year <span class="number">2004</span>====================|</span><br><span class="line">:  <span class="number">1</span>  SUN MON TUE WED THU FRI SAT   <span class="number">7</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:                       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>                        <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span> :</span><br><span class="line">:       <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>        <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span> :</span><br><span class="line">:      <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>       <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span> :</span><br><span class="line">:      <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>       <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span> :</span><br><span class="line">:      <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>       <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span> :</span><br><span class="line">:  <span class="number">2</span>  SUN MON TUE WED THU FRI SAT   <span class="number">8</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>        <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span> :</span><br><span class="line">:       <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>        <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span> :</span><br><span class="line">:      <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>       <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span> :</span><br><span class="line">:      <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>       <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span> :</span><br><span class="line">:      <span class="number">29</span>                               <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>                 :</span><br><span class="line">:  <span class="number">3</span>  SUN MON TUE WED THU FRI SAT   <span class="number">9</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:           <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>                    <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span> :</span><br><span class="line">:       <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>        <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span> :</span><br><span class="line">:      <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>       <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span> :</span><br><span class="line">:      <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>       <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span> :</span><br><span class="line">:      <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>                   <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>         :</span><br><span class="line">:  <span class="number">4</span>  SUN MON TUE WED THU FRI SAT  <span class="number">10</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:                       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>                            <span class="number">1</span>   <span class="number">2</span> :</span><br><span class="line">:       <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>        <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span> :</span><br><span class="line">:      <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>       <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span> :</span><br><span class="line">:      <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>       <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span> :</span><br><span class="line">:      <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>           <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span> :</span><br><span class="line">:                                       <span class="number">31</span>                         :</span><br><span class="line">:  <span class="number">5</span>  SUN MON TUE WED THU FRI SAT  <span class="number">11</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:                               <span class="number">1</span>            <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span> :</span><br><span class="line">:       <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>        <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span> :</span><br><span class="line">:       <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>       <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span> :</span><br><span class="line">:      <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>       <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span> :</span><br><span class="line">:      <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>       <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>                 :</span><br><span class="line">:      <span class="number">30</span>  <span class="number">31</span>                                                      :</span><br><span class="line">:  <span class="number">6</span>  SUN MON TUE WED THU FRI SAT  <span class="number">12</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:               <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>                    <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span> :</span><br><span class="line">:       <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>        <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span> :</span><br><span class="line">:      <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>       <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span> :</span><br><span class="line">:      <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>       <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span> :</span><br><span class="line">:      <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>                   <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>     :</span><br><span class="line">|==================================================================|</span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> year, month, day;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入年月日：\n"</span>);</span><br><span class="line">	<span class="keyword">while</span> (rewind(<span class="built_in">stdin</span>), <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year, &amp;month, &amp;day) != EOF)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> flag = <span class="number">0</span>, a[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> };</span><br><span class="line">		<span class="keyword">if</span> (year &lt; <span class="number">0</span> || month &lt; <span class="number">1</span> || month&gt;<span class="number">12</span> || day &lt; <span class="number">1</span> || day&gt;<span class="number">31</span>) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"这一天不存在\n"</span>);</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (year % <span class="number">400</span> == <span class="number">0</span> || year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (flag == <span class="number">0</span>) {</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day == <span class="number">28</span>) {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day &gt;= <span class="number">29</span>) {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"这一天不存在\n"</span>);	</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day == <span class="number">29</span>) {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day &gt; <span class="number">29</span>) {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"这一天不存在\n"</span>);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			}</span><br><span class="line">			</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (month == <span class="number">12</span> &amp;&amp; day == <span class="number">31</span>) <span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year + <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year, month, day + <span class="number">1</span>);</span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">from_days</span><span class="params">(<span class="keyword">int</span> year1, <span class="keyword">int</span> month1, <span class="keyword">int</span> day1, <span class="keyword">int</span> year2, <span class="keyword">int</span> month2, <span class="keyword">int</span> day2)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>, a[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> }, b[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> };</span><br><span class="line">	<span class="keyword">if</span> (year1 % <span class="number">400</span> == <span class="number">0</span> || year1 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year1 % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">		flag1 = <span class="number">1</span>;</span><br><span class="line">		a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (year2 % <span class="number">400</span> == <span class="number">0</span> || year2 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year2 % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">		flag2 = <span class="number">1</span>;</span><br><span class="line">		b[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; year2 - year1; i++) {</span><br><span class="line">		<span class="keyword">if</span> ((year1 + i) % <span class="number">400</span> == <span class="number">0</span> || (year1 + i) % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; (year1 + i) % <span class="number">100</span> != <span class="number">0</span>)</span><br><span class="line">			sum += <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum += <span class="number">365</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//补余year1这一年剩下的时间</span></span><br><span class="line">	sum += a[month1] - day1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = month1 + <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) {</span><br><span class="line">		sum += a[i];</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//计算year2这一年已过的时间</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; month2; i++) {</span><br><span class="line">		sum += b[i];</span><br><span class="line">	}</span><br><span class="line">	sum += day2;</span><br><span class="line">	<span class="keyword">if</span> (year1 == year2) {</span><br><span class="line">		<span class="keyword">if</span> (flag1 == <span class="number">1</span>) sum -= <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum -= <span class="number">365</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"两个时期相差%d天\n"</span>, sum);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> year1, month1, day1, year2, month2, day2;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入第一个年月日："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year1, &amp;month1, &amp;day1);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入第二个年月日："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year2, &amp;month2, &amp;day2);</span><br><span class="line">	<span class="keyword">if</span> (year1 &gt; year2) { <span class="comment">//换</span></span><br><span class="line">		<span class="keyword">int</span> temp = year1;</span><br><span class="line">		year1 = year2;</span><br><span class="line">		year2 = temp;</span><br><span class="line"></span><br><span class="line">		temp = month1;</span><br><span class="line">		month1 = month2;</span><br><span class="line">		month2 = temp;</span><br><span class="line"></span><br><span class="line">		temp = day1;</span><br><span class="line">		day1 = day2;</span><br><span class="line">		day2 = temp;</span><br><span class="line">	}</span><br><span class="line">	from_days(year1, month1, day1, year2, month2, day2);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">from_days</span><span class="params">(<span class="keyword">int</span> year1, <span class="keyword">int</span> month1, <span class="keyword">int</span> day1, <span class="keyword">int</span> year2, <span class="keyword">int</span> month2, <span class="keyword">int</span> day2)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>, a[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> }, b[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> };</span><br><span class="line">	<span class="keyword">if</span> (year1 % <span class="number">400</span> == <span class="number">0</span> || year1 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year1 % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">		flag1 = <span class="number">1</span>;</span><br><span class="line">		a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (year2 % <span class="number">400</span> == <span class="number">0</span> || year2 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year2 % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">		flag2 = <span class="number">1</span>;</span><br><span class="line">		b[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; year2 - year1; i++) {</span><br><span class="line">		<span class="keyword">if</span> ((year1 + i) % <span class="number">400</span> == <span class="number">0</span> || (year1 + i) % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; (year1 + i) % <span class="number">100</span> != <span class="number">0</span>)</span><br><span class="line">			sum += <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum += <span class="number">365</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//补余year1这一年剩下的时间</span></span><br><span class="line">	sum += a[month1] - day1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = month1 + <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) {</span><br><span class="line">		sum += a[i];</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//计算year2这一年已过的时间</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; month2; i++) {</span><br><span class="line">		sum += b[i];</span><br><span class="line">	}</span><br><span class="line">	sum += day2;</span><br><span class="line">	<span class="keyword">if</span> (year1 == year2) {</span><br><span class="line">		<span class="keyword">if</span> (flag1 == <span class="number">1</span>) sum -= <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum -= <span class="number">365</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> year, month, day;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入年月日："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year, &amp;month, &amp;day);</span><br><span class="line">	<span class="keyword">int</span> sum = from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, month, day);</span><br><span class="line">	<span class="keyword">switch</span> ((sum + <span class="number">4</span>) % <span class="number">7</span>) {</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>: <span class="built_in">printf</span>(<span class="string">"星期天\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>: <span class="built_in">printf</span>(<span class="string">"星期一\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">2</span>: <span class="built_in">printf</span>(<span class="string">"星期二\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">3</span>: <span class="built_in">printf</span>(<span class="string">"星期三\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>: <span class="built_in">printf</span>(<span class="string">"星期四\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">5</span>: <span class="built_in">printf</span>(<span class="string">"星期五\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">printf</span>(<span class="string">"星期六\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line"><span class="built_in">int</span> from_days(<span class="built_in">int</span> year1, <span class="built_in">int</span> month1, <span class="built_in">int</span> day1, <span class="built_in">int</span> year2, <span class="built_in">int</span> month2, <span class="built_in">int</span> day2) {</span><br><span class="line">	<span class="built_in">int</span> sum = <span class="number">0</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>, a[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> }, b[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> };</span><br><span class="line">	<span class="keyword">if</span> (year1 % <span class="number">400</span> == <span class="number">0</span> || year1 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year1 % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">		flag1 = <span class="number">1</span>;</span><br><span class="line">		a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (year2 % <span class="number">400</span> == <span class="number">0</span> || year2 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year2 % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">		flag2 = <span class="number">1</span>;</span><br><span class="line">		b[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; year2 - year1; i++) {</span><br><span class="line">		<span class="keyword">if</span> ((year1 + i) % <span class="number">400</span> == <span class="number">0</span> || (year1 + i) % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; (year1 + i) % <span class="number">100</span> != <span class="number">0</span>)</span><br><span class="line">			sum += <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum += <span class="number">365</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//补余year1这一年剩下的时间</span></span><br><span class="line">	sum += a[month1] - day1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = month1 + <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) {</span><br><span class="line">		sum += a[i];</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//计算year2这一年已过的时间</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; month2; i++) {</span><br><span class="line">		sum += b[i];</span><br><span class="line">	}</span><br><span class="line">	sum += day2;</span><br><span class="line">	<span class="keyword">if</span> (year1 == year2) {</span><br><span class="line">		<span class="keyword">if</span> (flag1 == <span class="number">1</span>) sum -= <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum -= <span class="number">365</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">int</span> main()</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">int</span> year, day_i, c[<span class="number">13</span>] = { <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> };</span><br><span class="line">	printf(<span class="string">"$Please input the year whose calendear you want to know ?\n"</span>);</span><br><span class="line">	printf(<span class="string">"$"</span>);</span><br><span class="line">	scanf(<span class="string">"%d"</span>, &amp;year);</span><br><span class="line">	<span class="keyword">if</span> (year % <span class="number">400</span> == <span class="number">0</span> || year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) {</span><br><span class="line">		c[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	}</span><br><span class="line">	printf(<span class="string">"|=====================The Calendar of Year %d====================|\n"</span>, year);</span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">6</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		printf(<span class="string">":  %d  SUN MON TUE WED THU FRI SAT  %2d  SUN MON TUE WED THU FRI SAT :\n"</span>, i, i + <span class="number">6</span>);</span><br><span class="line">		<span class="built_in">int</span> a = <span class="number">1</span>, b = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span>; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (j == <span class="number">5</span> &amp;&amp; (i == <span class="number">1</span> || i == <span class="number">2</span> || i == <span class="number">3</span> || i == <span class="number">6</span>)) <span class="keyword">break</span>;</span><br><span class="line">			printf(<span class="string">":    "</span>);</span><br><span class="line">			day_i = (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i, a) + <span class="number">4</span>) % <span class="number">7</span>; <span class="comment">//得到星期几</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; day_i; k++) {</span><br><span class="line">				printf(<span class="string">"    "</span>);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> p = day_i; p &lt;= <span class="number">6</span>&amp;&amp;a&lt;=c[i]; p++) {</span><br><span class="line">				printf(<span class="string">"  "</span>);</span><br><span class="line">				printf(<span class="string">"%2d"</span>, a++); <span class="comment">//右对齐</span></span><br><span class="line"></span><br><span class="line">			}</span><br><span class="line">			<span class="built_in">int</span> temp_tab;</span><br><span class="line">			<span class="keyword">if</span> (c[i] == a - <span class="number">1</span>) {</span><br><span class="line">				temp_tab = <span class="number">6</span> - (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i, c[i]) + <span class="number">4</span>) % <span class="number">7</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="built_in">int</span> s = <span class="number">0</span>; s &lt; temp_tab; s++) {</span><br><span class="line">					printf(<span class="string">"    "</span>);</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">			 </span><br><span class="line">			printf(<span class="string">"     "</span>);</span><br><span class="line">			day_i = (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i+<span class="number">6</span>, b) + <span class="number">4</span>) % <span class="number">7</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; day_i; k++) {</span><br><span class="line">				printf(<span class="string">"    "</span>);</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> p = day_i; p &lt;= <span class="number">6</span>&amp;&amp; b&lt;=c[i+<span class="number">6</span>]; p++) {</span><br><span class="line">				printf(<span class="string">"  "</span>);</span><br><span class="line">				printf(<span class="string">"%2d"</span>, b++); <span class="comment">//右对齐</span></span><br><span class="line">			}</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (c[i+<span class="number">6</span>] == b - <span class="number">1</span>) {</span><br><span class="line">				temp_tab = <span class="number">6</span> - (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i+<span class="number">6</span>, c[i+<span class="number">6</span>]) + <span class="number">4</span>) % <span class="number">7</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="built_in">int</span> m = <span class="number">0</span>; m &lt; temp_tab; m++) {</span><br><span class="line">					printf(<span class="string">"    "</span>);</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">			printf(<span class="string">" :\n"</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	printf(<span class="string">"|==================================================================|"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>按照顺序处理问题，解决本题的问题的时候可以不可以用到上一题的结论。</li><li>当处理年历题目的时候，首先需要思考的事情怎么样给循环分层？<ul><li>首先可以将年历分成六块</li><li>每一块中又可以分成两个部分：<ul><li>一部分是打印SUN等信息</li><li>另一部分是打印日期（如果不知道循环执行多少次，可以先使用while(1)，然后根据条件break）</li></ul></li><li>打印日期又可以划分成两个部分，前面7次是打印i月，后面7次是打印i+6月的</li><li>在打印日期可以设置一个条件，检查是打印空白还是日期</li></ul></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day03_01</title>
    <url>/category/39C_day03_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础005"><a href="#基础005" class="headerlink" title="基础005"></a>基础005</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用关系表达式判断某一年是否是闰年？（不能使用括号）</li><li>(b). 写出位运算与、或和异或的真值表。判断一下它们是否存在交换律和结合律。</li><li>(c). 使用加减运算和异或运算交换两个变量。如果一个变量和自身交换会怎么样？</li><li>(d). 使用条件运算符找到3个数当中的最大值和最小值。</li><li>(e). 举例说明前置++和后置++的区别。</li><li>(f). 给出任意一个整数a，a&amp;-a表示什么含义？</li><li>(g). 写程序判断，一个整型数据的机器数当中存在多少位为1？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(year%<span class="number">400</span>==<span class="number">0</span>||year%<span class="number">4</span>==<span class="number">0</span>&amp;&amp;year%<span class="number">100</span>!=<span class="number">0</span>)</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)都满足结合律和交换律</li></ul><h3 id="amp"><a href="#amp" class="headerlink" title="&amp;"></a>&amp;</h3><table><thead><tr><th align="center">值</th><th align="center">值</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><h3><a href="#" class="headerlink" title="|"></a>|</h3><table><thead><tr><th align="center">值</th><th align="center">值</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><h3 id="-1"><a href="#-1" class="headerlink" title="^"></a>^</h3><table><thead><tr><th align="center">值</th><th align="center">值</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">0</td></tr></tbody></table><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> a, b;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;a,&amp;b);</span><br><span class="line">	a = a + b;</span><br><span class="line">	b = a - b;</span><br><span class="line">	a = a - b;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"a=%d,b=%d\n"</span>,a,b);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> c, d;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;c, &amp;d);</span><br><span class="line">	c = c^d;</span><br><span class="line">	d = c^d;</span><br><span class="line">	c = c^d;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"a=%d,b=%d"</span>, c, d);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//如果是两个相同的数交换会出现问题</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> a, b, c;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">max</span> = a &gt; b ? (a &gt; c ? a : c) : (b &gt; c ? b : c);</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">min</span> = a &lt; b ? (a&lt;c?a:c) : (b&lt;c?b:c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"max:%d min=%d"</span>, <span class="built_in">max</span>, <span class="built_in">min</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight ini"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">j</span>=i++<span class="comment">; //i先赋值给j，再++</span></span><br><span class="line"><span class="attr">j</span>=++i<span class="comment">;  //i先++，将现在的i值赋给j</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(g)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">a对应的二进制为<span class="number">1</span>的最低为</span><br></pre></td></tr></tbody></table></figure><ul><li>(h)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> a,m=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= a; i &lt;&lt;= <span class="number">1</span>) {</span><br><span class="line">		<span class="keyword">if</span> ((a &amp; i) != <span class="number">0</span>) m++;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,m);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>1、使用位来管理控制信息</p><p>为了提升效率和节约空间，C语言当中经常会使用一个整型数flag来存储控制信息。</p><p>比如在权限控制当中，文件通常会存在读、写和执行三种权限，那么flag中可以取出3bit来存储是否可读、可写、可执行的信息。假设最低位表示执行权限，随后是写和读。那么000就表示什么权限都没有，110表示可读可写不可执行。</p><p>那么如何在代码中检查和设置权限呢？首先先定义三个宏：RD是100，WR是010，EX是001，使用|运算符可以增加权限，使用&amp;运算符可以检查权限。</p><p>2、掩码</p><p>在检查数据的时候，有些情况下我们并不需要数据所有位的信息。使用掩码可以过滤这些无用位的信息。</p><p>在TCP/IP层的网络协议当中，IP地址可以用来定位某个主机，一般来说IP地址是一个32位整数，这32位可以分成两个部分，一部分用来描述网络号/子网号，剩余部分用来描述主机号。</p><p>给出多个IP地址，怎么判断这些主机是否属于同一个子网呢？这时候就要引入一个整数叫子网掩码，子网掩码的每一位描述了IP地址对应位是否是网络号的一部分。比如使用点分十进制描述的IP地址192.168.1.118，子网掩码是255.255.255.0，那么IP地址的网络号就是192.168.1.0。只需要将IP地址和子网掩码做按位&amp;操作即可。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_01</title>
    <url>/category/39C_day04_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础006"><a href="#基础006" class="headerlink" title="基础006"></a>基础006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 输入年份和日期，判断该月有多少天。</li><li>(b). 使用goto计算1-2+3-4+……+99-100的结果</li><li>(c). 输入一个整数，判断这个数是不是质数。</li><li>(d). 描述下面的代码的执行效果，总共会打印几行？</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">do</span>{</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"only once!\n"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">while</span>(<span class="number">0</span>);</span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> year, month;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入年和月："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;year,&amp;month);</span><br><span class="line">	<span class="keyword">switch</span> (month) {</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"31"</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d"</span>, <span class="number">28</span> + (year % <span class="number">400</span> == <span class="number">0</span> || year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>));</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"30"</span>);  </span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> x = <span class="number">1</span>, sum = <span class="number">0</span>;</span><br><span class="line">label:</span><br><span class="line">	<span class="keyword">if</span> (x % <span class="number">2</span> == <span class="number">1</span>) sum += x;</span><br><span class="line">	<span class="keyword">else</span> sum -= x;</span><br><span class="line">	x++;</span><br><span class="line">	<span class="keyword">if</span> (x &lt;= <span class="number">100</span>) {</span><br><span class="line">		<span class="keyword">goto</span> label;</span><br><span class="line">	}</span><br><span class="line">		</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> x;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; <span class="built_in">sqrt</span>(x); i++) {</span><br><span class="line">		<span class="keyword">if</span> (x % i == <span class="number">0</span>) {</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d不是质数"</span>, x);</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d是质数"</span>, x);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">打印一行</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>使用选择结构和循环结构的时候，自己可以尝试多使用断点。熟练以后再减少断点的使用。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_02</title>
    <url>/category/39C_day04_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础007"><a href="#基础007" class="headerlink" title="基础007"></a>基础007</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 说明[]运算符在定义语句和非定义语句的不同含义。</li><li>(b). 对于一个大小为N的数组，使用[]运算符访问数组元素时，合法的下标范围是多少？</li><li>(c). <code>arr[i]</code>的地址是多少？</li><li>(d). 函数内部定义的数组分配在内存空间的什么位置？在visual studio中默认上限是多大？</li><li>(e). 如何初始化一个全为0的数组</li><li>(f). 下面两个sizeof表达式结果分别是多少？</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> arr[])</span></span>{</span><br><span class="line">	<span class="comment">//sizeof(arr) = ?</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">int</span> arr[<span class="number">10</span>] = {<span class="number">0</span>};</span><br><span class="line">  <span class="comment">//sizeof(arr) = ?</span></span><br><span class="line">  func(arr);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(g). 为什么传递数组时，除了要传入数组名，还要传入长度？</li><li>(h). 二维数组<code>arr[M][N]</code>的本质是一个一维数组，这个一维数组有多少个元素，每个元素的类型是什么？<code>arr[i][j]</code>的地址是多少？为什么二维数组传递的时候，不能省略第二个维度？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">[]在定义语句的的时候：定义数组；定义非语句的时候：索引或指标</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">0</span>~N<span class="number">-1</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">arr首地址+<span class="function">i*<span class="title">sizeof</span><span class="params">(每个元素的字节数)</span></span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">栈帧，<span class="number">1</span>MB</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">int</span> a[<span class="number">10</span>]={<span class="number">0</span>};</span><br><span class="line">memset(a,<span class="number">0</span>,sizeof(a));</span><br></pre></td></tr></tbody></table></figure><ul><li>(f)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">4</span>B,<span class="number">40</span>B</span><br></pre></td></tr></tbody></table></figure><h2 id="扩展知识"><a href="#扩展知识" class="headerlink" title="扩展知识"></a>扩展知识</h2><p>数组是一种重要的复合数据类型，它描述一种顺序存储的数据集合。它最重要的两个特征是：元素的类型相同，在内存中连续存储。</p><p>要值得特别注意的事情是数组和地址的联系。C语言的参数传递实际上会经历一个参数拷贝的过程，在传递数组的过程中，因为数组占据的空间可以是非常庞大的，如果全部拷贝会非常消耗资源，所以C语言设计时将数组的传递改成拷贝地址（存储地址所需要的空间是非常有限的），我们把这种从数组到地址的转换称为“退化”。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_04</title>
    <url>/category/39C_day04_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试007"><a href="#测试007" class="headerlink" title="测试007"></a>测试007</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 矩阵乘法</li></ul><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line">矩阵int a[<span class="string">4</span>][<span class="symbol">3</span>]，矩阵int b[<span class="string">3</span>][<span class="symbol">5</span>]。矩阵的数据由用户输入。</span><br><span class="line">矩阵的乘积c=a*b：</span><br><span class="line">c00 c01 c02 c03 c04</span><br><span class="line">c10 c11 c12 c13 c14</span><br><span class="line">c20 c21 c22 c23 c24</span><br><span class="line">c30 c31 c32 c33 c34</span><br><span class="line">矩阵乘法的计算方法:</span><br><span class="line">对于矩阵A[<span class="string">M</span>][<span class="symbol">Q</span>]<span class="emphasis">*B[Q][N],相乘的结果为矩阵C[M][N]，且对于矩阵C中每一项都有C[i][j] = A[i][0]*</span>B[<span class="string">0</span>][<span class="symbol">j</span>] + A[<span class="string">i</span>][<span class="symbol">1</span>]<span class="emphasis">*B[1][j] + ..... + A[i][q]*</span>B[<span class="string">q</span>][<span class="symbol">j</span>]</span><br></pre></td></tr></tbody></table></figure><ul><li>(b). 回形遍历方阵</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">输入一个整数n (n &lt;= <span class="number">10</span>)，构造一个n*n方阵，方阵数值从<span class="number">1</span>开始递增，按照“右 下 左 上”的方式循环向内填充。 </span><br><span class="line">n = <span class="number">4</span></span><br><span class="line">  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"> <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>   <span class="number">5</span></span><br><span class="line"> <span class="number">11</span>  <span class="number">16</span>  <span class="number">15</span>   <span class="number">6</span></span><br><span class="line"> <span class="number">10</span>   <span class="number">9</span>   <span class="number">8</span>   <span class="number">7</span></span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">4</span>][<span class="number">3</span>], b[<span class="number">3</span>][<span class="number">5</span>],c[<span class="number">4</span>][<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, a[i][j]);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, a[i][j]);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		{</span><br><span class="line">			c[i][j] = a[i][<span class="number">0</span>] * b[<span class="number">0</span>][j] + a[i][<span class="number">1</span>] * b[<span class="number">1</span>][j] + a[i][<span class="number">2</span>] * b[<span class="number">2</span>][j];</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>, c[i][j]);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> i, j, k = <span class="number">1</span>, n, a[<span class="number">15</span>][<span class="number">15</span>] = {<span class="number">0</span>};</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> num = <span class="number">1</span>; num &lt;=(n+<span class="number">1</span>)/<span class="number">2</span>; num++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (i = num,j=num; j &lt;=n - num + <span class="number">1</span>; j++) a[i][j] = k++;</span><br><span class="line">		<span class="keyword">for</span>(i++,j= n - num + <span class="number">1</span>;i&lt;=n-num+<span class="number">1</span>;i++) a[i][j] = k++;</span><br><span class="line">		<span class="keyword">for</span> (i=n - num + <span class="number">1</span>, j=i<span class="number">-1</span>;j&gt;=num; j--) a[i][j] = k++;</span><br><span class="line">		<span class="keyword">for</span>(i-=<span class="number">1</span>,j++;i&gt;=num+<span class="number">1</span>;i--) a[i][j] = k++;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (j=<span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%3d "</span>, a[i][j]);</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>这是两道典型的OJ题目。对于OJ题目的二维数组而言，一般来说会指定一个最大大小，所以这些二维数组可以直接定义在栈上。</li><li>画图题的典型做法依然找规律，构造合适的循环条件。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_03</title>
    <url>/category/39C_day04_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础008"><a href="#基础008" class="headerlink" title="基础008"></a>基础008</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). C风格的字符串本质是一个字符数组，这个字符数组有什么特征？</li><li>(b). 假设字符串的最后一个字符可能是换行符，怎么去掉？</li><li>(c). 为什么说scanf和gets是不安全的，而fgets是安全的？</li><li>(d). 自己实现strcpy、strcat、strlen和strcmp。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">以<span class="string">'\0'</span>结尾</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(str[<span class="built_in">strlen</span>(str)<span class="number">-1</span>]==<span class="string">'\n'</span>)</span><br><span class="line">    str[<span class="built_in">strlen</span>(str)<span class="number">-1</span>]=<span class="string">'\0'</span>;</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">scanf</span>和gets没有指定长度，不能控制访问内存的范围，有可能访问的内存空间超过已分配的内存空间，而fgets传入了长度</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">strcpy</span><span class="params">(<span class="keyword">char</span> a[], <span class="keyword">char</span> b[])</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; b[i]; i++) {</span><br><span class="line">		a[i] = b[i];</span><br><span class="line">	}</span><br><span class="line">	a[i] = <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">strcat</span><span class="params">(<span class="keyword">char</span> a[], <span class="keyword">char</span> b[])</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> i,j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; a[i]; i++);</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">0</span>; b[j];) {</span><br><span class="line">		a[i++] = b[j++];</span><br><span class="line">	}</span><br><span class="line">	a[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">strlen</span><span class="params">(<span class="keyword">char</span> a[])</span> </span>{</span><br><span class="line">	<span class="keyword">size_t</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; a[i]; i++);</span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strcmp</span><span class="params">(<span class="keyword">char</span> a[], <span class="keyword">char</span> b[])</span> </span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; a[i] &amp;&amp; b[i]; i++) {</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt; b[i]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (a[i] == b[i]) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> a[]=<span class="string">""</span>, b[] = <span class="string">"hello"</span>;</span><br><span class="line">	<span class="comment">//复制</span></span><br><span class="line">	<span class="built_in">strcpy</span>(a,b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> c[] = <span class="string">"hello"</span>, d[] = <span class="string">"world"</span>;</span><br><span class="line">	<span class="comment">//拼接</span></span><br><span class="line">	<span class="built_in">strcat</span>(c, d);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, c);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> e[] = <span class="string">"hello"</span>;</span><br><span class="line">	<span class="comment">//长度</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, <span class="built_in">strlen</span>(e));</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> f[] = <span class="string">"hello"</span>, g[] = <span class="string">"world"</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">strcmp</span>(f, g)&gt;<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"%s比%s大"</span>, f, g);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">strcmp</span>(f, g)==<span class="number">0</span>)<span class="built_in">printf</span>(<span class="string">"%s和%s一样大"</span>, f, g);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%s比%s小"</span>, f, g);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="关于字符串的一些扩展知识"><a href="#关于字符串的一些扩展知识" class="headerlink" title="关于字符串的一些扩展知识"></a>关于字符串的一些扩展知识</h2><p>C中字符串的设计依赖于空字符，这样就导致C的字符串的成员不可能是空字符。在业界，通常把以结束符’\0’作为终止标识的字符串称为C原始字符串。</p><p>在有些开源框架里面，它们会重新使用新的方法来设计字符串，但是它们并没有重新发明字符串，比如著名的Nginx和redis，它们会在原始的C字符串上又增加一些属性，例如字符串的长度、已经申请好的内存空间的大小等等。</p><ul><li>下面是nginx中字符串的源码：</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> {</span></span><br><span class="line">	<span class="keyword">size_t</span>      len;</span><br><span class="line">	u_char     *data;</span><br><span class="line">} <span class="keyword">ngx_str_t</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ngx_string(str)     { sizeof(str) - 1, (u_char *) str }</span></span><br></pre></td></tr></tbody></table></figure><p>nginx在字符串类型中增加一个描述字符串长度的字段，提高了strlen的效率。</p><ul><li>下面是redis中字符串源码：</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> __<span class="title">attribute__</span> ((__<span class="title">packed__</span>)) <span class="title">sdshdr64</span> {</span></span><br><span class="line">	<span class="keyword">uint64_t</span> len; <span class="comment">/* used */</span></span><br><span class="line">	<span class="keyword">uint64_t</span> alloc; <span class="comment">/* excluding the header and null terminator */</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">char</span> flags; <span class="comment">/* 3 lsb of type, 5 unused bits */</span></span><br><span class="line">	<span class="keyword">char</span> buf[];</span><br><span class="line">};</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SDS_HDR_VAR(T,s) struct sdshdr##T *sh = (void*)((s)-(sizeof(struct sdshdr##T)));</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SDS_HDR(T,s) ((struct sdshdr##T *)((s)-(sizeof(struct sdshdr##T))))</span></span><br></pre></td></tr></tbody></table></figure><p>redis更多地考虑到了内存分配，就是说redis的数组并不是默认分配在栈上面的。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_05</title>
    <url>/category/39C_day04_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试008"><a href="#测试008" class="headerlink" title="测试008"></a>测试008</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 将包含字符数字的字符串分开，使得分开后的字符串前一部分是数字，后一部分是字母。例<br>如<code>"h1ell2o3"</code> 转换成 <code>"123hello"</code>。</li><li>(b). 将 字 符 串 中 的 空 格 替 换 成<code>"%020"</code> ， 例 如 <code>"hello world how "</code>会转换成<code>"hello%020world%020how%020"</code>。</li><li>(c). 删除字符串中指定的字符。例如<code>"abcdaefaghiagkl"</code> 在删除<code>'a'</code>以后就是<code>"bcdefghigkl"</code>。</li><li>(d). 删除有序数组中的连续重复元素。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"h1ell2o3"</span>, dig[]=<span class="string">""</span>,c[]=<span class="string">""</span>;</span><br><span class="line">	<span class="keyword">int</span> p = <span class="number">0</span>,q = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;a[i]; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt;= <span class="string">'1'</span> &amp;&amp; a[i] &lt;= <span class="string">'9'</span>) dig[p++] = a[i];</span><br><span class="line">		<span class="keyword">else</span> c[q++] = a[i];</span><br><span class="line">	}</span><br><span class="line">	dig[p] = <span class="number">0</span>, c[q] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">strcat</span>(dig, c);</span><br><span class="line">	<span class="built_in">puts</span>(dig);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"hello world how "</span>, b[<span class="number">100</span>]=<span class="string">""</span>;</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;a[i]; i++,j++)</span><br><span class="line">	{</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (a[i] == <span class="string">' '</span>) {</span><br><span class="line">			<span class="built_in">strcat</span>(b, <span class="string">"%20"</span>);</span><br><span class="line">			j += <span class="number">2</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> b[j] = a[i];</span><br><span class="line">	}</span><br><span class="line">	b[j] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">puts</span>(b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"abcdaefaghiagkl"</span>, b[<span class="number">100</span>]=<span class="string">""</span>;</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; a[i]; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (a[i] != <span class="string">'a'</span>) b[j++] = a[i];</span><br><span class="line">	}</span><br><span class="line">	b[j] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">puts</span>(b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">10</span>] = { <span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">7</span> }, temp = a[<span class="number">0</span>], b[<span class="number">10</span>] = { <span class="number">0</span> },j=<span class="number">1</span>;</span><br><span class="line">	b[<span class="number">0</span>]=a[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(a[i]!=temp)</span><br><span class="line">		{</span><br><span class="line">			b[j++] = a[i];</span><br><span class="line">			temp = a[i];</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; j; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i]);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><ul><li>在完成习题的时候可以思考：有什么算法可以申请最少的存储空间来完成问题？</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day05_01</title>
    <url>/category/39C_day05_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础009"><a href="#基础009" class="headerlink" title="基础009"></a>基础009</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 下面的代码为什么不能正常执行？</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">int</span> *p;</span><br><span class="line">  *p = <span class="number">2</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b). 描述使用指针变量的基本流程。</li><li>(c). 使用表格整理str、strn和mem系列函数</li><li>(d). 什么是值传递？</li><li>(e). 在被调函数中修改主调函数的数据需要哪些步骤？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">指针变量存储的是地址（指针指向某个地址）</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">*p</span><br><span class="line">    <span class="number">1.</span> 根据p存储的地址去访问内存空间</span><br><span class="line">    <span class="number">2.</span> 基类型说明大小和解释方式</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><p>###　str</p><table><thead><tr><th align="center">函数</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">strlen(str)</td><td align="center">长度</td></tr><tr><td align="center">strcat(str1,str2)</td><td align="center">str2拼接在str1后面</td></tr><tr><td align="center">strcpy(str1,str2)</td><td align="center">将str2赋给str1</td></tr><tr><td align="center">strcmp(str1,str2)</td><td align="center">str1-str2</td></tr><tr><td align="center">strn…</td><td align="center">比较前n个</td></tr></tbody></table><h3 id="mem"><a href="#mem" class="headerlink" title="mem"></a>mem</h3><table><thead><tr><th align="center">函数</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">memchr(buf,’h’,strlen(buf))</td><td align="center">返回‘h’首次出现的位置</td></tr><tr><td align="center">memcmp(buf1,buf2)</td><td align="center">buf1-buf2</td></tr><tr><td align="center">memcpy(str1,str2,count)</td><td align="center">将str2的前count个字符赋给str1（str1和str2不能重叠）</td></tr><tr><td align="center">memmove(str1,str2,count)</td><td align="center">将str2的前count个字符赋给str1（str1和str2能重叠）</td></tr><tr><td align="center">strn…</td><td align="center">比较前n个</td></tr></tbody></table><ul><li>(d)</li></ul><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">值传递：传递的是变量的副本，改变副本，原变量不变</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">传递的形参是地址</span><br><span class="line">被调函数通过间接访问（解引用）改变数据</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>使用指针时要特别注意的指针和指针变量的联系和区别。</p><p>在刚开始使用指针变量时，要注意将内存示意图画出来。比如指针变量分配在内存的什么位置，数据对象分配在内存的哪个位置，指针变量如何和数据对象间接联系。</p><figure class="highlight gherkin"><table><tbody><tr><td class="code"><pre><span class="line">	内存一部分                         内存另一部分               </span><br><span class="line">+--------------+                   +--------------+ </span><br><span class="line">|<span class="string">     addr     </span>|<span class="string"> -----------------&gt;</span>|<span class="string">     data     </span>|</span><br><span class="line">+--------------+                   |<span class="string">              </span>|</span><br><span class="line">                                   +--------------+</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day05_02</title>
    <url>/category/39C_day05_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试009"><a href="#测试009" class="headerlink" title="测试009"></a>测试009</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 输入一行字符串（若干个单词构成的句子，单词之间存在一到多个空格），将所有单词提取出来并输出，每个单词占据一行。</li></ul><figure class="highlight properties"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">INPUT</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">hello</span>     <span class="string">world  how  are you</span></span><br><span class="line"><span class="attr">OUTPUT</span>:<span class="string"></span></span><br><span class="line"><span class="attr">hello</span></span><br><span class="line"><span class="attr">world</span></span><br><span class="line"><span class="attr">how</span></span><br><span class="line"><span class="attr">are</span></span><br><span class="line"><span class="attr">you</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(b). 实现大整数加法。使用两个字符数组存储两个大整数（这两个大整数的数值超过了<code>long long</code>的表示范围，并且都是非负数），然后执行加法，将结果以字符串的形式打印出来。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">100</span>], b[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>,flag=<span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	gets(a);</span><br><span class="line">	<span class="keyword">for</span> (; a[i] == <span class="string">' '</span>; i++);  <span class="comment">//单个字符用''，字符串才用""</span></span><br><span class="line">	<span class="keyword">for</span> (; a[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	{</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (a[i]!=<span class="string">' '</span>) {</span><br><span class="line">			b[j++] = a[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) {</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, b);</span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="keyword">sizeof</span>(b));</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s"</span>, b);  <span class="comment">//别忘了最后一个字符串添加进去</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span> str[],<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;len/<span class="number">2</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">char</span> temp;</span><br><span class="line">		temp = str[i];</span><br><span class="line">		str[i] = str[len - <span class="number">1</span> - i];</span><br><span class="line">		str[len - <span class="number">1</span> - i] = temp;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> str1[<span class="number">100</span>], str2[<span class="number">100</span>],str3[<span class="number">200</span>];</span><br><span class="line">	gets(str1);</span><br><span class="line">	gets(str2);</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">strlen</span>(str2) &gt; <span class="built_in">strlen</span>(str1))</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">char</span> temp[<span class="number">100</span>];</span><br><span class="line">		<span class="built_in">strcpy</span>(temp, str1);</span><br><span class="line">		<span class="built_in">strcpy</span>(str1, str2);</span><br><span class="line">		<span class="built_in">strcpy</span>(str2, temp);</span><br><span class="line">	}</span><br><span class="line">	reverse(str1,<span class="built_in">strlen</span>(str1));</span><br><span class="line">	reverse(str2, <span class="built_in">strlen</span>(str2));</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>,sum = <span class="number">0</span>, dig = <span class="number">0</span>, go = <span class="number">0</span>,k=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; str1[i] &amp;&amp; str2[j]; i++, j++)</span><br><span class="line">	{</span><br><span class="line">		sum = (str1[i] - <span class="string">'0'</span>) + (str2[j] - <span class="string">'0'</span>) + go;</span><br><span class="line">		dig = sum % <span class="number">10</span>;</span><br><span class="line">		str3[k++] = dig + <span class="string">'0'</span>;</span><br><span class="line">		str3[k] = <span class="number">0</span>;</span><br><span class="line">		go = sum / <span class="number">10</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (go != <span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strlen</span>(str1) == <span class="built_in">strlen</span>(str2))</span><br><span class="line">		{</span><br><span class="line">			str3[k++] = <span class="number">1</span> + <span class="string">'0'</span>;</span><br><span class="line">			str3[k] = <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">for</span> (; str1[i]; i++)</span><br><span class="line">			{</span><br><span class="line">				sum = (str1[i] - <span class="string">'0'</span>) + go;</span><br><span class="line">				dig = sum % <span class="number">10</span>;</span><br><span class="line">				str3[k++] = dig + <span class="string">'0'</span>;</span><br><span class="line">				str3[k] = <span class="number">0</span>;</span><br><span class="line">				go = sum / <span class="number">10</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	reverse(str3, <span class="built_in">strlen</span>(str3));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, str3);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>在设计算法的时候，经常会需要申请多个临时变量，在使用临时变量的时候，千万记住一个准则：如果一个变量自己无法用一句话解释出它的含义，那么就不要使用它，可以考虑使用多个变量组合来实现想要的效果。</li><li>大整数加法的基本步骤<ul><li>先将两个数组逆置</li><li>从个位开始执行加法</li><li>最高位可能会进位</li></ul></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_01</title>
    <url>/category/39C_day06_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础010"><a href="#基础010" class="headerlink" title="基础010"></a>基础010</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 当指针变量偏移时，如何确定其地址数值的变化？</li><li>(b). *运算符和[]运算符有什么联系？</li><li>(c). 利用realloc，实现类似于C++中std::vector的push_back功能。</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPushBack</span><span class="params">(<span class="keyword">int</span> **arr, <span class="keyword">int</span> val, <span class="keyword">int</span> *<span class="built_in">size</span>, <span class="keyword">int</span> *capacity)</span></span>;</span><br><span class="line"><span class="comment">//因为realloc接口可能会修改arr的指向，所以这里应当使用二级指针</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d). 描述野指针、空指针和悬空指针的区别。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line">p+i=p+i*<span class="keyword">sizeof</span>(数据类型)</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">*(p+i) ---等价于---  p[i]</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPushBack</span><span class="params">(<span class="keyword">int</span>** p, <span class="keyword">int</span> val, <span class="keyword">int</span>* <span class="built_in">size</span>, <span class="keyword">int</span>* capacity)</span>  <span class="comment">//二级指针实现方式</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (*<span class="built_in">size</span> &gt;= *capacity)</span><br><span class="line">	{</span><br><span class="line">		(*capacity) *= <span class="number">2</span>;</span><br><span class="line">		*p = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(*p, *capacity * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	*(*p + *<span class="built_in">size</span>) = val;</span><br><span class="line">	(*<span class="built_in">size</span>)++;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> val, <span class="built_in">size</span> = <span class="number">0</span>, capacity = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">int</span>* p = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(capacity * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;val) != EOF) {</span><br><span class="line">		myPushBack(&amp;p, val, &amp;<span class="built_in">size</span>, &amp;capacity);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p[i]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">空指针：指针不想使用可以置空</span><br><span class="line">野指针：</span><br><span class="line">	不能用整型字面值给指针变量赋值</span><br><span class="line">	在解引用之前指针变量必须赋值，初始化</span><br><span class="line">悬空指针：在一个指针所指内存空间<span class="built_in">free</span>后，给另一指针变量赋值，则可能这一指针指向刚刚<span class="built_in">free</span>的内存空间，进而出现问题，可以<span class="built_in">free</span>后用指针指向<span class="literal">NULL</span>解决。</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>在C语言当中，<code>*</code>运算符和<code>[]</code>运算符是完全等价的。同时要特别注意<code>[]</code>运算符和<code>*</code>运算符在不同的位置有着不同的特性。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_02</title>
    <url>/category/39C_day06_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础011"><a href="#基础011" class="headerlink" title="基础011"></a>基础011</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用malloc创建一个整型二维数组，也就是给出<code>p[i][j]</code> 能够访问i行j列的元素</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">如果每一行的大小固定为5</span></span><br><span class="line"><span class="comment">可以使用数组指针创建二维数组</span></span><br><span class="line"><span class="comment">这样二维数组的内存空间一定是连续的</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">如果每一行的大小不固定</span></span><br><span class="line"><span class="comment">可以使用循环申请很多行，再把每行的地址存储在一个数组中</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure><p>在完成的时候，可以思考下不同的方法构造的动态二维数组的内存布局有什么区别。</p><ul><li>(b). 整理二维数组和指针数组的区别。</li><li>(c). 什么是函数指针？什么是回调函数？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//连续</span></span><br><span class="line"><span class="keyword">int</span> (*p)[<span class="number">5</span>]=(<span class="keyword">int</span> (*)[])<span class="built_in">malloc</span>(n*<span class="number">5</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>))</span><br><span class="line">    </span><br><span class="line"><span class="comment">//不连续</span></span><br><span class="line"><span class="keyword">int</span> **p=(<span class="keyword">int</span> **)<span class="built_in">malloc</span>(n*<span class="keyword">sizeof</span>(<span class="keyword">int</span>*))</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">{</span><br><span class="line">    p[i]=(<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="number">5</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">二维数组：数据类型为一维数组的数组</span><br><span class="line">指针数组：元素类型都为指针</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">函数指针：指针变量存储函数代码入口地址，将函数当作参数传播</span><br><span class="line">回调函数：调用者和被调用者相互调用</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>想要理解回调函数，首先需要理解“轮子“这个概念，了解到有些代码在使用时，要调用他人写好的函数（即“轮子”）。回调函数做的事情就类似于给“轮子”上自己制造的“螺丝“。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_04</title>
    <url>/category/39C_day06_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试010"><a href="#测试010" class="headerlink" title="测试010"></a>测试010</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 给出一行句子，要求提取出各个单词到一个字符串数组中，然后使用数组指针实现对字符串数组排序，然后把每一行打印出来。</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//建议实现一个myStrtok函数</span></span><br><span class="line"><span class="comment">//该函数负责将字符串按照分隔符分割成几段</span></span><br><span class="line"><span class="comment">//char *myStrtok(char *str, const char *delim, char **saveptr);</span></span><br><span class="line"><span class="comment">//每次调用myStrok，会从saveptr所指向的位置开始，向后搜索下一个由delim参数指定的分隔符。</span></span><br><span class="line"><span class="comment">//一旦遇到分隔符，会将该分隔符置为'\0'（所以该函数不能对字面值常量使用），当本次调用分割出来的子串长度不为0，则返回子串的首地址，并且将saveptr指向子串的终止符的后一个位置。如果本地调用分割出来的子串长度为0，则继续向后查询分割（也就是连续分隔符会被视为一个分隔符）。</span></span><br><span class="line"><span class="comment">//如果搜索不到分隔符，就返回NULL</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line">INPUT:</span><br><span class="line">   test -abc <span class="selector-tag">a</span><span class="selector-class">.txt</span> <span class="selector-tag">b</span>.txt</span><br><span class="line"></span><br><span class="line">OUTPUT:</span><br><span class="line">-abc</span><br><span class="line"><span class="selector-tag">a</span>.txt</span><br><span class="line"><span class="selector-tag">b</span>.txt</span><br><span class="line">test</span><br></pre></td></tr></tbody></table></figure><ul><li>(b). 实现和(a)一样功能，采用二级指针的方法来完成（即指针数组）。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myStrtok</span><span class="params">(<span class="keyword">char</span>* str, <span class="keyword">const</span> <span class="keyword">char</span>* delim,  <span class="keyword">char</span> saveptr[][<span class="number">10</span>])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k=<span class="number">0</span>,flag = <span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i] == delim; i++);  <span class="comment">//单个字符用''，字符串才用""</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	{</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (str[i] != delim) {</span><br><span class="line">			b[j++] = str[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) {</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[k++],b);</span><br><span class="line">				<span class="comment">/*int p = 0;</span></span><br><span class="line"><span class="comment">				for (; b[p]; p++)</span></span><br><span class="line"><span class="comment">				{</span></span><br><span class="line"><span class="comment">					saveptr[k][p] = b[p];</span></span><br><span class="line"><span class="comment">				}</span></span><br><span class="line"><span class="comment">				saveptr[k][p] = 0;</span></span><br><span class="line"><span class="comment">				k++;*/</span></span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">    <span class="keyword">if</span> ((str[i - <span class="number">1</span>] != delim) &amp;&amp; (flag == <span class="number">1</span>))</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">strcpy</span>(saveptr[k], b);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> saveptr[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">memset</span>(saveptr, <span class="number">0</span>, <span class="keyword">sizeof</span>(saveptr));</span><br><span class="line">	<span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">	gets(str);</span><br><span class="line">	</span><br><span class="line">	myStrtok(str,<span class="string">' '</span>,saveptr);</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; 10; i++)</span></span><br><span class="line"><span class="comment">		printf("%s\n", saveptr[i]);*/</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(saveptr[j], saveptr[j + <span class="number">1</span>])&gt;<span class="number">0</span>)  <span class="comment">//if里面非0即为真，要注意</span></span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">char</span> temp[<span class="number">10</span>];</span><br><span class="line">				<span class="built_in">strcpy</span>(temp, saveptr[j]);</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[j], saveptr[j+<span class="number">1</span>]);</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[j + <span class="number">1</span>], temp);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, saveptr[i]);</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="comment">//增加了返回的长度</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myStrtok</span><span class="params">(<span class="keyword">char</span>* str, <span class="keyword">const</span> <span class="keyword">char</span>* delim, <span class="keyword">char</span> saveptr[][<span class="number">10</span>],<span class="keyword">int</span> *length)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = <span class="number">0</span>, flag = <span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i] == delim; i++);  <span class="comment">//单个字符用''，字符串才用""</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	{</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (str[i] != delim) {</span><br><span class="line">			b[j++] = str[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) {</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[k++], b);</span><br><span class="line">				<span class="comment">/*int p = 0;</span></span><br><span class="line"><span class="comment">				for (; b[p]; p++)</span></span><br><span class="line"><span class="comment">				{</span></span><br><span class="line"><span class="comment">					saveptr[k][p] = b[p];</span></span><br><span class="line"><span class="comment">				}</span></span><br><span class="line"><span class="comment">				saveptr[k][p] = 0;</span></span><br><span class="line"><span class="comment">				k++;*/</span></span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	*length = k;</span><br><span class="line">    <span class="keyword">if</span> ((str[i - <span class="number">1</span>] != delim) &amp;&amp; (flag == <span class="number">1</span>))</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">strcpy</span>(saveptr[k], b);</span><br><span class="line">        (*length)++;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPtr</span><span class="params">(<span class="keyword">char</span>** ptr, <span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, ptr[i]);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> saveptr[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">memset</span>(saveptr, <span class="number">0</span>, <span class="keyword">sizeof</span>(saveptr));</span><br><span class="line">	<span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">	gets(str);</span><br><span class="line">	<span class="keyword">int</span> length=<span class="number">0</span>;</span><br><span class="line">	myStrtok(str, <span class="string">' '</span>, saveptr,&amp;length);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; 10; i++)</span></span><br><span class="line"><span class="comment">		printf("%s\n", saveptr[i]);*/</span></span><br><span class="line">	<span class="comment">//printf("%d", length);</span></span><br><span class="line">	<span class="keyword">char</span>* ptr[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">		ptr[i] = saveptr[i];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; length - <span class="number">1</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(ptr[j], ptr[j + <span class="number">1</span>]) &gt; <span class="number">0</span>)</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">char</span>* temp;</span><br><span class="line">				temp = ptr[j];</span><br><span class="line">				ptr[j] = ptr[j + <span class="number">1</span>];</span><br><span class="line">				ptr[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	printPtr(ptr, length);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_03</title>
    <url>/category/39C_day06_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础012"><a href="#基础012" class="headerlink" title="基础012"></a>基础012</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是函数的声明？什么是函数的定义？</li><li>(b). C语言编写的应用程序从什么函数开始执行的？</li><li>(c). 头文件的里面存放函数声明。在编译过程的哪个步骤里面，这些函数声明会放入代码文件中？</li><li>(d). C程序是由函数组成的。在编译过程的哪个步骤里面，这些函数会组合成一个应用程序？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">写在main函数前的、加分号结尾的自定义函数为声明</span><br><span class="line">对自定义函数的实现为定义</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">从main函数入口开始执行</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">预处理</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">链接</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>遇到链接错误怎么办：</p><ul><li>是否引用了名字错误的函数？</li><li>是否调用了只有声明而没有定义的函数？</li><li>使用的库函数是否缺少库文件。</li><li>是否存在重复定义的问题。</li><li>如果一个函数只是给自己使用的，建议加上static。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_02</title>
    <url>/category/39C_day07_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础014"><a href="#基础014" class="headerlink" title="基础014"></a>基础014</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 声明一个结构体类型，然后利用这个结构体类型来定义一个变量、指针变量和数组。</li><li>(b). 什么是对齐？为什么要对齐？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>{</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">char</span> gender;</span><br><span class="line">};</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stduent</span> <span class="title">stu1</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">stu2</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu3</span>[10];</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">按照一定的存储模式进行边界对齐，提高了对结构体的数据成员进行操作</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>预处理指令<code>#pragma</code>可以补充一些预处理指令。其中一种的非标准指令称为<code>#pragma pack</code>可以用来指定对齐的宽度。下面是Microsoft给出的msvc编译的示例：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stddef.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">S</span> {</span></span><br><span class="line">   <span class="keyword">int</span> i;   <span class="comment">// size 4</span></span><br><span class="line">   short j;   <span class="comment">// size 2</span></span><br><span class="line">   <span class="keyword">double</span> k;   <span class="comment">// size 8</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> pack(2)</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">T</span> {</span></span><br><span class="line">   <span class="keyword">int</span> i;</span><br><span class="line">   short j;</span><br><span class="line">   <span class="keyword">double</span> k;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(S, i));<span class="comment">//offsetof表示i的起始地址和结构体变量起始地址的差值</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(S, j));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu\n"</span>, offsetof(S, k));</span><br><span class="line"></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(T, i));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(T, j));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu\n"</span>, offsetof(T, k));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>输出结果是：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">8</span></span><br><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">6</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_01</title>
    <url>/category/39C_day07_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础013"><a href="#基础013" class="headerlink" title="基础013"></a>基础013</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). setjmp和longjmp的具体意义是什么？</li><li>(b). 完成递归程序，需要完成哪两个步骤？</li><li>(c). 什么符号决定了函数的作用域？</li><li>(d). 从变量存在的生命周期、变量存储的位置和变量的作用域来说明全局变量、静态局部变量和局部变量的区别。</li><li>(e). 对于某一个函数而言，可以定义多少次？声明多少次？对于局部变量呢？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line">在栈调用里，setjmp设置标记，longjmp返回标记，第一次返回<span class="number">0</span>，第二次返回设定的值</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">假设前面n<span class="number">-1</span>已经完成了，现在只需要完成n，与此同时需要在前面加上基准条件用于跳出递归。</span><br><span class="line">总的来说是：</span><br><span class="line">    大问题---&gt;小问题</span><br><span class="line">    找到小问题的解决方案</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">花括号决定了函数的作用域</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><table><thead><tr><th align="center"></th><th align="center">全局变量</th><th align="center">静态局部变量（static）</th><th align="center">局部变量</th></tr></thead><tbody><tr><td align="center">生命周期</td><td align="center">从程序装入内存开始到程序结束</td><td align="center">从定义它的语句第一次被执行，到程序结束</td><td align="center">从定义它的语句开始到作用域外结束</td></tr><tr><td align="center">存储的位置</td><td align="center">数据段 .bss段存储未初始化/0 .data存储已经初始化/非0</td><td align="center">数据段</td><td align="center">栈</td></tr><tr><td align="center">作用域</td><td align="center">定义在函数外部，定义之后各函数都可调用</td><td align="center">定义该变量的函数内</td><td align="center">定义该变量的函数内</td></tr></tbody></table><ul><li>(e)</li></ul><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">函数和局部变量可以声明无数次，但只能定义一次</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>C语言是可以支持可变参数的，需要引入<code>&lt;stdarg.h&gt;</code>头文件。</p><ul><li>在函数定义和声明的时候，使用<code>...</code>作为形式参数，称为可变参数。可变参数必须是最后一个参数，并且不能单独作为形式参数。</li><li>在函数定义的函数体中，先<code>va_list</code>类型定义一个变量（通常名为ap），这个变量就代表了所有传入的可变参数（就是实参多于形参的部分）。</li><li>使用宏<code>va_start(va_list ap, parmN)</code>表示初始化可变参数，使其生效。参数<code>ap</code>就是之前所定义的可变参数变量，<code>parmN</code>是可变参数之前的那个形参的名字。</li><li>使用宏<code>T va_arg(va_list ap,T)</code>可以在可变参数生效以后，取出一个可变参数。在这里需要取出的类型<code>T</code>传入宏中。每次使用<code>va_arg</code>以后，<code>ap</code>都会向后迭代一个参数（之前的参数已经被取出了）。</li><li>使用宏<code>void va_end(va_list ap)</code>可以清除掉一个可变参数，使其失效。</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdarg.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">simple_printf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* fmt, ...)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    va_list args;</span><br><span class="line">    va_start(args, fmt);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> (*fmt != <span class="string">'\0'</span>) {</span><br><span class="line">        <span class="keyword">if</span> (*fmt == <span class="string">'d'</span>) {</span><br><span class="line">            <span class="keyword">int</span> i = va_arg(args, <span class="keyword">int</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, i);</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (*fmt == <span class="string">'c'</span>) {</span><br><span class="line">            <span class="comment">// note automatic conversion to integral type</span></span><br><span class="line">            <span class="keyword">int</span> c = va_arg(args, <span class="keyword">int</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c\n"</span>, c);</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (*fmt == <span class="string">'f'</span>) {</span><br><span class="line">            <span class="keyword">double</span> d = va_arg(args, <span class="keyword">double</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%f\n"</span>, d);</span><br><span class="line">        }</span><br><span class="line">        ++fmt;</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    va_end(args);</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    simple_printf(<span class="string">"dcff"</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="number">1.999</span>, <span class="number">42.5</span>); </span><br><span class="line">}</span><br><span class="line"><span class="comment">//有兴趣的同学可以将它改造成递归版本</span></span><br></pre></td></tr></tbody></table></figure><p>参考答案：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdarg.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">char</span> *fmt,va_list ap)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> *fmt,...)</span></span>{</span><br><span class="line">    va_list ap;</span><br><span class="line">    va_start(ap,fmt);</span><br><span class="line">    func(fmt,ap);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">char</span> *fmt,va_list ap)</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(*fmt == <span class="string">'\0'</span>){</span><br><span class="line">        va_end(ap);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span>(*fmt == <span class="string">'d'</span>){</span><br><span class="line">        <span class="keyword">int</span> i = va_arg(ap,<span class="keyword">int</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,i);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(*fmt == <span class="string">'c'</span>){</span><br><span class="line">        <span class="keyword">char</span> c = va_arg(ap,<span class="keyword">int</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>,c);</span><br><span class="line">    }</span><br><span class="line">    ++fmt;</span><br><span class="line">    func(fmt,ap);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"dc"</span>,<span class="number">3</span>,<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_03</title>
    <url>/category/39C_day07_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础015"><a href="#基础015" class="headerlink" title="基础015"></a>基础015</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用什么运算符可以访问基类型为结构体的指针变量所指的变量的成员？</li><li>(b). 如何遍历一个链表？</li><li>(c). 给出一个指针变量<code>p</code>，如何让<code>p</code>指向结点<code>A</code>？如何通过<code>p</code>修改结点<code>A</code>的数据域和其后继结点的数据域？如何通过<code>p</code>改变结点<code>A</code>的后继？</li><li>(d). 实现链表的头插、尾插。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">.或者-&gt;</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(p){</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,p-&gt;data);</span><br><span class="line">    p=p-&gt;next;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span>p=&amp;A</span><br><span class="line"><span class="number">2.</span>p指向A的时候，对p-&gt;data赋值即可，p=p-&gt;next往后移</span><br><span class="line"><span class="number">3.</span>当p指向A的时候，p-&gt;next=B,</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//头插法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertbefore</span><span class="params">(PNode_t* PHead, PNode_t* PTail, <span class="keyword">int</span> data)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	PNode_t L = (PNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*PHead == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*PHead = L;</span><br><span class="line">		*PTail = L;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		L-&gt;next = *PHead;</span><br><span class="line">		*PHead = L;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//尾插法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertafter</span><span class="params">(PNode_t* PHead, PNode_t* PTail, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	PNode_t L = (PNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*PTail == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*PHead = L;</span><br><span class="line">		*PTail = L;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*PTail)-&gt;next = L;</span><br><span class="line">		*PTail = L;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>想要用好链表，首先练好指针。想要熟悉指针，最好是给程序的每一步打上断点，然后观察内存的变化情况。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_04</title>
    <url>/category/39C_day07_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试011"><a href="#测试011" class="headerlink" title="测试011"></a>测试011</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 给出一个坐标系XOY，原点的坐标是<code>(0,0)</code>，在坐标为<code>(x,y)</code>的位置存在一个糖果。现在有一个虫子正在位于原点，该虫子每次只能向上或者向右移动，并且不能走出第一象限。请问该虫子想要吃到糖果，总共存在多少种走法？</li><li>(b). （选做）在(b)的条件中，列出每种走法经历了哪些坐标？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100</span></span><br><span class="line"><span class="keyword">int</span> X, Y;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">StackNode_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> x, y;</span><br><span class="line">}StackNode_t,*pStackNode_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	pStackNode_t <span class="built_in">stack</span>[MAXSIZE];</span><br><span class="line">	<span class="keyword">int</span> top;</span><br><span class="line">}Stack_t,*pStack_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t s)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="keyword">sizeof</span>(Stack_t));</span><br><span class="line">	s-&gt;top = <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t s,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	s-&gt;top++;</span><br><span class="line">	pStackNode_t pNew = (pStackNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(StackNode_t));</span><br><span class="line">	pNew-&gt;x = x;</span><br><span class="line">	pNew-&gt;y = y;</span><br><span class="line">	s-&gt;<span class="built_in">stack</span>[s-&gt;top] = pNew;</span><br><span class="line">}</span><br><span class="line"><span class="function">StackNode_t <span class="title">pop</span><span class="params">(pStack_t s)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	StackNode_t temp = *s-&gt;<span class="built_in">stack</span>[s-&gt;top];</span><br><span class="line">	<span class="built_in">free</span>(s-&gt;<span class="built_in">stack</span>[s-&gt;top]); </span><br><span class="line">	s-&gt;<span class="built_in">stack</span>[s-&gt;top--] = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y,pStack_t s)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	push(s, x, y);</span><br><span class="line">	<span class="keyword">if</span> (x == <span class="number">0</span>&amp;&amp; y == <span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		StackNode_t temp = pop(s);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"坐标：%d %d\n"</span>, temp.x, temp.y);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(x==<span class="number">0</span>&amp;&amp;y&gt;<span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">find</span>(<span class="number">0</span>, y - <span class="number">1</span>,s);</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (y == <span class="number">0</span> &amp;&amp; x &gt; <span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">find</span>(x<span class="number">-1</span>, <span class="number">0</span>,s);</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">find</span>(x - <span class="number">1</span>, y,s) + <span class="built_in">find</span>(x, y - <span class="number">1</span>,s);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Stack_t s;</span><br><span class="line">	initStack(&amp;s);</span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;X, &amp;Y);</span><br><span class="line">	num = <span class="built_in">find</span>(X, Y,&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"总共有：%d种走法\n"</span>, num);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="拓展学习"><a href="#拓展学习" class="headerlink" title="拓展学习"></a>拓展学习</h2><ul><li>在OJ题目当中，和组合数学相关的程序题目数不胜数，比如指数型枚举（求出集合的所有子集）、全排列型枚举（将n个整数打乱顺序的排列情况）或者是组合型枚举（m个球中取出n个）等等。这些数学问题往往其背景的数学知识只是简单的加法原理和乘法原理，但是使用程序求解起来非常的困难，使用递归的方法可以比较“暴力”的解决上述问题。有兴趣的同学可以自己实现一下代码。</li><li>如何保存自己的行走记录？一种通用方法称为回溯。在递归的过程，可以使用一个辅助栈来存储已经经过的路径信息，当本次递归开始时，将路径信息压栈，本次递归结束时弹栈。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_05</title>
    <url>/category/39C_day07_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试012"><a href="#测试012" class="headerlink" title="测试012"></a>测试012</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>（学生信息处理问题）有这样一种学生结构体类型，其数据成员有包括学号，姓名和3门课程的成绩。实现下列要求：</p><ul><li>(a). 从键盘输入5个学生的信息，将这些同学的信息采用结构体数组的方式存储起来。</li><li>(b). 将学生信息按照学号重新排序，并且输出到控制台上。</li><li>(c). 输出每门课程最高分的学生信息。</li><li>(d). 输出每门课程的平均分。</li><li>(e). 按照总分输出学生排名。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> {</span></span><br><span class="line">	<span class="keyword">char</span> no[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">double</span> c1;</span><br><span class="line">	<span class="keyword">double</span> c2;</span><br><span class="line">	<span class="keyword">double</span> c3;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu1</span>[5];</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s %s %lf %lf %lf"</span>, stu1[i].no, stu1[i].name, &amp;stu1[i].c1, &amp;stu1[i].c2, &amp;stu1[i].c3);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sortByNo</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">0</span> ; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(stu1[j].no, stu1[j + <span class="number">1</span>].no) &gt; <span class="number">0</span>)</span><br><span class="line">			{</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">				temp = stu1[j];</span><br><span class="line">				stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">				stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//索引排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sortByNo</span><span class="params">(struct Student stu[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span>* <span class="title">ptr</span>[5];</span><span class="comment">//索引指向的是stu的首地址</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		ptr[i] =&amp;stu[i];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>((*ptr[j]).no,(*ptr[j + <span class="number">1</span>]).no)&gt;<span class="number">0</span>)</span><br><span class="line">			{</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span>* <span class="title">temp</span>;</span></span><br><span class="line">				temp = ptr[j];</span><br><span class="line">				ptr[j] = ptr[j + <span class="number">1</span>];</span><br><span class="line">				ptr[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, (*ptr[i]).no, (*ptr[i]).name, (*ptr[i]).c1, (*ptr[i]).c2, (*ptr[i]).c3);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">everyCourseTop</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (stu1[j].c1&gt;stu1[j + <span class="number">1</span>].c1)</span><br><span class="line">			{</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">				temp = stu1[j];</span><br><span class="line">				stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">				stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"c1:\n"</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (stu1[j].c2 &gt; stu1[j + <span class="number">1</span>].c2)</span><br><span class="line">			{</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">					temp = stu1[j];</span><br><span class="line">					stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">					stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"c2:\n"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (stu1[j].c3 &gt; stu1[j + <span class="number">1</span>].c3)</span><br><span class="line">			{</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">					temp = stu1[j];</span><br><span class="line">					stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">					stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"c3:\n"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">everyCourseEverage</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">double</span> sum1 = <span class="number">0</span>, sum2 = <span class="number">0</span>, sum3 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		sum1 += stu1[i].c1;</span><br><span class="line">		sum2 += stu1[i].c2;</span><br><span class="line">		sum3 += stu1[i].c3;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%lf %lf %lf\n"</span>, sum1 / <span class="number">5</span>, sum2 / <span class="number">5</span>, sum3 / <span class="number">5</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sumCourseSort</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">double</span> sumCourse[<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		sumCourse[i] = stu1[i].c1 + stu1[i].c2 + stu1[i].c3;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (sumCourse[j] &gt; sumCourse[j + <span class="number">1</span>])</span><br><span class="line">			{</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">				temp = stu1[j];</span><br><span class="line">				stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">				stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;=<span class="number">0</span>; i--)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"第%d名是学号为%s，名字是%s，总分是%lf\n"</span>, (<span class="number">5</span>-i),stu1[i].no, stu1[i].name, stu1[i].c1+ stu1[i].c2+ stu1[i].c3);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>排序的时候，可以采用索引式排序，也可以直接修改原来数组当中的数据。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day08_01</title>
    <url>/category/39C_day08_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础016"><a href="#基础016" class="headerlink" title="基础016"></a>基础016</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现链表的有序插入。</li><li>(b). 输入一个数据，在链表中查找该数据并删除对应结点。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 申请一个节点空间，然后赋值data</span></span><br><span class="line"><span class="comment">//2. 分三种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空</span></span><br><span class="line"><span class="comment">//   2.data&lt;第一个节点data（插入第一个节点前）</span></span><br><span class="line"><span class="comment">//	 3.其他情况:插入到中间和末尾</span></span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBySort</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span>  <span class="comment">//链表前面可不用单独创建一个节点，因为-&gt;左侧为NULL情况会考虑到</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t)); </span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> ((*pHead)-&gt;data &gt; data)</span><br><span class="line">	{</span><br><span class="line">		p-&gt;next = *pHead;</span><br><span class="line">		*pHead = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		pNode_t pre = *pHead, cur = pre-&gt;next;</span><br><span class="line">		<span class="keyword">while</span> (cur)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (p-&gt;data &lt; cur-&gt;data)  <span class="comment">//找到第一个data&gt;data的节点，插入到它前面，然后退出</span></span><br><span class="line">			{</span><br><span class="line">				p-&gt;next = cur;</span><br><span class="line">				pre-&gt;next = p;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			}</span><br><span class="line">			pre = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)  <span class="comment">//末尾</span></span><br><span class="line">		{</span><br><span class="line">			(*pTail)-&gt;next = p;</span><br><span class="line">			*pTail = p;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 分三种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空，删除不了报错</span></span><br><span class="line"><span class="comment">//   2.data=第一个节点data时又分为：</span></span><br><span class="line"><span class="comment">//		1.只有一个节点</span></span><br><span class="line"><span class="comment">//		2.链表不止有一个节点</span></span><br><span class="line"><span class="comment">//	 3.其他情况:在中间和本链表不存在该data节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteNode</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span>  </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>) <span class="comment">//链表为空</span></span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"空链表不能删除节点\n"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>((*pHead)-&gt;data == data) <span class="comment">//第一个节点data</span></span><br><span class="line">	{</span><br><span class="line">		pNode_t p = *pHead;</span><br><span class="line">		<span class="keyword">if</span>((*pHead) == (*pTail))  <span class="comment">//只有一个节点</span></span><br><span class="line">		{</span><br><span class="line">			</span><br><span class="line">			<span class="built_in">free</span>(p);</span><br><span class="line">			p = <span class="literal">NULL</span>;</span><br><span class="line">			*pHead = <span class="literal">NULL</span>;</span><br><span class="line">			*pTail = <span class="literal">NULL</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span>  <span class="comment">//链表不止有一个节点</span></span><br><span class="line">		{</span><br><span class="line">			(*pHead) = (*pHead)-&gt;next;</span><br><span class="line">			<span class="built_in">free</span>(p);</span><br><span class="line">			p = <span class="literal">NULL</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		pNode_t pre = *pHead, cur = pre-&gt;next; <span class="comment">//注意是*pHead</span></span><br><span class="line">		<span class="keyword">while</span> (cur)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (cur-&gt;data == data)</span><br><span class="line">			{</span><br><span class="line">				pre-&gt;next = cur-&gt;next;</span><br><span class="line">				<span class="built_in">free</span>(cur);</span><br><span class="line">				cur = <span class="literal">NULL</span>; <span class="comment">//避免悬空指针</span></span><br><span class="line">				<span class="keyword">return</span>; <span class="comment">// 注意删除后return而不是break，免得后面影响cur的判断</span></span><br><span class="line">			}</span><br><span class="line">			pre = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)</span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"data为%d的节点未出现在本链表中\n"</span>,data);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="comment">//main做了：</span></span><br><span class="line"><span class="comment">//循环输入数--&gt;有序插入链表并打印链表元素--&gt;输入要删除的数--&gt;打印链表元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>; <span class="comment">//pHead和pTail要初始化才能当参数传递</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data)!=EOF)</span><br><span class="line">	{</span><br><span class="line">		insertBySort(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---------------有序插入后链表------------------\n"</span>);</span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n请输入要删除的节点data值："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"----------------删除%d后链表----------------\n"</span>, data);</span><br><span class="line">	deleteNode(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><ul><li>带参数的宏定义</li></ul><p>使用带参数的宏定义（有些时候也称为类函数宏）在使用上可以像函数一样传递参数。使用带参数的只需要在宏中使用括号将参数列表包含即可，但是要注意<code>#define</code>和宏之间的空格不能被忽略，并且宏定义应当在一行之内完成，使用<code>\</code>可以将这一行形式上分成多行。</p><p>在代码当中的宏，会在预处理阶段被展开，所以这些代码的执行和一般顺序执行的代码语句并无区别，也不会产生一般函数调用的压栈弹栈操作。使用带参数的宏定义时，要注意特别优先级问题、自增符号等等导致的语义错误。</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> min(X, Y)  ((X) &lt; (Y) ? (X) : (Y))</span></span><br><span class="line"><span class="comment">//  x = min(a, b);          →  x = ((a) &lt; (b) ? (a) : (b));</span></span><br><span class="line"><span class="comment">//  y = min(1, 2);          →  y = ((1) &lt; (2) ? (1) : (2));</span></span><br><span class="line"><span class="comment">//  z = min(a + 28, *p);    →  z = ((a + 28) &lt; (*p) ? (a + 28) : (*p));</span></span><br></pre></td></tr></tbody></table></figure><ul><li>嵌套使用带参数的宏可能会带来意想不到的结果，比如：</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// min (min (a, b), c)</span></span><br><span class="line"><span class="comment">//    --&gt;</span></span><br><span class="line"><span class="comment">//min (((a) &lt; (b) ? (a) : (b)), (c))</span></span><br><span class="line"><span class="comment">//    --&gt;</span></span><br><span class="line"><span class="comment">//((((a) &lt; (b) ? (a) : (b))) &lt; (c) ? (((a) &lt; (b) ? (a) : (b))) : (c))</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day08_02</title>
    <url>/category/39C_day08_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试013"><a href="#测试013" class="headerlink" title="测试013"></a>测试013</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>下面是链表结点类型的声明：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node_s</span>{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span>* <span class="title">pNext</span>;</span></span><br><span class="line">} Node_t, *pNode_t;</span><br></pre></td></tr></tbody></table></figure><p>完成下列题目:</p><ul><li><p>(a). 假设存在两个链表，链表的各个结点数据域都是有序的。要求合并这两个链表，并且合并之后也是有序的。本题中不能重新申请堆空间。</p></li><li><p>(b). 存在一个链表，将其逆置。本题中不能重新申请堆空间。</p></li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span>--&gt;<span class="number">2</span>--&gt;<span class="number">3</span>--&gt;<span class="number">4</span>--&gt;<span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>--&gt;<span class="number">4</span>--&gt;<span class="number">3</span>--&gt;<span class="number">2</span>--&gt;<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 申请一个节点空间，然后赋值data</span></span><br><span class="line"><span class="comment">//2. 分两种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空</span></span><br><span class="line"><span class="comment">//   2.链表至少有一个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 两个链表都从头开始</span></span><br><span class="line"><span class="comment">//2. while循环，1链表中第一个比q-&gt;data大的跳出，让它前一个指向q</span></span><br><span class="line"><span class="comment">//3. while循环，2链表中第一个比p-&gt;data大的跳出，让它前一个指向p	 </span></span><br><span class="line"><span class="comment">//-&gt;左边的不能为NULL</span></span><br><span class="line"><span class="function">pNode_t <span class="title">mergeList</span><span class="params">(pNode_t* p1Head, pNode_t* p2Head)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = *p1Head, q = *p2Head;</span><br><span class="line">	pNode_t pNewHead = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	pNode_t pNewPtr = pNewHead;</span><br><span class="line">	<span class="keyword">while</span> (p &amp;&amp; q)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(p-&gt;data &lt;= q-&gt;data)</span><br><span class="line">		{</span><br><span class="line">			pNewPtr-&gt;next=p;</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			pNewPtr-&gt;next = q;</span><br><span class="line">			q = q-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		pNewPtr = pNewPtr-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	pNewPtr-&gt;next = (p == <span class="literal">NULL</span>)?q : p;</span><br><span class="line">	<span class="keyword">return</span> pNewHead;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//main做了：</span></span><br><span class="line"><span class="comment">//尾插法初始化两个链表，并分别打印两个链表元素--&gt;合并两链表--&gt;打印合并后链表元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>, p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---------------尾插法插入节点后链表1------------------\n"</span>);</span><br><span class="line">	pNode_t p = p1Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n---------------尾插法插入节点后链表2------------------\n"</span>);</span><br><span class="line">	p = p2Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n--------------------合并后链表为----------------------\n"</span>);</span><br><span class="line">	pNode_t L = mergeList(&amp;p1Head, &amp;p2Head);</span><br><span class="line">	p = L;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 申请一个节点空间，然后赋值data</span></span><br><span class="line"><span class="comment">//2. 分两种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空</span></span><br><span class="line"><span class="comment">//   2.链表至少有一个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 两个链表都从头开始</span></span><br><span class="line"><span class="comment">//2. while循环，1链表中第一个比q-&gt;data大的跳出，让它前一个指向q</span></span><br><span class="line"><span class="comment">//3. while循环，2链表中第一个比p-&gt;data大的跳出，让它前一个指向p	 </span></span><br><span class="line"><span class="comment">//-&gt;左边的不能为NULL</span></span><br><span class="line"><span class="function">pNode_t <span class="title">mergeList</span><span class="params">(pNode_t* p1Head, pNode_t* p2Head)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = *p1Head, q = *p2Head;</span><br><span class="line">	<span class="keyword">if</span> (p == <span class="literal">NULL</span>) <span class="keyword">return</span> q;</span><br><span class="line">	<span class="keyword">if</span> (q == <span class="literal">NULL</span>) <span class="keyword">return</span> p;</span><br><span class="line">	pNode_t pNewPtr = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">if</span> (p-&gt;data &lt;= q-&gt;data)</span><br><span class="line">	{</span><br><span class="line">		pNewPtr = p;</span><br><span class="line">		p-&gt;next = mergeList(p-&gt;next, q);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		pNewPtr = q;</span><br><span class="line">		q-&gt;next = mergeList(p, q-&gt;next);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> pNewPtr;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//main做了：</span></span><br><span class="line"><span class="comment">//尾插法初始化两个链表，并分别打印两个链表元素--&gt;合并两链表--&gt;打印合并后链表元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>, p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---------------尾插法插入节点后链表1------------------\n"</span>);</span><br><span class="line">	pNode_t p = p1Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n---------------尾插法插入节点后链表2------------------\n"</span>);</span><br><span class="line">	p = p2Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n--------------------合并后链表为----------------------\n"</span>);</span><br><span class="line">	pNode_t L = mergeList(&amp;p1Head, &amp;p2Head);</span><br><span class="line">	p = L;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(pNode_t* pHead, pNode_t* pTail)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = (*pHead)-&gt;next, cur;</span><br><span class="line">	*pTail = *pHead; <span class="comment">//第一个翻转后即是最后一个</span></span><br><span class="line">	(*pHead)-&gt;next = <span class="literal">NULL</span>; <span class="comment">//断掉第一个和第二个的联系</span></span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		cur = p-&gt;next;</span><br><span class="line">		p-&gt;next = *pHead;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		p = cur;</span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBefore</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t L = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*pHead == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = L;</span><br><span class="line">		*pTail = L;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		L-&gt;next = *pHead;</span><br><span class="line">		*pHead = L;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertBefore(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	reverse(&amp;pHead,&amp;pTail);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>逆置空链表和只有一个结点的链表时，无需做任何操作。</li><li>如果有两个结点的链表，结点1的指针域要置空，并且pTail应当指向它。pHead应该指向结点2，并且2的指针域指向1。</li><li>如果在上一步当中再添加一个结点，显然pHead应当指向结点3。如此循环下去，每当加入一个新节点，实际上就是将新节点按照头插法插入到已经逆置好的链表中。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day08_03</title>
    <url>/category/39C_day08_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试014"><a href="#测试014" class="headerlink" title="测试014"></a>测试014</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>下面是链表结点类型的声明：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span>* <span class="title">pNext</span>;</span></span><br><span class="line">} Node_t, *pNode_t;</span><br></pre></td></tr></tbody></table></figure><p>完成下列题目:</p><ul><li>(a). 假设链表的长度大于4，要求找到倒数第4个结点。</li><li>(b). 找到链表的中间结点。</li><li>(c). 判断链表是否有环。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//在链表逆序的基础上输出第4个节点,next 3次再输出即可</span></span><br><span class="line"><span class="comment">//更简便的做法是p,q都指向pHead,先让q next三次，然后让p和q每次走一步，当q指向pTail时，p指向的则是倒数第4个节点</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    p=p-&gt;next;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,p-&gt;data);</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBefore</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span><span class="comment">//头插法</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t L = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*pHead == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = L;</span><br><span class="line">		*pTail = L;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		L-&gt;next = *pHead;</span><br><span class="line">		*pHead = L;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function">pNode_t <span class="title">findhalf</span><span class="params">(pNode_t pHead, pNode_t pTail)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = pHead, q = pHead;</span><br><span class="line">	<span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (p-&gt;next&amp;&amp; q-&gt;next-&gt;next) <span class="comment">//不管是判断环还是中间节点都这么做</span></span><br><span class="line">	{</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">		q = q-&gt;next-&gt;next;  <span class="comment">//出现访问内存错误一般是q-&gt;next，q为空</span></span><br><span class="line">		<span class="keyword">if</span> (q-&gt;next == <span class="literal">NULL</span>)  <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> p;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertBefore(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	pNode_t half = findhalf(pHead, pTail);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, half-&gt;data);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBefore</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//头插法</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t L = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*pHead == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = L;</span><br><span class="line">		*pTail = L;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		L-&gt;next = *pHead;</span><br><span class="line">		*pHead = L;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isLoop</span><span class="params">(pNode_t pHead)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = pHead, q = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p-&gt;next&amp;&amp;q-&gt;next-&gt;next) <span class="comment">//不管是判断环还是中间节点都这么做</span></span><br><span class="line">	{</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">		q = q-&gt;next-&gt;next;</span><br><span class="line">		<span class="keyword">if</span> (p == q) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (q-&gt;next == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertBefore(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//构造一个环好验证1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;3-&gt;4-&gt;5...</span></span><br><span class="line">	pTail-&gt;next = pHead-&gt;next-&gt;next;</span><br><span class="line">	<span class="keyword">int</span> k=isLoop(pHead);</span><br><span class="line">	<span class="keyword">if</span>(k) <span class="built_in">printf</span>(<span class="string">"存在环"</span>);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"不存在环"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>双指针法，思考一下这两个指针的遍历方式。</li><li>构造有环的链表的方法，就是将一个链表的最后一个结点的指针域修改为中间的某个结点。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_01</title>
    <url>/category/39C_day09_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础017"><a href="#基础017" class="headerlink" title="基础017"></a>基础017</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现链式栈。</li><li>(b). 实现循环队列。</li><li>(c). (选做)使用两个栈来实现一个队列。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">pNext</span>;</span></span><br><span class="line">}Node_t,*pNode_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">size</span>;</span><br><span class="line">	pNode_t pHead;  <span class="comment">//栈顶指针</span></span><br><span class="line">}Stack_t,*pStack_t;  <span class="comment">//不改变结构体指针指向所以 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack,<span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Stack_t s; </span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	initStack(&amp;s);</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		push(&amp;s, data);</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">memset</span>(pstack, <span class="number">0</span>, <span class="keyword">sizeof</span>(Stack_t)); <span class="comment">//memset后pstack不为NULL</span></span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack,<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t pNew = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	pNew-&gt;data = data;</span><br><span class="line">	pNew-&gt;pNext = pstack-&gt;pHead;</span><br><span class="line">	pstack-&gt;pHead = pNew;</span><br><span class="line">	pstack-&gt;<span class="built_in">size</span>++;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈为空，没有元素可以出栈"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		pstack-&gt;<span class="built_in">size</span>--;</span><br><span class="line">		pNode_t cur = pstack-&gt;pHead;</span><br><span class="line">		pstack-&gt;pHead = pstack-&gt;pHead-&gt;pNext;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">		cur = <span class="literal">NULL</span>;</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈顶为空"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> pstack-&gt;pHead-&gt;data;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> pstack-&gt;<span class="built_in">size</span> == <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Queue_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data[N];</span><br><span class="line">	<span class="keyword">int</span> front;</span><br><span class="line">	<span class="keyword">int</span> rear;</span><br><span class="line">}Queue_t, * pQueue_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initQueue</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pQueue_t pQueue, <span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deQueue</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isFull</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Queue_t q;</span><br><span class="line">	initQueue(&amp;q);</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		enQueue(&amp;q, data);</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initQueue</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">memset</span>(pQueue, <span class="number">0</span>, <span class="keyword">sizeof</span>(Queue_t));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pQueue_t pQueue, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (isFull(pQueue))</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"队列满了"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		pQueue-&gt;data[pQueue-&gt;rear] = data;</span><br><span class="line">		pQueue-&gt;rear = (pQueue-&gt;rear + <span class="number">1</span>) % N;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deQueue</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pQueue))</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"队列为空"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> data = pQueue-&gt;data[pQueue-&gt;front];</span><br><span class="line">		pQueue-&gt;front = (pQueue-&gt;front + <span class="number">1</span>) % N;</span><br><span class="line">		<span class="keyword">return</span> data;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isFull</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> (pQueue-&gt;rear + <span class="number">1</span>) % N == pQueue-&gt;front;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> pQueue-&gt;rear== pQueue-&gt;front;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">pNext</span>;</span></span><br><span class="line">}Node_t, * pNode_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">size</span>;</span><br><span class="line">	pNode_t pHead;  <span class="comment">//栈顶指针</span></span><br><span class="line">}Stack_t, * pStack_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack, <span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pStack_t pstack, <span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deQueue</span><span class="params">(pStack_t pstack1, pStack_t pstack2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Stack_t s1,s2;  <span class="comment">//栈等不用二级指针</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	initStack(&amp;s1);</span><br><span class="line">	initStack(&amp;s2);</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		enQueue(&amp;s1, data);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> k = s1.<span class="built_in">size</span>;</span><br><span class="line">	<span class="keyword">while</span> (k)</span><br><span class="line">	{</span><br><span class="line">		push(&amp;s2, top(&amp;s1));</span><br><span class="line">		pop(&amp;s1);</span><br><span class="line">		k--;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1,&amp;s2);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1, &amp;s2);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1, &amp;s2);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1, &amp;s2);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">memset</span>(pstack, <span class="number">0</span>, <span class="keyword">sizeof</span>(Stack_t)); <span class="comment">//memset后pstack不为NULL</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t pNew = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	pNew-&gt;data = data;</span><br><span class="line">	pNew-&gt;pNext = pstack-&gt;pHead;</span><br><span class="line">	pstack-&gt;pHead = pNew;</span><br><span class="line">	pstack-&gt;<span class="built_in">size</span>++;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pStack_t q, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	push(q, data);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈为空，没有元素可以出栈"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		pstack-&gt;<span class="built_in">size</span>--;</span><br><span class="line">		pNode_t cur = pstack-&gt;pHead;</span><br><span class="line">		pstack-&gt;pHead = pstack-&gt;pHead-&gt;pNext;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">		cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deQueue</span><span class="params">(pStack_t pstack1, pStack_t pstack2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> k = pstack1-&gt;<span class="built_in">size</span>;</span><br><span class="line">	<span class="keyword">while</span> (k)</span><br><span class="line">	{</span><br><span class="line">		push(pstack2, top(pstack1));</span><br><span class="line">		pop(pstack1);</span><br><span class="line">		k--;</span><br><span class="line">	}</span><br><span class="line">	pop(pstack2);</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈顶为空"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> pstack-&gt;pHead-&gt;data;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> pstack-&gt;<span class="built_in">size</span> == <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_02</title>
    <url>/category/39C_day09_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础018"><a href="#基础018" class="headerlink" title="基础018"></a>基础018</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现确定个数元素的二叉树层次建树。</li><li>(b). 实现不确定个数元素的二叉树层次建树。</li><li>(c). 实现先序、中序和后序遍历二叉树。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">char</span> val;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">}TreeNode_t,*pTreeNode_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//typedef struct QueueNode_s</span></span><br><span class="line"><span class="comment">//{</span></span><br><span class="line"><span class="comment">//	pTreeNode_t TreeNode;</span></span><br><span class="line"><span class="comment">//	struct QueueNode_s* pNext;</span></span><br><span class="line"><span class="comment">//}QueueNode_t,*pQueueNode_t;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	{</span><br><span class="line">		inOrder(pRoot-&gt;pLeft);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		inOrder(pRoot-&gt;pRight);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	{</span><br><span class="line">		postOrder(pRoot-&gt;pLeft);</span><br><span class="line">		postOrder(pRoot-&gt;pRight);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pTreeNode_t pRoot = <span class="literal">NULL</span>, pTreeNode[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> ch[] = <span class="string">"ABCDEFGHIJ"</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		pTreeNode[i] = (pTreeNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(TreeNode_t));</span><br><span class="line">		pTreeNode[i]-&gt;val = ch[i];</span><br><span class="line">	}</span><br><span class="line">	pRoot = pTreeNode[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">1</span>; j &lt; <span class="number">10</span>;j++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (pTreeNode[i]-&gt;pLeft == <span class="literal">NULL</span>)              </span><br><span class="line">		{</span><br><span class="line">			pTreeNode[i]-&gt;pLeft = pTreeNode[j];</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(pTreeNode[i]-&gt;pRight == <span class="literal">NULL</span>)   <span class="comment">//或者写成else，上面的continue删除</span></span><br><span class="line">		{</span><br><span class="line">			pTreeNode[i]-&gt;pRight = pTreeNode[j];</span><br><span class="line">			i++;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	preOrder(pRoot); </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	inOrder(pRoot);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	postOrder(pRoot);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">char</span> val;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">}TreeNode_t,*pTreeNode_t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">QueueNode_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	pTreeNode_t TreeNode;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">QueueNode_s</span>* <span class="title">pNext</span>;</span></span><br><span class="line">}QueueNode_t,*pQueueNode_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	{</span><br><span class="line">		inOrder(pRoot-&gt;pLeft);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		inOrder(pRoot-&gt;pRight);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	{</span><br><span class="line">		postOrder(pRoot-&gt;pLeft);</span><br><span class="line">		postOrder(pRoot-&gt;pRight);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildBinaryTree</span><span class="params">(pTreeNode_t* pRoot, pQueueNode_t* pFront, pQueueNode_t* pRear, <span class="keyword">char</span> ch)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pTreeNode_t treeNode = (pTreeNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(TreeNode_t));</span><br><span class="line">	treeNode-&gt;val = ch;</span><br><span class="line">	pQueueNode_t queueNode = (pQueueNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(QueueNode_t));</span><br><span class="line">	queueNode-&gt;TreeNode = treeNode;</span><br><span class="line">	<span class="keyword">if</span> (*pRoot == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pRoot = treeNode;</span><br><span class="line">		*pFront = queueNode;</span><br><span class="line">		*pRear = queueNode;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*pRear)-&gt;pNext = queueNode;</span><br><span class="line">		*pRear = queueNode;</span><br><span class="line">		pQueueNode_t curNode = *pFront;</span><br><span class="line">		<span class="keyword">if</span> (curNode-&gt;TreeNode-&gt;pLeft == <span class="literal">NULL</span>)</span><br><span class="line">		{</span><br><span class="line">			curNode-&gt;TreeNode-&gt;pLeft = treeNode;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			curNode-&gt;TreeNode-&gt;pRight = treeNode;</span><br><span class="line">			*pFront = (*pFront)-&gt;pNext;</span><br><span class="line">			<span class="built_in">free</span>(curNode);</span><br><span class="line">			curNode = <span class="literal">NULL</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pTreeNode_t pRoot = <span class="literal">NULL</span>;</span><br><span class="line">	pQueueNode_t pFront = <span class="literal">NULL</span>, pRear = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch) != EOF)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (ch== <span class="string">'\n'</span>) <span class="keyword">break</span>;</span><br><span class="line">		buildBinaryTree(&amp;pRoot,&amp;pFront,&amp;pRear,ch);</span><br><span class="line">	}</span><br><span class="line">	preOrder(pRoot); </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	inOrder(pRoot);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	postOrder(pRoot);	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_03</title>
    <url>/category/39C_day09_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础019"><a href="#基础019" class="headerlink" title="基础019"></a>基础019</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 完成冒泡、选择、插入排序。</li><li>(b). 描述希尔排序的基本流程。</li><li>(c). 使用希尔排序排序2000万个数，并且统计排序时间。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N - <span class="number">1</span> - i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (a[j] &gt; a[j + <span class="number">1</span>])</span><br><span class="line">			{</span><br><span class="line">				SWAP(a[j], a[j + <span class="number">1</span>]);</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> minpos = i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (a[minpos] &gt; a[j])</span><br><span class="line">			{</span><br><span class="line">				minpos = j;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		SWAP(a[minpos], a[i]);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; N; i++) <span class="comment">//待插入的</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> temp = a[i];</span><br><span class="line">		<span class="keyword">for</span> (j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--)  <span class="comment">//前面的</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (temp &lt; a[j])</span><br><span class="line">			{</span><br><span class="line">				a[j + <span class="number">1</span>] = a[j];</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		a[j + <span class="number">1</span>] = temp;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">gap每次减少到一半，每次间隔gap的几个数插入排序</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 200000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) {int temp=x;x=y;y=temp;}</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> gap = N / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (i =gap ; i &lt; N; i++)  <span class="comment">//插入排序中的第二个数</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">int</span> temp = a[i];</span><br><span class="line">			<span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span>; j-=gap)</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (temp &lt; a[j]) a[j + gap] = a[j];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">					</span><br><span class="line">			}</span><br><span class="line">			a[j + gap] = temp;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> *a=(<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line">	shellSort(a);</span><br><span class="line">	<span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%llds"</span>, time_end - time_beg);</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; N; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);*/</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_04</title>
    <url>/category/39C_day09_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试015"><a href="#测试015" class="headerlink" title="测试015"></a>测试015</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>下面是链表结点类型的声明：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span>* <span class="title">pNext</span>;</span></span><br><span class="line">} Node_t, *pNode_t;</span><br></pre></td></tr></tbody></table></figure><p>完成下列题目:</p><ul><li>(a). 找到两个相交链表的交点。</li><li>(b). 删除单链表中连续重复的元素，只保留一个结点。</li><li>(c). 拆分链表，将链表奇数位置上的节点构成一个链表，偶数位置上的节点构成另一个链表。不能重新申请堆空间。</li><li>(d). 使用链表来实现大整数加法。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="comment">//构建两个链表是它们相交</span></span><br><span class="line">	pNode_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line">	pNode_t p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line">	p2Tail-&gt;next= p1Head-&gt;next-&gt;next;</span><br><span class="line">	</span><br><span class="line">	pNode_t p1 = p1Head, p2 = p2Head;</span><br><span class="line">	<span class="keyword">int</span> k1, k2;</span><br><span class="line">	<span class="keyword">for</span> (k1 = <span class="number">0</span>; p1 != p1Tail; k1++) p1 = p1-&gt;next;</span><br><span class="line">	<span class="keyword">for</span> (k2 = <span class="number">0</span>; p2 != p1Tail; k2++) p2 = p2-&gt;next;</span><br><span class="line">	p1 = p1Head, p2 = p2Head;</span><br><span class="line">	<span class="keyword">if</span> (k1 &gt; k2) <span class="comment">//保证链表1长度小于链表2</span></span><br><span class="line">	{</span><br><span class="line">		pNode_t temp = p1;</span><br><span class="line">		p1 = p2;</span><br><span class="line">		p2 = temp;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> k = k2 - k1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) p2=p2-&gt;next;</span><br><span class="line">	<span class="keyword">while</span> (p1 &amp;&amp; p2)</span><br><span class="line">	{</span><br><span class="line">		p1 = p1-&gt;next;</span><br><span class="line">		p2 = p2-&gt;next;</span><br><span class="line">		<span class="keyword">if</span> (p1 == p2)</span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"存在交点，data为：%d"</span>, p1-&gt;data);</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"不存在交点"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="comment">//构建两个链表是它们相交</span></span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;pHead, &amp;pTail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line">	pNode_t pre = pHead, cur = pre-&gt;next;</span><br><span class="line">	<span class="keyword">int</span> temp_data = pre-&gt;data;</span><br><span class="line">	<span class="keyword">while</span> (cur)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (temp_data == cur-&gt;data)</span><br><span class="line">		{</span><br><span class="line">			pNode_t temp = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">			pre-&gt;next=cur;</span><br><span class="line">			<span class="built_in">free</span>(temp);</span><br><span class="line">			temp = <span class="literal">NULL</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			pre = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">			temp_data = pre-&gt;data;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="comment">//构建两个链表是它们相交</span></span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;pHead, &amp;pTail, data); <span class="comment">//尾插法</span></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (pTail == pHead)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"链表只有一个节点，data为%d"</span>, pHead-&gt;data);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		pNode_t p1 = pHead, p2 = p1-&gt;next, p3 = p2-&gt;next;</span><br><span class="line">		p1-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		p2-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		pNode_t p1Head = p1, p2Head = p2;</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (p3)</span><br><span class="line">		{</span><br><span class="line">			pNode_t cur = p3-&gt;next;</span><br><span class="line">			<span class="keyword">if</span> (k % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">			{</span><br><span class="line">				p1-&gt;next = p3;</span><br><span class="line">				p1 = p1-&gt;next;</span><br><span class="line">				p1-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			{</span><br><span class="line">				p2-&gt;next = p3;</span><br><span class="line">				p2 = p2-&gt;next;</span><br><span class="line">				p2-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			{</span><br><span class="line">				p3 = cur;</span><br><span class="line">				cur = cur-&gt;next;</span><br><span class="line">			}</span><br><span class="line">			k++;</span><br><span class="line">		}</span><br><span class="line">		pNode_t p = p1Head;</span><br><span class="line">		<span class="keyword">while</span> (p)</span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">		p = p2Head;</span><br><span class="line">		<span class="keyword">while</span> (p)</span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight xl"><table><tbody><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">typedef struct Node_s</span><br><span class="line">{</span><br><span class="line">	int <span class="keyword">data</span>;</span><br><span class="line">	struct Node_s* next; <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">}Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line">void insertAfter(pNode_t* pHead, pNode_t* pTail, int <span class="keyword">data</span>) <span class="comment">//尾插法</span></span><br><span class="line">{</span><br><span class="line">	pNode_t p = (pNode_t)calloc(<span class="number">1</span>, sizeof(Node_t));</span><br><span class="line">	<span class="function"><span class="title">p</span>-&gt;</span><span class="keyword">data</span> = <span class="keyword">data</span>;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == NULL)</span><br><span class="line">	{</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*<span class="function"><span class="title">pTail</span>)-&gt;</span>next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">void reverse(pNode_t* pHead, pNode_t* pTail)</span><br><span class="line">{</span><br><span class="line">	<span class="function"><span class="title">pNode_t</span> p = (*pHead)-&gt;</span>next, cur;</span><br><span class="line">	*pTail = *pHead; <span class="comment">//第一个翻转后即是最后一个</span></span><br><span class="line">	(*<span class="function"><span class="title">pHead</span>)-&gt;</span>next = NULL; <span class="comment">//断掉第一个和第二个的联系</span></span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="function"><span class="title">cur</span> = p-&gt;</span>next;</span><br><span class="line">		<span class="function"><span class="title">p</span>-&gt;</span>next = *pHead;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		p = cur;</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line">int main()</span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">	pNode_t p1Head = NULL, p1Tail = NULL, p2Head = NULL, p2Tail = NULL;</span><br><span class="line">	int <span class="keyword">data</span>, k1 = <span class="number">0</span>, k2 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (scanf(<span class="string">"%d"</span>, &amp;<span class="keyword">data</span>) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, <span class="keyword">data</span>); <span class="comment">//尾插法</span></span><br><span class="line">		k1++;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (scanf(<span class="string">"%d"</span>, &amp;<span class="keyword">data</span>) != EOF)</span><br><span class="line">	{</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, <span class="keyword">data</span>); <span class="comment">//尾插法</span></span><br><span class="line">		k2++;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	reverse(&amp;p1Head, &amp;p1Tail);</span><br><span class="line">	reverse(&amp;p2Head, &amp;p2Tail);</span><br><span class="line">	pNode_t p1, p2;</span><br><span class="line">	<span class="keyword">if</span> (k1 &lt; k2)</span><br><span class="line">	{</span><br><span class="line">		p1 = p2Head;</span><br><span class="line">		p2 = p1Head;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		p1 = p1Head, p2 = p2Head;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	int sum = <span class="number">0</span>, dig = <span class="number">0</span>, go = <span class="number">0</span>;</span><br><span class="line">	pNode_t p3Head = NULL, p3Tail = NULL;</span><br><span class="line">	<span class="keyword">while</span> (p1 &amp;&amp; p2)</span><br><span class="line">	{</span><br><span class="line">		<span class="function"><span class="title">sum</span> = p1-&gt;</span><span class="function"><span class="title">data</span> + p2-&gt;</span><span class="keyword">data</span> + go;</span><br><span class="line">		dig = sum % <span class="number">10</span>;</span><br><span class="line">		insertAfter(&amp;p3Head, &amp;p3Tail, dig);</span><br><span class="line">		go = sum / <span class="number">10</span>;</span><br><span class="line">		<span class="function"><span class="title">p1</span> = p1-&gt;</span>next;</span><br><span class="line">		<span class="function"><span class="title">p2</span> = p2-&gt;</span>next;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (go != <span class="number">0</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (k1 == k2) insertAfter(&amp;p3Head, &amp;p3Tail, <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (p1)</span><br><span class="line">			{</span><br><span class="line">				<span class="function"><span class="title">sum</span> = p1-&gt;</span><span class="keyword">data</span> + go;</span><br><span class="line">				dig = sum % <span class="number">10</span>;</span><br><span class="line">				insertAfter(&amp;p3Head, &amp;p3Tail, dig);</span><br><span class="line">				go = sum / <span class="number">10</span>;</span><br><span class="line">				<span class="function"><span class="title">p1</span> = p1-&gt;</span>next;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	reverse(&amp;p3Head, &amp;p3Tail);</span><br><span class="line">	pNode_t p = p3Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	{</span><br><span class="line">		<span class="function"><span class="title">printf</span>("%d", p-&gt;</span><span class="keyword">data</span>);</span><br><span class="line">		<span class="function"><span class="title">p</span> = p-&gt;</span>next;</span><br><span class="line">	}</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>实现大整数的加法需要首先实现链表的逆置。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_02</title>
    <url>/category/39C_day10_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础021"><a href="#基础021" class="headerlink" title="基础021"></a>基础021</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现归并排序和计数排序。</li><li>(b). 描述一下什么是位图？假设存在一个<code>char bitmap[SIZE]</code>的位图数据结构，那么如何考察<code>i</code>元素的出现情况？</li><li>(c). (选做)将元素的每一位（比如个位、十位、百位等等）的数据提取出来，按照某个给定的顺序（比如从最低有效位到最高有效位），依次对每一位进行计数排序，也可以对集合进行排序，这种排序方法称为<strong>基数排序</strong>，请实现基数排序</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 200000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) {int temp=x;x=y;y=temp;}</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Merge</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> b[], <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> mid)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = left; i &lt;= right; i++) b[i] = a[i];</span><br><span class="line">	<span class="keyword">int</span> p = left, q = mid + <span class="number">1</span>, k = left;</span><br><span class="line">	<span class="keyword">while</span> (p &lt;= mid &amp;&amp; q &lt;= right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (b[p] &lt; b[q]) a[k++] = b[p++];</span><br><span class="line">		<span class="keyword">else</span> a[k++] = b[q++];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">while</span> (p &lt;= mid) a[k++] = b[p++];</span><br><span class="line">	<span class="keyword">while</span> (q &lt;= right) a[k++] = b[q++];</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> b[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (left &lt; right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		mergeSort(a, b, left, mid);</span><br><span class="line">		mergeSort(a, b, mid + <span class="number">1</span>, right);</span><br><span class="line">		Merge(a, b, left, right, mid);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">countSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> *count=<span class="built_in">calloc</span>(M+<span class="number">1</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		count[a[i]]++;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; M + 1; i++)</span></span><br><span class="line"><span class="comment">	{</span></span><br><span class="line"><span class="comment">		if (count[i] != 0)</span></span><br><span class="line"><span class="comment">		{</span></span><br><span class="line"><span class="comment">			for (int j = 0; j &lt; count[i]; j++)</span></span><br><span class="line"><span class="comment">				printf("%d ", i);	</span></span><br><span class="line"><span class="comment">		}</span></span><br><span class="line"><span class="comment">	}*/</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">int</span>* b = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));  <span class="comment">//辅助数组只创建一次，用来临时保存a从left到right的元素</span></span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; N; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);</span></span><br><span class="line"><span class="comment">	printf("\n");*/</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="comment">//mergeSort(a, b, 0, N - 1);  //6s</span></span><br><span class="line">	countSort(a);</span><br><span class="line">	<span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%llds\n"</span>, time_end - time_beg);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//shellSort(a);</span></span><br><span class="line">	<span class="comment">//quickSort(a,0,N-1);</span></span><br><span class="line">	<span class="comment">//heapSort(a,N);	</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">定义一个bitmap存储的是每个<span class="built_in">bit</span>位到内存单元的映射关系，bitmap[i]==<span class="number">1</span>，则出现</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><ul><li>…</li></ul><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p><strong>Slab算法</strong>是一种广泛应用各种操作系统和开源框架的内存分配算法。该算法的主要优势是减少了分配和回收内存产生的内存碎片的数量。该算法的主要设计是回收内存时，不会马上回收，而是将其缓存起来，以便后续可以重新使用。</p><p>一个数据对象的内存是由若干个slab组成，每一个slab又是由规定大小的内存块组成。slab分配器负责追踪每个内存块的状态。而每个slab的内存状态有这样三种：<strong>空闲</strong>、<strong>部分空闲</strong>和<strong>满</strong>。每次请求内存时，系统会负责从所有slab选择合适的一个进行分配（如果没有发现合适的，再请求底层系统资源），随后调整分配的slab的状态。</p><p>下面是nginx框架中slab算法的具体实现的部分代码，可以发现，为了快速高效地管理所有slab的状态，nginx存在一个专门的位图来存储各个slab的状态，以便寻找合适的slab。</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> *</span><br><span class="line">ngx_slab_alloc_locked(<span class="keyword">ngx_slab_pool_t</span> *pool, <span class="keyword">size_t</span> <span class="built_in">size</span>)</span><br><span class="line">{</span><br><span class="line">	<span class="comment">// ......  省略很多代码// </span></span><br><span class="line">            bitmap = (<span class="keyword">uintptr_t</span> *) ngx_slab_page_addr(pool, page);</span><br><span class="line">	<span class="comment">// ......  省略很多代码//</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_01</title>
    <url>/category/39C_day10_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础020"><a href="#基础020" class="headerlink" title="基础020"></a>基础020</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 描述快速排序的基本流程。</li><li>(b). 描述建大根堆的基本流程。</li><li>(c). 描述堆排序的基本流程。</li><li>(d). 使用希尔排序、快速排序、堆排序排序2000万个数，并且统计排序时间。</li><li>(e). 归并排序</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">递归地对pivot左右边的数进行递归排序，使得左边的数小于pivot，右边的数大于pivot</span><br><span class="line">怎么求pivot？</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=left,j=left;i&lt;right;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;a[right])</span><br><span class="line">        {</span><br><span class="line">            SWAP(a[i],a[j]);</span><br><span class="line">            j++;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">	SWAP(a[j],a[right]);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">从N/<span class="number">2</span>开始adjustdown（向下调整），直到根节点调整完为止</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span>首先建立大根堆</span><br><span class="line"><span class="number">2.</span>然后每次让堆顶和堆底最后一个元素交换，交换后对堆顶进行adjustDown，并且传入的长度<span class="number">-1</span>,（不考虑最后一个元素），直到只剩<span class="number">1</span>个元素输出即可</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 200000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) {int temp=x;x=y;y=temp;}</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> gap = N / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (i = gap; i &lt; N; i++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">int</span> temp = a[i];</span><br><span class="line">			<span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span>; j -= gap)</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (temp &lt; a[j]) a[j + gap] = a[j];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			}</span><br><span class="line">			a[j + gap] = temp;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (i = left, j = left; i &lt; right; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (a[i] &lt; a[right]) <span class="comment">//i负责遍历每个元素，j负责小于基准元素的边界</span></span><br><span class="line">		{</span><br><span class="line">			SWAP(a[i], a[j]);</span><br><span class="line">			j++;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	SWAP(a[j], a[right]); <span class="comment">//每一趟后，有一个元素到最终位置</span></span><br><span class="line">	<span class="keyword">return</span> j;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (left &lt; right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> pivot = partition(a, left, right);</span><br><span class="line">		quickSort(a, left, pivot - <span class="number">1</span>);</span><br><span class="line">		quickSort(a, pivot+<span class="number">1</span>, right);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">adjustDown</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> k, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> temp = a[k];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span> * (k+<span class="number">1</span>); i &lt;= len; i &lt;&lt;= <span class="number">1</span>) <span class="comment">//需要用到父子关系信息，但从0开始不方便用，先把下标转成个数</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> j = i - <span class="number">1</span>;  <span class="comment">//下标</span></span><br><span class="line">		<span class="keyword">if</span> (j &lt; len - <span class="number">1</span> &amp;&amp; a[j] &lt; a[j + <span class="number">1</span>])</span><br><span class="line">		{</span><br><span class="line">			j++;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (temp &gt;= a[j]) <span class="keyword">break</span>;  </span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			a[k] = a[j];</span><br><span class="line">			k = j;</span><br><span class="line">		}</span><br><span class="line">		i = j+<span class="number">1</span>;  <span class="comment">//下标操作完了需要再得到i的值，不然丢失了</span></span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line">	a[k] = temp;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildMaxHeap</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = len / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">	{</span><br><span class="line">		adjustDown(a, i, len);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	buildMaxHeap(a, len);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = len<span class="number">-1</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">	{</span><br><span class="line">		SWAP(a[<span class="number">0</span>], a[i]);</span><br><span class="line">		adjustDown(a,<span class="number">0</span>,i);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; N; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);</span></span><br><span class="line"><span class="comment">	printf("\n");*/</span></span><br><span class="line">	<span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line">	shellSort(a);  <span class="comment">//16s</span></span><br><span class="line">	<span class="comment">//quickSort(a,0,N-1);    //24s</span></span><br><span class="line">	<span class="comment">//heapSort(a,N);	    //13s</span></span><br><span class="line">	<span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%llds"</span>, time_end - time_beg);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>堆排序c++（adjustDown递归版）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) {int temp=x;x=y;y=temp;}</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">adjustDown</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> index, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> leftIdx = <span class="number">2</span>*index+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> rightIdx = <span class="number">2</span>*index+<span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> maxIdx = index;</span><br><span class="line">    <span class="keyword">if</span>((leftIdx&lt;len)&amp;&amp;(nums[leftIdx]&gt;nums[maxIdx])) maxIdx = leftIdx;</span><br><span class="line">    <span class="keyword">if</span>((rightIdx&lt;len)&amp;&amp;(nums[rightIdx]&gt;nums[maxIdx])) maxIdx = rightIdx;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(maxIdx!=index)</span><br><span class="line">    {</span><br><span class="line">        SWAP(nums[index],nums[maxIdx]);</span><br><span class="line">        adjustDown(nums,maxIdx,len);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"><span class="comment">//大顶堆----&gt;从小到大排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildMaxHeap</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums,<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=len/<span class="number">2</span><span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">    {</span><br><span class="line">        adjustDown(nums,i,len);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line">    buildMaxHeap(nums,len);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=len<span class="number">-1</span>;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">    {</span><br><span class="line">        SWAP(nums[<span class="number">0</span>],nums[i]);</span><br><span class="line">        adjustDown(nums,<span class="number">0</span>,i);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = {<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">4</span>};</span><br><span class="line">    heapSort(nums);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.<span class="built_in">size</span>();i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; nums[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>(e)</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> mid, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> b[N];</span><br><span class="line">	<span class="keyword">int</span> i = left, j = mid + <span class="number">1</span>,k;</span><br><span class="line">	<span class="keyword">for</span> (k = left ; k &lt;= right ; k++)</span><br><span class="line">		b[k] = a[k];</span><br><span class="line">	<span class="keyword">for</span> (k = left ; i &lt;= mid &amp;&amp; j &lt;= right;)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (b[i] &lt; b[j]) a[k++] = b[i++];</span><br><span class="line">		<span class="keyword">else</span> a[k++] = b[j++];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">while</span>(i &lt;= mid) a[k++] = b[i++];</span><br><span class="line">	<span class="keyword">while</span> (j &lt;= right) a[k++] = b[j++];</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (left &lt; right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		mergeSort(a, left, mid);</span><br><span class="line">		mergeSort(a, mid + <span class="number">1</span>, right);</span><br><span class="line">		merge(a, left, mid, right);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_03</title>
    <url>/category/39C_day10_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础023"><a href="#基础023" class="headerlink" title="基础023"></a>基础023</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现二分查找有序数组。</li><li>(b). 描述哈希查找的基本流程。</li><li>(c). 什么是哈希冲突？如何解决哈希冲突？各种解决方法的优劣如何？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) {int temp=x;x=y;y=temp;}</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> left = <span class="number">0</span>, right = N - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (left &lt; right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (a[mid] &gt; data)</span><br><span class="line">		{</span><br><span class="line">			right = mid - <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (a[mid] &lt; data)</span><br><span class="line">		{</span><br><span class="line">			left = mid + <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> gap = N / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (i = gap; i &lt; N; i++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">int</span> temp = a[i];</span><br><span class="line">			<span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span>; j -= gap)</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (temp &lt; a[j]) a[j + gap] = a[j];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			}</span><br><span class="line">			a[j + gap] = temp;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	shellSort(a);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入要查找的元素："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data);</span><br><span class="line">	<span class="keyword">int</span> k=binarySearch(a,data);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (k &gt;= <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"下标为%d\n"</span>, k);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"要找的元素不存在"</span>);</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">e</span><br><span class="line">index=hash(e)</span><br><span class="line">hashTable[index]即是要查找的数存的地址</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">不同的数根据hash函数的得到index相同，此时放在hashTable中同一个位置，所以会冲突</span><br><span class="line">开放寻址法：</span><br><span class="line">    优点：不用申请新的内存</span><br><span class="line">    缺点：不方便找同一hash值的元素</span><br><span class="line">    	 鸠占鹊巢</span><br><span class="line">    </span><br><span class="line">链表法：</span><br><span class="line">    优点：同一hash值链接在一起</span><br><span class="line">    缺点：要申请新的内存</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>哈希表经常用于某些语言的字符串底层实现，以提升字符串处理的速度。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_04</title>
    <url>/category/39C_day10_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试025"><a href="#测试025" class="headerlink" title="测试025"></a>测试025</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 假设数组是先单调递增到一个峰值，然后单调递减的。设计并实现算法找到峰值元素的下标。</li><li>(b). 下面是一篇文章的段落的若干个句子。每个句子都存在一个编号。从键盘中输入一个单词，判断这个单词有没有在段落中出现过，如果出现过，输出其第一次出现时所在句子的编号。</li></ul><a id="more"></a><figure class="highlight smalltalk"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="comment">"They sat on the Terrace and many of the fishermen made fun of the old man and he was noteangry. "</span></span><br><span class="line"><span class="number">2</span> <span class="comment">"Others, of the older fishermen, looked at him and were sad. "</span></span><br><span class="line"><span class="number">3</span> <span class="comment">"But they did not show it and they spoke politely about the current and the depths they had drifted their lines at and the steady good weather and of what they had seen."</span> </span><br><span class="line"><span class="number">4</span> <span class="comment">"The successful fishermen of that day were already in and had butchered their marlin out and carried them laid full length across two planks, with two men staggering at the end of each plank, to the fish house where they waited for the ice truck to carry them to the market in Havana. "</span></span><br><span class="line"><span class="number">5</span> <span class="comment">"Those who had caught sharks had taken them to the shark factory on the other side of the cove where they were hoisted on a block and tackle, their livers removed, their fins cut off and their hides skinned out and their flesh cut into strips for salting. "</span></span><br><span class="line">----------------------------</span><br><span class="line"><span class="type">INPUT</span>: they</span><br><span class="line"><span class="type">OUTPUT</span>: <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) {int temp=x;x=y;y=temp;}</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> left = <span class="number">0</span>, right = N - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (left &lt; right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (a[mid<span class="number">-1</span>]&lt;a[mid]&amp;&amp; a[mid]&lt;a[mid+<span class="number">1</span>])</span><br><span class="line">		{</span><br><span class="line">			left = mid + <span class="number">1</span>;</span><br><span class="line">			</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span> (a[mid<span class="number">-1</span>] &gt; a[mid] &amp;&amp; a[mid] &gt; a[mid+<span class="number">1</span>])</span><br><span class="line">		{</span><br><span class="line">			right = mid - <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(a[mid - <span class="number">1</span>] &lt; a[mid] &amp;&amp; a[mid] &gt; a[mid + <span class="number">1</span>])</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	<span class="keyword">int</span> k=binarySearch(a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"峰值元素的下标为%d\n"</span>, k);</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight axapta"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#define _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;stdlib.h&gt;</span></span><br><span class="line"><span class="meta">#define MAXKEY 1000</span></span><br><span class="line"><span class="keyword">int</span> hash(<span class="keyword">char</span>* key);<span class="comment">//元素是一个字符串</span></span><br><span class="line"><span class="keyword">void</span> headle(<span class="keyword">char</span>* <span class="keyword">str</span>);</span><br><span class="line"><span class="keyword">void</span> insert(<span class="keyword">char</span>* hashTable, <span class="keyword">char</span>* <span class="keyword">str</span>, <span class="keyword">int</span> n);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main()</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">char</span> save_ptr[<span class="number">5</span>][MAXKEY] =</span><br><span class="line">	{</span><br><span class="line">		{<span class="string">"They sat on the Terrace and many of the fishermen made fun of the old man and he was noteangry. "</span>},</span><br><span class="line">		{<span class="string">"Others, of the older fishermen, looked at him and were sad. "</span>},</span><br><span class="line">		{<span class="string">"But they did not show it and they spoke politely about the current and the depths they had drifted their lines at and the steady good weather and of what they had seen."</span>},</span><br><span class="line">		{<span class="string">"The successful fishermen of that day were already in and had butchered their marlin out and carried them laid full length across two planks, with two men staggering at the end of each plank, to the fish house where they waited for the ice truck to carry them to the market in Havana. "</span>},</span><br><span class="line">		{<span class="string">"Those who had caught sharks had taken them to the shark factory on the other side of the cove where they were hoisted on a block and tackle, their livers removed, their fins cut off and their hides skinned out and their flesh cut into strips for salting. "</span>}</span><br><span class="line">	};</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> hashTable[MAXKEY] = { <span class="number">0</span> }; <span class="comment">//hashTable存的是索引</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> <span class="keyword">str</span>[<span class="number">20</span>];</span><br><span class="line">	printf(<span class="string">"请输入要查找的单词："</span>);</span><br><span class="line">	scanf(<span class="string">"%s"</span>, <span class="keyword">str</span>);</span><br><span class="line">	headle(<span class="keyword">str</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		headle(save_ptr[i]);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		insert(hashTable, save_ptr[i<span class="number">-1</span>], i);</span><br><span class="line">		<span class="keyword">int</span> <span class="keyword">index</span> = hash(<span class="keyword">str</span>);</span><br><span class="line">		<span class="keyword">if</span> (hashTable[<span class="keyword">index</span>] == i)</span><br><span class="line">		{</span><br><span class="line">			printf(<span class="string">"%d\n"</span>, i);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> hash(<span class="keyword">char</span>* key)<span class="comment">//元素是一个字符串</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">int</span> h = <span class="number">0</span>, g;</span><br><span class="line">	<span class="keyword">while</span> (*key)</span><br><span class="line">	{</span><br><span class="line">		h = (h &lt;&lt; <span class="number">4</span>) + *key++;</span><br><span class="line">		g = h &amp; <span class="number">0xf0000000</span>;</span><br><span class="line">		<span class="keyword">if</span> (g)</span><br><span class="line">			h ^= g &gt;&gt; <span class="number">24</span>;</span><br><span class="line">		h &amp;= ~g;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> h % MAXKEY;<span class="comment">//范围从0~MAXKEY-1</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">void</span> headle(<span class="keyword">char</span>* <span class="keyword">str</span>)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; <span class="keyword">str</span>[i]; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">str</span>[i] &gt;= <span class="string">'a'</span> &amp;&amp; <span class="keyword">str</span>[i] &lt;= <span class="string">'z'</span>)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">str</span>[i] -= <span class="number">32</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">str</span>[i] &gt;= <span class="string">'A'</span> &amp;&amp; <span class="keyword">str</span>[i] &lt;= <span class="string">'Z'</span>);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">str</span>[i] = <span class="string">' '</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> insert(<span class="keyword">int</span> hashTable[], <span class="keyword">char</span> <span class="keyword">str</span>[], <span class="keyword">int</span> n)</span><br><span class="line">{</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">30</span>] = { <span class="number">0</span> };</span><br><span class="line">	<span class="keyword">int</span>  j = <span class="number">0</span>, flag = <span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; <span class="keyword">str</span>[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">str</span>[i] != <span class="string">' '</span>) {</span><br><span class="line">			b[j++] = <span class="keyword">str</span>[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) {</span><br><span class="line">				<span class="keyword">int</span> <span class="keyword">index</span> = hash(b);</span><br><span class="line">				hashTable[<span class="keyword">index</span>] = n;</span><br><span class="line">				memset(b, <span class="number">0</span>, sizeof(b));</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>(a)采用二分查找</li><li>(b)使用一个数组存储文章，先将所有的标点符号转为空格，然后将小写字母转换成大写字母，随后采用哈希查找</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day11_02</title>
    <url>/category/39C_day11_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础027"><a href="#基础027" class="headerlink" title="基础027"></a>基础027</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 如何偏移文件的读写位置</li><li>(b). r、r+、rb+模式有什么区别？从读、写和偏移的角度来讨论</li><li>(c). 整理所有已经学习过的读写接口</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"r+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span> ((ch = fgetc(fp)) != EOF)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span>)</span><br><span class="line">		{</span><br><span class="line">			ch -= <span class="number">32</span>;</span><br><span class="line">			fseek(fp, <span class="number">-1</span>, SEEK_CUR);</span><br><span class="line">			fputc(ch, fp);</span><br><span class="line">		}</span><br><span class="line">		fseek(fp, <span class="number">0</span>, SEEK_CUR);</span><br><span class="line">	}</span><br><span class="line">	fclose(fp);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight taggerscript"><table><tbody><tr><td class="code"><pre><span class="line">r模式以只读打开文件</span><br><span class="line">r+模式以读写模式打开文件</span><br><span class="line">rb+与r+类似，但是rb+会在从流中写回数组模式的时候将<span class="symbol">\r</span><span class="symbol">\n</span>写为<span class="symbol">\r</span><span class="symbol">\n</span>，而r+会写为<span class="symbol">\n</span>。</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">单字节</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fgetc</span><span class="params">(FILE *stream)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputc</span><span class="params">(<span class="keyword">int</span> ch,FILE *stream)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fflush</span><span class="params">( FILE *stream )</span></span>;</span><br><span class="line"></span><br><span class="line">多字节</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fread</span><span class="params">(<span class="keyword">void</span> *<span class="built_in">buffer</span>,<span class="keyword">size_t</span> <span class="built_in">size</span>, <span class="keyword">size_t</span> num,FILE *stream)</span>  </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fwrite</span><span class="params">( <span class="keyword">const</span> <span class="keyword">void</span> *<span class="built_in">buffer</span>, <span class="keyword">size_t</span> <span class="built_in">size</span>, <span class="keyword">size_t</span> count, FILE *stream )</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line">按行读写</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputs</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str, FILE *stream )</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">fgets</span><span class="params">( <span class="keyword">char</span> *str, <span class="keyword">int</span> num, FILE *stream )</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line">格式化读写</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fscanf</span><span class="params">( FILE *stream, <span class="keyword">const</span> <span class="keyword">char</span> *format, ... )</span> </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fprintf</span><span class="params">( FILE *stream, <span class="keyword">const</span> <span class="keyword">char</span> *format, ... )</span> </span></span><br><span class="line"><span class="function">   </span></span><br><span class="line">例子：    </span><br><span class="line"><span class="built_in">sscanf</span>(args[<span class="number">1</span>],<span class="string">"%o"</span>,&amp;mode);  将args[<span class="number">1</span>]的内容以<span class="number">8</span>进制读入mode</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> buf[<span class="number">512</span>]={<span class="number">0</span>};</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"%s%s%s"</span>,argv[<span class="number">1</span>],<span class="string">"/"</span>,pdirent-&gt;name);   拼接得到前面带文件路径的文件名</span><br><span class="line"></span><br><span class="line">打开关闭</span><br><span class="line"><span class="function">FILE *<span class="title">fopen</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *fname, <span class="keyword">const</span> <span class="keyword">char</span> *mode )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fclose</span><span class="params">( FILE *stream )</span></span>;</span><br><span class="line"></span><br><span class="line">移动读写指针</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fseek</span><span class="params">( FILE *stream, <span class="keyword">long</span> offset, <span class="keyword">int</span> origin )</span></span>;</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day11_01</title>
    <url>/category/39C_day11_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础026"><a href="#基础026" class="headerlink" title="基础026"></a>基础026</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). FILE类型结构体实际上是指文件缓冲区，这个结构体当中包含了缓冲区基地址指针、当前读写位置指针、缓冲区容量和文件实际大小等信息。画出文件缓冲区的示意图</li><li>(b). 如何打开和关闭一个文件？如何定位打开文件时触发了什么错误？</li><li>(c). 什么时候缓冲区的内容会写回磁盘？</li><li>(d). 路径是什么？有哪几种路径？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5Clenovo%5CDesktop%5C%E6%88%AA%E5%9B%BE%5C2021-06-14_161939.png" alt=""></p><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"r+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	fclose(fp);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">fclose(),fflush(),缓冲区满了</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">绝对路径和相对路径（./<span class="number">1.</span>txt和main.c ）</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day11_03</title>
    <url>/category/39C_day11_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="测试027"><a href="#测试027" class="headerlink" title="测试027"></a>测试027</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 有一个记录学生信息的文件，文件的每一个是一个学生的信息，其格式如下：</li></ul><figure class="highlight livescript"><table><tbody><tr><td class="code"><pre><span class="line">学号<span class="string">\t</span> 姓名<span class="string">\t</span> 性别<span class="string">\t</span> 语文成绩<span class="string">\t</span> 数学成绩<span class="string">\t</span> 英语成绩<span class="string">\n</span></span><br><span class="line"><span class="number">1</span>、将学生读入到一个结构体数组当中；</span><br><span class="line"><span class="number">2</span>、将学生信息排序，重新写回到文件。</span><br></pre></td></tr></tbody></table></figure><ul><li>(b). 将<em>The_Holy_Bible.txt</em> 中的标点符号（非字母、数字、换行）替换成空格， 大写字母转换成小写字母并将处理过的文本保存到 <em>The_Holy_Bible_Res.txt</em>中(要同时打开两个文件)</li><li>(c). 根据(b)的结果， 统计<em>The_Holy_Bible_Res.txt</em>中字符的个数、行数、单词的个数，统计单词的词频并打印输出词频最高的前 10 个单词及其词频。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> gender[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">double</span> score1;</span><br><span class="line">	<span class="keyword">double</span> score2;</span><br><span class="line">	<span class="keyword">double</span> score3;</span><br><span class="line">}Student_t,*pStudent_t;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"rb+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>], name[<span class="number">10</span>], gender[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">double</span> score1, score2, score3;</span><br><span class="line">	pStudent_t arr[<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> ((<span class="built_in">fscanf</span>(fp,<span class="string">"%s%s%s%lf%lf%lf"</span>, no_name, name, gender, &amp;score1, &amp;score2, &amp;score3)) != EOF)</span><br><span class="line">	{</span><br><span class="line">		pStudent_t pNew = (pStudent_t)<span class="built_in">calloc</span>(<span class="number">1</span>,<span class="keyword">sizeof</span>(Student_t));</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;no_name, no_name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;name, name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;gender, gender);</span><br><span class="line">		pNew-&gt;score1 = score1;</span><br><span class="line">		pNew-&gt;score2 = score2;</span><br><span class="line">		pNew-&gt;score3 = score3;</span><br><span class="line">		arr[i++] = pNew;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>-i; j++)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (arr[j]-&gt;score1 &gt; arr[j + <span class="number">1</span>]-&gt;score1)</span><br><span class="line">			{</span><br><span class="line">				pStudent_t temp;</span><br><span class="line">				temp = arr[j];</span><br><span class="line">				arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">				arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	fclose(fp);</span><br><span class="line">	fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"w"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">fprintf</span>(fp,<span class="string">"%s\t%s\t%s\t%lf\t%lf\t%lf\n"</span>, arr[i]-&gt;no_name, arr[i]-&gt;name,arr[i]-&gt;gender,arr[i]-&gt;score1,arr[i]-&gt;score2,arr[i]-&gt;score3);</span><br><span class="line">	}</span><br><span class="line">	fclose(fp);</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	FILE* fp1 = fopen(<span class="string">"./The_Holy_Bible.txt"</span>, <span class="string">"rb+"</span>);</span><br><span class="line">	FILE* fp2 = fopen(<span class="string">"./The_Holy_Bible_Res.txt"</span>, <span class="string">"rb+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp1== <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span> ((ch = fgetc(fp1)) != EOF)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (ch &gt;= <span class="string">'A'</span> &amp;&amp; ch &lt;= <span class="string">'Z'</span>) ch += <span class="number">32</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span>);</span><br><span class="line">		<span class="keyword">else</span> ch = <span class="string">' '</span>;</span><br><span class="line">		fputc(ch, fp2);</span><br><span class="line">		<span class="comment">//fseek(fp, 0, SEEK_CUR);</span></span><br><span class="line">	}</span><br><span class="line">	fclose(fp1);</span><br><span class="line">	fclose(fp2);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXKEY 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Word_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">char</span> <span class="keyword">word</span>[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">}Word_t, * pWord_t;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">char</span>* key)</span><span class="comment">//元素是一个字符串</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> h = <span class="number">0</span>, g;</span><br><span class="line">	<span class="keyword">while</span> (*key)</span><br><span class="line">	{</span><br><span class="line">		h = (h &lt;&lt; <span class="number">4</span>) + *key++;</span><br><span class="line">		g = h &amp; <span class="number">0xf0000000</span>;</span><br><span class="line">		<span class="keyword">if</span> (g)</span><br><span class="line">			h ^= g &gt;&gt; <span class="number">24</span>;</span><br><span class="line">		h &amp;= ~g;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> h % MAXKEY;<span class="comment">//范围从0~MAXKEY-1</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./The_Holy_Bible_Res.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	Word_t arr[MAXKEY] = {<span class="number">0</span>};</span><br><span class="line">	pWord_t hashTable[MAXKEY] = { <span class="number">0</span> };</span><br><span class="line">	<span class="keyword">char</span> ch, b[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> num_char = <span class="number">0</span>, num_line = <span class="number">1</span>, k = <span class="number">0</span>, flag = <span class="number">0</span>, num_word = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> ((ch = fgetc(fp)) != EOF)</span><br><span class="line">	{</span><br><span class="line">		num_char++; <span class="comment">//字符</span></span><br><span class="line">		<span class="keyword">if</span> (ch == <span class="string">'\n'</span>) num_line++;  <span class="comment">//行数</span></span><br><span class="line">		<span class="keyword">if</span> (ch != <span class="string">' '</span>) {</span><br><span class="line">			b[j++] = ch;</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span> {</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) {</span><br><span class="line">				<span class="keyword">int</span> index = hash(b);</span><br><span class="line">				<span class="keyword">if</span> (hashTable[index])</span><br><span class="line">				{</span><br><span class="line">					hashTable[index]-&gt;num++;</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				{</span><br><span class="line">					pWord_t pNew = (pWord_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Word_t));</span><br><span class="line">					<span class="built_in">strcpy</span>(pNew-&gt;<span class="keyword">word</span>, b);</span><br><span class="line">					pNew-&gt;num = <span class="number">1</span>;</span><br><span class="line">					arr[k] = *pNew;</span><br><span class="line">					hashTable[index] = &amp;arr[k++];  <span class="comment">//哈希主要是查找</span></span><br><span class="line">				}</span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">char</span>) * <span class="number">20</span>);  <span class="comment">//sizeof要看具体类型，不能想当然直接int</span></span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k<span class="number">-1</span>;i&gt;=<span class="number">0</span>; i--)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">for</span> (j = k<span class="number">-1</span>; j &gt;k-i<span class="number">-1</span>; j--)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (arr[j].num &gt; arr[j - <span class="number">1</span>].num)</span><br><span class="line">			{</span><br><span class="line">				Word_t temp;</span><br><span class="line">				temp = arr[j];</span><br><span class="line">				arr[j] = arr[j - <span class="number">1</span>];</span><br><span class="line">				arr[j - <span class="number">1</span>] = temp;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"字符数：%d,行数：%d,单词数：%d"</span>, num_char, num_line,k);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n前10词频为："</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		<span class="keyword">if</span>(arr[i].num!=<span class="number">0</span>)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%s--%d个\n"</span>, arr[i].<span class="keyword">word</span>, arr[i].num);</span><br><span class="line">	fclose(fp);</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day12_01</title>
    <url>/category/39C_day12_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础024"><a href="#基础024" class="headerlink" title="基础024"></a>基础024</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pParent</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">} BSTNode_t, *pBSTNode_t;</span><br></pre></td></tr></tbody></table></figure><ul><li>(a). 什么是二叉搜索树？给出BST，给出查找某个元素是否在数据结构中的实现。</li><li>(b). 给出将某个元素直接插入到BST中的实现。</li><li>(c). (选做)实现二叉搜索树的左旋和右旋。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//中序序列是有序序列的二叉树</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span> {</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pParent</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">} BSTNode_t, * pBSTNode_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildBST</span><span class="params">(pBSTNode_t* root, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (*root == <span class="literal">NULL</span>)</span><br><span class="line">    {</span><br><span class="line">        pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">        pNew-&gt;data = data;</span><br><span class="line">        pNew-&gt;pParent = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">        *root = pNew;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (data &lt; (*root)-&gt;data)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pLeft == <span class="literal">NULL</span>)</span><br><span class="line">            {</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pLeft = pNew;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pRight == <span class="literal">NULL</span>)</span><br><span class="line">            {</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pRight = pNew;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(pBSTNode_t p, <span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;data == x)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; p-&gt;data)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;pLeft) <span class="keyword">return</span> search(p-&gt;pLeft, x);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;pRight) <span class="keyword">return</span> search(p-&gt;pRight, x);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    pBSTNode_t root = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> data[] = {<span class="number">50</span>,<span class="number">40</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">45</span>};</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">        buildBST(&amp;root,data[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入一个要查找的数:"</span>);</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">    <span class="keyword">if</span> (search(root, x)) <span class="built_in">printf</span>(<span class="string">"%d在本BST中"</span>, x);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d不在本BST中"</span>,x);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">同(a)</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS      <span class="comment">//有bug</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span> {</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pParent</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">} BSTNode_t, * pBSTNode_t;</span><br><span class="line"></span><br><span class="line"><span class="function">pBSTNode_t <span class="title">connect34</span><span class="params">(pBSTNode_t* a, pBSTNode_t* b, pBSTNode_t* c, pBSTNode_t* T0, pBSTNode_t* T1, pBSTNode_t* T2, pBSTNode_t* T3)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    (*b)-&gt;pLeft = *T0; <span class="keyword">if</span>(*T0) (*T0)-&gt;pParent = *b;</span><br><span class="line">    (*b)-&gt;pRight = *T1; <span class="keyword">if</span>(*T1) (*T1)-&gt;pParent = *b;</span><br><span class="line">    (*c)-&gt;pLeft = *T2; <span class="keyword">if</span>(*T2) (*T2)-&gt;pParent = *c;</span><br><span class="line">    (*c)-&gt;pRight = *T3; <span class="keyword">if</span>(*T3) (*T3)-&gt;pParent = *c;</span><br><span class="line">    (*a)-&gt;pLeft = *b; <span class="keyword">if</span>(*b) (*b)-&gt;pParent = *a;</span><br><span class="line">    (*a)-&gt;pRight = *c; <span class="keyword">if</span>(*c) (*c)-&gt;pParent = *a;</span><br><span class="line">    <span class="keyword">return</span> *a;</span><br><span class="line">}</span><br><span class="line"><span class="function">pBSTNode_t <span class="title">rotateAt</span><span class="params">(pBSTNode_t* v)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    pBSTNode_t p = (*v)-&gt;pParent;</span><br><span class="line">    <span class="keyword">if</span> (p)</span><br><span class="line">    {</span><br><span class="line">        pBSTNode_t g = p-&gt;pParent;</span><br><span class="line">        <span class="keyword">if</span> (p &amp;&amp; g)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pLeft == *v &amp;&amp; g-&gt;pLeft == p) <span class="keyword">return</span> connect34(&amp;p, v, &amp;g, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight, &amp;p-&gt;pRight, &amp;g-&gt;pRight);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pRight == *v &amp;&amp; g-&gt;pRight == p) <span class="keyword">return</span> connect34(&amp;p, &amp;g, v, &amp;g-&gt;pLeft, &amp;p-&gt;pLeft, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pLeft == *v &amp;&amp; g-&gt;pRight == p) <span class="keyword">return</span> connect34(v, &amp;g, &amp;p, &amp;g-&gt;pLeft, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight, &amp;p-&gt;pRight);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pRight == *v &amp;&amp; g-&gt;pLeft == p) <span class="keyword">return</span> connect34(v, &amp;p, &amp;g, &amp;p-&gt;pLeft, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight, &amp;g-&gt;pRight);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildBST</span><span class="params">(pBSTNode_t* root, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (*root == <span class="literal">NULL</span>)</span><br><span class="line">    {</span><br><span class="line">        pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">        pNew-&gt;data = data;</span><br><span class="line">        pNew-&gt;pParent = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">        *root = pNew;</span><br><span class="line"> </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (data &lt; (*root)-&gt;data)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pLeft == <span class="literal">NULL</span>)</span><br><span class="line">            {</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pLeft = pNew;</span><br><span class="line">                </span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pRight == <span class="literal">NULL</span>)</span><br><span class="line">            {</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pRight = pNew;</span><br><span class="line">         </span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    pBSTNode_t root = <span class="literal">NULL</span>,temp=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> data[] = {<span class="number">50</span>,<span class="number">40</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">45</span>};</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        buildBST(&amp;root, data[i]);</span><br><span class="line">    }</span><br><span class="line">    rotateAt(&amp;root-&gt;pLeft-&gt;pLeft-&gt;pRight); <span class="comment">//此时失衡的节点是40，他的曾孩子为30</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday01_01</title>
    <url>/category/39Linuxday01_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础001"><a href="#Linux基础001" class="headerlink" title="Linux基础001"></a>Linux基础001</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 检查一下自己的内核版本，在互联网上查询当前最新的内核版本。</li><li>(b). Linux的系统可以分成哪几层结构，分别有什么功能？</li><li>(c). 以表格的形式整理用户（查询、切换、配置密码、增加和删除）相关命令。</li><li>(d). 检查自己的发行版本信息和内核信息，搜索当前最新的内核版本。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">uname -a  检查一下自己的内核版本</span><br><span class="line">www.kernel.org  在互联网上查询当前最新的内核版本</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">应用程序</span><br><span class="line">shell 命令解释器</span><br><span class="line">公用函数库  封装系统调用</span><br><span class="line">系统调用  内核提供给外部的接口</span><br><span class="line">内核：</span><br><span class="line">    硬件</span><br><span class="line">    内存</span><br><span class="line">    cpu 进程</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><table><thead><tr><th align="center">命令</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">cat /etc/passwd</td><td align="center">查询存在着哪些用户</td></tr><tr><td align="center">who</td><td align="center">查询登录情况</td></tr><tr><td align="center">cat /etc/issue</td><td align="center">查询发行版本</td></tr><tr><td align="center">uname -a</td><td align="center">查询内核版本</td></tr><tr><td align="center">sudo root passwd</td><td align="center">修改root的密码</td></tr><tr><td align="center">su root</td><td align="center">切换到root（su和exit入栈和出栈）</td></tr><tr><td align="center">sudo useradd -m test2 -s /bin/bash</td><td align="center">添加用户</td></tr><tr><td align="center">sudo userdel -r test2</td><td align="center">删除用户</td></tr></tbody></table><ul><li>(d)</li></ul><figure class="highlight awk"><table><tbody><tr><td class="code"><pre><span class="line">cat <span class="regexp">/etc/i</span>ssue 检查自己的发行版本信息</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>有兴趣的同学可以搜索一下telnet命令，思考一下，为什么ssh会取代telnet？</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day12_02</title>
    <url>/category/39C_day12_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="基础025"><a href="#基础025" class="headerlink" title="基础025"></a>基础025</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 简述红黑树的基本特征。</li><li>(b). 整理红黑树的插入的各种情况。</li><li>(c). (选做)整理红黑树的删除的各种情况。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">根节点为黑色的</span><br><span class="line">叶节点(空<span class="literal">NULL</span>节点)是黑色的</span><br><span class="line">红色节点的父亲和儿子都是黑色的</span><br><span class="line">从根节点到叶节点的黑高度相等</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">新插入的节点先置红</span><br><span class="line"><span class="number">1.</span>如果插入的是根节点，则直接置黑</span><br><span class="line"><span class="number">2.</span>如果插入节点的父亲是黑的，那没事了</span><br><span class="line"><span class="number">3.</span>如果插入节点的父亲是红的，叔叔也是红的，那祖父此时肯定是黑的，则将祖父置红，父亲和叔叔置黑</span><br><span class="line"><span class="number">4.</span>如果插入节点的父亲是红的，叔叔是黑的，则<span class="number">3</span>+<span class="number">4</span>重构后，将上面的置黑，下面两个置红</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday01_02</title>
    <url>/category/39Linuxday01_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础002"><a href="#Linux基础002" class="headerlink" title="Linux基础002"></a>Linux基础002</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). Linux的虚拟文件系统采用什么类型的数据结构组织的？目录文件和普通文件在数据结构中扮演着怎么样不同的角色？</li><li>(b). 什么是路径、相对路径和绝对路径？</li><li>(c). 普通用户家目录在何方？如何快速将当前工作目录切换到家目录。</li><li>(d). 整理cd命令的几种用法。</li><li>(e). 整理ls -l各列的含义。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">采用树形结构组织</span><br><span class="line">依次是根目录，目录文件和非目录文件</span><br><span class="line">root:特权用户的家目录</span><br><span class="line"><span class="built_in">home</span>：普通用户的家目录的父亲</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">能够找到该文件的位置</span><br><span class="line">绝对路径：从根目录出发   /</span><br><span class="line">相对路径：从当前工作目录出发</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">home</span>下家目录文件夹</span><br><span class="line">cd ~</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight jboss-cli"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~  :返回到家目录</span><br><span class="line"><span class="keyword">cd</span> .  :不变</span><br><span class="line"><span class="keyword">cd</span> <span class="string">..</span> :回到上一级</span><br><span class="line"><span class="keyword">cd</span> -  :回退到上一次的位置</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">ls -l</span><br><span class="line">例如：</span><br><span class="line">drwxr-xr-x <span class="number">16</span> cfhy cfhy <span class="number">4.0</span>K <span class="number">6</span>月  <span class="number">16</span> <span class="number">20</span>:<span class="number">15</span> .</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> root root <span class="number">4.0</span>K <span class="number">6</span>月  <span class="number">16</span> <span class="number">19</span>:<span class="number">55</span> ..</span><br><span class="line">依次为：</span><br><span class="line"><span class="number">1.</span>文件类型：</span><br><span class="line">		- 普通文件</span><br><span class="line">		d 目录</span><br><span class="line">		c 字符设备</span><br><span class="line">		b 块设备</span><br><span class="line">		l 符号链接</span><br><span class="line"><span class="number">2.</span>用户权限rwx  (读写执行)</span><br><span class="line"><span class="number">3.</span>用户所在组权限</span><br><span class="line"><span class="number">4.</span>其他人权限</span><br><span class="line"><span class="number">5.</span>被指向的硬链接数</span><br><span class="line"><span class="number">6.</span>用户名</span><br><span class="line"><span class="number">7.</span>组名</span><br><span class="line"><span class="number">8.</span>大小</span><br><span class="line"><span class="number">9.</span>上次修改时间</span><br><span class="line"><span class="number">10.</span>文件名</span><br></pre></td></tr></tbody></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>ls的命令其实是将目录下面的所有文件名一行行打印到标准输出的，只不过shell窗口帮我们做了美化，使其看起来像在一行一样。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday02_01</title>
    <url>/category/39Linuxday02_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础004"><a href="#Linux基础004" class="headerlink" title="Linux基础004"></a>Linux基础004</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 已经学过的文件权限有哪几种？</li><li>(b). cp命令的执行是否成功依赖于哪些权限？（注意考虑各种情况）</li><li>(c). 目录的读、写和执行权限影响了哪些操作？</li><li>(d). 什么是数字设定法，为什么可以使用数字设定法？</li><li>(e). 文件创建掩码有什么影响？如何查看和修改文件创建掩码？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">r:读 w:写 x:执行</span><br><span class="line">对于目录来说， r:影响ls，x影响cd</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">cp file1 file2  </span><br><span class="line">cp命令的执行是否成功依赖于</span><br><span class="line">    源文件是否可读</span><br><span class="line">    目标文件是否可写</span><br><span class="line">    目标目录是否可写和执行</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line">没有读权限：不能<span class="keyword">ls</span>，但能<span class="keyword">cd</span>。</span><br><span class="line">没有写权限：不能<span class="keyword">cp</span>、mv到该目录。</span><br><span class="line">没有执行权限：能<span class="keyword">ls</span>，但不能<span class="keyword">cd</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">用户，用户所在组，其他用户的权限都是rwx的组合，而rwx可以用二进制<span class="number">0</span><span class="number">-1</span>表示，所以<span class="number">777</span>表示rwx。</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">umask <span class="number">002</span>,依次对应u，g，o的权限，满为<span class="number">7</span></span><br><span class="line">所以u <span class="number">7</span>  g <span class="number">7</span> o <span class="number">7</span><span class="number">-2</span>=<span class="number">5</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday02_02</title>
    <url>/category/39Linuxday02_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础005"><a href="#Linux基础005" class="headerlink" title="Linux基础005"></a>Linux基础005</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 描述一下find命令的格式。</li><li>(b). 常用的通配符有哪些？分别有什么效果？</li><li>(c). 在/usr/share/doc找到所有以html结尾且大小大于100个block的文件，并且使用ls -l展示其详细信息。</li><li>(d). 如何检查整体磁盘空间使用状况？如何获知本目录下所有文件的总大小？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">find</span> 起始目录 查找条件</span><br><span class="line">    </span><br><span class="line">    -name：以文件名查找     <span class="built_in">find</span> .  <span class="string">"file1*"</span>        (<span class="string">"file?"</span>  <span class="string">"file[0-9][0-9]"</span>)</span><br><span class="line">    </span><br><span class="line">    -user/-group：以用户名/组名查找    <span class="built_in">find</span> . -user cfhy</span><br><span class="line">    </span><br><span class="line">    -uid/-gid：以用户名id/组id查找    <span class="built_in">find</span> . -uid <span class="number">1000</span></span><br><span class="line">    </span><br><span class="line">    -perm：以权限查找     <span class="built_in">find</span> . <span class="number">777</span></span><br><span class="line">    </span><br><span class="line">    -<span class="built_in">size</span>：以文件大小查找  </span><br><span class="line">    (单位：b:一个<span class="number">512B</span>块，c:<span class="number">1B</span>，w:<span class="number">2B</span>,k,M,G ) -表示小于，+表示大于   </span><br><span class="line">    <span class="built_in">find</span> . -<span class="built_in">size</span> <span class="number">-100</span>M  </span><br><span class="line">    </span><br><span class="line">    -type：以文件类型查找   <span class="built_in">find</span> . -type d</span><br><span class="line">    </span><br><span class="line">   	-empty：查找空目录或文件  <span class="built_in">find</span> . -empty</span><br><span class="line">    </span><br><span class="line">    按时间查找</span><br><span class="line">    -amin   -atime  访问如cat查看</span><br><span class="line">    -cmin   -ctime  状态主要指修改权限   -表示小于，+表示大于 </span><br><span class="line">    -mmin   -mtime  内容修改</span><br><span class="line">    <span class="built_in">find</span> . -amin <span class="number">-1</span></span><br><span class="line">    </span><br><span class="line">    -a 交    -o 或   !非</span><br><span class="line">    <span class="built_in">find</span> . -mmin <span class="number">-10</span> -a -name <span class="string">"file*"</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    -exec：根据<span class="built_in">find</span>查找结果执行后续操作</span><br><span class="line">    <span class="built_in">find</span> . amin <span class="number">-10</span> -exec ls -ahl {} \;</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">*：取代任何字符串。</span><br><span class="line">?：取代任何一个字符</span><br><span class="line">[...]：取代任何一个[]集合内的字符</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight sqf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">find</span> /usr/share/doc -<span class="built_in">name</span> <span class="string">"*html"</span> -a -<span class="built_in">size</span> +<span class="number">100</span>b -<span class="built_in">exec</span> ls -l {} \;</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight properties"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">df</span> <span class="string">-h    查看整个文件系统占多大磁盘空间</span></span><br><span class="line"><span class="attr">du</span> <span class="string">-h    查看当前目录下文件和当前目录占多大磁盘空间</span></span><br></pre></td></tr></tbody></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>find命令依赖于什么权限？</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday01_03</title>
    <url>/category/39Linuxday01_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础003"><a href="#Linux基础003" class="headerlink" title="Linux基础003"></a>Linux基础003</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 目录的本质是什么？</li><li>(b). 什么是硬链接？目录和硬链接存在什么关系？</li><li>(c). 整理cp、mv和rm命令的几种情况。</li><li>(d). man命令以及其-k/-f选项有什么效果？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">目录的本质是将所辖的下级目录和文件以链表的形式组织起来</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">其他文件对文件的引用，引入硬链接数，当它为<span class="number">0</span>时，文件才会被删除</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight properties"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">touch</span> <span class="string">file 创建文件</span></span><br><span class="line"><span class="attr">mkdir</span> <span class="string">创建文件夹</span></span><br><span class="line"><span class="attr">rmdir</span> <span class="string">删除空文件夹</span></span><br><span class="line"><span class="attr">cp</span> <span class="string">file1 file2 复制file1到file2,如果file2不存在，就创建，会覆盖</span></span><br><span class="line"><span class="attr">cp</span> <span class="string">file1 dir1 复制file1到dir1文件夹下，如果file2不存在，就创建，会覆盖</span></span><br><span class="line"><span class="attr">mv</span> <span class="string">file1 file2 重命名file1为file2</span></span><br><span class="line"><span class="attr">mv</span> <span class="string">file1 dir1  剪切（移动）file1到dir1</span></span><br><span class="line"><span class="attr">rm</span> <span class="string">-r -f file</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight diff"><table><tbody><tr><td class="code"><pre><span class="line">man查询具体命令的工作手册</span><br><span class="line"><span class="deletion">-k 查找说明文档 -f 查找解释</span></span><br></pre></td></tr></tbody></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>思考一下，如果使用fopen、fgetc和fputc等函数，能否实现类似cp的功能？</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday02_03</title>
    <url>/category/39Linuxday02_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础006"><a href="#Linux基础006" class="headerlink" title="Linux基础006"></a>Linux基础006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是重定向？有哪些不同的重定向？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">文件描述符是一个整数，它代表一个打开的文件</span><br><span class="line"><span class="built_in">stdin</span>: <span class="number">0</span></span><br><span class="line"><span class="built_in">stdout</span>：<span class="number">1</span></span><br><span class="line"><span class="built_in">stderr</span>：<span class="number">2</span></span><br><span class="line">&lt;重定向输入，&gt;输出到文件，&gt;&gt;追加，&lt;&lt;以什么结束，错误重定向</span><br></pre></td></tr></tbody></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>搜索一下编码相关知识，了解一下当前存在的各种编码方式。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday03_01</title>
    <url>/category/39Linuxday03_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础006"><a href="#Linux基础006" class="headerlink" title="Linux基础006"></a>Linux基础006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 如果wc命令不加文件参数会有怎么样的效果？（回顾cat命令的效果）</li><li>(b). 对一些重复的数据执行排序并去重的操作。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">wc不加文件参数会输出行数，单词数，字符数，文件名</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">sort <span class="number">1.</span>txt |uniq</span><br></pre></td></tr></tbody></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>搜索一下编码相关知识，了解一下当前存在的各种编码方式。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday03_03</title>
    <url>/category/39Linuxday03_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础008"><a href="#Linux基础008" class="headerlink" title="Linux基础008"></a>Linux基础008</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). vim存在哪种模式？互相之间怎么切换？</li><li>(b). 练习一下vimtutor，记录使用到的快捷键</li><li>(c). 说明添加和删除代码当中的注释的具体操作。</li><li>(d). 使用vim同时开启4个窗口，描述开启和切换各个窗口的具体操作。</li><li>(e). 使用vimdiff对比两个文件，说明如何对比相同和不同之处。</li><li>(f). (选做)自学sed命令</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">普通模式normal和插入模式insert,</span><br><span class="line">normal ----------&gt;insert :</span><br><span class="line">	     i前，a后</span><br><span class="line">       I行首，A行尾</span><br><span class="line">insert ----------&gt;normal :   </span><br><span class="line">        ESC</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">h:光标左移，j:光标下移，k光标上移，l:光标右移</span><br><span class="line">H:页首，L:页尾</span><br><span class="line">    </span><br><span class="line">q!:丢弃进入编辑器以来的任何改动</span><br><span class="line">    </span><br><span class="line">x:删除光标所在的字符</span><br><span class="line">    </span><br><span class="line">wq:保存改动</span><br><span class="line">    </span><br><span class="line">操作符+动作：d+motion</span><br><span class="line">	dw:删除一个单词</span><br><span class="line">	d$:从当前光标删除到行尾</span><br><span class="line"></span><br><span class="line">ctrl+s:僵死</span><br><span class="line">ctrl+q:恢复</span><br><span class="line">	</span><br><span class="line">数字+动作：</span><br><span class="line">    <span class="number">3</span>w:向后移动<span class="number">3</span>个单词</span><br><span class="line">        </span><br><span class="line">操作符+数字+动作:</span><br><span class="line">	d2w:删除<span class="number">2</span>个单词</span><br><span class="line">        </span><br><span class="line">dd:删除一整行</span><br><span class="line"><span class="number">2</span>dd/d2d:删除两行</span><br><span class="line">    </span><br><span class="line">u:撤销</span><br><span class="line">ctrl+r:反撤销</span><br><span class="line">    </span><br><span class="line">dd:实际上是剪切，然后p:粘贴一下在光标一行的下一行</span><br><span class="line">r+要替换的字符：替换</span><br><span class="line">cw:删除从光标开始到单词末尾，并进入插入模式</span><br><span class="line">c$:删除从光标开始到行尾</span><br><span class="line"></span><br><span class="line">ctrl+g:显示状态信息行，当前编辑文件名和光标位置</span><br><span class="line">G:最后一行，gg:第一行</span><br><span class="line">输入行数+G:跳转到对应的行</span><br><span class="line"></span><br><span class="line">/要查找的字符串，n移动</span><br><span class="line">:/也可以  </span><br><span class="line">    </span><br><span class="line">%：光标放到要匹配的(,[,{上，可以查找匹配的),],}</span><br><span class="line">             </span><br><span class="line">:s/被替换的字符串/替换的字符串    替换该行第一个匹配的字符串</span><br><span class="line">:s/被替换的字符串/替换的字符串/g    替换该行所有匹配的字符串     </span><br><span class="line">:%s/被替换的字符串/替换的字符串/g    替换该文件所有匹配的字符串 </span><br><span class="line">             </span><br><span class="line">:!+外部命令  </span><br><span class="line">如 :!ls -ahl 显示当前目录的内容</span><br><span class="line"></span><br><span class="line">:w TEST   保存以文件名TEST保存当前文件</span><br><span class="line"></span><br><span class="line">v:进入可视模式，光标往下移动会高亮，再w TEST，将高亮的内容保存进TEST文件里</span><br><span class="line"> </span><br><span class="line">插入内容到文件</span><br><span class="line">r TEST </span><br><span class="line">r !ls</span><br><span class="line">             </span><br><span class="line">o:在光标下新建一行，O:在光标上新建一行</span><br><span class="line">             </span><br><span class="line">R连续替换字符    </span><br><span class="line">             </span><br><span class="line">y:复制，p：粘贴</span><br><span class="line">yy:复制一整行</span><br><span class="line">先在可视模式选中y复制，然后p</span><br><span class="line">yw:复制单词  </span><br><span class="line"></span><br><span class="line">sed -i <span class="string">"s/head/func/g"</span> `ls`     :将当前目录下所有文件里head替换为func</span><br><span class="line">gg=G							:自动对齐</span><br><span class="line">:<span class="built_in">set</span> nu!      #复制时暂时不显示行号</span><br><span class="line">             </span><br><span class="line">ipcrm -q              消息队列</span><br><span class="line">ipcrm -m              共享内存</span><br><span class="line">ipcrm -s              信号量</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight groovy"><table><tbody><tr><td class="code"><pre><span class="line">可视模式下:</span><br><span class="line">gg=G：全文代码对齐</span><br><span class="line"></span><br><span class="line">注释多行：</span><br><span class="line">	ctrl+<span class="string">v:</span>进入竖选模式</span><br><span class="line">	移动光标选中</span><br><span class="line">	I移动光标到第一行，输入<span class="comment">//</span></span><br><span class="line">	ESC</span><br><span class="line">	</span><br><span class="line">取消注释：</span><br><span class="line">	ctrl+<span class="string">v:</span>进入竖选模式</span><br><span class="line">	移动光标选中</span><br><span class="line">	x</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight gams"><table><tbody><tr><td class="code"><pre><span class="line">:new <span class="keyword">file</span>名 </span><br><span class="line">:vnew <span class="keyword">file</span>名   <span class="comment">//左右显示</span></span><br><span class="line">ctrl w + ctrl w    <span class="comment">//切换</span></span><br><span class="line"></span><br><span class="line">:tabnew <span class="keyword">file</span>名 <span class="comment">//创建新标签</span></span><br><span class="line"><span class="keyword">gt</span>    <span class="comment">//切换</span></span><br><span class="line"></span><br><span class="line">:qa   <span class="comment">//退出所有窗口</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">vimdiff <span class="number">1.</span>txt <span class="number">2.</span>txt   <span class="comment">//不同的地方颜色不同</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(f)</li></ul><figure class="highlight jboss-cli"><table><tbody><tr><td class="code"><pre><span class="line">sed <span class="string">"s/int/double/g"</span> *<span class="string">.c</span>  <span class="string">//</span>把<span class="string">.c</span>文件int全换成double预览 一下</span><br><span class="line">等同于：</span><br><span class="line">	find -name <span class="string">"*.c"</span> |xargs sed <span class="string">"s/int/double/g"</span></span><br><span class="line">	</span><br><span class="line">sed -i <span class="string">"s/int/double/g"</span> *<span class="string">.c</span>  <span class="string">//</span>把<span class="string">.c</span>文件int全换成double,实际也改了</span><br></pre></td></tr></tbody></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>了解sed命令和awk命令</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday03_02</title>
    <url>/category/39Linuxday03_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础007"><a href="#Linux基础007" class="headerlink" title="Linux基础007"></a>Linux基础007</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 整理学习过的正则表达式规则。</li><li>(b). 把服务器上的/home/student/testCode.tar.gz拷贝到本地并进行释放操作。</li><li>(c). 找到上题代码中的所有函数声明。</li><li>(d). 使用ssh-keygen命令生成一对公钥和私钥，然后使用scp命令将公钥拷贝到<a href="mailto:student@192.168.2.100">student@192.168.2.100</a>，再使用ssh命令登录192.168.2.100，将刚才拷贝过来的公钥以追加模式加入到~/.ssh/authorized_keys中。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">正则表达式：</span><br><span class="line">    多个连续字符表示连接</span><br><span class="line">    .：在grep里表示匹配任意一个字符，这和<span class="built_in">find</span>里的?是一样的功能，容易混淆</span><br><span class="line">    </span><br><span class="line">    []：匹配集合内任意一个字符</span><br><span class="line">    [<span class="number">0</span><span class="number">-9</span>] 匹配<span class="number">0</span><span class="number">-9</span>任意一个数字</span><br><span class="line">    [<span class="number">0</span><span class="number">-9</span>a-zA-Z]匹配<span class="number">0</span><span class="number">-9</span>和字母</span><br><span class="line">    </span><br><span class="line">    ?：出现<span class="number">0</span>/<span class="number">1</span>次</span><br><span class="line">    *：出现<span class="number">0</span>-n次</span><br><span class="line">    +：出现<span class="number">1</span>-n次</span><br><span class="line">    grep -E <span class="string">"bo*k"</span> file</span><br><span class="line">    </span><br><span class="line">   	()  和  |</span><br><span class="line">    grep -E <span class="string">"gre|ay"</span> file</span><br><span class="line">    grep -E <span class="string">"gr(e|a)y"</span> file</span><br><span class="line">    </span><br><span class="line">    ^：匹配字符串的开头</span><br><span class="line">    $：匹配字符串的末尾</span><br><span class="line">    \&lt;：匹配单词的开头</span><br><span class="line">    \&gt;：匹配单词的结尾</span><br><span class="line">    grep -nE <span class="string">"^how"</span> file</span><br><span class="line">    grep -nE <span class="string">"how$"</span> file</span><br><span class="line">	grep -nE <span class="string">"\&lt;how"</span> file</span><br><span class="line">    grep -nE <span class="string">"how\&gt;"</span> file</span><br><span class="line">	{x}：匹配前一项x次</span><br><span class="line">	{x,}：匹配前一项至少x次</span><br><span class="line">    {,y}：匹配前一项至多y次</span><br><span class="line">	{x,y}：匹配前一项至少x次，至多y次</span><br><span class="line">    </span><br><span class="line">    grep -n \;$ main.c  <span class="comment">//和下面的等价</span></span><br><span class="line">    grep -n <span class="string">";$"</span> main.c</span><br><span class="line">    </span><br><span class="line">    cmd1 `cmd2`  <span class="comment">//和下面的等价，都是先执行cmd2,将cmd2输出到cmd1当作参数</span></span><br><span class="line">    cmd1 $cmd2   </span><br><span class="line">        </span><br><span class="line"><span class="built_in">find</span>是从目录找到文件的位置，grep是从文件中找到对应的位置，两者可以搭配使用</span><br><span class="line"><span class="built_in">find</span> . -name  <span class="string">"*.c"</span> |xargs grep -nE <span class="string">"int main"</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">本地想远程访问服务器，每次不用输入密码,可将自己的公钥给服务器：</span><br><span class="line">    cd ~</span><br><span class="line">    <span class="built_in">mkdir</span> .ssh</span><br><span class="line">    ssh -keygen</span><br><span class="line">    cd .ssh/</span><br><span class="line">    scp id_rsa.pub student@<span class="number">192.168</span><span class="number">.2</span><span class="number">.100</span></span><br><span class="line">    </span><br><span class="line">    然后将id_rsa.pub的内容追加到.ssh/authorized_keys</span><br><span class="line">    cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line">    </span><br><span class="line">    ssh student@<span class="number">192.168</span><span class="number">.2</span><span class="number">.100</span>   <span class="comment">//ssh连接不用输密码了</span></span><br><span class="line">    </span><br><span class="line">    scp 本地 远端   <span class="comment">//上传      本地：文件路径</span></span><br><span class="line">    scp 远端 本地   <span class="comment">//下载	  远端：用户@ip:文件路径</span></span><br><span class="line">    </span><br><span class="line">    tar -cvf FileName.tar DirName # 将DirName和其下所有文件（夹）打包  c创建  </span><br><span class="line">    tar -xvf FileName.tar         # 解包                            x释放</span><br><span class="line">    </span><br><span class="line">    tar -zcvf FileName.tar.gz DirName       # 将DirName和其下所有文件（夹）压缩</span><br><span class="line">    tar -zxvf FileName.tar.gz               # 解压</span><br><span class="line">    tar -C DesDirName -zxvf FileName.tar.gz # 解压到目标路径</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight gradle"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">find</span> -name <span class="string">"*.c"</span> |xargs <span class="keyword">grep</span> -nE <span class="string">".*\(int.*\);"</span></span><br></pre></td></tr></tbody></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>学习一下shell脚本编程。</li><li>学习一下awk命令。</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday04_01</title>
    <url>/category/39Linuxday04_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础009"><a href="#Linux基础009" class="headerlink" title="Linux基础009"></a>Linux基础009</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 描述一下生成可执行程序的流程？说明各个过程中使用的命令参数和输入输出文件类型。</li><li>(b). 整理已经学习过的预处理指令。</li><li>(c). 给下列代码生成的汇编语言文件增加注释。</li></ul><a id="more"></a><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func1</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> <span class="built_in">size</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; ++i)</span><br><span class="line">    {</span><br><span class="line">        cnt += arr[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func2</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> tmp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = tmp;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func3</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> tmp = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = tmp;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">int</span> arr[<span class="number">6</span>] = {<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>};</span><br><span class="line">    <span class="keyword">int</span> res = func1(arr,<span class="number">6</span>);</span><br><span class="line">    func2(i, j);</span><br><span class="line">    func3(&amp;i, &amp;k);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d). 整理所有用到的GCC指令</li><li>(e). 使用gdb调试程序，整理调试所用到的所有快捷键。</li><li>(f). 使用gdb调试core文件，并检查出错时的堆栈信息。</li><li>(g). 说明一下使用动态库和静态库的区别。然后分别生成动态库和静态库。</li></ul><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">test.c-----&gt;test.i</span><br><span class="line">    预处理：导入头文件，宏定义</span><br><span class="line">    命令：gcc -E test.c -o test.i </span><br><span class="line">    ifdef-endif:  gcc -E test.c -o test.i -D DEBUG</span><br><span class="line"></span><br><span class="line">test.i-----&gt;test.s</span><br><span class="line">    编译</span><br><span class="line">    命令：gcc -S test.i -o test.s</span><br><span class="line"></span><br><span class="line">test.s-----&gt;test.o</span><br><span class="line">    汇编</span><br><span class="line">    命令：as test.s -o test.o</span><br><span class="line">    查看文件中的符号表：nm test.o</span><br><span class="line"></span><br><span class="line">test.c-----&gt;test.o</span><br><span class="line">    广义的编译</span><br><span class="line">    命令：gcc -c test.c -o test.o</span><br><span class="line">    添加警告信息：gcc -c test.c -o test.o -Wall</span><br><span class="line"></span><br><span class="line">test.o-----&gt;test</span><br><span class="line">    链接</span><br><span class="line">    命令：gcc test.o -o test</span><br><span class="line">     </span><br><span class="line">test.c-----&gt;test        </span><br><span class="line">	编译+链接</span><br><span class="line">    命令：gcc test.c -o test  -g</span><br><span class="line"></span><br><span class="line">gcc  src/main.c  -I header/ -o main    <span class="comment">//指定头文件的搜索路径 ,主文件.c中#include"add.h"即可</span></span><br><span class="line">gcc -O0       <span class="comment">//优化，改变汇编代码的执行顺序，提高运行速度</span></span><br><span class="line">    -O1       <span class="comment">//数字越大优化越深</span></span><br><span class="line">    -O2</span><br><span class="line">    -O3</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>   <span class="comment">//头文件包含</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>    <span class="comment">//宏定义</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> or #<span class="meta-keyword">ifndef</span>    <span class="comment">//测试，避免重复的宏定义</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight stata"><table><tbody><tr><td class="code"><pre><span class="line">gcc <span class="keyword">test</span>.c -o <span class="keyword">test</span> -<span class="keyword">g</span>  <span class="comment">//编译链接生成可执行程序test</span></span><br><span class="line">gdb <span class="keyword">test</span>  <span class="comment">//进入gdb调试</span></span><br><span class="line"><span class="keyword">list</span>/<span class="keyword">l</span>     <span class="comment">//每次列出10行代码，一直往下</span></span><br><span class="line"><span class="keyword">run</span>/r   <span class="comment">//运行</span></span><br><span class="line"><span class="keyword">break</span> 行数    <span class="comment">//打断点</span></span><br><span class="line"><span class="keyword">continue</span>/c   <span class="comment">//执行到下一次断点或者程序结束</span></span><br><span class="line">next/<span class="keyword">n</span>     <span class="comment">//逐过程</span></span><br><span class="line">step/s     <span class="comment">//逐语句</span></span><br><span class="line">info/i b   <span class="comment">//显示断点信息</span></span><br><span class="line">delete/<span class="keyword">d</span>  断点编号 <span class="comment">//删除某个断点</span></span><br><span class="line">disable/enable 断点编号   <span class="comment">//使某个断点失效/生效</span></span><br><span class="line">ignore 断点编号 次数    <span class="comment">//令某断点失效若干次</span></span><br><span class="line"><span class="keyword">print</span>/p  表达式/变量    <span class="comment">//打印</span></span><br><span class="line"><span class="keyword">display</span>  表达式/变量     <span class="comment">//自动打印</span></span><br><span class="line">undisplay  编号    <span class="comment">//取消自动打印</span></span><br><span class="line">backtrace/bt    <span class="comment">//查看堆栈</span></span><br><span class="line"></span><br><span class="line">给gdb程序设置命令行参数</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">args</span> how are you</span><br></pre></td></tr></tbody></table></figure><ul><li>(f)</li></ul><figure class="highlight aspectj"><table><tbody><tr><td class="code"><pre><span class="line">ulimit -a         <span class="comment">// 查看unix大小限制</span></span><br><span class="line">ulimit -c unlimited   <span class="comment">//-c对应core大小 ，设置为无限制</span></span><br><span class="line">gcc <span class="keyword">error</span>.c -o <span class="keyword">error</span> -g  <span class="comment">//编译链接生成可执行程序error</span></span><br><span class="line">./<span class="keyword">error</span>    <span class="comment">//执行程序，段错误生成core，ll可以看到</span></span><br><span class="line">gdb <span class="keyword">error</span> core   <span class="comment">//可用gdb看到core堆栈现场内容，进而调试</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(g)</li></ul><figure class="highlight crystal"><table><tbody><tr><td class="code"><pre><span class="line">静态库：在链接时，拷贝一份库文件到可执行程序中</span><br><span class="line"></span><br><span class="line">创建和使用静态库：</span><br><span class="line"><span class="number">1</span>.生成目标文件：</span><br><span class="line">	gcc -c add.c -o add.o</span><br><span class="line"><span class="number">2</span>.生成库文件（打包）：</span><br><span class="line">	ar crsv libadd.a add.o     /<span class="regexp">/其中libadd.a是库文件的名字</span></span><br><span class="line"><span class="regexp">3.将库文件转移到系统库目录：</span></span><br><span class="line"><span class="regexp">	sudo cp libadd.a /usr</span><span class="regexp">/lib</span></span><br><span class="line"><span class="regexp">4.链接</span></span><br><span class="line"><span class="regexp">	gcc main.o -o main -ladd</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">如果删除库文件</span></span><br><span class="line"><span class="regexp">	1.不影响原可执行程序</span></span><br><span class="line"><span class="regexp">	2.但因为库文件的删除，不能重新链接</span></span><br><span class="line"><span class="regexp">	</span></span><br><span class="line"><span class="regexp">动态库：在链接时，定位库文件的位置，等到程序执行时再动态加载</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">创建和使用动态库：</span></span><br><span class="line"><span class="regexp">1.生成位置无关的目标文件：</span></span><br><span class="line"><span class="regexp">	gcc -c add.c -o add.o -fpic</span></span><br><span class="line"><span class="regexp">2.打包成动态库</span></span><br><span class="line"><span class="regexp">	gcc -shared -o libadd.so add.o</span></span><br><span class="line"><span class="regexp">3.将库文件转移到系统库目录：</span></span><br><span class="line"><span class="regexp">	sudo cp libadd.so /usr</span><span class="regexp">/lib</span></span><br><span class="line"><span class="regexp">4.链接</span></span><br><span class="line"><span class="regexp">	gcc main.o -o main -ladd</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">如果删除库文件，程序不能运行</span></span><br><span class="line"><span class="regexp">恢复/</span>更新文件，不需要重新链接</span><br><span class="line"></span><br><span class="line">动态库的更新：</span><br><span class="line">	<span class="number">1</span>.生成目标文件：</span><br><span class="line">		gcc -c add.c -o add.o -fpic</span><br><span class="line">	<span class="number">2</span>.打包成动态库  </span><br><span class="line">		gcc -shared -o libadd.so.<span class="number">0.0</span>.<span class="number">1</span> add.o</span><br><span class="line">	<span class="number">3</span>.将新库文件转移到系统库目录：</span><br><span class="line">		sudo cp libadd.so.<span class="number">0.0</span>.<span class="number">1</span> /usr/<span class="class"><span class="keyword">lib</span></span></span><br><span class="line">	<span class="number">4</span>.删除原软链接</span><br><span class="line">		sudo rm /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">libadd</span>.<span class="title">so</span></span></span><br><span class="line">	<span class="number">5</span>.建立软链接</span><br><span class="line">		sudo ln -s /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">libadd</span>.<span class="title">so</span>.0.0.1 /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">libadd</span>.<span class="title">so</span></span></span><br><span class="line">		可执行程序大小    部署      更新</span><br><span class="line">静态库：      大  	     容易 	 困难</span><br><span class="line">动态库：      小          困难		 容易</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday05_01</title>
    <url>/category/39Linuxday05_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础010"><a href="#Linux基础010" class="headerlink" title="Linux基础010"></a>Linux基础010</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 在一个目录有多个.c文件，每个文件都需要单独编译一个可执行程序，书写makefile文件。注意，尽量提升通用性，而且要有rebuild和clean功能</li><li>(b). 一个项目有多个目录，其中可执行程序和makefile文件在主目录，.c文件在src目录，.h文件在header目录（使用gcc的-I选项），书写编译项目的makefile文件</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight makefile"><table><tbody><tr><td class="code"><pre><span class="line">CC:=gcc</span><br><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> *.c)</span></span><br><span class="line">EXE:=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line"><span class="section">all:<span class="variable">$(EXE)</span></span></span><br><span class="line"><span class="section">%:%.c</span></span><br><span class="line">	<span class="variable">$(CC)</span> <span class="variable">$^</span> -o <span class="variable">$@</span> - </span><br><span class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>:clean rebuild</span></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	<span class="variable">$(RM)</span> <span class="variable">$(EXE)</span></span><br><span class="line"><span class="section">rebuild:clean all</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight makefile"><table><tbody><tr><td class="code"><pre><span class="line">CC:=gcc</span><br><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> src/*.c)</span></span><br><span class="line">EXE:=<span class="variable">$(<span class="built_in">patsubst</span> src/%.c,%,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line"><span class="section">all:<span class="variable">$(EXE)</span></span></span><br><span class="line"><span class="section">%:src/%.c</span></span><br><span class="line">	<span class="variable">$(CC)</span>  <span class="variable">$^</span>  -I header/ -o <span class="variable">$@</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>:clean rebuild                                                                            clean:</span></span><br><span class="line">	<span class="variable">$(RM)</span> <span class="variable">$(EXE)</span></span><br><span class="line"><span class="section">rebuild:clean all</span></span><br></pre></td></tr></tbody></table></figure><ul><li>利用clang命令编译test文件夹下的所有.c到.bc</li></ul><figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line">TEST_DIR=<span class="string">"test"</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$TEST_DIR</span></span><br><span class="line">cfiles=$(ls .)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="variable">$cfiles</span>; <span class="keyword">do</span></span><br><span class="line">    prefix=<span class="variable">${file:0:6}</span></span><br><span class="line">    bc_file=<span class="string">"<span class="variable">$prefix</span>.bc"</span></span><br><span class="line">    clang -emit-llvm -c -O0 -g3 <span class="variable">$file</span> -o <span class="variable">$bc_file</span></span><br><span class="line">    <span class="comment"># llvm-dis $bc_file</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday05_03</title>
    <url>/category/39Linuxday05_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础012"><a href="#Linux基础012" class="headerlink" title="Linux基础012"></a>Linux基础012</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 传递一个路径名，还有一个文件名，搜索对应路径下是否有该文件，有就打印显示该文件的绝对路径。</li><li>(b). 传递任意一个目录路径，能够显示该目录的ls -l的效果。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=chdir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line"></span><br><span class="line">    DIR* dirp=opendir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(dirp,<span class="literal">NULL</span>,<span class="string">"opendir"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dirent</span>* <span class="title">pdirent</span>;</span></span><br><span class="line">    <span class="keyword">long</span> loc;</span><br><span class="line">    <span class="keyword">while</span>((pdirent=readdir(dirp))!=<span class="literal">NULL</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(pdirent-&gt;d_name,argv[<span class="number">2</span>])==<span class="number">0</span>) </span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">char</span> buf[<span class="number">512</span>]={<span class="number">0</span>};</span><br><span class="line">            <span class="built_in">sprintf</span>(buf,<span class="string">"%s%s%s"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>),<span class="string">"/"</span>,argv[<span class="number">2</span>]);</span><br><span class="line">            <span class="built_in">puts</span>(buf);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">otostr</span><span class="params">(<span class="keyword">mode_t</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> oth_ath=x&amp;<span class="number">7</span>;</span><br><span class="line">    x&gt;&gt;=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> gro_ath=x&amp;<span class="number">7</span>;</span><br><span class="line">    x&gt;&gt;=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> usr_ath=x&amp;<span class="number">7</span>;</span><br><span class="line">    <span class="keyword">char</span> *str_oth=(<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">20</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));       <span class="comment">//要在堆上申请，不然函数结束时栈上分配的空间就被释放，所以返回的是null</span></span><br><span class="line">    <span class="keyword">char</span> *str_gro=(<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">20</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    <span class="keyword">char</span> *str_usr=(<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">20</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span>(oth_ath)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"---"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"--x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"-w-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"-wx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"r--"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"r-x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"rw-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"rwx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">switch</span>(gro_ath)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"---"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"--x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"-w-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"-wx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"r--"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"r-x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"rw-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"rwx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">switch</span>(usr_ath)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"---"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"--x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"-w-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"-wx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"r--"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"r-x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"rw-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"rwx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">strcat</span>(str_usr, str_gro);</span><br><span class="line">    <span class="built_in">strcat</span>(str_usr, str_oth);</span><br><span class="line">    <span class="keyword">return</span> str_usr;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=chdir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line"></span><br><span class="line">    DIR* dirp=opendir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(dirp,<span class="literal">NULL</span>,<span class="string">"opendir"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dirent</span>* <span class="title">pdirent</span>;</span></span><br><span class="line">    <span class="keyword">while</span>((pdirent=readdir(dirp))!=<span class="literal">NULL</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">statbuf</span>;</span>  <span class="comment">//文件信息结构体</span></span><br><span class="line">        <span class="keyword">char</span> buf[<span class="number">512</span>]={<span class="number">0</span>};</span><br><span class="line">        <span class="built_in">sprintf</span>(buf,<span class="string">"%s%s"</span>,<span class="string">"./"</span>,pdirent-&gt;d_name);</span><br><span class="line">        <span class="keyword">int</span> ret=stat(buf,&amp;statbuf);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"stat"</span>);</span><br><span class="line">        <span class="keyword">char</span> type;</span><br><span class="line">        <span class="keyword">if</span>(pdirent-&gt;d_type==<span class="number">4</span>) type=<span class="string">'d'</span>;</span><br><span class="line">        <span class="keyword">else</span> type=<span class="string">'-'</span>;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">tm</span>* <span class="title">lt</span> = <span class="title">localtime</span>(&amp;<span class="title">statbuf</span>.<span class="title">st_mtime</span>);</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c%s %3ld %s %s %10ld %4d月  %2d %2d:%2d %s\n"</span>,</span><br><span class="line">               type,</span><br><span class="line">               otostr(statbuf.st_mode),</span><br><span class="line">               statbuf.st_nlink,</span><br><span class="line">               getpwuid(statbuf.st_uid)-&gt;pw_name,</span><br><span class="line">               getgrgid(statbuf.st_gid)-&gt;gr_name,</span><br><span class="line">               statbuf.st_size,</span><br><span class="line">               lt-&gt;tm_mon+<span class="number">1</span>,</span><br><span class="line">               lt-&gt;tm_mday,</span><br><span class="line">               lt-&gt;tm_hour,</span><br><span class="line">               lt-&gt;tm_min,</span><br><span class="line">               pdirent-&gt;d_name</span><br><span class="line">                   );</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday05_02</title>
    <url>/category/39Linuxday05_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础011"><a href="#Linux基础011" class="headerlink" title="Linux基础011"></a>Linux基础011</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 文件里面存放了5行数据，使用追加模式打开文件，打印前3行，并写入一行，期间使用ftell打印当前位置。</li><li>(b). 修改文件的权限，注意必须使用命令行参数。</li><li>(c). 打印当前目录，然后改变当前目录，再打印当前目录。</li><li>(d). 创建一个目录，然后删除掉它。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line">man -f fopen/ftell    <span class="comment">//查看对应的系统接口在哪个帮助手册</span></span><br><span class="line">	file：就是系统命令</span><br><span class="line">	permission：就是提供给用户的接口，可以进行系统编程</span><br><span class="line">shift+insert  <span class="comment">//win到vim</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chmod中有 mode_t mode,如何查看mode_t的相关信息</span><br><span class="line">	vim chmod<span class="selector-class">.c</span>  <span class="comment">//里面导入chmod的头文件</span></span><br><span class="line">	gcc -E chmod<span class="selector-class">.c</span> -o chmod.i</span><br><span class="line">	grep -nE <span class="string">"mode_t"</span> chmod.i</span><br><span class="line">	<span class="comment">//或者在用时vimplus会提示</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    FILE *fp = fopen(argv[<span class="number">1</span>],<span class="string">"a+"</span>);</span><br><span class="line">    ERROR_CHECK(fp,<span class="literal">NULL</span>,<span class="string">"fopen"</span>); </span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">200</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"before fgets, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line">        fgets(str,<span class="keyword">sizeof</span>(str),fp);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s"</span>,str);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"after fgets, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line"><span class="comment">//        if(str[strlen(str)-1]=='\n')</span></span><br><span class="line">  <span class="comment">//           str[strlen(str)-1]=0;</span></span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    fseek(fp,<span class="number">0</span>,SEEK_SET);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before fputs, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">"me too"</span>,fp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after fputs, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//./chmod 0600 file</span></span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> mode;</span><br><span class="line">    <span class="built_in">sscanf</span>(argv[<span class="number">1</span>],<span class="string">"%o"</span>,&amp;mode);</span><br><span class="line">    <span class="keyword">int</span> ret=chmod(argv[<span class="number">2</span>],mode);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chmod"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">int</span> ret=chdir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="built_in">mkdir</span>(argv[<span class="number">1</span>],<span class="number">0777</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"mkdir"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="built_in">rmdir</span>(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday06_01</title>
    <url>/category/39Linuxday06_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础013"><a href="#Linux基础013" class="headerlink" title="Linux基础013"></a>Linux基础013</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现tree命令的效果。</li><li>(b). (选做)实现cp -r命令的效果。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">treePrint</span><span class="params">(<span class="keyword">char</span>* pathname,<span class="keyword">int</span> <span class="built_in">width</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">char</span> temp_path[<span class="number">512</span>]={<span class="number">0</span>};</span><br><span class="line">    DIR* dirp=opendir(pathname);</span><br><span class="line">    ERROR_CHECK(dirp,<span class="literal">NULL</span>,<span class="string">"opendir"</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dirent</span>* <span class="title">pdirent</span>;</span></span><br><span class="line">    <span class="keyword">while</span>((pdirent=readdir(dirp))!=<span class="literal">NULL</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(pdirent-&gt;d_name,<span class="string">"."</span>)==<span class="number">0</span>||<span class="built_in">strcmp</span>(pdirent-&gt;d_name,<span class="string">".."</span>)==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%*s%s%s\n"</span>,<span class="built_in">width</span><span class="number">-5</span>,<span class="string">""</span>,<span class="string">"|----"</span>,pdirent-&gt;d_name);</span><br><span class="line">            <span class="keyword">if</span>(pdirent-&gt;d_type==<span class="number">4</span>)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">sprintf</span>(temp_path,<span class="string">"%s%s%s"</span>,pathname,<span class="string">"/"</span>,pdirent-&gt;d_name);</span><br><span class="line">                treePrint(temp_path,<span class="built_in">width</span>+<span class="number">5</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    closedir(dirp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,argv[<span class="number">1</span>]);</span><br><span class="line">    treePrint(argv[<span class="number">1</span>],<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;      //有空再改，因为考虑的情况比较多</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cpr</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dir_src</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_file</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_dir</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    cpr(argv[<span class="number">1</span>],argv[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dir_src</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"dir"</span>); </span><br><span class="line">   <span class="comment">// char temp_path[512]={0};</span></span><br><span class="line">   <span class="comment">// DIR* dirp=opendir(dir_src);</span></span><br><span class="line">   <span class="comment">// ERROR_CHECK(dirp,NULL,"opendir");</span></span><br><span class="line">   <span class="comment">// struct dirent* pdirent;</span></span><br><span class="line">   <span class="comment">// </span></span><br><span class="line">   <span class="comment">//     int ret2=chdir(argv[1]);</span></span><br><span class="line">   <span class="comment">//     ERROR_CHECK(ret2,-1,"chdir");</span></span><br><span class="line">   <span class="comment">//     int ret3=mkdir(pdirent-&gt;d_name,statbuf.st_mode&amp;4095);</span></span><br><span class="line">   <span class="comment">//     ERROR_CHECK(ret3,-1,"mkdir");</span></span><br><span class="line">   <span class="comment">//     if(strcmp(pdirent-&gt;d_name,".")==0||strcmp(pdirent-&gt;d_name,"..")==0) continue;</span></span><br><span class="line">   <span class="comment">//             sprintf(temp_path,"%s%s%s",pathname,"/",pdirent-&gt;d_name);</span></span><br><span class="line">   <span class="comment">//             treePrint(temp_path,width+5);</span></span><br><span class="line">   <span class="comment">//         }</span></span><br><span class="line">   <span class="comment">//     }</span></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_file</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret1=<span class="built_in">open</span>(src,O_RDONLY);</span><br><span class="line">    ERROR_CHECK(ret1,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> ret2=<span class="built_in">open</span>(dest,O_WRONLY|O_CREAT|O_TRUNC);</span><br><span class="line">    ERROR_CHECK(ret2,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_dir</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cpr</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">statbuf1</span>;</span></span><br><span class="line">    <span class="keyword">int</span> ret1=stat(src,&amp;statbuf1);</span><br><span class="line">    ERROR_CHECK(ret1,<span class="number">-1</span>,<span class="string">"stat"</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">statbuf2</span>;</span></span><br><span class="line">    <span class="keyword">int</span> ret2=stat(dest,&amp;statbuf2);</span><br><span class="line">    ERROR_CHECK(ret2,<span class="number">-1</span>,<span class="string">"stat"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(statbuf1.st_mode&gt;&gt;<span class="number">12</span>==<span class="number">4</span>)  dir_src(src,dest);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(statbuf2.st_mode&gt;&gt;<span class="number">12</span>!=<span class="number">4</span>)</span><br><span class="line">            file_file(src,dest);</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            file_dir(src,dest);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday07_01</title>
    <url>/category/39Linuxday07_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础014"><a href="#Linux基础014" class="headerlink" title="Linux基础014"></a>Linux基础014</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 定义一个学生结构体类型struct student，里边含有学号，姓名，分数，定义结构体数组struct student s[3],给数组赋初值后，写入文件，然后通过lseek偏移到开头，然后再读取进行打印输出</li><li>(b). 新建一个文件，里边内容为hello，通过mmap映射该文件后，修改hello为world，然后解除映射。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">char</span> noName[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">double</span> score;</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[3]=</span></span><br><span class="line"><span class="class">    {</span></span><br><span class="line">        {<span class="string">"16130188039"</span>,<span class="string">"chen"</span>,<span class="number">90</span>},</span><br><span class="line">        {<span class="string">"16130188028"</span>,<span class="string">"shi"</span>,<span class="number">98</span>},</span><br><span class="line">        {<span class="string">"16130188020"</span>,<span class="string">"wang"</span>,<span class="number">95</span>}</span><br><span class="line">    };</span><br><span class="line">    </span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(argv[<span class="number">1</span>], O_RDWR|O_CREAT|O_TRUNC,<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(fd,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1024</span>]={<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    {</span><br><span class="line">    	<span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">sprintf</span>(buf,<span class="string">"%s%5s% lf\n"</span>,s[i].noName,s[i].name,s[i].score);</span><br><span class="line">        <span class="built_in">write</span>(fd,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span> ret=lseek(fd,<span class="number">0</span>,SEEK_SET);</span><br><span class="line">    <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">    <span class="built_in">read</span>(fd,buf,<span class="keyword">sizeof</span>(buf));     <span class="comment">//遇到\n不停止</span></span><br><span class="line">    <span class="built_in">puts</span>(buf);</span><br><span class="line">    <span class="built_in">close</span>(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(argv[<span class="number">1</span>], O_RDWR|O_CREAT|O_TRUNC,<span class="number">0666</span>);   <span class="comment">//创建文件都药给个权限</span></span><br><span class="line">    ERROR_CHECK(fd,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="built_in">write</span>(fd,<span class="string">"hello"</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">char</span> *p = (<span class="keyword">char</span> *)mmap(<span class="literal">NULL</span>,<span class="number">5</span>,PROT_READ|PROT_WRITE,MAP_SHARED,fd,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(p,MAP_FAILED,<span class="string">"mmap"</span>);</span><br><span class="line">    <span class="comment">//p[0] ~ p[4]是属于映射区的</span></span><br><span class="line">   <span class="comment">// p[5] = '\0';</span></span><br><span class="line">    <span class="built_in">strcpy</span>(p,<span class="string">"world"</span>);</span><br><span class="line">    munmap(p,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">close</span>(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday07_02</title>
    <url>/category/39Linuxday07_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础015"><a href="#Linux基础015" class="headerlink" title="Linux基础015"></a>Linux基础015</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 将标准输出重定向到log1文件，标准错误输出重定向到log2文件。</li><li>(b). 通过mkfifo命令新建两个管道文件，然后两个进程通过管道文件实现简陋即时聊天效果。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fd1=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd1,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">int</span> fd2=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd2,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> fd3=<span class="number">10</span>,fd4=<span class="number">11</span>;</span><br><span class="line">    dup2(STDOUT_FILENO,fd3);</span><br><span class="line">    dup2(fd1,STDOUT_FILENO);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"stdout\n"</span>);    <span class="comment">//瑕佸甫\n涓嶇劧鍐欎笉杩涘幓锛宭inux bug</span></span><br><span class="line">    dup2(fd3,STDOUT_FILENO);</span><br><span class="line">    <span class="built_in">close</span>(fd1);</span><br><span class="line">    <span class="built_in">close</span>(fd3);</span><br><span class="line"></span><br><span class="line">    dup2(STDERR_FILENO,fd4);</span><br><span class="line">    dup2(fd2,STDERR_FILENO);</span><br><span class="line">    perror(<span class="string">"stderr"</span>);</span><br><span class="line">    dup2(fd4,STDOUT_FILENO);</span><br><span class="line">    <span class="built_in">close</span>(fd2);</span><br><span class="line">    <span class="built_in">close</span>(fd4);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//mkfifo 1.pipe</span></span><br><span class="line"><span class="comment">//mkfifo 2.pipe</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//chat1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDONLY);</span><br><span class="line">    ERROR_CHECK(fdr,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_WRONLY);</span><br><span class="line">    ERROR_CHECK(fdw,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]={<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"get message from lichen:"</span>);</span><br><span class="line">        <span class="built_in">puts</span>(buf);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//chat1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_WRONLY);</span><br><span class="line">    ERROR_CHECK(fdw,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_RDONLY);</span><br><span class="line">    ERROR_CHECK(fdr,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]={<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">puts</span>(buf);</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"get message from chenlipeng:"</span>);</span><br><span class="line">        <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday07_03</title>
    <url>/category/39Linuxday07_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础016"><a href="#Linux基础016" class="headerlink" title="Linux基础016"></a>Linux基础016</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现即时聊天，要求显示对方发送的消息的本地时间。此外，如果一方1分钟未发送消息，应该主动断开连接。</li><li>(b). 实现管道写阻塞的监听。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//chenlipeng.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDONLY);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_WRONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]={<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">timeout</span>;</span></span><br><span class="line">        timeout.tv_sec=<span class="number">60</span>;</span><br><span class="line">        <span class="keyword">int</span> ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,&amp;timeout);</span><br><span class="line">        <span class="keyword">if</span>(ret==<span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"timeout"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));<span class="comment">//read会读入\n</span></span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>);<span class="comment">//所以要减去最后的\n</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"get message from lichen:"</span>);</span><br><span class="line">            <span class="built_in">puts</span>(buf);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//lichen.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_WRONLY);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_RDONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]={<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">timeout</span>;</span></span><br><span class="line">        timeout.tv_sec=<span class="number">60</span>;</span><br><span class="line">        <span class="keyword">int</span> ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,&amp;timeout);</span><br><span class="line">        <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>; </span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"timeout"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"get message from chenlipeng:"</span>);</span><br><span class="line">            <span class="built_in">puts</span>(buf);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDWR);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDWR);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    fd_set wrset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]={<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> cnt_r=<span class="number">0</span>,cnt_w=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_ZERO(&amp;wrset);    </span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        FD_SET(fdw,&amp;wrset);</span><br><span class="line">        select(fdw+<span class="number">1</span>,&amp;rdset,&amp;wrset,<span class="literal">NULL</span>,<span class="literal">NULL</span>);   <span class="comment">//写阻塞</span></span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="built_in">read</span>(fdr,buf,<span class="number">2048</span>);</span><br><span class="line">            cnt_r++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"I can read %d\n"</span>,cnt_r);</span><br><span class="line">            sleep(<span class="number">2</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdw,&amp;wrset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="number">4096</span>);</span><br><span class="line">            cnt_w++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"I can write %d\n"</span>,cnt_w);</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday08_01</title>
    <url>/category/39Linuxday08_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础017"><a href="#Linux基础017" class="headerlink" title="Linux基础017"></a>Linux基础017</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是进程？进程和程序文件有哪些差异？</li><li>(b). 编写程序，打印当前进程pid，父进程pid，真实用户ID，真实组ID，有效用户ID，有效组ID。</li><li>(c). A用户编写一个程序，用来往file文件中写入内容hello，然后编译后，增加s权限，这时B用户执行该程序，能够往file文件中写入hello。</li><li>(d). 创建一个目录，通过设置粘滞位，让用户只能删除自己创建的文件，不能删除其他用户的文件。</li><li>(e). 后台运行一个进程，用命令拉回到前台，再使其变成T状态在后台挂起，再让它后台继续运行，然后通过kill命令杀掉。提交操作记录。</li><li>(f). 验证ps命令显示的是有效用户ID，还是真实用户ID。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">程序是静态的</span><br><span class="line">进程是一个程序动态执行的过程</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前进程的pid:%d,父进程的pid:%d\n"</span>,getpid(),getppid());</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前进程的真实用户id:%d,真实组id:%d\n"</span>,getuid(),getgid());</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前进程的有效用户id:%d,有效组id:%d\n"</span>,geteuid(),getegid());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//chmod u+s getuid  该文件运行时，修改自己的有效用户id为文件拥有者的id,使得其他用户也可以运行文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//chmod g+s getgid  该文件运行时，修改自己的有效组id为文件拥有者的组id,使得同一个组的其他用户也可以运行文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//chmod o+w dir  让目录有写权限</span></span><br><span class="line"><span class="comment">//chmod o+t dir  让非root的其他用户，不能删除别人创建的文件</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"uid = %d, euid = %d\n"</span>, getuid(), geteuid());</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"gid = %d, egid = %d\n"</span>, getgid(), getegid());</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(<span class="string">"file1"</span>, O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="built_in">write</span>(fd,<span class="string">"hello"</span>,<span class="number">5</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"write"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">默认优先级是<span class="number">80</span>,数值越低，优先级越高</span><br><span class="line">Pri=<span class="number">80</span>+nice</span><br><span class="line">普通调度策略：</span><br><span class="line">	非root用户，nice只能为正数</span><br><span class="line">	root用户可以</span><br><span class="line">实时调度策略：</span><br><span class="line">修改nice值不会改变调度策略</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">kill -l  <span class="comment">//以什么方式终止进程</span></span><br><span class="line">kill <span class="number">-9</span>  <span class="number">57260</span> <span class="comment">//以异常方式终止进程</span></span><br><span class="line">前台：直接接受键盘信号的称为前台，其他称为后台</span><br><span class="line">ctrl+c：终止信号，ctrl+z:暂停信号</span><br><span class="line">./<span class="keyword">while</span> &amp;     <span class="comment">//运行当前目录下while的后台进程</span></span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/qht.jpg" height="250" width="550"><ul><li>(f)</li></ul><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">crontab -e    <span class="comment">//定期执行任务</span></span><br><span class="line"><span class="comment">//分钟（0～60）、小时（0～23）、日期（1～31）、月份（1～12）、周（0～7 0和7都代表周日）和要执行的命令</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>遇到\n输出缓冲区</span><br><span class="line"><span class="keyword">int</span> x=atoi(<span class="keyword">char</span>字符串)   <span class="comment">//将char转为对应的int</span></span><br><span class="line"></span><br><span class="line">system 函数以及从bash或者是其他shell启动进程的本质就是fork+exec </span><br><span class="line"></span><br><span class="line"><span class="comment">//execl("./add","add","3","4",(char *)0);</span></span><br><span class="line"><span class="keyword">char</span> *<span class="keyword">const</span> argv[] = {<span class="string">"add"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="literal">NULL</span>};</span><br><span class="line">execv(<span class="string">"./add"</span>,argv);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"you can not see me!\n"</span>);   <span class="comment">//这句话并不会打印</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday10_01</title>
    <url>/category/39Linuxday10_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础day10作业"><a href="#Linux基础day10作业" class="headerlink" title="Linux基础day10作业"></a>Linux基础day10作业</h1><p>概念题：</p><ol><li>无名管道和命名管道有哪些特点和区别？</li><li>共享内存相比管道的优点？</li></ol><p>代码题：</p><ol><li>新建共享内存，连接，然后往共享内存写入How are you,然后另外一个进程连接共享内存，读取数据并打印显示,最后删除共享内存。</li></ol><p>预习：</p><ol><li>预习进程间通信方式-信号量、消息队列</li></ol><a id="more"></a><h3 id="概念题"><a href="#概念题" class="headerlink" title="概念题"></a>概念题</h3><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">无名管道：</span><br><span class="line"><span class="number">1.</span> 无名管道只能在有亲缘关系之间的进程进行通信（父子，兄弟）</span><br><span class="line"><span class="number">2.</span> 半双工</span><br><span class="line"><span class="number">3.</span> 依赖于文件系统，生命周期随进程的结束而结束</span><br><span class="line"><span class="number">4.</span> 管道是基于字节流来通信的，数据没有边界，多次写管道，数据是粘在一起的。</span><br><span class="line"><span class="number">5.</span> 管道关闭读端，写管道，程序回收到SIGPIPE信号，进程的退出码是<span class="number">141</span>，（echo $? 查看进</span><br><span class="line">程退出，若大于<span class="number">128</span>，就说明，进程是被信号打断的）</span><br><span class="line"><span class="number">6.</span> 关闭管道的写端，使用read读管道，那么read会变成非阻塞的，返回<span class="number">0</span>；</span><br><span class="line"></span><br><span class="line">有名管道（命名管道）：</span><br><span class="line"><span class="number">1.</span> 可以在非亲缘关系的进程间通信</span><br><span class="line"><span class="number">2.</span> 是一种特殊类型的文件，不会随着进程的结束而消失。</span><br></pre></td></tr></tbody></table></figure><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/bj.png"><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">共享内存所映射的进程结束了，共享内存的硬链接数可能为减到<span class="number">0</span>，但共享内存并没有因为进程结束而消失。</span><br></pre></td></tr></tbody></table></figure><h3 id="代码题"><a href="#代码题" class="headerlink" title="代码题"></a>代码题</h3><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//shm_1.c  让key相同两个进程就指向了同一块共享内存</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> shmid = shmget(<span class="number">1000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//讲共享内存映射到本进程的地址空间</span></span><br><span class="line">    <span class="keyword">char</span> *p = (<span class="keyword">char</span>*)shmat(shmid, <span class="literal">NULL</span>, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(p, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(p,<span class="string">"How are you"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//shm_2.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> shmid = shmget(<span class="number">1000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//讲共享内存映射到本进程的地址空间</span></span><br><span class="line">    <span class="keyword">char</span> *p = (<span class="keyword">char</span>*)shmat(shmid, <span class="literal">NULL</span>, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(p, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s"</span>,p); </span><br><span class="line">    <span class="comment">//删除共享内存</span></span><br><span class="line">    <span class="keyword">int</span> ret = shmctl(shmid, IPC_RMID, <span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"shmctl"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday09_01</title>
    <url>/category/39Linuxday09_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础019"><a href="#Linux基础019" class="headerlink" title="Linux基础019"></a>Linux基础019</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 思考一下WIFEXITED(wstatus)和WEXITSTATUS(wstatus)是怎么实现的？</li><li>(b). 进程、进程组、会话的关系是什么样的？bash进程和进程组的关系？进程组、会话和控制终端的关系？</li><li>(c). 守护进程和后台进程组的区别是什么？</li><li>(d). 通过execl拉起来一个进程，传递两个数字，比如15和65。被拉起的进程创建一个随机数，该随机数的范围在15-65之间。</li><li>(e). 写一个mysystem程序，实现跟system函数类似的功能。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">WIFEXITED(wstatus)  <span class="comment">//如果子进程正常退出返回非0</span></span><br><span class="line">WEXITSTATUS(wstatus)  <span class="comment">//子进程正常退出的返回值</span></span><br><span class="line">wstatus是一个<span class="number">32</span>位的整数，其中<span class="number">24</span>位用来保存进程的退出状态，<span class="number">8</span>位用来保存进程正常结束时的返回值</span><br><span class="line"></span><br><span class="line">getpgid(<span class="number">0</span>)  <span class="comment">//获取本进程所在组id</span></span><br><span class="line">子进程创建出来，它就被归到父进程所在的进程组中</span><br><span class="line">setpid(<span class="number">0</span>,<span class="number">0</span>);  <span class="comment">//子进程可用于创建新的进程组，</span></span><br><span class="line"></span><br><span class="line">前台进程会被键盘输入的信号所影响，而后台不会。</span><br><span class="line">前台进程组：<span class="number">0</span>~<span class="number">1</span>组，后台进程组：<span class="number">0</span>~多个</span><br><span class="line">如果父子进程在同一个进程组，ctrl+c可以终止两个进程</span><br><span class="line">如果子进程在另一个进程组，ctrl+c终止父进程</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">会话是进程组的集合，进程组是进程的集合</span><br><span class="line">使用bash创建的进程，被创建的进程是bash的子进程，随后该进程新建了一个进程组，并任组长</span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">守护进程(Daemon)是在后台运行的一种特殊进程，它脱离于终端，从而这可避免进程被任何终端所产生的信号打断，它在执行进程中的产生信息也不在任何终端上显示。守护进程周期性地执行某种任务或等待处理某些发生的事件。</span><br><span class="line">	<span class="number">1</span>：守护进程已经完全脱离终端的控制，当终端关闭时，并不影响守护进程的运行；而后台进程是受终端的影响的，只是不会接受键盘的中断信号，当终端关闭，后台进程也运行结束；不同终端上看到的后台进程是不同的；</span><br><span class="line">	<span class="number">2</span>：守护进程创建时，其父进程一定已经结束，因此守护进程一定是孤儿进程，守护进程的会话组，文件描述符都是独立的。而后端进程并不是。</span><br><span class="line">	<span class="number">3.</span>后台进程组在当前会话之内，运行在后台的进程组，用jobs命令可查看</span><br><span class="line">	  守护进程脱离当前会话，不受任何终端控制，默默运行在后台的服务进程，一般以d结尾，如sshd</span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//execl.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before execl, you can see me!\n"</span>);</span><br><span class="line">    execl(<span class="string">"./rand"</span>,<span class="string">"./rand"</span>,<span class="string">"15"</span>,<span class="string">"65"</span>,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after execl, you can't see me!\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//rand.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> num1=atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">int</span> num2=atoi(argv[<span class="number">2</span>]);</span><br><span class="line">    srand(time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,rand()%(num2-num1)+num1);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>(e)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//测试命令</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">pid_t</span> pid=fork();</span><br><span class="line">    <span class="keyword">if</span>(pid==<span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        execl(<span class="string">"/bin/./bash"</span>,<span class="string">"/bin/./bash"</span>,<span class="string">"-c"</span>,argv[<span class="number">1</span>],<span class="literal">NULL</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday08_02</title>
    <url>/category/39Linuxday08_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础018"><a href="#Linux基础018" class="headerlink" title="Linux基础018"></a>Linux基础018</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是孤儿进程，什么是僵尸进程，他们对操作系统有什么影响？</li><li>(b). 进程的结束方式有哪些？return和exit有什么区别？</li><li>(c). 请问下面的程序一共输出多少个“-”<pre><code>int main()
{
    int i=0;
    for(i=0;i&lt;2;i++)
    {
        fork();
        printf("-");
    }
    return 0;
}</code></pre></li><li>(d). 上题中的printf(“-“)换成printf(“-\n”)；程序会输出多少个“-”?思考一下为什么？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">孤儿进程：子进程的父进程先挂了，它被<span class="number">1</span>号进程（init）收养了，子进程结束后，它的资源由新父亲（init）回收，但在init结束子进程之前，会一直占用资源</span><br><span class="line">僵尸进程：子进程结束，父进程很忙，都没时间回收资源（wait/waitpid），子进程就会成为僵尸进程</span><br></pre></td></tr></tbody></table></figure><ul><li>(b)</li></ul><figure class="highlight isbl"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">waitpid</span>()返回值非<span class="number">0</span>：子进程终止了</span></span><br><span class="line"><span class="function"><span class="title">waitpid</span>()返回值为<span class="number">0</span>：子进程还没终止</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">在<span class="variable">main</span>中调用<span class="variable">return</span> 正常终止进程</span></span><br><span class="line"><span class="function">调用<span class="title"><span class="built_in">exit</span></span>()  正常终止进程  但<span class="title"><span class="built_in">exit</span></span>()会清空<span class="variable">stdout</span></span></span><br><span class="line"><span class="function">调用<span class="title">_exit</span>()/<span class="title">_Exit</span>()  正常终止进程  但会丢弃<span class="variable">stdout</span></span></span><br><span class="line"><span class="function"><span class="title">abort</span>()  异常终止进程   </span></span><br><span class="line"><span class="function">接收到异常终止信号    异常终止进程</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(c)</li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">8</span></span><br></pre></td></tr></tbody></table></figure><ul><li>(d)</li></ul><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>遇到\n会输出<span class="built_in">stdout</span>内容</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday12_01</title>
    <url>/category/39Linuxday12_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础day12作业"><a href="#Linux基础day12作业" class="headerlink" title="Linux基础day12作业"></a>Linux基础day12作业</h1><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>使用sigaction实现信号不断重入的执行效果(来回打断的效果)。</li><li>实现一个简单的bash程序，2号信号到来时，打印一下当前的路径，可以创建子进程执行其他程序，父进程等待（其他内容自己添加，比如输入exit就退出，ls命令等等。）</li></ol><a id="more"></a><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//signal(2, SIG_DFL)) 接收到2号信号，则按照信号默认的行为去处理</span></span><br><span class="line"><span class="comment">//signal(2, SIG_IGN)) 接收到2号信号，则忽略ctrl+c信号,要终止进程可以用ctrl+\</span></span><br><span class="line"><span class="comment">//SIGSTOP和SIGKILL信号不能被捕获</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newFunc</span><span class="params">(<span class="keyword">int</span> signum,<span class="keyword">siginfo_t</span>* <span class="keyword">info_t</span>,<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before sleep sig %d\n"</span>,signum);</span><br><span class="line">    sleep(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after sleep sig %d\n"</span>,signum);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">act</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;act,<span class="number">0</span>,<span class="keyword">sizeof</span>(act));</span><br><span class="line"></span><br><span class="line">    act.sa_sigaction = newFunc;</span><br><span class="line">    act.sa_flags = SA_SIGINFO;</span><br><span class="line">    </span><br><span class="line">    ret = sigaction(SIGINT,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction1"</span>);</span><br><span class="line">    </span><br><span class="line">    ret = sigaction(SIGQUIT,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = sigaction(SIGTSTP,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction3"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//mybash.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newFunc</span><span class="params">(<span class="keyword">int</span> signum,<span class="keyword">siginfo_t</span>* <span class="keyword">info_t</span>,<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前路径是：%s\n"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">if</span>(fork())</span><br><span class="line">    {</span><br><span class="line">    	wait(<span class="literal">NULL</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">    	execl(<span class="string">"./1"</span>,<span class="string">"./1"</span>,<span class="literal">NULL</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">act</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;act,<span class="number">0</span>,<span class="keyword">sizeof</span>(act));</span><br><span class="line"></span><br><span class="line">    act.sa_sigaction = newFunc;</span><br><span class="line">    act.sa_flags = SA_SIGINFO;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> ret = sigaction(SIGINT,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1024</span>]={<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,buf);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(buf,<span class="string">"exit"</span>)==<span class="number">0</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(buf,<span class="string">"ls"</span>)==<span class="number">0</span>) system(<span class="string">"ls"</span>); </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday11_01</title>
    <url>/category/39Linuxday11_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux基础day11作业"><a href="#Linux基础day11作业" class="headerlink" title="Linux基础day11作业"></a>Linux基础day11作业</h1><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>什么是同步？什么是互斥？什么是临界区？什么是临界资源？</li><li>system V IPC方式有哪些？各自的特点是什么？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>使用二进制信号量，让两个进程对同一个数各加1千万次之后，最终每次执行结果都是2千万，看一下需要耗时多长时间。</li><li>使用计数信号量，实现生产者消费者模式。（把上课对商品和货架的一个原子操作，改成两个原子操作方式）</li><li>如果有进程正在使用一个信号量集合中的信号量，此时可以把信号量集合删除吗？写个程序验证你的想法。</li><li>编写一组程序，创建消息队列，实现以下的功能：<pre><code>1：可以按照不同的mtype类型去发送消息，接收消息。
2：可以无差别的接收整个队列中的消息。
3：不阻塞的接收消息。
4：删除消息队列。</code></pre></li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><ol><li><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">同步是直接制约关系，互斥是间接制约关系</span><br><span class="line">临界区：访问临界资源的代码，临界区需要互斥访问</span><br><span class="line">临界资源：进程之间需要互斥访问的资源</span><br></pre></td></tr></tbody></table></figure></li><li></li></ol><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">共享内存：数据没有边界的</span><br><span class="line">信号量：耗时</span><br><span class="line">消息队列：数据是有边界的</span><br></pre></td></tr></tbody></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><ol><li></li></ol><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//要用共享内存！</span></span><br><span class="line"><span class="comment">//将共享内存映射到进程地址空间的指针的基类型应该为int</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10000000</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{   </span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> shmid = shmget(<span class="number">1000</span>,<span class="number">4</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(shmid,<span class="number">-1</span>,<span class="string">"shmid"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>* str = (<span class="keyword">int</span>* )shmat(shmid,<span class="literal">NULL</span>,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(str,(<span class="keyword">void</span>*)<span class="number">-1</span>,<span class="string">"shmat"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(str,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));  <span class="comment">//对指针memset</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">2000</span>, <span class="number">1</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETVAL,<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">p</span>,<span class="title">v</span>;</span></span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    p.sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">    p.sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">    p.sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">    v.sem_num = <span class="number">0</span>;</span><br><span class="line">    v.sem_op = +<span class="number">1</span>;</span><br><span class="line">    v.sem_flg = SEM_UNDO;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork()) <span class="comment">//父进程</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;p,<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line">        </span><br><span class="line">            (*str)++;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;v,<span class="number">1</span>);  <span class="comment">//第二个参数传的地址，第三个参数当前是一个信号量</span></span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sum:%d\n"</span>,*str);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%llds"</span>, time_end - time_beg);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">//子进程</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;p,<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line">        </span><br><span class="line">            (*str)++;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;v,<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{   </span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">2000</span>, <span class="number">2</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">unsigned</span> short arr[<span class="number">2</span>]={<span class="number">0</span>,<span class="number">5</span>};</span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETALL,arr);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">sop</span>[2];</span> <span class="comment">//结构体初始化用memset</span></span><br><span class="line">    <span class="built_in">memset</span>(sop,<span class="number">0</span>,<span class="keyword">sizeof</span>(sop));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork()) <span class="comment">//父进程</span></span><br><span class="line">    {</span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">0</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"生产者：商品数量：%d,货架数量：%d\n"</span>,semctl(semid,<span class="number">0</span>,GETVAL),semctl(semid,<span class="number">1</span>,GETVAL));</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">//子进程</span></span><br><span class="line">    {</span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">0</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">            wait(<span class="literal">NULL</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"消费者：商品数量：%d,货架数量：%d\n"</span>,semctl(semid,<span class="number">0</span>,GETVAL),semctl(semid,<span class="number">1</span>,GETVAL));</span><br><span class="line">            sleep(<span class="number">2</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li></li></ol><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{   </span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">2000</span>, <span class="number">2</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">unsigned</span> short arr[<span class="number">2</span>]={<span class="number">1</span>,<span class="number">2</span>};</span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETALL,arr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">2</span>;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"arr[%d]:%d\n"</span>,i,semctl(semid,i,GETVAL));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"信号量集合以创建\n"</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">sop</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(sop,<span class="number">0</span>,<span class="keyword">sizeof</span>(sop));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork()) <span class="comment">//父进程</span></span><br><span class="line">    {</span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line"></span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">0</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">//子进程</span></span><br><span class="line">    {</span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;</span><br><span class="line">        semctl(semid,<span class="number">0</span>,IPC_RMID,arr);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="4"><li><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//删除消息队列 ipcrm -q  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//msg_rcv.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">10</span>];</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> mtype = atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//将msgrcv参数4改为0，则可以无差别接收</span></span><br><span class="line">    <span class="comment">//参数5改为IPC_NOWAIT,则可以无阻塞接收</span></span><br><span class="line">    ret = msgrcv(msgmid,&amp;mybuf,<span class="keyword">sizeof</span>(mybuf.mtext),mtype,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgrcv"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s %d\n"</span>,mybuf.mtext,ret);</span><br><span class="line">    </span><br><span class="line">    msgctl(msgmid,IPC_RMID,<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//msg_snd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">10</span>];</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line">    </span><br><span class="line">    mybuf.mtype = atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">strcpy</span>(mybuf.mtext,argv[<span class="number">2</span>]);</span><br><span class="line">    </span><br><span class="line">    ret = msgsnd(msgmid,&amp;mybuf,<span class="built_in">strlen</span>(mybuf.mtext),<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgsnd"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday13_01</title>
    <url>/category/39Linuxday13_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>什么是线程？线程和进程有哪些区别？各自的优缺点是什么？</li><li>为什么pthread_join的第二个参数是void**？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li><p>通过sigprocmask阻塞2号信号，睡眠5秒后，解除阻塞，2号信号得到执行；在睡眠后，解除阻塞之前，通过sigpending检测是否有信号挂起</p></li><li><p>使用真实计时器，实用计时器，统计程序执行时间，在实用计时器及虚拟计时器设定计时后，先睡眠，再让程序处于while(1)</p></li><li><p>实现一个自己的kill命令，传参时传入信号编号和进程id。</p></li><li><p>完成4窗口聊天</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">需求：</span><br><span class="line">通信方式：</span><br><span class="line">- <span class="number">4</span>个进程，A进程和B进程负责通信，从标准输入读到的字符串通过管道发给对方，A1和B1进程负责显示。</span><br><span class="line">- A进程从标准输入读到的字符串发给B进程后，放到共享内存里，从管道中读到的字符串也放到共享内存里，A1进程到共享内存中拿到字符串，打印到屏幕上。</span><br><span class="line">- B进程从标准输入读到的字符串发给A进程，同时通过消息队列发给B1进程，B1进程从消息队列中读出消息，打印到屏幕上。</span><br><span class="line">退出方式：</span><br><span class="line">- 第一种：可以通过ctrl+C退出，任意一个进程收到CTRL+C时，给所有进程（包括自己）发送<span class="number">10</span>号信号，每个进程收到<span class="number">10</span>号信号后，开始执行有序退出。</span><br><span class="line">- 第二种：通过kill命令给<span class="number">4</span>个进程中的任何一个进程发送<span class="number">10</span>号信号，收到信号的进程再给其他<span class="number">3</span>个进程发送<span class="number">10</span>号信号。每个进程在自己的信号处理函数中执行有序退出。</span><br><span class="line">有序退出的工作内容：</span><br><span class="line">- 有序退出要做的主要有：关闭管道，解除对共享内存的映射，删除共享内存，删除信号量，删除消息队列。</span><br><span class="line"></span><br><span class="line">  注意：A和A1进程都要访问共享内存，需要同信号量完成同步，所以退出时要也删除信号量。</span><br><span class="line">  提示：A1进程和B1进程需要知道每条消息是对方发来的消息还是发给对方的消息，用消息队列的一方可以通过mtype的值来标识，</span><br><span class="line">  用共享内存的进程可以自己定义一个类似 msgbuf的结构体，然后结构体中也用一个类似mtype的成员来标记。</span><br></pre></td></tr></tbody></table></figure></li><li><p>使用pthread_join接收子线程退出时，传出来的堆空间</p></li><li><p>使用pthread_join接收子线程退出时，传出来的栈空间</p></li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><ol><li><figure class="highlight x86asm"><table><tbody><tr><td class="code"><pre><span class="line">进程是资源分配的基本单位，每个进程拥有自己独立的资源（代码段，数据段，堆栈段），为了解决进程切换时<span class="meta">cpu</span>保存进程上下文的较大开销，引入线程。</span><br><span class="line">线程是<span class="meta">cpu</span>调度的基本单位，一个进程有一个主线程和（<span class="number">0</span>到多个）子线程，这些线程共享所属进程地址空间。</span><br><span class="line">此外，线程拥有少量的栈空间，所以线程不利于资源的管理和保护，而进程更利于资源的管理和保护的。</span><br></pre></td></tr></tbody></table></figure></li><li></li></ol><figure class="highlight reasonml"><table><tbody><tr><td class="code"><pre><span class="line">void pthread<span class="constructor">_exit(<span class="params">void</span> <span class="operator">*</span><span class="params">retval</span>)</span>里的retval是一个指针，在<span class="built_in">int</span> pthread<span class="constructor">_join(<span class="params">pthread_t</span> <span class="params">thread</span>, <span class="params">void</span> <span class="operator">**</span><span class="params">retval</span>)</span>中要改变指针的指向要用到二级指针</span><br></pre></td></tr></tbody></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><ol><li><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newFunc</span><span class="params">(<span class="keyword">int</span> sigNum, <span class="keyword">siginfo_t</span> * pInfo, <span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"new  sig %d is comming\n"</span>, sigNum);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">act</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;act, <span class="number">0</span>, <span class="keyword">sizeof</span>(act));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">sigset_t</span> <span class="built_in">set</span>;</span><br><span class="line">    sigemptyset(&amp;<span class="built_in">set</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//把2号信号放到阻塞集合当中</span></span><br><span class="line">    sigaddset(&amp;<span class="built_in">set</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用新类型</span></span><br><span class="line">    act.sa_sigaction = newFunc;</span><br><span class="line">    act.sa_flags = SA_SIGINFO;</span><br><span class="line"></span><br><span class="line">    ret = sigaction(<span class="number">2</span>, &amp;act, <span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"sigaction"</span>);</span><br><span class="line">    <span class="comment">//设置阻塞</span></span><br><span class="line">    sigprocmask(SIG_BLOCK, &amp;<span class="built_in">set</span>, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before sleep\n"</span>);</span><br><span class="line">    sleep(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after sleep\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">sigset_t</span> pending;</span><br><span class="line">    sigemptyset(&amp;pending);</span><br><span class="line">    sigpending(&amp;pending);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//sigismember成功返回1, 如果信号不在阻塞集合，返回0， 失败返回-1</span></span><br><span class="line">    <span class="keyword">if</span>(sigismember(&amp;pending, <span class="number">2</span>)){</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sig is pending\n"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//解除阻塞</span></span><br><span class="line">    sigprocmask(SIG_UNBLOCK, &amp;<span class="built_in">set</span>, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li></li></ol><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><ol start="3"><li><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//kill.c   ./kill 2 进程pid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = kill(atoi(argv[<span class="number">2</span>]), atoi(argv[<span class="number">1</span>]));</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"kill"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//while.c   ./while &amp; 后台执行进程   top显示耗cpu大的后台进程</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li></li></ol><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//A.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span> //自定义</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(<span class="string">"1.pipe"</span>,O_RDONLY);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(<span class="string">"2.pipe"</span>,O_WRONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> buf_shmid = shmget(<span class="number">2000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(buf_shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span>* <span class="title">mybuf</span> = (<span class="title">struct</span> <span class="title">myshmbuf</span>*)<span class="title">shmat</span>(<span class="title">buf_shmid</span>, <span class="title">NULL</span>, 0);</span></span><br><span class="line">    ERROR_CHECK(mybuf, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(struct myshmbuf));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">5000</span>, <span class="number">1</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETVAL,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">p</span>,<span class="title">v</span>;</span></span><br><span class="line"></span><br><span class="line">    p.sem_num = <span class="number">0</span>;</span><br><span class="line">    p.sem_op = <span class="number">-1</span>;</span><br><span class="line">    p.sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">    v.sem_num = <span class="number">0</span>;</span><br><span class="line">    v.sem_op = +<span class="number">1</span>;</span><br><span class="line">    v.sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">        semop(semid,&amp;p,<span class="number">1</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(mybuf-&gt;mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(STDIN_FILENO,mybuf-&gt;mtext,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));<span class="comment">//read会读入\n</span></span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,mybuf-&gt;mtext,<span class="built_in">strlen</span>(mybuf-&gt;mtext));</span><br><span class="line">                </span><br><span class="line">            mybuf-&gt;mtype = <span class="number">1</span>; <span class="comment">//A1要显示的消息来自标准输入</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(mybuf-&gt;mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">            ret=<span class="built_in">read</span>(fdr,mybuf-&gt;mtext,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;    </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s"</span>,mybuf-&gt;mtext);</span><br><span class="line">            mybuf-&gt;mtype = <span class="number">2</span>; <span class="comment">//A1要显示的消息来自B</span></span><br><span class="line">        }</span><br><span class="line">    </span><br><span class="line">        semop(semid,&amp;v,<span class="number">1</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//B.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(<span class="string">"1.pipe"</span>,O_WRONLY);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(<span class="string">"2.pipe"</span>,O_RDONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1024</span>]={<span class="number">0</span>};</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            ret=<span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line"></span><br><span class="line">            mybuf.mtype = <span class="number">1</span>;   <span class="comment">//B1要显示的消息来自标准输入</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            ret=<span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            </span><br><span class="line">            mybuf.mtype = <span class="number">2</span>;   <span class="comment">//B1要显示的消息来自A</span></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">memset</span>(mybuf.mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf.mtext));</span><br><span class="line">        <span class="built_in">strcpy</span>(mybuf.mtext,buf);</span><br><span class="line">        ret = msgsnd(msgmid,&amp;mybuf,<span class="built_in">strlen</span>(mybuf.mtext),<span class="number">0</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgsnd"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//A1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span> //自定义</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> buf_shmid = shmget(<span class="number">2000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(buf_shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span>* <span class="title">mybuf</span> = (<span class="title">struct</span> <span class="title">myshmbuf</span>*)<span class="title">shmat</span>(<span class="title">buf_shmid</span>,<span class="title">NULL</span>,0);</span></span><br><span class="line">    ERROR_CHECK(mybuf, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">5000</span>, <span class="number">1</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETVAL,<span class="number">1</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">p</span>,<span class="title">v</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    p.sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">    p.sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">    p.sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">    v.sem_num = <span class="number">0</span>;</span><br><span class="line">    v.sem_op = +<span class="number">1</span>;</span><br><span class="line">    v.sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        semop(semid,&amp;p,<span class="number">1</span>);                          </span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strlen</span>(mybuf-&gt;mtext))</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(mybuf-&gt;mtype==<span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">"从键盘输入了：%s"</span>,mybuf-&gt;mtext);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"B发送消息到A：%s"</span>,mybuf-&gt;mtext);</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">memset</span>(mybuf-&gt;mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">        semop(semid,&amp;v,<span class="number">1</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//B1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">memset</span>(mybuf.mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf.mtext));</span><br><span class="line">        ret = msgrcv(msgmid,&amp;mybuf,<span class="keyword">sizeof</span>(mybuf.mtext)<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>); </span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgrcv"</span>); </span><br><span class="line">        <span class="keyword">if</span>(mybuf.mtype == <span class="number">1</span>)  <span class="built_in">printf</span>(<span class="string">"从键盘输入了：%s"</span>,mybuf.mtext);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"A发送消息到B：%s"</span>,mybuf.mtext);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="5"><li><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">newFunc</span><span class="params">(<span class="keyword">void</span>* arg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am child\n"</span>);</span><br><span class="line">    <span class="keyword">char</span>* p = (<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">10</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    <span class="built_in">strcpy</span>(p,<span class="string">"hello"</span>);</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)p);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> pthread;</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;pthread,<span class="literal">NULL</span>,newFunc,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am father\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> *retval = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(pthread,(<span class="keyword">void</span>**)&amp;retval);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,(<span class="keyword">char</span>*)retval);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li></li></ol><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">newFunc</span><span class="params">(<span class="keyword">void</span>* arg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am child\n"</span>);</span><br><span class="line">    <span class="keyword">long</span> retVal = <span class="number">2</span>;</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)retVal);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> pthread;</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;pthread,<span class="literal">NULL</span>,newFunc,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am father\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> retval;</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(pthread,(<span class="keyword">void</span>**)&amp;retval);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%ld\n"</span>,(<span class="keyword">long</span>)retval);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday15_01</title>
    <url>/category/39Linuxday15_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h5 id="简答题："><a href="#简答题：" class="headerlink" title="简答题："></a>简答题：</h5><p>1、OSI模型有哪些层？TCP/IP模型有哪些层？他们之间的对应关系是怎样的？<br>2、TCP/IP协议族常见的协议有哪些？他们分别属于TCP/IP模型的哪一层？<br>3、TCP协议如何保证数据的可靠传输？<br>4、为什么TCP需要三次握手？两次握手为什么不行？<br>5、TCP断开连接时为什么是4次挥手？为什么主动断开的一方要经历TIME_WAIT状态？</p><h5 id="代码题："><a href="#代码题：" class="headerlink" title="代码题："></a><strong>代码题</strong>：</h5><ol><li>什么是大端模式和小端模式，什么是主机字节序和网络字节序，编写代码，验证一下自己的机器是大端模式还是小端模式。</li><li>把ip和端口的主机字节序和网络字节序相互转化一下。（上课代码，建议不看上课代码；要自己编写）</li></ol><h5 id="预习作业："><a href="#预习作业：" class="headerlink" title="预习作业："></a>预习作业：</h5><ul><li>预习一下网络编程课件剩下的内容，明天会讲到epoll</li></ul><a id="more"></a><p>简答题：</p><p>1.</p><figure class="highlight armasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="symbol">OSI</span>模型:  从上到下</span><br><span class="line">	应用层</span><br><span class="line">	表示层</span><br><span class="line">	会话层</span><br><span class="line">	传输层</span><br><span class="line">	网络层</span><br><span class="line">	数据链路层</span><br><span class="line">	物理层</span><br><span class="line"><span class="symbol">TCP</span>/<span class="built_in">IP</span>模型：</span><br><span class="line">	应用层：应用层、表示层、会话层</span><br><span class="line">	传输层</span><br><span class="line">	网络层</span><br><span class="line">	网络接口层：数据链路层、物理层</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">应用层: </span><br><span class="line">FTP、TELNET、DNS、SMTP、POP3	</span><br><span class="line">传输层：</span><br><span class="line">TCP、UDP</span><br><span class="line">网络层：</span><br><span class="line">IP、ICMP、Ping、ARP、RARP</span><br><span class="line">网络接口层：</span><br><span class="line">Ethernet 802.3、Token Ring 802.5、X.25、Frame reley、HDLC、PPP等。</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">序列号、确认重传、滑动窗口</span><br></pre></td></tr></tbody></table></figure><p>4.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">在网络状态较好，不会出现丢包的情况下，两次握手也可建立连接，但是一旦网络不稳定，就会出现问题</span><br><span class="line">三次握手的原因：</span><br><span class="line">	防止已失效的请求报文又到达对方</span><br><span class="line">	第三次握手是对第二次握手的确认，确保对方已建立和客户端的连接</span><br></pre></td></tr></tbody></table></figure><p>5.</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">4</span>次挥手也可以改为<span class="number">3</span>次的前提是在第一次挥手后，服务端没有数据需要传输了，第二次和第三次挥手可以合并为一次</span><br><span class="line"></span><br><span class="line">保证四次挥手顺利完成，能够正常关闭TCP连接</span><br><span class="line">防止已失效的请求报文段到达对方</span><br></pre></td></tr></tbody></table></figure><p><strong>代码题</strong>：</p><p>1.</p><figure class="highlight 1c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//大端是低位放在高地址</span></span><br><span class="line"><span class="comment">//小端是低位放在低地址</span></span><br><span class="line"><span class="comment">//主机字节序：数据在主机内存中的存放方式：小端和大端</span></span><br><span class="line"><span class="comment">//网络字节序：数据流发送时，采用大端方式，从低地址到高地址，接收时在接收缓冲区保存也采取从低到高的方式，这样保证了顺序</span></span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday14_01</title>
    <url>/category/39Linuxday14_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>概念题：</strong></p><ol><li>锁在使用时候注意事项有哪些？</li><li>三种互斥锁的特点？以及各自加锁解锁时的行为？</li><li>什么是死锁？如何避免？</li><li>pthread_cond_wait函数为什么要传递一个mutex的指针？描述一下pthread_cond_wait的上半部和下半部都做了哪些事？</li></ol><p><strong>编程题：</strong></p><ol><li>主线程定义一个整数num=0，创建2个子线程，通过传参的方式把num传给子线程，让两个子线程分别对这个num各加1000万次，每次加1。</li><li>我们知道线程访问一些资源时要先加锁，加锁成功的线程代表抢到了资源，那么多个线程竞争一把锁时，锁能不能保证公平性，能不能保证资源是平均分配给多个线程的？<strong>设计一个程序验证一下锁的公平性。</strong><br><strong>提示：</strong>把资源数量设定为一个值（越大越能体现公平），线程抢到锁，就对这个值减一，同时每个线程统计一下自己抢到的资源数量。最后做个对比，看看是不是每个线程分到的资源数量差不多。</li><li>编写一个生产者消费者卖票放票的程序，一个生产者，两个消费者，消费者有票就卖票，没有票时等待通知，生产者运行时如果发现没票了，就放票出来，然后通知消费者卖票。<strong>卖票线程要写退出机制</strong></li><li>编写一个生产者消费者卖票放票的程序，一个生产者，两个消费者，消费者有票就卖票，没有票时发送通知放票线程放票，生产者收到放票通知后，就放票出来，卖票线程要写退出机制</li><li>上面的模型(第四题)有点不合理的地方，卖票者需要一直运行，判断是否有余票，这样比较浪费资源。把上面的程序改变一下，使用两个条件变量，消费者卖完票后通知生产者，然后在1号条件变量上面等待生产者放票，生产者放票后通知消费者，然后在2号条件变量上面等待消费者把票卖完。</li></ol><a id="more"></a><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a><strong>概念题：</strong></h3><p>1.</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">不能对一把正在使用的锁进行销毁操作</span><br><span class="line">加锁一次：锁的引用值+<span class="number">1</span>；解锁时，引用计数<span class="number">-1</span>。锁的引用计数为<span class="number">0</span>的时候，锁才能被销毁。所以，对一把锁加锁<span class="number">1</span>次，连续解锁两次，destroy不会成功。</span><br><span class="line">pthread_mutex_lock是一个阻塞性函数。连续加锁会阻塞。</span><br><span class="line">自死锁：自己连续加锁两次。</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">普通锁、快速锁，pthread_mutex_init(&amp;mutex,</span> <span class="literal">NULL</span><span class="string">);</span></span><br><span class="line"></span><br><span class="line"><span class="string">pthread_mutexattr_t</span> <span class="string">attr;</span></span><br><span class="line"><span class="string">pthread_mutexattr_init(&amp;attr);</span></span><br><span class="line"><span class="string">pthread_mutexattr_settype(&amp;attr,</span> <span class="string">type)</span></span><br><span class="line"><span class="string">嵌套锁：可以对一把锁连续加锁多次</span>   <span class="string">type为PTHREAD_MUTEX_RECURSIVE</span></span><br><span class="line"><span class="string">检错锁：它可以检测最简单的自死锁，</span> <span class="string">还可以检测多余的解锁。</span>   <span class="string">type为PTHREAD_MUTEX_ERRORCHECK</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">加锁：</span></span><br><span class="line">   <span class="number">1</span><span class="string">.</span> <span class="string">对于普通锁：不允许连续加锁</span></span><br><span class="line">   <span class="number">2</span><span class="string">.</span> <span class="string">对于嵌套锁：可以连续加锁多次</span></span><br><span class="line">   <span class="number">3</span><span class="string">.</span> <span class="string">对于检错锁：加锁，连续加锁会返回错误码</span></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">解锁：</span></span><br><span class="line">   <span class="number">1</span><span class="string">.</span> <span class="string">对于普通锁：解锁者可以是同进程内任意线程</span></span><br><span class="line">   <span class="number">2</span><span class="string">.</span> <span class="string">对于嵌套锁：文档要求必须由加锁者解锁，但是同进程的任意线程也可以解锁</span></span><br><span class="line">   <span class="number">3</span><span class="string">.</span> <span class="string">对于检错锁：解锁者必须由加锁者解锁</span></span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight makefile"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">死锁:多个进程因竞争资源产生的僵局，若无外力的干预，则这些进程将无法继续向前推进</span></span><br><span class="line">破坏互斥、请求和保持、不可剥夺、循环等待条件中的任意一个即可</span><br></pre></td></tr></tbody></table></figure><p>4.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">因为pthread_cond_wait函数先要对当前线程资源解锁，并阻塞当前线程，然后收到条件成立信号后，不再阻塞，然后再对资源加锁，所以要用传递一个mutex的指针</span><br></pre></td></tr></tbody></table></figure><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10000000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add1Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">    {</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add1线程运行后num为：%d\n"</span>,*p1);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add2Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">    {</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add2线程运行后num为：%d\n"</span>,*p1);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>,num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> add1,add2;</span><br><span class="line"></span><br><span class="line">    pthread_mutex_init(&amp;mutex, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;add1, <span class="literal">NULL</span>, add1Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;add2, <span class="literal">NULL</span>, add2Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(add1, <span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join1"</span>);</span><br><span class="line">    ret = pthread_join(add2, <span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join2"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"最后的num为%d\n"</span>,num);</span><br><span class="line">    <span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lds\n"</span>, time_end - time_beg);</span><br><span class="line">    </span><br><span class="line">    ret = pthread_mutex_destroy(&amp;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//add1得到的资源数量为49881334   已经很公平了！</span></span><br><span class="line"><span class="comment">//add2得到的资源数量为50118666</span></span><br><span class="line"><span class="comment">//2s</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add1Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> num1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">while</span>(*p1)</span><br><span class="line">    {</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)--;</span><br><span class="line">        num1++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)num1);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add2Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> num2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">while</span>(*p1)</span><br><span class="line">    {</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)--;</span><br><span class="line">        num2++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)num2);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>,num = <span class="number">100000000</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> add1,add2;</span><br><span class="line"></span><br><span class="line">    pthread_mutex_init(&amp;mutex, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;add1, <span class="literal">NULL</span>, add1Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;add2, <span class="literal">NULL</span>, add2Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> retVal1,retVal2;</span><br><span class="line">    ret = pthread_join(add1,(<span class="keyword">void</span>**)&amp;retVal1);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join1"</span>);</span><br><span class="line">    ret = pthread_join(add2,(<span class="keyword">void</span>**)&amp;retVal2);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add1得到的资源数量为%ld\n"</span>,(<span class="keyword">long</span>)retVal1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add2得到的资源数量为%ld\n"</span>,(<span class="keyword">long</span>)retVal2);</span><br><span class="line">    <span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lds\n"</span>, time_end - time_beg);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> ticket_num;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond;</span><br><span class="line">    <span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">}Data_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale1func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"1窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_timedwait"</span>);</span><br><span class="line">        }</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale2func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"2窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_timedwait"</span>);</span><br><span class="line">        }</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">2</span>);</span><br><span class="line">    }</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">setfunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(p1-&gt;ticket_num);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">    p1-&gt;ticket_num = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"又放出10张票\n"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_signal(&amp;p1-&gt;cond);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_wait"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> sale1,sale2,<span class="built_in">set</span>;</span><br><span class="line"></span><br><span class="line">    Data_t data;</span><br><span class="line">    data.ticket_num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_init"</span>);</span><br><span class="line">    pthread_mutex_init(&amp;data.mutex,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;sale1,<span class="literal">NULL</span>,sale1func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;sale2,<span class="literal">NULL</span>,sale2func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;<span class="built_in">set</span>,<span class="literal">NULL</span>,setfunc,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(sale1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join1"</span>);</span><br><span class="line">    ret = pthread_join(sale2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join2"</span>);</span><br><span class="line">    ret = pthread_join(<span class="built_in">set</span>,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;data.mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>4.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> ticket_num;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond;</span><br><span class="line">    <span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">}Data_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale1func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"1窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_signal"</span>);</span><br><span class="line">        }</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale2func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"2窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_signal"</span>);</span><br><span class="line">        }</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">2</span>);</span><br><span class="line">    }</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">setfunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_wait(&amp;p1-&gt;cond,&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_wait"</span>);</span><br><span class="line">    p1-&gt;ticket_num = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"又放出10张票\n"</span>);</span><br><span class="line">    ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> sale1,sale2,<span class="built_in">set</span>;</span><br><span class="line"></span><br><span class="line">    Data_t data;</span><br><span class="line">    data.ticket_num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_init"</span>);</span><br><span class="line">    pthread_mutex_init(&amp;data.mutex,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;sale1,<span class="literal">NULL</span>,sale1func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;sale2,<span class="literal">NULL</span>,sale2func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;<span class="built_in">set</span>,<span class="literal">NULL</span>,setfunc,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(sale1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join1"</span>);</span><br><span class="line">    ret = pthread_join(sale2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join2"</span>);</span><br><span class="line">    ret = pthread_join(<span class="built_in">set</span>,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;data.mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>5.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> ticket_num;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond1;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond2;</span><br><span class="line">    <span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">}Data_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale1func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"1窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond2);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_signal"</span>);</span><br><span class="line"></span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond1,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_wait"</span>);</span><br><span class="line">        }</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale2func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"2窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond2);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_signal"</span>);</span><br><span class="line"></span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond1,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_wait"</span>);</span><br><span class="line">        }</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    }</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">setfunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_wait(&amp;p1-&gt;cond2,&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_wait"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_signal(&amp;p1-&gt;cond1);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_signal"</span>);</span><br><span class="line"></span><br><span class="line">    p1-&gt;ticket_num = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"又放出10张票\n"</span>);</span><br><span class="line">    ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> sale1,sale2,<span class="built_in">set</span>;</span><br><span class="line"></span><br><span class="line">    Data_t data;</span><br><span class="line">    data.ticket_num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_init"</span>);</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_init"</span>);</span><br><span class="line"></span><br><span class="line">    pthread_mutex_init(&amp;data.mutex,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;sale1,<span class="literal">NULL</span>,sale1func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;sale2,<span class="literal">NULL</span>,sale2func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;<span class="built_in">set</span>,<span class="literal">NULL</span>,setfunc,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(sale1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join1"</span>);</span><br><span class="line">    ret = pthread_join(sale2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join2"</span>);</span><br><span class="line">    ret = pthread_join(<span class="built_in">set</span>,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond1);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_destroy"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond2);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;data.mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday16_01</title>
    <url>/category/39Linuxday16_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="简答题"><a href="#简答题" class="headerlink" title="简答题"></a>简答题</h3><ol><li>tcp和udp协议的特点？</li><li>tcp三次握手改成二次握手行不行？</li><li>tcp保证数据安全可靠传输的机制有哪些？（需要解释每种机制）</li><li>序列号为什么是随机的？</li><li>TCP断开连接时为什么是4次挥手？三次挥手行不行？</li><li>为什么主动断开的一方要经历TIME_WAIT状态？</li><li>什么是MSS、MTU</li><li>TCP协议与UDP协议在编程当中如何选择？</li></ol><a id="more"></a><p>1.</p><figure class="highlight avrasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="symbol">tcp:</span>面向连接的，安全可靠，但速度慢（常用于文件传输）</span><br><span class="line"><span class="symbol">udp:</span>无连接的，不安全，但速度快（常用于游戏，在线直播）</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">在网络状态较好，不会出现丢包的情况下，两次握手也可建立连接，但是一旦网络不稳定，就会出现问题</span><br><span class="line">三次握手的原因：</span><br><span class="line">	防止已失效的请求报文又到达对方</span><br><span class="line">	第三次握手是对第二次握手的确认，确保对方已建立和客户端的连接</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight makefile"><table><tbody><tr><td class="code"><pre><span class="line"><span class="section">序列号:给每个tcp报文段的seq字段编号是，保证接收的报文段都是顺序的</span></span><br><span class="line">确认重传：接收方成功接收每个报文段后，给发送方发送确认报文</span><br><span class="line">滑动窗口：发送窗口和接收窗口，控制发送速率，保证网络稳定，数据传输</span><br></pre></td></tr></tbody></table></figure><p>4.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">从安全的角度来讲：随机值不利攻击者捕获数据包</span><br><span class="line">从稳定角度来讲：防止断开重连后，延迟的数据包重新被接收</span><br></pre></td></tr></tbody></table></figure><p>5.</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">4</span>次挥手也可以改为<span class="number">3</span>次的前提是网络状态良好，且在第一次挥手后，服务端没有数据需要传输了，第二次和第三次挥手可以合并为一次</span><br></pre></td></tr></tbody></table></figure><p>6.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">保证四次挥手顺利完成，能够正常关闭TCP连接</span><br><span class="line">防止已失效的请求报文段到达对方</span><br></pre></td></tr></tbody></table></figure><p>7.</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">MTU是网络传输最大报文包=数据字段+协议头长，<span class="number">1500</span>个字节</span><br><span class="line">MSS是网络传输最大数据长度 <span class="number">1500</span><span class="number">-20</span>(ip头)<span class="number">-20</span>(tcp头)=<span class="number">1460</span></span><br></pre></td></tr></tbody></table></figure><p>8.</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 对于可靠性来讲：要求可靠性高采用tcp协议，反之选择udp</span><br><span class="line"><span class="number">2.</span> 从实时性的角度：对实时性要求高的选择udp协议，反之tcp</span><br><span class="line"><span class="number">3.</span> 根据网络状态选择：网络状态好采用udp，网络状态差选择tcp</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday18_01</title>
    <url>/category/39Linuxday18_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>查看Ubuntu下，epoll能监控的文件描述符的数量命令： cat /proc/sys/fs/file-max</p><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>select效率低的原因是什么？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>用代码测试一下tcp的安全可靠传输的特点，udp的不安全可靠。（提示：接收的buf定义的小一点，然后发送的字节数超过接收buf的大小）</li><li>用epoll实现TCP聊天的程序，客户端断开后可以重新连接，客户端也使用epoll，注意写好对端断开时的应对机制，服务器主动断开后，也可以继续绑定TIME_WAIT状态的端口。</li><li>使用epoll实现UDP聊天。</li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><p>1.</p><figure class="highlight ada"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">select</span>监听的文件描述符的数量有限制，默认为<span class="number">1024</span>，轮询检查文件描述符是否就绪</span><br><span class="line"><span class="keyword">select</span>每次都会修改监听的集合，所以需要每次<span class="keyword">select</span>之前将要监听的文件描述符加入到集合当中</span><br><span class="line">每次<span class="keyword">select</span>都会把监听的集合从用户态拷贝到内核态，返回时，又将集合从内核态拷贝到用户态</span><br></pre></td></tr></tbody></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight dts"><table><tbody><tr><td class="code"><pre><span class="line">测试结果：</span><br><span class="line"><span class="symbol">	tcp:</span>会分段接收</span><br><span class="line"><span class="symbol">	udp:</span>会直接截断接收</span><br><span class="line">	所以tcp是安全的，udp是不安全的</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                {</span><br><span class="line"></span><br><span class="line">                    ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//epoll_client.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">connect</span>(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"connect"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                {</span><br><span class="line">                    <span class="built_in">close</span>(sfd);</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_udp_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_DGRAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr,<span class="number">0</span>,<span class="keyword">sizeof</span>(serAddr));</span><br><span class="line"></span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;serAddr,<span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">cliAddr</span>;</span></span><br><span class="line">    <span class="keyword">socklen_t</span> len = <span class="keyword">sizeof</span>(cliAddr);</span><br><span class="line">    <span class="built_in">memset</span>(&amp;cliAddr,<span class="number">0</span>,len); </span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = sendto(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>,(struct sockaddr*)&amp;cliAddr,len);                 </span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"send"</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recvfrom(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>,(struct sockaddr*)&amp;cliAddr,&amp;len);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"recvfrom"</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//epoll_udp_client.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_DGRAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr,<span class="number">0</span>,<span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">socklen_t</span> len = <span class="keyword">sizeof</span>(serAddr);</span><br><span class="line"></span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = sendto(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>,(struct sockaddr*)&amp;serAddr,len);                 </span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"send"</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recvfrom(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>,(struct sockaddr*)&amp;serAddr,&amp;len);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"recvfrom"</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday17_01</title>
    <url>/category/39Linuxday17_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>什么是套接口？</li><li>tcp协议通信服务端的流程？</li><li>tcp建立三次握手时，内核做了哪些事情？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>编写一个程序使其根据输入网址，如<a href="http://www.baidu.com，查看该网站的正式名，别名，地址等消息。" target="_blank" rel="noopener">www.baidu.com，查看该网站的正式名，别名，地址等消息。</a></li><li>用select实现的聊天程序，为什么要用needMonitorSet，不用会有什么问题？还有其他什么解决方法，写程序测试一下。</li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><p>1.</p><figure class="highlight x86asm"><table><tbody><tr><td class="code"><pre><span class="line">套接口：操作系统内核中的一个数据结构，网络中节点通信的门户，一个文件描述符。</span><br><span class="line"><span class="built_in">ip</span>+端口号</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight perl"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">socket</span>  创建一个套接口描述符</span><br><span class="line"><span class="keyword">bind</span>    使<span class="keyword">socket</span>绑定服务器自己的ip和端口</span><br><span class="line"><span class="keyword">listen</span>  <span class="keyword">socket</span>监听服务器ip和端口，等待客户端发来的连接请求</span><br><span class="line"><span class="keyword">accept</span>  当<span class="keyword">accept</span>函数接受一个连接时，会返回一个新的<span class="keyword">socket</span>套接字，以后的数据传输和读取就要通过这个新的<span class="keyword">socket</span>套接字来处理，原来参数中的<span class="keyword">socket</span>也可以继续使用，继续监听其它客户机的连接请求。</span><br><span class="line"><span class="keyword">recv</span>()  接收</span><br><span class="line"><span class="keyword">send</span>()  发送</span><br><span class="line"><span class="keyword">close</span>() 要关闭两个套接口描述符</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight ada"><table><tbody><tr><td class="code"><pre><span class="line">第二次握手时把未完全建立的tcp连接放到半连接队列中，第三次握手时，服务端从半连接队列取出和第三次握手组合成一个完整的tcp连接放入全连接队列中</span><br><span class="line"><span class="keyword">accept</span>时，从全连接队列中取出一个</span><br></pre></td></tr></tbody></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">hostent</span>* <span class="title">pHost</span> = <span class="title">gethostbyname</span>(<span class="title">argv</span>[1]);</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == pHost){</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"h_name = %s\n"</span>, pHost-&gt;h_name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; pHost-&gt;h_aliases[i] != <span class="literal">NULL</span>; ++i){</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"alias = %s\n"</span>, pHost-&gt;h_aliases[i]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"type = %d\n"</span>, pHost-&gt;h_addrtype);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"len = %d\n"</span>, pHost-&gt;h_length);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">64</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; pHost-&gt;h_addr_list[i] != <span class="literal">NULL</span>; ++i){</span><br><span class="line">        <span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        inet_ntop(pHost-&gt;h_addrtype, pHost-&gt;h_addr_list[i], buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"buf = %s\n"</span>, buf);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//客户端关闭，服务端等待新的连接</span></span><br><span class="line"><span class="comment">//服务端关闭，客户端也跟着关闭</span></span><br><span class="line"><span class="comment">//老师方法:服务端</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum,newFd = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    fd_set rdset;</span><br><span class="line">    fd_set needMonitorSet;</span><br><span class="line">    FD_ZERO(&amp;rdset);</span><br><span class="line">    FD_ZERO(&amp;needMonitorSet);</span><br><span class="line"></span><br><span class="line">    FD_SET(STDIN_FILENO,&amp;needMonitorSet);</span><br><span class="line">    FD_SET(sfd,&amp;needMonitorSet);</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">memcpy</span>(&amp;rdset,&amp;needMonitorSet,<span class="keyword">sizeof</span>(rdset));</span><br><span class="line"></span><br><span class="line">        readyNum = select(<span class="number">10</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        ERROR_CHECK(readyNum,<span class="number">-1</span>,<span class="string">"select"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(newFd,&amp;rdset))</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                {</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    FD_CLR(newFd,&amp;needMonitorSet);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(sfd,&amp;rdset))</span><br><span class="line">            {</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                FD_SET(newFd,&amp;needMonitorSet);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//自己方法：服务端 设置flag</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>,flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    fd_set rdset;</span><br><span class="line">    FD_ZERO(&amp;rdset);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line">            newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">            ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        FD_SET(newFd,&amp;rdset);</span><br><span class="line">        readyNum = select(<span class="number">10</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        ERROR_CHECK(readyNum,<span class="number">-1</span>,<span class="string">"select"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(newFd,&amp;rdset))</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                {</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    FD_CLR(newFd,&amp;rdset);</span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//客户端</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = <span class="built_in">connect</span>(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"connect"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    fd_set rdset;</span><br><span class="line">    FD_ZERO(&amp;rdset);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(sfd,&amp;rdset);</span><br><span class="line">        readyNum = select(sfd+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(sfd,&amp;rdset))</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(ret == <span class="number">0</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="built_in">close</span>(sfd);</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday21_01</title>
    <url>/category/39Linuxday21_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>概念题：</strong></p><ol><li><p>发送大文件时，为什么客户端有时候会崩溃？为什么服务器的会刷屏打印子进程非忙碌？如何解决？</p></li><li><p>发送大文件的时候，客户端为什么会报栈损坏、段错误？如何解决？</p></li></ol><p><strong>编程题：</strong></p><ol><li>修改进程池1.0版本，使其可以传输大文件</li><li>优化打印进度条，使其传输效率获得提升。</li></ol><p><strong>预习：</strong></p><ol><li>探索一下使用mmap方式怎么传输文件</li></ol><a id="more"></a><p><strong>概念题：</strong></p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">为解决tcp协议的粘包问题，我定义了一个“小火车”结构体，对于该结构体，前<span class="number">4</span>个字节dataLen表示长度，databuf表示要传送的数据。</span><br><span class="line">当发送速率小于接收速率，客户端recv接收时，还没接收完dataLen的数据就提前返回了，下一次再接收时，就接收上一次剩余数据的前<span class="number">4</span>个字节，它表示的是dataLen长度，某些情况下，这个dataLen可以很大，导致栈溢出，严重地话会导致客户端的崩溃</span><br><span class="line"></span><br><span class="line">客户端读端关闭，服务端的子进程第一次send写返回<span class="number">-1</span>，第二次send接收到SIGPIPE信号，导致子进程崩溃，子进程给父进程发送就绪信号，父进程疯狂打印</span><br></pre></td></tr></tbody></table></figure><p>编程题：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//第一个参数：ip  第二个参数：端口 第三个参数：创建的子进程(用于处理客户端请求)的数量</span></span><br><span class="line">    <span class="keyword">int</span> processNum = atoi(argv[<span class="number">3</span>]);    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//在堆空间上创建数组，保存子进程节点</span></span><br><span class="line">    pProcess_data_t pData = (pProcess_data_t)<span class="built_in">calloc</span>(processNum,<span class="keyword">sizeof</span>(<span class="keyword">process_data_t</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建子进程</span></span><br><span class="line">    makeChild(pData,processNum);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试创建子进程是否正确，后用ps -elf|grep 2000</span></span><br><span class="line">    <span class="comment">/* while(1); */</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建tcp套接字，并监听ip和端口</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>],argv[<span class="number">2</span>],&amp;sfd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试监听套接字</span></span><br><span class="line">    <span class="comment">/* while(1); */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll,并把要监听的文件描述符加入到epoll中</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd,sfd);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; processNum ; i++)</span><br><span class="line">    {</span><br><span class="line">        epollAddFd(epfd,pData[i].pipeFd);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum,newFd;</span><br><span class="line">    <span class="comment">//就绪的文件描述符要放到evs</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[4];</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">4</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//有新客户端连接过来</span></span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                <span class="comment">//看哪个子进程空闲，就通过对应管道把newFd传给它(通过参数接收)，然后子进程通过newFd直接与客户端通信</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">                {</span><br><span class="line">                    <span class="keyword">if</span>(pData[j].flag == <span class="number">0</span>)</span><br><span class="line">                    {</span><br><span class="line">                        <span class="comment">//子进程pipeFd保存服务端管道写端,传newFd</span></span><br><span class="line">                        sendFd(pData[j].pipeFd,newFd);</span><br><span class="line">                        pData[j].flag = <span class="number">1</span>;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is busy\n"</span>,pData[j].pid);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">//newFd已经传过去了，关闭服务端的newFd</span></span><br><span class="line">                <span class="built_in">close</span>(newFd);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">                {</span><br><span class="line">                    <span class="comment">//如果监听到服务端某个管道写端就绪,就表示子进程已完成传输工作，可以设置成空闲状态</span></span><br><span class="line">                    <span class="keyword">if</span>(evs[i].data.fd == pData[j].pipeFd)</span><br><span class="line">                    {</span><br><span class="line">                        pData[j].flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//读取管道里的完成信号</span></span><br><span class="line">                        <span class="keyword">char</span> buf[<span class="number">2</span>] = {<span class="number">0</span>};</span><br><span class="line">                        <span class="built_in">read</span>(pData[j].pipeFd,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line"></span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is not busy\n"</span>,pData[j].pid);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//child.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建子进程</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData,<span class="keyword">int</span> processNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> fds[<span class="number">2</span>],ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum ; i++)</span><br><span class="line">    {</span><br><span class="line">        ret = socketpair(AF_LOCAL,SOCK_STREAM,<span class="number">0</span>,fds);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"socketpair"</span>);</span><br><span class="line"></span><br><span class="line">        pid = fork();</span><br><span class="line">        <span class="keyword">if</span>(pid) <span class="comment">//父进程只写文件描述符</span></span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">0</span>]);</span><br><span class="line">            pData[i].flag = <span class="number">0</span>;</span><br><span class="line">            pData[i].pid = pid;  <span class="comment">//pid是子进程</span></span><br><span class="line">            pData[i].pipeFd = fds[<span class="number">1</span>]; <span class="comment">//保存管道对端父进程(服务端)的写文件描述符</span></span><br><span class="line">            <span class="comment">/* wait(NULL); 创建多个子进程不要加wait*/</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span>  <span class="comment">//子进程只读文件描述符</span></span><br><span class="line">        {   </span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">1</span>]);</span><br><span class="line">            childFunc(fds[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//第一个参数：子进程管道的读端，第二个参数：用于与客户端的通信</span></span><br><span class="line">        recvFd(pipeFd,&amp;newFd);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//给客户端传送文件</span></span><br><span class="line">        transFile(newFd);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//通知服务端，子进程完成传输工作</span></span><br><span class="line">        <span class="comment">//如果服务端一直没读取管道里的“完成信号”，就阻塞在这</span></span><br><span class="line">        <span class="built_in">write</span>(pipeFd,<span class="string">"a"</span>,<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//如果关闭newFd的话，客户端收到数据后，不会卡在那，而是直接退出</span></span><br><span class="line">        <span class="built_in">close</span>(newFd);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//tcpInit.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span>* ip,<span class="keyword">char</span>* port,<span class="keyword">int</span>* temp_sfd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> sfd = socket(AF_INET, SOCK_STREAM, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd, <span class="number">-1</span>, <span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//保存本机的ip和端口</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr, <span class="number">0</span>, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(ip);</span><br><span class="line">    serAddr.sin_port = htons(atoi(port));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> reuse = <span class="number">1</span>;</span><br><span class="line">    setsockopt(sfd, SOL_SOCKET, SO_REUSEADDR, &amp;reuse, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置发送缓冲区的大小</span></span><br><span class="line">    <span class="keyword">int</span> buf = <span class="number">65536</span>;</span><br><span class="line">    setsockopt(sfd, SOL_SOCKET, SO_SNDBUF, &amp;buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//绑定本机的IP和端口，绑定到sfd上</span></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = bind(sfd, (struct sockaddr*)&amp;serAddr, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//监听的最大连接数是10</span></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd, <span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    *temp_sfd = sfd;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//transFile.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sigFunc</span><span class="params">(<span class="keyword">int</span> sigNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"sig is comming\n"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">transFile</span><span class="params">(<span class="keyword">int</span> newFd)</span></span></span><br><span class="line"><span class="function"></span>{   </span><br><span class="line">    signal(SIGPIPE, sigFunc);</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(<span class="string">"1.pdf"</span>, O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd, <span class="number">-1</span>, <span class="string">"open"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">fileInfo</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;fileInfo, <span class="number">0</span>, <span class="keyword">sizeof</span>(fileInfo));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取当前文件的状态</span></span><br><span class="line">    fstat(fd, &amp;fileInfo);</span><br><span class="line"></span><br><span class="line">    Train_t train;</span><br><span class="line">    <span class="built_in">memset</span>(&amp;train, <span class="number">0</span>, <span class="keyword">sizeof</span>(train));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//发送文件名字</span></span><br><span class="line">    train.dataLen = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(train.buf, <span class="string">"1.pdf"</span>);</span><br><span class="line">    send(newFd, &amp;train, <span class="number">4</span> + train.dataLen, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//发送文件的总长度的指针</span></span><br><span class="line">    train.dataLen = <span class="keyword">sizeof</span>(fileInfo.st_size);</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="built_in">memcpy</span>(train.buf, &amp;fileInfo.st_size, <span class="keyword">sizeof</span>(<span class="keyword">off_t</span>));</span><br><span class="line">    send(newFd, &amp;train, <span class="number">4</span> + train.dataLen, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">        <span class="comment">//直接复制到train.buf里节约栈空间</span></span><br><span class="line">        train.dataLen = <span class="built_in">read</span>(fd, train.buf, <span class="keyword">sizeof</span>(train.buf));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//发送文件内容</span></span><br><span class="line">        ret = send(newFd, &amp;train, <span class="number">4</span> + train.dataLen, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">-1</span> == ret){</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == train.dataLen){</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//epollAddFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd,<span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events, <span class="number">0</span>, <span class="keyword">sizeof</span>(events));                    </span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = fd; </span><br><span class="line"></span><br><span class="line">    ret = epoll_ctl(epfd, EPOLL_CTL_ADD, fd, &amp;events);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"epoll_ctl"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//sendFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   *(<span class="keyword">int</span>*)CMSG_DATA(cmsg) = fd;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   sendmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//recvFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   recvmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line">   *fd = *(<span class="keyword">int</span>*)CMSG_DATA(cmsg);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//func.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;dirent.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pwd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;grp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netdb.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/mman.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/select.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;setjmp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/ipc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/sem.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/msg.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/shm.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/epoll.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ARGS_CHECK(argc, val) \</span></span><br><span class="line">    <span class="keyword">if</span>(argc != val) { \</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"error args\n"</span>); \</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>; \</span><br><span class="line">    } </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR_CHECK(ret, retVal, funcName) { \</span></span><br><span class="line">    <span class="keyword">if</span>(ret == retVal) { \</span><br><span class="line">        perror(funcName); \</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>; \</span><br><span class="line">    } \</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> THREAD_ERROR_CHECK(ret, funcName) \</span></span><br><span class="line">    <span class="keyword">do</span> { \</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> != ret) { \</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s : %s\n"</span>, funcName, strerror(ret)); \</span><br><span class="line">        } \</span><br><span class="line">    }<span class="keyword">while</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//保存子进程相关信息</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">data</span>{</span></span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    <span class="keyword">int</span> pipeFd;</span><br><span class="line">}<span class="keyword">process_data_t</span>, *pProcess_data_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//私有协议-小火车</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>{</span></span><br><span class="line">    <span class="keyword">int</span> dataLen;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1000</span>];</span><br><span class="line">}Train_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData, <span class="keyword">int</span> processNum)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span> *ip, <span class="keyword">char</span> *port, <span class="keyword">int</span> *sockFd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd, <span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">transFile</span><span class="params">(<span class="keyword">int</span> clientFd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span>;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight makefile"><table><tbody><tr><td class="code"><pre><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> *.c)</span></span><br><span class="line">OBJS:=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line">ELF:=process_pool</span><br><span class="line">CC:=gcc</span><br><span class="line">CFLAGS:=-g -Wall </span><br><span class="line"><span class="variable">$(ELF)</span>:<span class="variable">$(OBJS)</span></span><br><span class="line">		gcc -o <span class="variable">$@</span> <span class="variable">$^</span> -pthread </span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">		rm -rf <span class="variable">$(OBJS)</span> <span class="variable">$(ELF)</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday19_01</title>
    <url>/category/39Linuxday19_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>epoll高效的原因是什么？epoll底层实现是什么？以及epoll三个函数被调用的时候，底层都分别做了哪些事情？</li><li>什么是epoll的边沿触发？什么是水平触发？用边沿触发，优势在哪？</li><li>什么是SYN FLood攻击？如何防护？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li><p>分别使用两种方式改变recv函数的阻塞性，应用在tcp断开重连的代码（服务端采用epoll的et模式接数据）</p></li><li><p>设置一下接收缓冲区大小为4K，及接收缓冲区下限为10个字节</p></li><li><p><strong>难度题：</strong></p><ul><li>通过tcp协议实现一个聊天室，多个客户端登录服务器，登录后一个客户端发送的消息，服务器转发给其他客户端。</li></ul></li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><p>1.</p><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line">epoll底层实现：红黑树+双向链表</span><br><span class="line">epoll监听的文件描述符的数量没有限制，和内存有关</span><br><span class="line">把需要监听的文件描述符加入到红黑树中，一经注册，永远生效</span><br><span class="line">在把监听的文件描述符加入到红黑树中时，内核会给每个节点注册一个回调函数，文件描述符就绪时，将调用该回调函数，将文件描述符加入到双向链表中</span><br><span class="line">epoll每次只检查双向链表中的文件描述符，而不用遍历所有文件描述符，所以效率高</span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>调用epoll_create函数：返回一个epfd，与此同时内核会创建eventpoll这个结构体，该结构体有两个非常重要的成员<span class="strong">**红黑树**</span>和<span class="strong">**双向链表**</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">   1. </span>红黑树的作用：保存需要监听的描述符</span><br><span class="line"><span class="bullet">   2. </span>双向链表：保存就绪的文件描述符</span><br><span class="line"></span><br><span class="line"><span class="bullet">2. </span>调用epoll_ctl函数时：就是对红黑树操作，可以添加节点到红黑树，修改、删除。</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1. </span>添加、修改、删除节点到红黑树，需要不要遍历？</span><br><span class="line"><span class="bullet">      1. </span>需要查找，logn</span><br><span class="line"><span class="bullet">   2. </span>添加描述符到红黑树上时，有一次内存拷贝，从用户空间拷贝到内核空间，一次注册文件描述符，永久生效</span><br><span class="line"><span class="bullet">   3. </span>当描述符添加到红黑树上时，内核会给每一个节点注册一个回调函数，当该描述符就绪的时候，会主动调用自己的回调函数，将其加入到双向链表当中。</span><br><span class="line"></span><br><span class="line"><span class="bullet">3. </span>调用epoll_wait时：去监控双向链表，如果双向链表里面有数据，取数据，返回用户空间；如果没有数据，就阻塞。</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1. </span>取数据时，会从内核空间拷贝数据到用户空间。</span><br><span class="line"><span class="bullet">   2. </span>用户空间存放就绪文件描述符的结构体数组大小如何选择？</span><br><span class="line"><span class="bullet">      1. </span>要根据实际业务逻辑</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">lt</span>特点：如果文件描述符数据没有一次读取完，那么还会继续触发epoll_wait，直到数据全部读取完。</span><br><span class="line">et特点：如果文件描述符数据没有一次读取完，那么只会触发一次epoll_wait,直到该文件描述符下一次读写事件发生，才会触发epoll_wait。</span><br><span class="line"></span><br><span class="line">et优势：在高并发情况下，et效率比<span class="keyword">lt</span>高</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">SYN Flood攻击：攻击者利用了tcp协议的漏洞，只发送第一次握手，服务端回复第二次握手，并且把这个半连接状态加入到半连接队列里。攻击者不回复第三次握手，造成服务端半连接队列满，无法接收正常客户端的连接请求。</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 增加半连接队列长度</span><br><span class="line"><span class="number">2.</span> 减少服务端重传服务端重传第二次握手的次数及时间。</span><br><span class="line"><span class="number">3.</span> syn cookie</span><br></pre></td></tr></tbody></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                    ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf)<span class="number">-1</span>,MSG_DONTWAIT);</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                    {</span><br><span class="line"></span><br><span class="line">                        ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                        <span class="built_in">close</span>(newFd);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">-1</span> == ret)</span><br><span class="line">                    {</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN|EPOLLET;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_fcntl_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setNoBlock</span><span class="params">(<span class="keyword">int</span> fd)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> status = <span class="number">0</span>;</span><br><span class="line">    status = fcntl(fd,F_GETFL);</span><br><span class="line">    status |= O_NONBLOCK;</span><br><span class="line">    fcntl(fd,F_SETFL,status);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">                {</span><br><span class="line">                    <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                    ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                    {</span><br><span class="line"></span><br><span class="line">                        ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                        <span class="built_in">close</span>(newFd);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">-1</span> == ret)</span><br><span class="line">                    {</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line">                </span><br><span class="line">                setNoBlock(newFd);</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN|EPOLLET;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_client.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">connect</span>(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"connect"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(sfd,buf,<span class="keyword">sizeof</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                {</span><br><span class="line">                    <span class="built_in">close</span>(sfd);</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                {</span><br><span class="line"></span><br><span class="line">                    ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">socklen_t</span> rcvbuf = <span class="number">4096</span>;</span><br><span class="line">                <span class="keyword">socklen_t</span> len =<span class="number">0</span>;</span><br><span class="line">                setsockopt(newFd,SOL_SOCKET,SO_RCVBUF,&amp;rcvbuf,len);</span><br><span class="line"></span><br><span class="line">                getsockopt(newFd,SOL_SOCKET,SO_RCVBUF,&amp;rcvbuf,&amp;len);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"rcvbuf = %d\n"</span>,rcvbuf);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">socklen_t</span> lowat = <span class="number">10</span>;</span><br><span class="line">                setsockopt(newFd,SOL_SOCKET,SO_RCVLOWAT,&amp;lowat,<span class="keyword">sizeof</span>(lowat));</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday23_01</title>
    <url>/category/39Linuxday23_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><a id="more"></a><p>作业：</p><ol><li>把上午讲的数据库操作，像我上课记录那样记录下来（严禁直接交我的笔记，一经发现4KM，改我的笔记我也看的出来~ _~）</li></ol><!--more--><ol><li><pre><code class="mysql">#操作命令
#进入数据库
mysql -u root -p

#查看数据库
show databases；

#创建数据库
create database 39th;

#修改数据库字符集为utf8
alter database 39th CHARACTER SET utf8;

#切换、使用数据库
use + 39th

#删除数据库
drop database 39th;

#创建member表
create table member (id int, name char(20), age int, math float);

#查询当前数据库所有的表
show tables;

#修改表， 表的字段
alter table member modify math int;
alter table member change name mingzi varchar(20);
alter table member change name name varchar(20);
#change可以改变列名，同样可以改变类型， 但是不能单独去修改类型， modify只可以修改类型，不能修改名字

#修改表名
rename table member to chengyuan;

#插入字段
alter table member add english int;

#删除表中字段
alter table member drop english;</code></pre></li><li><p>进程池、线程池代码不熟练的，赶紧复习一下。</p></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday20_01</title>
    <url>/category/39Linuxday20_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong>概念题：</strong></p><ol><li>什么是TCP粘包问题，原因是什么，怎么解决粘包问题？（理解我们的应用层协议，也就是小火车）</li></ol><p><strong>编程题：</strong></p><ol><li>不看上课代码，看着流程笔记把进程池实现一下。（先实现1.0版本，只发送一句话的，采用增量编写）</li></ol><p><strong>预习</strong>：写一下2.0版本进程池（不交），探索一下为啥会出现我上课所说的问题</p><a id="more"></a><p>概念题：</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">多次发送的数据，可以被一次接收，数据之间没有分界线，所有数据全粘在一起</span><br><span class="line">人为去规定数据的分界线。私有协议。</span><br></pre></td></tr></tbody></table></figure><p>编程题：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//func.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/epoll.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/ipc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/sem.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/msg.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/shm.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;syslog.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;dirent.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netdb.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pwd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;grp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/mman.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/select.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ARGS_CHECK(argc,val) {<span class="meta-keyword">if</span>(argc!=val) \</span></span><br><span class="line">    {<span class="built_in">printf</span>(<span class="string">"error args\n"</span>); <span class="keyword">return</span> <span class="number">-1</span>;}}</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR_CHECK(ret,retVal,funcName) {<span class="meta-keyword">if</span>(ret==retVal) {perror(funcName);return -1;}}</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> THREAD_ERROR_CHECK(ret,funcName) \</span></span><br><span class="line">    <span class="keyword">do</span>{ \</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> != ret){ \</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s : %s\n"</span>, funcName,strerror(ret)); \</span><br><span class="line">        } \</span><br><span class="line">    }<span class="keyword">while</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//保存子进程相关信息</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Process_data_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> flag; <span class="comment">//0表示空闲，1表示忙碌</span></span><br><span class="line">    <span class="keyword">pid_t</span> pid;  <span class="comment">//保存子进程pid</span></span><br><span class="line">    <span class="keyword">int</span> pipeFd; <span class="comment">//保存管道的另一端，这里指父进程(服务端)的写端</span></span><br><span class="line">}Process_data_t,*pProcess_data_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData,<span class="keyword">int</span> processNum)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span>* ip,<span class="keyword">char</span>* port,<span class="keyword">int</span>* temp_sfd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd,<span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span>;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//第一个参数：ip  第二个参数：端口 第三个参数：创建的子进程(用于处理客户端请求)的数量</span></span><br><span class="line">    <span class="keyword">int</span> processNum = atoi(argv[<span class="number">3</span>]);    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//在堆空间上创建数组，保存子进程节点</span></span><br><span class="line">    pProcess_data_t pData = (pProcess_data_t)<span class="built_in">calloc</span>(processNum,<span class="keyword">sizeof</span>(Process_data_t));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//创建子进程</span></span><br><span class="line">    makeChild(pData,processNum);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试创建子进程是否正确，后用ps -elf|grep 2000</span></span><br><span class="line">    <span class="comment">/* while(1); */</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建tcp套接字，并监听ip和端口</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>],argv[<span class="number">2</span>],&amp;sfd);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//测试监听套接字</span></span><br><span class="line">    <span class="comment">/* while(1); */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll,并把要监听的文件描述符加入到epoll中</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd,sfd);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; processNum ; i++)</span><br><span class="line">    {</span><br><span class="line">        epollAddFd(epfd,pData[i].pipeFd);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum,newFd;</span><br><span class="line">    <span class="comment">//就绪的文件描述符要放到evs</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[4];</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">4</span>,<span class="number">-1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="comment">//有新客户端连接过来</span></span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            {</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                <span class="comment">//看哪个子进程空闲，就通过对应管道把newFd传给它(通过参数接收)，然后子进程通过newFd直接与客户端通信</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">                {</span><br><span class="line">                    <span class="keyword">if</span>(pData[j].flag == <span class="number">0</span>)</span><br><span class="line">                    {</span><br><span class="line">                        <span class="comment">//子进程pipeFd保存服务端管道写端,传newFd</span></span><br><span class="line">                        sendFd(pData[j].pipeFd,newFd);</span><br><span class="line">                        pData[j].flag = <span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                <span class="comment">//newFd已经传过去了，关闭服务端的newFd</span></span><br><span class="line">                <span class="built_in">close</span>(newFd);</span><br><span class="line">            }</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">//如果监听到服务端某个管道写端就绪,就表示子进程已完成传输工作，可以设置成空闲状态</span></span><br><span class="line">                <span class="keyword">if</span>(evs[i].data.fd == pData[j].pipeFd)</span><br><span class="line">                {</span><br><span class="line">                    pData[j].flag = <span class="number">0</span>;</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">//读取管道里的完成信号</span></span><br><span class="line">                    <span class="keyword">char</span> buf[<span class="number">2</span>] = {<span class="number">0</span>};</span><br><span class="line">                    <span class="comment">/* read(pData[j].pipeFd,buf,sizeof(buf)); */</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//child.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建子进程</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData,<span class="keyword">int</span> processNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> fds[<span class="number">2</span>],ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum ; i++)</span><br><span class="line">    {</span><br><span class="line">        ret = socketpair(AF_LOCAL,SOCK_STREAM,<span class="number">0</span>,fds);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"socketpair"</span>);</span><br><span class="line"></span><br><span class="line">        pid = fork();</span><br><span class="line">        <span class="keyword">if</span>(pid) <span class="comment">//父进程只写文件描述符</span></span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">0</span>]);</span><br><span class="line">            pData[i].flag = <span class="number">0</span>;</span><br><span class="line">            pData[i].pid = pid;  <span class="comment">//pid是子进程</span></span><br><span class="line">            pData[i].pipeFd = fds[<span class="number">1</span>]; <span class="comment">//保存管道对端父进程(服务端)的写文件描述符</span></span><br><span class="line">            <span class="comment">/* wait(NULL); 创建多个子进程不要加wait*/</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span>  <span class="comment">//子进程只读文件描述符</span></span><br><span class="line">        {   </span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">1</span>]);</span><br><span class="line">            childFunc(fds[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//第一个参数：子进程管道的读端，第二个参数：用于与客户端的通信</span></span><br><span class="line">        recvFd(pipeFd,&amp;newFd);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//给客户端传送数据</span></span><br><span class="line">        send(newFd,<span class="string">"helloclient"</span>,<span class="number">11</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果关闭newFd的话，客户端收到数据后，不会卡在那，而是直接退出</span></span><br><span class="line">        <span class="built_in">close</span>(newFd);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//通知服务端，子进程完成传输工作</span></span><br><span class="line">        <span class="comment">//如果服务端一直没读取管道里的“完成信号”，就阻塞在这</span></span><br><span class="line">        <span class="comment">/* write(pipeFd,"a",1); */</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//tcpInit.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span>* ip,<span class="keyword">char</span>* port,<span class="keyword">int</span>* temp_sfd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> sfd = socket(AF_INET, SOCK_STREAM, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd, <span class="number">-1</span>, <span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//保存本机的ip和端口</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr, <span class="number">0</span>, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(ip);</span><br><span class="line">    serAddr.sin_port = htons(atoi(port));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> reuse = <span class="number">1</span>;</span><br><span class="line">    setsockopt(sfd, SOL_SOCKET, SO_REUSEADDR, &amp;reuse, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//绑定本机的IP和端口，绑定到sfd上</span></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = bind(sfd, (struct sockaddr*)&amp;serAddr, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//监听的最大连接数是10</span></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd, <span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    *temp_sfd = sfd;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//epollAddFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd,<span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events, <span class="number">0</span>, <span class="keyword">sizeof</span>(events));                    </span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = fd; </span><br><span class="line"></span><br><span class="line">    ret = epoll_ctl(epfd, EPOLL_CTL_ADD, fd, &amp;events);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"epoll_ctl"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//sendFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   *(<span class="keyword">int</span>*)CMSG_DATA(cmsg) = fd;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   sendmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//recvFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = {<span class="number">0</span>};</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   recvmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line">   *fd = *(<span class="keyword">int</span>*)CMSG_DATA(cmsg);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>编译生成.o文件，然后将多个.ow文件和函数库链接一起打包生成一个可执行文件，每次运行时直接运行该可执行程序即可</p><figure class="highlight makefile"><table><tbody><tr><td class="code"><pre><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> *.c)</span></span><br><span class="line">OBJS:=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line">ELF:=process_pool</span><br><span class="line">CC:=gcc</span><br><span class="line">CFLAGS:=-g -Wall </span><br><span class="line"><span class="variable">$(ELF)</span>:<span class="variable">$(OBJS)</span></span><br><span class="line">	gcc -o <span class="variable">$@</span> <span class="variable">$^</span> -pthread </span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -rf <span class="variable">$(OBJS)</span> <span class="variable">$(ELF)</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday22_01</title>
    <url>/category/39Linuxday22_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h3><ol><li>进程池使用三个零拷贝接口mmap、sendfile、splice实现数据的收发，并测试效率，并且温和的方式对进程池退出</li><li>实现线程池、并且温和的方式退出线程池</li></ol><p>（严禁直接拷贝上课代码当作业，一经发现一次4KM）</p><a id="more"></a><p>1.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> exitPipe[<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sigFunc1</span><span class="params">(<span class="keyword">int</span> sigNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"sig is comming\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//异步拉起同步</span></span><br><span class="line">    <span class="built_in">write</span>(exitPipe[<span class="number">1</span>], &amp;sigNum, <span class="number">4</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> processNum = atoi(argv[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line">    pProcess_data_t pData = (pProcess_data_t)<span class="built_in">calloc</span>(processNum, <span class="keyword">sizeof</span>(<span class="keyword">process_data_t</span>));</span><br><span class="line">    <span class="comment">//1.创建子进程</span></span><br><span class="line">    makeChild(pData, processNum);</span><br><span class="line">    signal(SIGUSR1, sigFunc1);</span><br><span class="line">    pipe(exitPipe);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建tcp监听套接字</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>], argv[<span class="number">2</span>], &amp;sfd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll,把需要监听的描述符加入到epoll中，</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd, <span class="number">-1</span>, <span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd, sfd);</span><br><span class="line">    epollAddFd(epfd, exitPipe[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum; ++i){</span><br><span class="line">        epollAddFd(epfd, pData[i].pipeFd);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(evs, <span class="number">0</span>, <span class="keyword">sizeof</span>(evs));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">        readyNum = epoll_wait(epfd, evs, <span class="number">2</span>, <span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; readyNum; ++i){</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd){</span><br><span class="line">                newFd = accept(sfd, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j){</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">0</span> == pData[j].flag){</span><br><span class="line">                        sendFd(pData[j].pipeFd, newFd, <span class="number">0</span>);</span><br><span class="line">                        pData[j].flag = <span class="number">1</span>;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is busy\n"</span>, pData[j].pid);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">close</span>(newFd);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == exitPipe[<span class="number">0</span>]){</span><br><span class="line">                <span class="comment">//第一种退出方式，比较暴力</span></span><br><span class="line">                <span class="comment">/* for(int j = 0; j &lt; processNum; ++j){ */</span></span><br><span class="line">                <span class="comment">/*     kill(pData[j].pid, SIGUSR1); */</span></span><br><span class="line">                <span class="comment">/* } */</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//第二种退出方式</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j){</span><br><span class="line">                    <span class="comment">//发送退出标记，标记为1表示退出，0，表示不退出</span></span><br><span class="line">                    sendFd(pData[j].pipeFd, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j){</span><br><span class="line">                   wait(<span class="literal">NULL</span>);  <span class="comment">//或者用waitpid</span></span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"main process exit\n"</span>);</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span>{</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j){</span><br><span class="line">                    <span class="keyword">if</span>(evs[i].data.fd == pData[j].pipeFd){</span><br><span class="line">                        <span class="keyword">char</span> buf[<span class="number">2</span>] = {<span class="number">0</span>};</span><br><span class="line">                        <span class="comment">//读管道内容，否则管道一直就绪</span></span><br><span class="line">                        <span class="built_in">read</span>(pData[j].pipeFd, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line"></span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is not busy\n"</span>, pData[j].pid);</span><br><span class="line"></span><br><span class="line">                        pData[j].flag = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            <span class="comment">//查找就绪的管道属于哪个进程</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//child.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData, <span class="keyword">int</span> processNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> fds[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum; ++i){</span><br><span class="line">        <span class="comment">//创建一对描述符，用于父子进程传输数据</span></span><br><span class="line">       socketpair(AF_LOCAL, SOCK_STREAM, <span class="number">0</span>, fds);</span><br><span class="line">       pid = fork();</span><br><span class="line">       <span class="keyword">if</span>(<span class="number">0</span> == pid){</span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">1</span>]);</span><br><span class="line">            childFunc(fds[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">       }</span><br><span class="line">       <span class="built_in">close</span>(fds[<span class="number">0</span>]);</span><br><span class="line">       pData[i].pid = pid;</span><br><span class="line">       pData[i].pipeFd = fds[<span class="number">1</span>];</span><br><span class="line">       <span class="comment">//如果flag为0，表示子进程非忙碌，1忙碌。</span></span><br><span class="line">       pData[i].flag = <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> clientFd = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> exitFlag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">        recvFd(pipeFd, &amp;clientFd, &amp;exitFlag);</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span> == exitFlag){</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"child exit\n"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        transFile(clientFd);</span><br><span class="line">        <span class="comment">//通知父进程，我已工作完成</span></span><br><span class="line">        <span class="built_in">write</span>(pipeFd, <span class="string">"a"</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">close</span>(clientFd);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//sendFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd, <span class="keyword">int</span> exitFlag)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    iov.iov_base = &amp;exitFlag;</span><br><span class="line">    iov.iov_len = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   *(<span class="keyword">int</span>*)CMSG_DATA(cmsg) = fd;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   sendmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//recvFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd, <span class="keyword">int</span> *exitFlag)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    iov.iov_base = exitFlag;</span><br><span class="line">    iov.iov_len = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   recvmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line">   *fd = *(<span class="keyword">int</span>*)CMSG_DATA(cmsg);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/head.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/threadPool.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/workque.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> exitPipe[<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sigFunc1</span><span class="params">(<span class="keyword">int</span> sigNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"sig is comming\n"</span>);</span><br><span class="line">    <span class="built_in">write</span>(exitPipe[<span class="number">1</span>], &amp;sigNum, <span class="number">4</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    signal(SIGUSR1, sigFunc1);</span><br><span class="line">    pipe(exitPipe);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork()){</span><br><span class="line">        <span class="built_in">close</span>(exitPipe[<span class="number">0</span>]);</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"threadPool exit\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(exitPipe[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">int</span> threadNum = atoi(argv[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line">    ThreadPool_t pool;</span><br><span class="line">    <span class="built_in">memset</span>(&amp;pool, <span class="number">0</span>, <span class="keyword">sizeof</span>(pool));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化线程池</span></span><br><span class="line">    threadPoolInit(&amp;pool, threadNum);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启动线程池</span></span><br><span class="line">    threadPoolStart(&amp;pool);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//创建tcp监听套接字</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>], argv[<span class="number">2</span>], &amp;sfd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd, sfd);</span><br><span class="line">    epollAddFd(epfd, exitPipe[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(evs, <span class="number">0</span>, <span class="keyword">sizeof</span>(evs));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">        readyNum = epoll_wait(epfd, evs, <span class="number">2</span>, <span class="number">-1</span>);   </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; readyNum; ++i){</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd){</span><br><span class="line">                <span class="comment">//接收连接请求，并把newFd加入节点中</span></span><br><span class="line">                newFd = accept(sfd, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">                pNode_t pNew = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">                pNew-&gt;clientFd = newFd;</span><br><span class="line"></span><br><span class="line">                pthread_mutex_lock(&amp;pool.que.mutex);</span><br><span class="line">                queInsert(&amp;pool.que, pNew);</span><br><span class="line">                pthread_cond_broadcast(&amp;pool.que.cond);</span><br><span class="line">                pthread_mutex_unlock(&amp;pool.que.mutex);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == exitPipe[<span class="number">0</span>]){</span><br><span class="line"></span><br><span class="line">                <span class="comment">//第一种线程池退出方式，比较暴力</span></span><br><span class="line">                <span class="comment">/* for(int j = 0; j &lt; threadNum; ++j){ */</span></span><br><span class="line">                <span class="comment">/*     pthread_cancel(pool.pThid[j]); */</span></span><br><span class="line">                <span class="comment">/* } */</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//第二种线程池退出方式，比较温和，如果exitFlag = 0， 表示不退出，1表示退出</span></span><br><span class="line">                pool.que.exitFlag = <span class="number">1</span>;</span><br><span class="line">                pthread_cond_broadcast(&amp;pool.que.cond);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; threadNum; ++j){</span><br><span class="line">                    pthread_join(pool.pThid[j], <span class="literal">NULL</span>);</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"child process exit\n"</span>);</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//threadPool.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/head.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/threadPool.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/workque.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cleanFunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    pQue_t pQue = (pQue_t)p;</span><br><span class="line">    pthread_mutex_unlock(&amp;pQue-&gt;mutex);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">threadFunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    pQue_t pQue = (pQue_t)p;</span><br><span class="line">    pNode_t pCur = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> getSuccess = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>){</span><br><span class="line">        pthread_mutex_lock(&amp;pQue-&gt;mutex);</span><br><span class="line">        pthread_cleanup_push(cleanFunc, pQue);</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == pQue-&gt;<span class="built_in">size</span>){</span><br><span class="line">            pthread_cond_wait(&amp;pQue-&gt;cond, &amp;pQue-&gt;mutex);</span><br><span class="line">        }</span><br><span class="line">        getSuccess = queGet(pQue, &amp;pCur);</span><br><span class="line">        pthread_mutex_unlock(&amp;pQue-&gt;mutex);</span><br><span class="line"></span><br><span class="line">        pthread_cleanup_pop(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == getSuccess){</span><br><span class="line">            transFile(pCur-&gt;clientFd);</span><br><span class="line">            <span class="built_in">free</span>(pCur);</span><br><span class="line">            pCur = <span class="literal">NULL</span>;</span><br><span class="line">        }</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span> == pQue-&gt;exitFlag){</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"thread exit\n"</span>); </span><br><span class="line">            pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">threadPoolInit</span><span class="params">(pThreadPool_t pPool, <span class="keyword">int</span> threadNum)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    pPool-&gt;threadNum = threadNum;</span><br><span class="line">    pPool-&gt;pThid = (<span class="keyword">pthread_t</span> *)<span class="built_in">calloc</span>(threadNum, <span class="keyword">sizeof</span>(<span class="keyword">pthread_t</span>));</span><br><span class="line"></span><br><span class="line">    queInit(&amp;pPool-&gt;que);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">threadPoolStart</span><span class="params">(pThreadPool_t pPool)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pPool-&gt;threadNum; ++i){</span><br><span class="line">        <span class="comment">/* pthread_create(pPool-&gt;pThid+i, NULL, threadFunc, &amp;pPool-&gt;que); */</span></span><br><span class="line">        pthread_create(&amp;pPool-&gt;pThid[i], <span class="literal">NULL</span>, threadFunc, &amp;pPool-&gt;que);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday24_01</title>
    <url>/category/39Linuxday24_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>作业：</p><ol><li>把上午讲的数据库操作，像我上课记录那样记录下来（严禁直接交我的笔记，一经发现4KM，改我的笔记我也看的出来~ _~）</li></ol><a id="more"></a><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">id</span>,<span class="keyword">name</span>,gender,age,Chinese,Math,English) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'lisi'</span>,<span class="literal">true</span>,<span class="number">18</span>,<span class="number">89</span>,<span class="number">95</span>,<span class="number">90</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">id</span>,<span class="keyword">name</span>,gender) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'Lisi'</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age = <span class="number">19</span>,Chinese = <span class="number">90</span>,Math = <span class="number">70</span>,English = <span class="number">85</span> <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pet ( <span class="keyword">id</span> <span class="built_in">int</span> auto_increment primary <span class="keyword">key</span>, <span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">NULL</span>, stu_id <span class="built_in">int</span>, <span class="keyword">foreign</span> <span class="keyword">key</span>(stu_id)d) <span class="keyword">references</span> student(<span class="keyword">id</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'cat'</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet (<span class="keyword">id</span>,<span class="keyword">name</span>,stu_id) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'dog'</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet (<span class="keyword">name</span>,stu_id) <span class="keyword">values</span> (<span class="string">'bird'</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet (<span class="keyword">name</span>,stu_id) <span class="keyword">values</span> (<span class="string">'turtle'</span>,<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,Math+<span class="number">10</span> <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> Math &gt; <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>, Math+<span class="number">8</span> <span class="keyword">as</span> total <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> Math &gt; <span class="number">80</span> <span class="keyword">and</span> English &gt; <span class="number">80</span> <span class="keyword">and</span> Chinese &gt; <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%san'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> Math <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> Math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> Math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span> offet <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student,pet <span class="keyword">where</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">inner</span> <span class="keyword">join</span> pet <span class="keyword">on</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">as</span> s <span class="keyword">inner</span> <span class="keyword">join</span> pet <span class="keyword">as</span> p <span class="keyword">on</span> s.id = p.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">as</span> s,pet <span class="keyword">as</span> p <span class="keyword">where</span> s.id = p.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> pet <span class="keyword">on</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> pet <span class="keyword">on</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> age <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(age),age <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> age <span class="keyword">having</span> <span class="keyword">count</span>(age)&gt;<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">max</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday1</title>
    <url>/category/39thCPP_day1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="C-Day1"><a href="#C-Day1" class="headerlink" title="C++Day1"></a>C++Day1</h2><a id="more"></a><h3 id="一、选择题"><a href="#一、选择题" class="headerlink" title="一、选择题"></a>一、选择题</h3><p>1、在C++中执行以下4条语句后输出rad值为：（C）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> hot=<span class="number">200</span>; </span><br><span class="line"><span class="keyword">int</span> &amp;rad=hot;</span><br><span class="line">hot = hot + <span class="number">100</span>; </span><br><span class="line"><span class="built_in">cout</span>&lt;&lt; rad &lt;&lt; <span class="built_in">endl</span>; </span><br><span class="line"></span><br><span class="line">A、<span class="number">100</span>        B、<span class="number">200</span>     C、<span class="number">300</span>    D、<span class="number">400</span></span><br></pre></td></tr></tbody></table></figure><h3 id="二、简答题"><a href="#二、简答题" class="headerlink" title="二、简答题"></a>二、简答题</h3><ol><li><p>const关键字与宏定义的区别是什么？</p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line"><span class="bullet">- </span>宏定义是在预处理阶段,进行字符串的替换</span><br><span class="line"><span class="bullet">- </span>宏定义的变量没有具体的类型，不做任何类型的检查，如果有bug，只会在运行的时候才会发现</span><br><span class="line"></span><br><span class="line"><span class="bullet">- </span>const修饰的变量有具体的类型，在编译的时候会做类型检查，如果有bug在编译的时候进行发现</span><br><span class="line"></span><br><span class="line"><span class="bullet">- </span>在使用中，应尽量以const替换宏定义，减小犯错的概率。</span><br></pre></td></tr></tbody></table></figure></li><li><p>malloc的底层实现是怎样的？free是怎么回收内存的？</p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">- <span class="built_in">malloc</span>函数从堆里面获得空间,返回一块指向堆内存的指针。操作系统中有一个记录空闲内存地址的链表。当操作系统收到程序的申请时，就会遍历该链表，然后就寻找第一个空间大于所申请空间的堆结点，然后就将该结点从空闲结点链表中删除，并将该结点的空间分配给程序。</span><br><span class="line"></span><br><span class="line">- 当我们调用<span class="built_in">free</span>函数释放某一块区域的内存时，<span class="built_in">free</span>只是将这一块内存标记为空闲，实际上这一块物理内存还是属于该进程的，只有当整个进程结束后，才会全面回收这一块物理内存页面。</span><br></pre></td></tr></tbody></table></figure></li><li><p>new/delete与malloc/free的区别与联系是什么？(面试常考)</p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">（<span class="number">1</span>）<span class="keyword">new</span>分配内存按照数据类型进行分配，<span class="built_in">malloc</span>分配内存按照指定的大小分配；</span><br><span class="line">（<span class="number">2</span>）<span class="keyword">new</span>返回的是指定对象的指针，而<span class="built_in">malloc</span>返回的是<span class="keyword">void</span>*，因此<span class="built_in">malloc</span>的返回值一般都需要进行类型转化。</span><br><span class="line">（<span class="number">3</span>）<span class="keyword">new</span>不仅分配一段内存，而且会调用构造函数，<span class="built_in">malloc</span>不会。</span><br><span class="line">（<span class="number">4</span>）<span class="keyword">new</span>分配的内存要用<span class="keyword">delete</span>销毁，<span class="built_in">malloc</span>要用<span class="built_in">free</span>来销毁；<span class="keyword">delete</span>销毁的时候会调用对象的析构函数，而<span class="built_in">free</span>则不会。</span><br><span class="line">（<span class="number">5</span>）<span class="keyword">new</span>是一个操作符可以重载，<span class="built_in">malloc</span>是一个库函数。</span><br><span class="line">（<span class="number">6</span>）<span class="built_in">malloc</span>分配的内存不够的时候，可以用<span class="built_in">realloc</span>扩容。扩容的原理？<span class="keyword">new</span>没用这样操作。</span><br><span class="line">（<span class="number">7</span>）<span class="keyword">new</span>如果分配失败了会抛出bad_malloc的异常，而<span class="built_in">malloc</span>失败了会返回<span class="literal">NULL</span>。</span><br><span class="line">（<span class="number">8</span>）申请数组时： <span class="keyword">new</span>[]一次分配所有内存，多次调用构造函数，搭配使<span class="keyword">delete</span>[]，<span class="keyword">delete</span>[]多次调用析构函数，销毁数组中的每个对象。而<span class="built_in">malloc</span>则只能<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n。</span><br></pre></td></tr></tbody></table></figure></li><li><p>区分以下概念：内存泄漏、内存溢出、内存踩踏、野指针？(面试常考)</p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line">内存溢出：</span><br><span class="line"><span class="bullet">- </span>你要的内存空间超过了系统实际分配给你的空间，此时系统没法满足你的需求</span><br><span class="line"><span class="bullet">- </span>比如你申请了一块存储int类型数据的存储空间，但是你却存储long类型的数据，那么结果就是内存不够用，存不下来。</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">内存泄漏：</span><br><span class="line"><span class="bullet">- </span>堆内存泄漏 （Heap leak）：比如申请了堆内存，使用完后并没有释放掉，从而造成了内存的浪费。</span><br><span class="line"><span class="bullet">- </span>系统资源泄露（Resource Leak）：程序使用系统分配的资源比Bitmap,handle,SOCKET等，使用完后却没有执行相应函数释放掉，导致资源的浪费。</span><br><span class="line"><span class="bullet">- </span>没有将基类的析构函数定义为虚函数，当基类指针指向子类对象时，子类的析构函数将不会被调用，子类的资源不能得到正确的释放。</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">内存踩踏： 也叫内存覆盖，一般是数组越界，字符串操作越界，栈指针操作越界</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">野指针：指针的指向是不确定的，去解引用就是访问一个不确定的地址。</span><br></pre></td></tr></tbody></table></figure></li><li><p>引用与指针的区别是什么？并且将”引用”作为函数参数有哪些特点？在什么时候需要使用”常引用”？</p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line"><span class="bullet">- </span>指针指向一块内存，指针的指向是可以变的，指针变量的内容是所指内存的地址。</span><br><span class="line"><span class="bullet">- </span>引用是某块内存的别名，定义引用，必须初始化，且之后不可变，不能定义引用的引用。</span><br><span class="line"><span class="bullet">- </span>sizeof引用得到的是所指向的对象的大小，sizeof指针 得到的是指针的大小8个字节。</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="三、写出下面程序的运行结果。"><a href="#三、写出下面程序的运行结果。" class="headerlink" title="三、写出下面程序的运行结果。"></a>三、写出下面程序的运行结果。</h3><p>1、第一题：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f2</span><span class="params">(<span class="keyword">int</span> &amp;x, <span class="keyword">int</span> &amp;y)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> z = x; </span><br><span class="line">	x = y; </span><br><span class="line">	y = z;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f3</span><span class="params">(<span class="keyword">int</span> *x, <span class="keyword">int</span> *y)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> z = *x; </span><br><span class="line">	*x = *y; </span><br><span class="line">	*y = z;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> x, y;</span><br><span class="line">	x = <span class="number">10</span>; y = <span class="number">26</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"x, y = "</span> &lt;&lt; x &lt;&lt; <span class="string">", "</span> &lt;&lt; y &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	f2(x, y);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"x, y = "</span> &lt;&lt; x &lt;&lt; <span class="string">", "</span> &lt;&lt; y &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	f3(&amp;x, &amp;y);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"x, y = "</span> &lt;&lt; x &lt;&lt; <span class="string">", "</span> &lt;&lt; y &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	x++; </span><br><span class="line">	y--;</span><br><span class="line">	f2(y, x);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"x, y = "</span> &lt;&lt; x &lt;&lt; <span class="string">", "</span> &lt;&lt; y &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">x，y = <span class="number">10</span>，<span class="number">26</span></span><br><span class="line">x，y = <span class="number">26</span>，<span class="number">10</span></span><br><span class="line">x，y = <span class="number">10</span>，<span class="number">26</span></span><br><span class="line">x，y = <span class="number">25</span>，<span class="number">11</span></span><br></pre></td></tr></tbody></table></figure><p>2、以下代码输出的是__？</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">0</span> ||y &lt;= <span class="number">0</span>)  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span> * foo(x<span class="number">-1</span>, y/<span class="number">2</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; foo(<span class="number">3</span>,<span class="number">5</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="number">27</span></span><br></pre></td></tr></tbody></table></figure><p>3、若执行下面的程序时，从键盘上输入5，则输出是（）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">    <span class="keyword">if</span>(x++ &gt; <span class="number">5</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	}      </span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; x-- &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	}</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></tbody></table></figure><p>4、写出下面程序的结果：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>{ </span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">5</span>]={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>}; </span><br><span class="line">    <span class="keyword">int</span> *ptr=(<span class="keyword">int</span> *)(&amp;a+<span class="number">1</span>); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d,%d"</span>,*(a+<span class="number">1</span>),*(ptr<span class="number">-1</span>)); </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>,<span class="number">5</span>    <span class="comment">//&amp;a+1   &amp;a和a一样都表示首地址+1，但&amp;a+1直接加了一个数组的长度</span></span><br></pre></td></tr></tbody></table></figure><p>5、假定 x = 9999，求下列函数的值</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> countx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x)</span><br><span class="line">    {</span><br><span class="line">          countx++;</span><br><span class="line">          x = x&amp;(x<span class="number">-1</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> countx;</span><br><span class="line">} </span><br><span class="line"></span><br><span class="line"><span class="number">8</span>   统计x的二进制形式<span class="number">1</span>的位数</span><br></pre></td></tr></tbody></table></figure><p>四、有段代码写成了下边这样，如果在只修改一个字符的前提下，使代码输出20个hello?</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i--)</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"hello"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i + <span class="number">20</span>; i--)</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"hello"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; -i &lt; <span class="number">20</span>; i--)</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"hello"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday3</title>
    <url>/category/39thCPP_day3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="C-Day3"><a href="#C-Day3" class="headerlink" title="C++Day3"></a>C++Day3</h2><a id="more"></a><h3 id="一、简答题"><a href="#一、简答题" class="headerlink" title="一、简答题"></a>一、简答题</h3><p>1、测试一下内存vs与Linux内存分布有什么区别没有？（堆栈的相对位置有没有变化）</p><p>2、设A为test类的对象且赋有初值,则语句test B(A); 表示。</p><p>3、利用“对象名.成员变量”形式访问的对象成员仅限于被声明为 (1)的成员；若要访问其他成员变量，需要通过 (2) 函数<br>4、浅拷贝与深拷贝区别？</p><figure class="highlight lsl"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span>、栈区 由编译器进行分配与释放，函数参数、局部变量</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、堆区 由程序员进行分配与释放，malloc、new申请的都是堆空间，需要用free与delete进行手动释放，可能由OS回收</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、读写段</span><br><span class="line"></span><br><span class="line">全局变量、静态变量</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、只读段</span><br><span class="line"></span><br><span class="line">文字常量区  字符串常量 <span class="string">"hello,world"</span></span><br><span class="line"></span><br><span class="line">程序代码区   存放的是程序的二进制代码</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 拷贝A生成一个新对象B</span><br><span class="line"><span class="number">3.</span> (<span class="number">1</span>)pubilc</span><br><span class="line">   (<span class="number">2</span>)写一个函数返回数据成员</span><br><span class="line"><span class="number">4.</span> 浅拷贝有一部分数据空间公用</span><br><span class="line">   深拷贝两个对象相互独立，可以独自销毁</span><br></pre></td></tr></tbody></table></figure><h3 id="二、写出下面程序结果。"><a href="#二、写出下面程序结果。" class="headerlink" title="二、写出下面程序结果。"></a>二、写出下面程序结果。</h3><p>1、写出以下程序运行的结果。（ ）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">      Sample();</span><br><span class="line">      <span class="function"><span class="keyword">void</span> <span class="title">Display</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">      <span class="keyword">int</span> i;</span><br><span class="line">      <span class="keyword">static</span> <span class="keyword">int</span> k;</span><br><span class="line">};</span><br><span class="line">Sample::Sample() </span><br><span class="line">{</span><br><span class="line">	i=<span class="number">0</span>;</span><br><span class="line">	k++;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sample::Display</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"i="</span> &lt;&lt; i &lt;&lt; <span class="string">",k="</span> &lt;&lt; k &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Sample::k=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( )</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Sample a, b;</span><br><span class="line">    a.Display();</span><br><span class="line">    b.Display();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line">i=<span class="number">0</span>,k=<span class="number">2</span></span><br><span class="line">i=<span class="number">0</span>,k=<span class="number">2</span></span><br></pre></td></tr></tbody></table></figure><p>2、设有如下程序结构：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Box A,B,C; </span><br><span class="line">}</span><br><span class="line">该程序运行时调用<span class="number">3</span>__次构造函数；调用 <span class="number">3</span>__次析构函数。</span><br></pre></td></tr></tbody></table></figure><p>3、写出下面程序的运行结果（）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Sample();</span><br><span class="line">	Sample(<span class="keyword">int</span> val);</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Display</span><span class="params">()</span></span>;</span><br><span class="line">	~Sample();</span><br><span class="line">};</span><br><span class="line">Sample::Sample() </span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Constructor1"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	i=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Sample::Sample(<span class="keyword">int</span> val) </span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Constructor2"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    i=val;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sample::Display</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"i="</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Sample::~Sample() </span><br><span class="line">{</span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"Destructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">     Sample a, b(<span class="number">10</span>);</span><br><span class="line">     a.Display();</span><br><span class="line">     b.Display();</span><br><span class="line">	 </span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Constructor1</span><br><span class="line">Constructor2</span><br><span class="line">i=<span class="number">0</span></span><br><span class="line">i=<span class="number">10</span></span><br><span class="line">Destructor</span><br><span class="line">Destructor</span><br></pre></td></tr></tbody></table></figure><p>4、设已经有A,B,C,D4个类的定义，程序中A,B,C,D析构函数调用顺序为？</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">C c;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    A *pa=<span class="keyword">new</span> A();</span><br><span class="line">    B b;</span><br><span class="line">    <span class="keyword">static</span> D d;</span><br><span class="line">    <span class="keyword">delete</span> pa;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>5、写出下面程序的结果：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Test()</span><br><span class="line">	:_fourth(_third)</span><br><span class="line">	,_second(i++)</span><br><span class="line">	,_first(i++)</span><br><span class="line">	,_third(i++)</span><br><span class="line">	{</span><br><span class="line">		_third = i;</span><br><span class="line">	}</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"result : "</span> &lt;&lt; _first + _second + _third + _fourth &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	}</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> _first;</span><br><span class="line">	<span class="keyword">int</span> _second;</span><br><span class="line">	<span class="keyword">int</span> _third;</span><br><span class="line">	<span class="keyword">int</span> &amp;_fourth;<span class="comment">//注意：与前面学的引用类比即可</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Test test;</span><br><span class="line">	test.<span class="built_in">print</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">result : <span class="number">11</span></span><br></pre></td></tr></tbody></table></figure><p>6、下列代码在编译时会产生错误的是(3)</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	Foo()</span><br><span class="line">	{</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	Foo(<span class="keyword">int</span>)</span><br><span class="line">	{</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="function">Foo <span class="title">a</span><span class="params">(<span class="number">10</span>)</span></span>;<span class="comment">//语句1</span></span><br><span class="line">	a.fun();<span class="comment">//语句2</span></span><br><span class="line">	<span class="function">Foo <span class="title">b</span><span class="params">()</span></span>;<span class="comment">//语句3</span></span><br><span class="line">	b.fun();<span class="comment">//语句4 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="三、改错题。"><a href="#三、改错题。" class="headerlink" title="三、改错题。"></a>三、改错题。</h3><p>例题1：分析找出以下程序中的错误，说明错误原因，给出修改方案使之能正确运行。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">{</span> </span><br><span class="line">	<span class="keyword">int</span> a1,a2;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Base(<span class="keyword">int</span> x1 = <span class="number">0</span>, x2 = <span class="number">0</span>);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="function">Base <span class="title">data</span><span class="params">(<span class="number">2</span>,<span class="number">3</span>)</span></span>;</span><br><span class="line"> 	<span class="built_in">cout</span> &lt;&lt; data.a1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"> 	<span class="built_in">cout</span> &lt;&lt; data.a2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">{</span> </span><br><span class="line">	<span class="keyword">int</span> a1,a2;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Base(<span class="keyword">int</span> x1,<span class="keyword">int</span> x2);</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">get_a1</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">get_a2</span><span class="params">()</span></span>;</span><br><span class="line">	 </span><br><span class="line">};</span><br><span class="line">Base::Base(<span class="keyword">int</span> x1=<span class="number">0</span>,<span class="keyword">int</span> x2=<span class="number">0</span>)</span><br><span class="line">:a1(x1)</span><br><span class="line">,a2(x2)</span><br><span class="line">{</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Base::get_a1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> a1;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Base::get_a2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> a2;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="function">Base <span class="title">data</span><span class="params">(<span class="number">2</span>,<span class="number">3</span>)</span></span>;</span><br><span class="line"> 	<span class="built_in">cout</span> &lt;&lt; data.get_a1() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"> 	<span class="built_in">cout</span> &lt;&lt; data.get_a2() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>例题2：分析以下程序的错误原因，给出修改方案使之能正确运行。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">float</span> _ix;</span><br><span class="line">	<span class="keyword">float</span> _iy;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Base(<span class="keyword">float</span> ix,<span class="keyword">float</span> iy)</span><br><span class="line">    {</span><br><span class="line">        _ix = ix;</span><br><span class="line">        _iy = iy;</span><br><span class="line">    }</span><br><span class="line"> 	</span><br><span class="line">    <span class="function"><span class="keyword">float</span> <span class="title">gain</span><span class="params">()</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function">Base::<span class="keyword">float</span> <span class="title">gain</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{ </span><br><span class="line">	<span class="keyword">return</span> _iy/_ix; </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="function">Base <span class="title">base</span><span class="params">(<span class="number">5.0</span>,<span class="number">10.0</span>)</span></span>;</span><br><span class="line"> 	<span class="built_in">cout</span> &lt;&lt; <span class="string">"The gain is =&gt; "</span> &lt;&lt; gain() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">float</span> _ix;</span><br><span class="line">	<span class="keyword">float</span> _iy;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Base(<span class="keyword">float</span> ix,<span class="keyword">float</span> iy)</span><br><span class="line">    {</span><br><span class="line">        _ix = ix;</span><br><span class="line">        _iy = iy;</span><br><span class="line">    }</span><br><span class="line"> 	</span><br><span class="line">    <span class="function"><span class="keyword">float</span> <span class="title">gain</span><span class="params">()</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">Base::gain</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{ </span><br><span class="line">	<span class="keyword">return</span> _iy/_ix; </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="function">Base <span class="title">base</span><span class="params">(<span class="number">5.0</span>,<span class="number">10.0</span>)</span></span>;</span><br><span class="line"> 	<span class="built_in">cout</span> &lt;&lt; <span class="string">"The gain is =&gt; "</span> &lt;&lt;base.gain() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="四、编程题。"><a href="#四、编程题。" class="headerlink" title="四、编程题。"></a>四、编程题。</h3><p>1、定义一个学生类，其中有3个数据成员：学号、姓名、年龄，以及若干成员函数。同时编写main函数使用这个类，实现对学生数据的赋值和输出。</p><p>2、编写一个程序计算两个给定的长方形的周长和面积。</p><p>3、编写一个类，实现简单的栈。栈中有以下操作：</p><p>​ &gt; 元素入栈 void push(int);<br>​ &gt; 元素出栈 void pop();<br>​ &gt; 读出栈顶元素 int top();<br>​ &gt; 判断栈空 bool emty();<br>​ &gt; 判断栈满 bool full();<br>​ 如果栈溢出，程序终止。栈的数据成员由存放10个整型数据的数组构成。（可以自己设计入栈出栈的数据）</p><p>提示：就是用C++类的方式实现一个栈，然后写出栈的基本操作，入栈、出栈、栈为空、栈为满的函数，以及模拟栈的入栈出栈的操作。</p><p>4、编写一个类，实现简单的队列。队列中有以下操作：<br>&gt; 元素入队 void push(int);<br>&gt; 元素出队 void pop();<br>&gt; 读取队头元素 int front();<br>&gt; 读取队尾元素 int back();<br>&gt; 判断队列是否为空 bool emty();<br>&gt; 判断队列是否已满 bool full();</p><p>注意循环队列的使用</p><p>提示：就是用C++类的方式实现一个队列，然后写出队列的基本操作，入队列、出队列、队列为空、队列为满的函数，以及模拟队列的入队列出队列的操作。</p><p>1.</p><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Student(<span class="keyword">const</span> <span class="keyword">char</span>* number,<span class="keyword">const</span> <span class="keyword">char</span>* name,<span class="keyword">int</span> age);</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span>* _number;</span><br><span class="line">    <span class="keyword">char</span>* _name;</span><br><span class="line">    <span class="keyword">int</span> _age;</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line">Student::Student(<span class="keyword">const</span> <span class="keyword">char</span>* number,<span class="keyword">const</span> <span class="keyword">char</span>* name,<span class="keyword">int</span> age)</span><br><span class="line">:_number(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(number)+<span class="number">1</span>]())</span><br><span class="line">,_name(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(name)+<span class="number">1</span>]())</span><br><span class="line">,_age(age)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">strcpy</span>(_number,number);</span><br><span class="line">    <span class="built_in">strcpy</span>(_name,name);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Student::display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; _number &lt;&lt;<span class="built_in">endl</span></span><br><span class="line">         &lt;&lt; _name &lt;&lt;<span class="built_in">endl</span></span><br><span class="line">         &lt;&lt; _age &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">Student <span class="title">clp</span><span class="params">(<span class="string">"16130188039"</span>,<span class="string">"clp"</span>,<span class="number">24</span>)</span></span>;</span><br><span class="line">    clp.<span class="built_in">display</span>();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2.</p><figure class="highlight reasonml"><table><tbody><tr><td class="code"><pre><span class="line">#<span class="keyword">include</span> &lt;iostream&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;<span class="built_in">string</span>.h&gt;</span><br><span class="line"></span><br><span class="line">using std::cout;</span><br><span class="line">using std::endl;</span><br><span class="line">using std::<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Triangle</span><br><span class="line">{</span><br><span class="line">public:</span><br><span class="line">    <span class="constructor">Triangle(<span class="params">float</span> <span class="params">high</span>,<span class="params">float</span> <span class="params">width</span>)</span>;</span><br><span class="line">    <span class="built_in">float</span> area<span class="literal">()</span>;</span><br><span class="line">    <span class="built_in">float</span> girth<span class="literal">()</span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">float</span> _high;</span><br><span class="line">    <span class="built_in">float</span> _width; </span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Triangle::<span class="constructor">Triangle(<span class="params">float</span> <span class="params">high</span>,<span class="params">float</span> <span class="params">width</span>)</span></span><br><span class="line">:<span class="constructor">_high(<span class="params">high</span>)</span></span><br><span class="line">,<span class="constructor">_width(<span class="params">width</span>)</span></span><br><span class="line">{</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">float</span> Triangle::area<span class="literal">()</span></span><br><span class="line">{</span><br><span class="line">    return _high*_width;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">float</span> Triangle::girth<span class="literal">()</span></span><br><span class="line">{</span><br><span class="line">    return <span class="number">2</span>*(_high+_width);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> main<span class="literal">()</span></span><br><span class="line">{</span><br><span class="line">    Triangle tri1(<span class="number">16</span>,<span class="number">8</span>),tri2(<span class="number">7</span>,<span class="number">4</span>);</span><br><span class="line">    cout &lt;&lt; tri1.area<span class="literal">()</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; tri1.girth<span class="literal">()</span> &lt;&lt; endl </span><br><span class="line">         &lt;&lt; tri2.area<span class="literal">()</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; tri2.girth<span class="literal">()</span> &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3.</p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Stack();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">full</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span>* _arr;</span><br><span class="line">    <span class="keyword">int</span> _top;</span><br><span class="line">};</span><br><span class="line">Stack::Stack()</span><br><span class="line">{</span><br><span class="line">   _arr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>]();</span><br><span class="line">   _top = <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Stack::push</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    _top++;</span><br><span class="line">    _arr[_top] = data;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Stack::pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    _top--;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Stack::top</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> _arr[_top];</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Stack::empty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> _top == <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Stack::full</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> _top == <span class="number">10</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>4.</p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Queue();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">full</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span>* _arr;</span><br><span class="line">    <span class="keyword">int</span> _front;</span><br><span class="line">    <span class="keyword">int</span> _rear;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Queue::Queue()</span><br><span class="line">{</span><br><span class="line">    _arr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>]();</span><br><span class="line">    _front = <span class="number">0</span>;</span><br><span class="line">    _rear = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Queue::push</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">   <span class="keyword">if</span>(full())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"队列满了，插入失败。"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        _arr[_rear] = data;</span><br><span class="line">        _rear = (_rear+<span class="number">1</span>)%<span class="number">10</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Queue::pop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(empty())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"队列是空的，弹出失败。"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        _front = (_front+<span class="number">1</span>)%<span class="number">10</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Queue::empty</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> _front == _rear;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Queue::full</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> (_rear+<span class="number">1</span>)&amp;<span class="number">10</span> == _front;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday2</title>
    <url>/category/39thCPP_day2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h2><a id="more"></a><h3 id="一、选择题"><a href="#一、选择题" class="headerlink" title="一、选择题"></a>一、选择题</h3><p>1、在（CE ）情况下适宜采用inline定义内联函数。(多选题)<br>A、 函数体含有循环语句<br>B、 函数体含有递归语句<br>C、 函数代码少、频繁调用<br>D、 函数代码多、不常调用<br>E、 需要加快程序执行速度</p><h3 id="二、简答题"><a href="#二、简答题" class="headerlink" title="二、简答题"></a>二、简答题</h3><ol><li>如何判断一段程序是由C 编译程序还是由C++编译程序编译的？</li><li>函数重载的原理是什么？</li><li>inline函数与带参数的宏定义的区别？</li></ol><figure class="highlight lsl"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 如果程序由extern <span class="string">"C"</span>包着，则由C 编译，其他由C++编译</span><br><span class="line"><span class="number">2.</span> 在同一个作用域中，当函数名字相同的时候，会根据参数的类型、参数的个数、参数的顺序去进行改编，函数重载编译后生成.o文件，用nm看，重载的函数名都是不一样的。</span><br><span class="line"><span class="number">3.</span></span><br></pre></td></tr></tbody></table></figure><h3 id="三、预习一下类和对象"><a href="#三、预习一下类和对象" class="headerlink" title="三、预习一下类和对象"></a>三、预习一下类和对象</h3><p>可以看看预习题</p><h3 id="四、算法题（选做，如果觉得自己实现不了，可以先不做，但是一定要坚持跟上）"><a href="#四、算法题（选做，如果觉得自己实现不了，可以先不做，但是一定要坚持跟上）" class="headerlink" title="四、算法题（选做，如果觉得自己实现不了，可以先不做，但是一定要坚持跟上）"></a>四、算法题（选做，如果觉得自己实现不了，可以先不做，但是一定要坚持跟上）</h3><p>1、在一个数组中除了一个数字只出现一次之外，其他数字都出现了三次。请找出那个只出现一次的数字。</p><p>2、地上有一个m行n列的方格。一个机器人从坐标(0, 0)的格子开始移动，它每一次可以向左、右、上、下移动一格，但不能进入行坐标和列坐标的数位之和大于k的格子。例如，当k为18时，机器人能够进入方格(35, 37)，因为3+5+3+7=18。但它不能进入方格(35, 38)，因为3+5+3+8=19。请问该机器人能够到达多少个格子？</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday4</title>
    <url>/category/39thCPP_day4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="C-Day4"><a href="#C-Day4" class="headerlink" title="C++Day4"></a>C++Day4</h2><a id="more"></a><h3 id="一、简答题"><a href="#一、简答题" class="headerlink" title="一、简答题"></a>一、简答题</h3><ol><li><p>当定义类时，编译器会为类自动生成哪些函数？这些函数各自都有什么特点？</p><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line">默认构造函数：</span><br><span class="line"><span class="bullet">	* </span>作用：完成成员变量的初始化</span><br><span class="line"><span class="bullet">	* </span>函数名与类名相同</span><br><span class="line"><span class="bullet">	* </span>没有返回值类型（void都没有）</span><br><span class="line"><span class="bullet">	* </span>默认构造函数是无参的（用户自定义的构造函数可以有参数）</span><br><span class="line"><span class="bullet">	* </span>只有在用户没有自定义构造函数情况下，系统才会自动生成一个默认构造函数。</span><br><span class="line"><span class="bullet">	* </span>构造函数可以有多个，即可以重载。</span><br><span class="line">默认析构函数：</span><br><span class="line"><span class="bullet">	* </span>作用：对象销毁，执行清理任务</span><br><span class="line"><span class="bullet">	* </span>函数名就是 ~类名</span><br><span class="line"><span class="bullet">	* </span>没有返回值类型，也不能传参</span><br><span class="line"><span class="bullet">	* </span>只能有一个。</span><br><span class="line"><span class="bullet">	* </span>调用时机，主要注意对于堆区对象，在delete后调用。</span><br><span class="line">默认拷贝函数：</span><br><span class="line"><span class="bullet">	* </span>函数形式： 类名(const 类名 &amp;rhs);</span><br><span class="line"><span class="bullet">	* </span>编译器生成的默认拷贝函数是浅拷贝，即值进行简单的赋值，可能带来堆区空间重复释放的问题</span><br><span class="line"><span class="bullet">	* </span>调用时机：用一个已经存在的对象 初始化 一个新的对象；形参与实参，进行参数传递；函数返回值是对象，函数返回时</span><br><span class="line">默认赋值运算函数：</span><br><span class="line"><span class="bullet">	* </span>函数形式： 类名 &amp;operator=(const 类名 &amp;rhs)；</span><br></pre></td></tr></tbody></table></figure></li></ol><ol start="2"><li><p>什么是左值与右值，拷贝构造函数中的引用与const为什么不能去掉？</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">左值：可以取地址的值</span><br><span class="line">右值：不可以取地址的值。如：临时对象，匿名对象，字面值常量</span><br></pre></td></tr></tbody></table></figure><p>为什么&amp;不能去掉？</p><figure class="highlight 1c"><table><tbody><tr><td class="code"><pre><span class="line">如果去掉<span class="meta">&amp;，变为：const 类名 rhs  </span></span><br><span class="line">形参的初始化需要调用拷贝构造函数，这样会一直递去调用拷贝构造函数，直到栈溢出，程序崩溃。</span><br><span class="line">而加上<span class="meta">&amp;，形参就是一个与实参绑定的引用，就相当于是实参了。</span></span><br></pre></td></tr></tbody></table></figure><p>为什么不能去掉const？</p><figure class="highlight 1c"><table><tbody><tr><td class="code"><pre><span class="line">如果去掉，变为：类名 <span class="meta">&amp;rhs</span></span><br><span class="line">形参就时一个普通的引用，他与传过来的实参进行绑定。但这里的问题是，如果该实参是一个左值，则不会出现问题，如果该实参是一个右值（即不能取地址的值），那么无法绑定，就会出错。</span><br><span class="line">	只有const <span class="meta">&amp; 才可以绑定一个右值。</span></span><br><span class="line">	调用一个返回引用的函数 得到的是左值，调用其他返回类型的函数得到的是右值。</span><br><span class="line">总结：当调用的函数返回一个非引用类型的对象时，返回值为右值，此时若想直接使用该函数的返回值来初始化一个对象时，就会调用拷贝构造函数。如果起形参不是const，就会出错。</span><br></pre></td></tr></tbody></table></figure></li></ol><ol start="3"><li><p>this指针是什么?</p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line"><span class="bullet">* </span>隐藏在每个非静态成员函数的第一个参数中的指针；</span><br><span class="line"><span class="bullet">* </span>指向调用该成员函数的对象本身；</span><br><span class="line"><span class="bullet">* </span>是一个指针常量，指向不能变；</span><br><span class="line"><span class="bullet">* </span>静态成员函数中没有this指针。</span><br></pre></td></tr></tbody></table></figure></li><li><p>必须在构造函数列表中初始化的3种情况?</p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line"><span class="bullet">* </span>常量成员变量，因为常量只能在定义的时候初始化，不能赋值，所以必须放在初始化列表里面</span><br><span class="line"><span class="bullet">* </span>引用类型成员变量，引用只能在定义的时候初始化，不能赋值，所以必须放在初始化列表里</span><br><span class="line"><span class="bullet">* </span>没有默认构造函数的类 类型，必须使用初始化列表进行初始化，初始化列表可以不必调用默认构造函数，直接调用拷贝构造函数初始化。</span><br></pre></td></tr></tbody></table></figure></li><li><p>静态数据成员的初始化在哪里，需要注意什么？</p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line"><span class="bullet">* </span>所有该类的对象共享类中的静态成员变量；</span><br><span class="line"><span class="bullet">* </span>静态成员变量在编译阶段就分配好了内存，分配在静态区</span><br><span class="line"><span class="bullet">* </span>静态成员变量的初始化在全局区，要注意，初始化与函数实现放在一起，防止多次初始化</span><br><span class="line"><span class="bullet">* </span>成员函数中可以直接使用静态成员函数</span><br><span class="line"><span class="bullet">* </span>静态成员变量可通过某个对象访问，也可以通过类作用域访问。</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="二、写出下面程序结果。"><a href="#二、写出下面程序结果。" class="headerlink" title="二、写出下面程序结果。"></a>二、写出下面程序结果。</h3><h4 id="1、写出以下程序运行的结果。"><a href="#1、写出以下程序运行的结果。" class="headerlink" title="1、写出以下程序运行的结果。"></a>1、写出以下程序运行的结果。</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>	</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point(<span class="keyword">int</span> xx = <span class="number">0</span>, <span class="keyword">int</span> yy = <span class="number">0</span>) </span><br><span class="line">	{</span><br><span class="line">		X = xx;</span><br><span class="line">		Y = yy;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"point构造函数被调用"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">   	Point(Point &amp;p);</span><br><span class="line">   	</span><br><span class="line">   	<span class="function"><span class="keyword">int</span> <span class="title">GetX</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">   	</span>{</span><br><span class="line">   		<span class="keyword">return</span> X;</span><br><span class="line">   	}</span><br><span class="line">   	</span><br><span class="line">   	<span class="function"><span class="keyword">int</span> <span class="title">GetY</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">   	</span>{</span><br><span class="line">   		<span class="keyword">return</span> Y;</span><br><span class="line">   	}</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> X,Y;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Point::Point(Point &amp;p)	</span><br><span class="line">{</span><br><span class="line">	X = p.X;</span><br><span class="line">	Y = p.Y;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"X = "</span> &lt;&lt; X &lt;&lt; <span class="string">" Y="</span> &lt;&lt; Y &lt;&lt; <span class="string">"Point拷贝构造函数被调用"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Distance</span>	</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:	</span><br><span class="line">	Distance(Point xp1, Point xp2);</span><br><span class="line">	<span class="function"><span class="keyword">double</span> <span class="title">GetDis</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="keyword">return</span> dist;</span><br><span class="line">	}</span><br><span class="line"><span class="keyword">private</span>:	</span><br><span class="line">	Point p1,p2;	</span><br><span class="line">	<span class="keyword">double</span> dist;	</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Distance::Distance(Point xp1, Point xp2)</span><br><span class="line">: p1(xp1)</span><br><span class="line">,p2(xp2)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Distance构造函数被调用"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">double</span> x = <span class="keyword">double</span>(p1.GetX() - p2.GetX());</span><br><span class="line">	<span class="keyword">double</span> y = <span class="keyword">double</span>(p1.GetY() - p2.GetY());</span><br><span class="line">	dist = <span class="built_in">sqrt</span>(x * x + y * y);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Point myp1(1,1), myp2(4,5);</span><br><span class="line">	<span class="function">Distance <span class="title">myd</span><span class="params">(myp1, myp2)</span></span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"The distance is:"</span> ;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; myd.GetDis() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">point</span>构造函数被调用</span><br><span class="line"><span class="built_in">point</span>构造函数被调用</span><br><span class="line">X = <span class="number">4</span> Y=<span class="number">5</span>Point拷贝构造函数被调用</span><br><span class="line">X = <span class="number">1</span> Y=<span class="number">1</span>Point拷贝构造函数被调用</span><br><span class="line">X = <span class="number">1</span> Y=<span class="number">1</span>Point拷贝构造函数被调用</span><br><span class="line">X = <span class="number">4</span> Y=<span class="number">5</span>Point拷贝构造函数被调用</span><br><span class="line">Distance构造函数被调用</span><br><span class="line">The distance is:<span class="number">5</span></span><br></pre></td></tr></tbody></table></figure><h4 id="2、写出以下程序运行的结果。"><a href="#2、写出以下程序运行的结果。" class="headerlink" title="2、写出以下程序运行的结果。"></a>2、写出以下程序运行的结果。</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MyClass(<span class="keyword">int</span> i = <span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    }</span><br><span class="line">    MyClass(<span class="keyword">const</span> MyClass &amp;x)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line">    MyClass &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> MyClass &amp;x)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    ~MyClass()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">4</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    MyClass obj1(1), obj2(2);</span><br><span class="line">    MyClass obj3 = obj1;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="number">122444</span></span><br></pre></td></tr></tbody></table></figure><h4 id="3、不考虑任何编译器优化-如-NRVO-下述代码的第10-会发生"><a href="#3、不考虑任何编译器优化-如-NRVO-下述代码的第10-会发生" class="headerlink" title="3、不考虑任何编译器优化(如:NRVO),下述代码的第10#会发生"></a>3、不考虑任何编译器优化(如:NRVO),下述代码的第10#会发生</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">classB</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	B()</span><br><span class="line">	{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"B()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~B()</span><br><span class="line">    {</span><br><span class="line">    	<span class="built_in">cout</span> &lt;&lt; <span class="string">"~B()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    B(<span class="keyword">const</span> B &amp;rhs)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"B(const B&amp;)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    B &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> B &amp;rhs)</span><br><span class="line">    {</span><br><span class="line">    	<span class="built_in">cout</span> &lt;&lt; <span class="string">"B &amp;operator=(const B &amp;s)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span>  *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function">B <span class="title">func</span><span class="params">(<span class="keyword">const</span> B &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"B func(const B &amp;)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> rhs;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	B b1,b2;</span><br><span class="line">    b2=func(b1);<span class="comment">//10#</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">B()</span><br><span class="line">B()</span><br><span class="line"><span class="function">B <span class="title">func</span><span class="params">(<span class="keyword">const</span> B &amp;)</span></span></span><br><span class="line"><span class="function"><span class="title">B</span><span class="params">(<span class="keyword">const</span> B&amp;)</span></span></span><br><span class="line"><span class="function">B &amp;<span class="keyword">operator</span></span>=(<span class="keyword">const</span> B &amp;s)</span><br><span class="line">~B()</span><br><span class="line">~B()</span><br><span class="line">~B()</span><br></pre></td></tr></tbody></table></figure><h3 id="三、编程题。"><a href="#三、编程题。" class="headerlink" title="三、编程题。"></a>三、编程题。</h3><h4 id="1、实现一个自定义的String类，保证main函数对正确执行"><a href="#1、实现一个自定义的String类，保证main函数对正确执行" class="headerlink" title="1、实现一个自定义的String类，保证main函数对正确执行"></a>1、实现一个自定义的String类，保证main函数对正确执行</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">String</span>();</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *pstr);</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs);</span><br><span class="line">	~<span class="keyword">String</span>();</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">char</span> * _pstr;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">String</span> str1;</span><br><span class="line">	str1.<span class="built_in">print</span>();</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">String</span> str2 = <span class="string">"Hello,world"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">str3</span><span class="params">(<span class="string">"wangdao"</span>)</span></span>;</span><br><span class="line">	</span><br><span class="line">	str2.<span class="built_in">print</span>();		</span><br><span class="line">	str3.<span class="built_in">print</span>();	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">String</span> str4 = str3;</span><br><span class="line">	str4.<span class="built_in">print</span>();</span><br><span class="line">	</span><br><span class="line">	str4 = str2;</span><br><span class="line">	str4.<span class="built_in">print</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">String</span>();</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *pstr);</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs);</span><br><span class="line">	~<span class="keyword">String</span>();</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">char</span> * _pstr;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>()</span><br><span class="line">:_pstr(<span class="literal">nullptr</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"构造函数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">:_pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(pstr)+<span class="number">1</span>]())</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"构造函数："</span>&lt;&lt;pstr&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(_pstr,pstr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">:_pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pstr)+<span class="number">1</span>]()) <span class="comment">//因为左值不存在所以不用考虑先释放堆空间</span></span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"拷贝构造函数："</span>&lt;&lt;rhs._pstr&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(_pstr,rhs._pstr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>!=&amp;rhs) <span class="comment">//自复制</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> _pstr;  <span class="comment">//删除左值</span></span><br><span class="line">        _pstr = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"赋值运算符函数："</span>&lt;&lt;rhs._pstr&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        _pstr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pstr)+<span class="number">1</span>]();  <span class="comment">//深拷贝</span></span><br><span class="line">        <span class="built_in">strcpy</span>(_pstr,rhs._pstr);  </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>::~<span class="keyword">String</span>()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"析构函数："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(_pstr)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> _pstr; </span><br><span class="line">        _pstr = <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">String::print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(_pstr)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"_pstr："</span>&lt;&lt;_pstr&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">String</span> str1;</span><br><span class="line">	str1.<span class="built_in">print</span>();</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">String</span> str2 = <span class="string">"Hello,world"</span>;</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">str3</span><span class="params">(<span class="string">"wangdao"</span>)</span></span>;</span><br><span class="line">	</span><br><span class="line">	str2.<span class="built_in">print</span>();		</span><br><span class="line">	str3.<span class="built_in">print</span>();	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">String</span> str4 = str3;</span><br><span class="line">	str4.<span class="built_in">print</span>();</span><br><span class="line">	</span><br><span class="line">	str4 = str2;</span><br><span class="line">	str4.<span class="built_in">print</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="2、用C-实现一个双向链表"><a href="#2、用C-实现一个双向链表" class="headerlink" title="2、用C++实现一个双向链表"></a>2、用C++实现一个双向链表</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line"> 	Node * pre;</span><br><span class="line"> 	Node * next;</span><br><span class="line">}; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	List();</span><br><span class="line"> 	~List();</span><br><span class="line">				</span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">push_front</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//在头部进行插入         </span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//在尾部进行插入</span></span><br><span class="line">                 </span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">pop_front</span><span class="params">()</span></span>;<span class="comment">//在链表头部进行删除          </span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">pop_back</span><span class="params">()</span></span>;<span class="comment">//在链表的尾部进行删除</span></span><br><span class="line">     </span><br><span class="line">     <span class="function"><span class="keyword">bool</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//在链表中进行查找</span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> pos, <span class="keyword">int</span> data)</span></span>;<span class="comment">//在指定位置后面插入pos </span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">//打印链表	</span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//删除一个指定的节点			 		</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	Node * _head;</span><br><span class="line"> 	Node * _tail;</span><br><span class="line"> 	<span class="keyword">int</span>    _size;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line"> 	Node *pre;</span><br><span class="line"> 	Node *next;</span><br><span class="line">}; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	List();</span><br><span class="line"> 	~List();</span><br><span class="line">				</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push_front</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//在头部进行插入         </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//在尾部进行插入</span></span><br><span class="line">                 </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop_front</span><span class="params">()</span></span>;<span class="comment">//在链表头部进行删除          </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop_back</span><span class="params">()</span></span>;<span class="comment">//在链表的尾部进行删除</span></span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//在链表中进行查找</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> pos, <span class="keyword">int</span> data)</span></span>;<span class="comment">//在指定位置后面插入pos </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">//打印链表	</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> data)</span></span>;<span class="comment">//删除一个指定的节点			 		</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	Node * _head;</span><br><span class="line"> 	Node * _tail;</span><br><span class="line"> 	<span class="keyword">int</span>    _size;</span><br><span class="line">};	</span><br><span class="line"></span><br><span class="line">List::List()</span><br><span class="line">:_head(<span class="literal">nullptr</span>)</span><br><span class="line">,_tail(<span class="literal">nullptr</span>)</span><br><span class="line">,_size(<span class="number">0</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"构造函数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">List::~List()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"析构函数："</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    Node *cur1 = _head,*cur2;</span><br><span class="line">    <span class="keyword">while</span>(cur1)</span><br><span class="line">    {</span><br><span class="line">        cur2 = cur1-&gt;next;</span><br><span class="line">        pop_front();</span><br><span class="line">        cur1 = cur2;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List::push_front</span><span class="params">(<span class="keyword">int</span> data)</span><span class="comment">//在头部进行插入</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node* pNode = <span class="keyword">new</span> Node();</span><br><span class="line">    pNode-&gt;data =data;</span><br><span class="line">    <span class="keyword">if</span>(_tail == <span class="literal">nullptr</span>)</span><br><span class="line">    {</span><br><span class="line">        pNode-&gt;pre = <span class="literal">nullptr</span>;</span><br><span class="line">        pNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        _head = pNode;</span><br><span class="line">        _tail = pNode;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        pNode-&gt;next = _head;</span><br><span class="line">        _head-&gt;pre = pNode;</span><br><span class="line">        _head = pNode;</span><br><span class="line">    }</span><br><span class="line">    _size++;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List::push_back</span><span class="params">(<span class="keyword">int</span> data)</span><span class="comment">//在尾部进行插入</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node* pNode = <span class="keyword">new</span> Node();</span><br><span class="line">    pNode-&gt;data =data;</span><br><span class="line">    <span class="keyword">if</span>(_head == <span class="literal">nullptr</span>)</span><br><span class="line">    {</span><br><span class="line">        pNode-&gt;pre = <span class="literal">nullptr</span>;</span><br><span class="line">        pNode-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        _head = pNode;</span><br><span class="line">        _tail = pNode;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        _tail-&gt;next = pNode;</span><br><span class="line">        pNode-&gt;pre = _tail;</span><br><span class="line">        _tail = pNode;</span><br><span class="line">    }</span><br><span class="line">    _size++;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List::pop_front</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(_head)</span><br><span class="line">    {</span><br><span class="line">        Node *cur1 = _head;</span><br><span class="line">        <span class="keyword">if</span>(_head != _tail)</span><br><span class="line">        {</span><br><span class="line">            Node *cur2 = _head-&gt;next;</span><br><span class="line">            cur1-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">delete</span> cur1;</span><br><span class="line">            _head = cur2;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> cur1;</span><br><span class="line">            _head = <span class="literal">nullptr</span>;</span><br><span class="line">            _tail = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">        _size--;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"空链表"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List::pop_back</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(_tail)</span><br><span class="line">    {</span><br><span class="line">        Node *cur1 = _tail;</span><br><span class="line">        <span class="keyword">if</span>(_head != _tail)</span><br><span class="line">        {</span><br><span class="line">            Node *cur2 = _tail-&gt;pre;</span><br><span class="line">            cur2-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">delete</span> cur1;</span><br><span class="line">            _tail = cur2;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> cur1;</span><br><span class="line">            _head = <span class="literal">nullptr</span>;</span><br><span class="line">            _tail = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">        _size--;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"空链表"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List::display</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node *cur1 = _head,*cur2;</span><br><span class="line">    <span class="keyword">if</span>(cur1 == <span class="literal">nullptr</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"空链表"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">while</span>(cur1)</span><br><span class="line">    {</span><br><span class="line">        cur2 = cur1-&gt;next;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cur1-&gt;data&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        cur1 = cur2;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"_head-&gt;data:%d,_tail-&gt;data:%d,_size:%d\n"</span>,_head-&gt;data,_tail-&gt;data,_size);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">List::find</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node *cur1 = _head,*cur2;</span><br><span class="line">    <span class="keyword">while</span>(cur1)</span><br><span class="line">    {</span><br><span class="line">        cur2 = cur1-&gt;next;</span><br><span class="line">        <span class="keyword">if</span>(cur1-&gt;data == data)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        }</span><br><span class="line">        cur1 = cur2;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List::insert</span><span class="params">(<span class="keyword">int</span> pos, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node *cur1 = _head,*cur2;</span><br><span class="line">    <span class="keyword">while</span>(cur1)</span><br><span class="line">    {</span><br><span class="line">        cur2 = cur1-&gt;next;</span><br><span class="line">        <span class="keyword">if</span>(cur1-&gt;data == pos)</span><br><span class="line">        {</span><br><span class="line">            Node* pNode = <span class="keyword">new</span> Node();</span><br><span class="line">            pNode-&gt;data =data;</span><br><span class="line">            <span class="keyword">if</span>(_tail != cur1)</span><br><span class="line">            {</span><br><span class="line">                pNode-&gt;next = cur1-&gt;next;</span><br><span class="line">                cur1-&gt;next-&gt;pre = pNode;</span><br><span class="line">                pNode-&gt;pre = cur1;</span><br><span class="line">                cur1-&gt;next = pNode;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                cur1-&gt;next = pNode;</span><br><span class="line">                pNode-&gt;pre = cur1;</span><br><span class="line">                _tail = pNode;</span><br><span class="line">            }</span><br><span class="line">            _size++;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        cur1 = cur2;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"链表不存在pos:"</span>&lt;&lt;pos&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">List::erase</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node *cur1 = _head,*cur2;</span><br><span class="line">    <span class="keyword">while</span>(cur1)</span><br><span class="line">    {</span><br><span class="line">        cur2 = cur1-&gt;next;</span><br><span class="line">        <span class="keyword">if</span>(cur1-&gt;data == data)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(_head == _tail)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">delete</span> cur1;</span><br><span class="line">                cur1 = <span class="literal">nullptr</span>;</span><br><span class="line">                _head = <span class="literal">nullptr</span>;</span><br><span class="line">                _tail = <span class="literal">nullptr</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cur1 == _head &amp;&amp; cur1 != _tail)</span><br><span class="line">            {</span><br><span class="line">                Node *cur3 = _head-&gt;next;</span><br><span class="line">                cur1-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">                <span class="keyword">delete</span> cur1;</span><br><span class="line">                cur1 = <span class="literal">nullptr</span>;</span><br><span class="line">                _head = cur3;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cur1 == _tail &amp;&amp; cur1 != _head)</span><br><span class="line">            {</span><br><span class="line">                Node *cur3 = _tail-&gt;pre;</span><br><span class="line">                cur3-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">                <span class="keyword">delete</span> cur1;</span><br><span class="line">                cur1 = <span class="literal">nullptr</span>;</span><br><span class="line">                _tail = cur3;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                Node *cur3 = cur1-&gt;pre;</span><br><span class="line">                <span class="keyword">delete</span> cur1;</span><br><span class="line">                cur1 = <span class="literal">nullptr</span>;</span><br><span class="line">                cur3-&gt;next = cur2;</span><br><span class="line">                cur2-&gt;pre = cur3;</span><br><span class="line">            }</span><br><span class="line">            _size--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        cur1 = cur2;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"链表不存在要删除的data:"</span>&lt;&lt;data&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    List <span class="built_in">list</span>;</span><br><span class="line">    <span class="built_in">list</span>.<span class="built_in">display</span>();</span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//list.pop_front();</span></span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">list</span>.push_back(<span class="number">4</span>);</span><br><span class="line">    <span class="built_in">list</span>.pop_back();</span><br><span class="line">    <span class="comment">// if(list.find(3)) cout&lt;&lt;"3存在"&lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">// else cout&lt;&lt;"3不存在"&lt;&lt;endl;</span></span><br><span class="line">    <span class="built_in">list</span>.insert(<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">list</span>.erase(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">list</span>.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="3、实现上课时候的单例模式的代码"><a href="#3、实现上课时候的单例模式的代码" class="headerlink" title="3、实现上课时候的单例模式的代码"></a>3、实现上课时候的单例模式的代码</h4><h4 id="4、上课的时候，单例模式的代码中，对象是放在堆上的，大家可以看看除了堆还有哪些地方可以存放这个唯一的对象，可以写出这样的代码？"><a href="#4、上课的时候，单例模式的代码中，对象是放在堆上的，大家可以看看除了堆还有哪些地方可以存放这个唯一的对象，可以写出这样的代码？" class="headerlink" title="4、上课的时候，单例模式的代码中，对象是放在堆上的，大家可以看看除了堆还有哪些地方可以存放这个唯一的对象，可以写出这样的代码？"></a>4、上课的时候，单例模式的代码中，对象是放在堆上的，大家可以看看除了堆还有哪些地方可以存放这个唯一的对象，可以写出这样的代码？</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实现单例模式</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton* <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span>(_pInstance == <span class="literal">nullptr</span>)</span><br><span class="line">        {</span><br><span class="line">            _pInstance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> _pInstance;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span>(_pInstance)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> _pInstance;</span><br><span class="line">            _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"构造函数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"析构函数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> Singleton* _pInstance;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Singleton* Singleton::_pInstance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Singleton* s1 = Singleton::getInstance();</span><br><span class="line">    Singleton* s2 = Singleton::getInstance();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"s1地址：%p\n"</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"s2地址：%p\n"</span>,s2);</span><br><span class="line"></span><br><span class="line">    s1-&gt;destory();</span><br><span class="line">    s2-&gt;destory();</span><br><span class="line">    Singleton::destory();</span><br><span class="line">    Singleton::destory();</span><br><span class="line">    Singleton::destory();</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>提示：可以看看全局的、静态的、栈上的。</p><p>方法一：<strong>生成全局静态对象</strong></p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton *<span class="title">GetInstance</span><span class="params">()</span>     <span class="comment">// 静态成员函数，返回静态对象的地址</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> &amp;m_instance;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"构造函数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"析构函数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> Singleton m_instance;      <span class="comment">//静态成员变量</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Singleton Singleton::m_instance;    <span class="comment">//初始化这个静态成员变量，就是初始化一个对象，这个对象在静态区</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Singleton *p1 = Singleton::GetInstance();</span><br><span class="line">    Singleton *p2 = Singleton::GetInstance();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">构造时机： 初始化时生成；</span><br><span class="line">对象位置： 静态区</span><br><span class="line">资源释放： 在程序结束时 自动释放静态区的 成员变量</span><br></pre></td></tr></tbody></table></figure><p>全局变量、类的静态成员变量在main执行之前的静态初始化过程中分配内存并初始化；</p><p>局部静态变量（一般为函数内的静态变量）在第一次使用时分配内存并初始化。这里的变量包含内置数据类型和自定义类型的对象。</p><p>方法二：生成<strong>局部静态对象</strong></p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton *<span class="title">GetInstance</span><span class="params">()</span>     <span class="comment">// 静态成员函数，返回静态对象的地址</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">static</span> Singleton instance;</span><br><span class="line">        <span class="keyword">return</span> &amp;instance;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"构造函数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"析构函数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Singleton *p1 = Singleton::GetInstance();</span><br><span class="line">    Singleton *p2 = Singleton::GetInstance();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">构造时机： 运行时生成；</span><br><span class="line">对象位置： 静态区；</span><br><span class="line">资源释放： 在程序结束时 自动释放静态区的 成员变量</span><br></pre></td></tr></tbody></table></figure><h3 id="四、算法题（选做，如果做不出来可以不做）"><a href="#四、算法题（选做，如果做不出来可以不做）" class="headerlink" title="四、算法题（选做，如果做不出来可以不做）"></a>四、算法题（选做，如果做不出来可以不做）</h3><h4 id="1、矩阵中的路径"><a href="#1、矩阵中的路径" class="headerlink" title="1、矩阵中的路径"></a>1、矩阵中的路径</h4><p>题目：请设计一个函数，用来判断在一个矩阵中是否存在一条包含某字符串所有字符的路径。路径可以从矩阵中任意一格开始，每一步可以在矩阵中向左、右、上、下移动一格。如果一条路径经过了矩阵的某一格，那么该路径不能再次进入该格子。例如在下面的3×4的矩阵中包含一条字符串“bfce”的路径（路径中的字母用下划线标出）。但矩阵中不包含字符串“abfb”的路径，因为字符串的第一个字符b占据了矩阵中的第一行第二个格子之后，路径不能再次进入这个格子。</p><h4 id="2、剪绳子"><a href="#2、剪绳子" class="headerlink" title="2、剪绳子"></a>2、剪绳子</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">题目：给你一根长度为n绳子，请把绳子剪成m段（m、n都是整数，n&gt;<span class="number">1</span>并且m≥<span class="number">1</span>）。每段的绳子的长度记为k[<span class="number">0</span>]、k[<span class="number">1</span>]、……、k[m]。k[<span class="number">0</span>]*k[<span class="number">1</span>]*…*k[m]可能的最大乘积是多少？例如当绳子的长度是<span class="number">8</span>时，我们把它剪成长度分别为<span class="number">2</span>、<span class="number">3</span>、<span class="number">3</span>的三段，此时得到最大的乘积<span class="number">18</span>。</span><br></pre></td></tr></tbody></table></figure><h4 id="3、二进制中1的个数"><a href="#3、二进制中1的个数" class="headerlink" title="3、二进制中1的个数"></a>3、二进制中1的个数</h4><p>题目：请实现一个函数，输入一个整数，输出该数二进制表示中1的个数。例如：把9表示成二进制是1001，有2位是1。因此如果输入9，该函数输出2。</p><h4 id="4、数组中出现次数超过一半的数字"><a href="#4、数组中出现次数超过一半的数字" class="headerlink" title="4、数组中出现次数超过一半的数字"></a>4、数组中出现次数超过一半的数字</h4><p>题目：数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。例如输入一个长度为9的数组{1, 2, 3, 2, 2, 2, 5, 4, 2}。由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday5</title>
    <url>/category/39thCPP_day5/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="C-Day5"><a href="#C-Day5" class="headerlink" title="C++Day5"></a>C++Day5</h2><a id="more"></a><h3 id="一、作业没有做好的好好整理一下"><a href="#一、作业没有做好的好好整理一下" class="headerlink" title="一、作业没有做好的好好整理一下"></a>一、作业没有做好的好好整理一下</h3><p>将这两天的类和对象好好复习一下，并完成作业，后面我们要进行作业的讲解。</p><h3 id="二、编程题"><a href="#二、编程题" class="headerlink" title="二、编程题"></a>二、编程题</h3><p>1、分别实现new/delete表达式中只能生成栈对象的代码和只能生成堆对象的代码</p><p>1.1.要求一个类只能创建栈对象</p><blockquote><p>构造函数与析构函数都设置为public</p><p>new 和delete设置为private</p></blockquote><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Student(<span class="keyword">int</span> id, <span class="keyword">const</span> <span class="keyword">char</span> *name)</span><br><span class="line">    : _id(id)</span><br><span class="line">    , _name(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(name) + <span class="number">1</span>]())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Student(int, const char *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(_name, name);</span><br><span class="line">    }</span><br><span class="line">    ~Student()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Student()"</span> &lt;&lt; _name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_name)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span>  _name;</span><br><span class="line">            _name = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"id = "</span> &lt;&lt; _id &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">             &lt;&lt; <span class="string">"name = "</span> &lt;&lt; _name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span>* <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="keyword">size_t</span> sz)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"void *operator new(size_t)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">void</span> *pret = <span class="built_in">malloc</span>(sz);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> pret;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="keyword">void</span>* pointer)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"void operator delete(void *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">free</span>(pointer);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> _id;</span><br><span class="line">    <span class="keyword">char</span>* _name;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">Student <span class="title">stu1</span><span class="params">(<span class="number">100</span>,<span class="string">"clp"</span>)</span></span>;</span><br><span class="line">    stu1.<span class="built_in">print</span>();</span><br><span class="line">    <span class="comment">// Student *stu2 = new Student(200,"zy");   error</span></span><br><span class="line">    <span class="comment">// stu2-&gt;print();</span></span><br><span class="line">    <span class="comment">// delete stu2;</span></span><br><span class="line">    <span class="comment">// stu2 = nullptr;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>1.2 要求一个类只能创建堆对象</p><blockquote><p>构造函数public的作用:new的时候会调用到构造函数，所以要设置为public</p><p>new和delete设置为public的作用：可以创建堆对象</p><p>如果析构函数也设置为public,那么可以创建栈对象了，所以析构函数必须设置为private</p><p>如果在类外面delete，又会调用析构函数，所以需要在类里面封装一个接口调用delete.</p></blockquote><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Student(<span class="keyword">int</span> id, <span class="keyword">const</span> <span class="keyword">char</span> *name)</span><br><span class="line">    : _id(id)</span><br><span class="line">    , _name(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(name) + <span class="number">1</span>]())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Student(int, const char *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(_name, name);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span>* <span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="keyword">size_t</span> sz)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"void *operator new(size_t)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">void</span> *pret = <span class="built_in">malloc</span>(sz);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> pret;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="keyword">void</span>* pointer)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"void operator delete(void *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">free</span>(pointer);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"id = "</span> &lt;&lt; _id &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">             &lt;&lt; <span class="string">"name = "</span> &lt;&lt; _name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>;   <span class="comment">//this是指针常量不能更改指针的指向</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    ~Student()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Student()"</span> &lt;&lt; _name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_name)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span>  _name;</span><br><span class="line">            _name = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> _id;</span><br><span class="line">    <span class="keyword">char</span>* _name;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//Student stu1(100,"clp");</span></span><br><span class="line">    <span class="comment">//stu1.print();</span></span><br><span class="line">    Student *stu2 = <span class="keyword">new</span> Student(<span class="number">200</span>,<span class="string">"zy"</span>);</span><br><span class="line">    stu2-&gt;<span class="built_in">print</span>();</span><br><span class="line">    stu2-&gt;destroy();</span><br><span class="line">   </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="三、算法题（选做，如果做不出来可以不做）"><a href="#三、算法题（选做，如果做不出来可以不做）" class="headerlink" title="三、算法题（选做，如果做不出来可以不做）"></a>三、算法题（选做，如果做不出来可以不做）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span>、<span class="comment">//题目：请实现一个函数用来匹配包含'.'和'*'的正则表达式。模式中的字符'.' 表示任意一个字符，而'*'表示它前面的字符可以出现任意次（含0次）。在本题中，匹配是指字符串的所有字符匹配整个模式。例如，字符串"aaa"与模式"a.a"和"ab*ac*a"匹配，但与"aa.a"及"ab*a"均不匹配。</span></span><br></pre></td></tr></tbody></table></figure><p>2、题目：请实现一个函数用来判断字符串是否表示数值（包括整数和小数）。例如，字符串“+100”、“5e2”、“-123”、“3.1416”及“-1E-16”都表示数值，但“12e”、“1a3.14”、“1.2.3”、“+-5”及“12e+5.4”都不是。</p><p>3、题目：输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有奇数位于数组的前半部分，所有偶数位于数组的后半部分。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday6</title>
    <url>/category/39thCPP_day6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="C-Day6"><a href="#C-Day6" class="headerlink" title="C++Day6"></a>C++Day6</h2><a id="more"></a><h3 id="一、选择题"><a href="#一、选择题" class="headerlink" title="一、选择题"></a>一、选择题</h3><p>1、执行以下程序</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> *str;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; str;</span><br><span class="line">若输入abcd <span class="number">1234</span>，则输出（D）</span><br><span class="line">A. abcd        B. abcd <span class="number">1234</span>         C<span class="number">.1234</span>         D. 输出乱码或错误</span><br></pre></td></tr></tbody></table></figure><p>2、执行以下程序</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> a[<span class="number">200</span>];</span><br><span class="line"><span class="built_in">cin</span>.getline(a, <span class="number">200</span>, <span class="string">' '</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; a;</span><br><span class="line">若输入abcd <span class="number">1234</span>，则输出（A）</span><br><span class="line">A. abcd      B. abcd <span class="number">1234</span>      C<span class="number">.1234</span>      D. 输出乱码或错误</span><br></pre></td></tr></tbody></table></figure><h3 id="二、编程题"><a href="#二、编程题" class="headerlink" title="二、编程题"></a>二、编程题</h3><p>1、统计一篇英文(The_Holy_Bible.txt)文章中出现的单词和词频，<br>输入：某篇文章的绝对路径<br>输出：词典（词典中的内容为每一行都是一个“单词 词频”）</p><p>词典的存储格式如下</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">|   a <span class="number">66</span>          |</span><br><span class="line">|   abandon <span class="number">77</span>    |</span><br><span class="line">|   <span class="keyword">public</span> <span class="number">88</span>     |</span><br><span class="line">|    ......	      |</span><br><span class="line">|_________________|</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="built_in">string</span> _word;</span><br><span class="line">	<span class="keyword">int</span> _frequency;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dictionary</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//......</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;filename)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">store</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;filename)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="built_in">vector</span>&lt;Record&gt; _dict;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cerr</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::fstream;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::ifstream;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::ofstream;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Record</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    Record(<span class="keyword">const</span> <span class="built_in">string</span> &amp;<span class="keyword">word</span>, <span class="keyword">int</span> frequency)</span><br><span class="line">        : _word(<span class="keyword">word</span>), _frequency(frequency)</span><br><span class="line">    {</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">string</span> _word;</span><br><span class="line">    <span class="keyword">int</span> _frequency;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Record &amp;lhs, <span class="keyword">const</span> Record &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">return</span> lhs._word &lt; rhs._word;</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dictionary</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">preTreatMent</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;filename1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;filename2)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;filename)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">store</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;filename)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;<span class="keyword">word</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;Record&gt; _dict;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dictionary::preTreatMent</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;filename1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;filename2)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">ifstream <span class="title">ifs1</span><span class="params">(filename1)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!ifs1)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">"ifstream is not good"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        ifs1.<span class="built_in">close</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">ofstream <span class="title">ofs1</span><span class="params">(filename2)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!ofs1)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"ofstream is not good"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        ifs1.<span class="built_in">close</span>();</span><br><span class="line">        ofs1.<span class="built_in">close</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">while</span> (ifs1.<span class="built_in">get</span>(ch)) <span class="comment">//数字也变成了空格</span></span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ch &gt;= <span class="string">'A'</span> &amp;&amp; ch &lt;= <span class="string">'Z'</span>)</span><br><span class="line">            ch += <span class="number">32</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span>)</span><br><span class="line">            ;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ch = <span class="string">' '</span>;</span><br><span class="line">        ofs1.<span class="built_in">put</span>(ch);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ifs1.<span class="built_in">close</span>();</span><br><span class="line">    ofs1.<span class="built_in">close</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dictionary::read</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;filename)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">ifstream <span class="title">ifs2</span><span class="params">(filename)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!ifs2)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cerr</span> &lt;&lt; <span class="string">"ifstream is not good"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        ifs2.<span class="built_in">close</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">string</span> <span class="keyword">word</span>;</span><br><span class="line">    <span class="keyword">while</span> (ifs2 &gt;&gt; <span class="keyword">word</span>) <span class="comment">//数字也变成了空格</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">//cout &lt;&lt; word &lt;&lt;endl;</span></span><br><span class="line">        insert(<span class="keyword">word</span>);</span><br><span class="line">    }</span><br><span class="line">    sort(_dict.<span class="built_in">begin</span>(), _dict.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for (size_t idx = 0; idx != _dict.size(); idx++)</span></span><br><span class="line">    <span class="comment">// {</span></span><br><span class="line">    <span class="comment">//     cout &lt;&lt; _dict[idx]._word &lt;&lt; "----" &lt;&lt; _dict[idx]._frequency &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line">    </span><br><span class="line">    ifs2.<span class="built_in">close</span>();</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dictionary::store</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;filename)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    </span><br><span class="line">    <span class="function">ofstream <span class="title">ofs2</span><span class="params">(filename)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!ofs2)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cerr</span> &lt;&lt; <span class="string">"ofstream is not good"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> idx = <span class="number">0</span>; idx != _dict.<span class="built_in">size</span>(); idx++)</span><br><span class="line">    {</span><br><span class="line">        ofs2 &lt;&lt; _dict[idx]._word &lt;&lt;<span class="string">"----"</span> &lt;&lt;  _dict[idx]._frequency &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ofs2.<span class="built_in">close</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dictionary::insert</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;<span class="keyword">word</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">size_t</span> idx;</span><br><span class="line">    <span class="keyword">for</span> (idx = <span class="number">0</span>; idx != _dict.<span class="built_in">size</span>(); idx++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">word</span> == _dict[idx]._word)</span><br><span class="line">        {</span><br><span class="line">            _dict[idx]._frequency++;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (idx == _dict.<span class="built_in">size</span>())</span><br><span class="line">        _dict.push_back(Record(<span class="keyword">word</span>, <span class="number">1</span>));</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Dictionary dic;</span><br><span class="line">    dic.preTreatMent(<span class="string">"The_Holy_Bible.txt"</span>, <span class="string">"The_Holy_Bible_Res.txt"</span>);</span><br><span class="line">    <span class="comment">//dic.preTreatMent("1.txt", "2.txt");</span></span><br><span class="line">    dic.<span class="built_in">read</span>(<span class="string">"The_Holy_Bible_Res.txt"</span>);</span><br><span class="line">    dic.store(<span class="string">"data.txt"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>提示：因为我们需要统计圣经文件中单词以及该单词在文件中出现的次数，所以可以看去读圣经文件，然后将单词存到数据结构中，并记录单词的次数，如果单词第二次出现的时候，只需要修改单词的次数（也就是这里说的单词的频率），这样当统计完整个圣经文件后，数据都存在数据结构vector了。接着遍历vector数据结构就可以将单词以及单词次数(也就是频率)存储到另外一个文件。(当然如果不存到另外一个文件，就只能打印到终端了)</p><p>注意：在读圣经文件的时候，有可能字符串是不合法的，比如：abc123 abc？这样的字符串，处理方式两种：直接不统计这样的字符串或者将非法字母去掉即可。</p><p>最终得到结果类似：</p><p>a 10<br>public 20<br>welcome 30<br>…….</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday8</title>
    <url>/category/39thCPP_day8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="C-Day8"><a href="#C-Day8" class="headerlink" title="C++Day8"></a>C++Day8</h2><a id="more"></a><h3 id="四、编程题"><a href="#四、编程题" class="headerlink" title="四、编程题"></a>四、编程题</h3><p>1、问题描述，编写Base类使下列代码输出为1</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> i=<span class="number">2</span>;<span class="keyword">int</span> j=<span class="number">7</span>;</span><br><span class="line"><span class="function">Base <span class="title">x</span><span class="params">(i)</span></span>;</span><br><span class="line"><span class="function">Base <span class="title">y</span><span class="params">(j)</span></span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (x+y == j - i) &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">//如果相等，返回1，也就是要重载+，实现-的功能</span></span><br></pre></td></tr></tbody></table></figure><p>提示：本题考查的其实就是运算符重载的知识点。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Base(<span class="keyword">int</span> x) :_val(x)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"构造函数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Base()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"析构函数"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">int</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> Base &amp;lhs, <span class="keyword">const</span> Base &amp;rhs);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> _val;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> Base &amp;lhs, <span class="keyword">const</span> Base &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">return</span> rhs._val - lhs._val;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">2</span>;<span class="keyword">int</span> j = <span class="number">7</span>;</span><br><span class="line">    <span class="function">Base <span class="title">x</span><span class="params">(i)</span></span>;</span><br><span class="line">    <span class="function">Base <span class="title">y</span><span class="params">(j)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (x + y == j - i) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2、实现String类的其它运算符的重载</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">String</span>();</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	~<span class="keyword">String</span>();</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index);</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index) <span class="keyword">const</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="built_in">std</span>::<span class="keyword">size_t</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">const</span> <span class="keyword">char</span>* <span class="title">c_str</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> <span class="keyword">String</span> &amp;s);</span><br><span class="line">	<span class="keyword">friend</span> <span class="built_in">std</span>::istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="built_in">std</span>::istream &amp;is, <span class="keyword">String</span> &amp;s);</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">char</span> * _pstr;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">char</span> *, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//String.hh</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">String</span>();</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	~<span class="keyword">String</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index);</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index) <span class="keyword">const</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="built_in">std</span>::<span class="keyword">size_t</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">const</span> <span class="keyword">char</span>* <span class="title">c_str</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="built_in">std</span>::istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="built_in">std</span>::istream &amp;, <span class="keyword">String</span> &amp;);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">char</span> *, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">char</span> * _pstr;</span><br><span class="line">};</span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>()</span><br><span class="line">:_pstr(<span class="literal">nullptr</span>)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String::String()"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> * pstr)</span><br><span class="line">:_pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(pstr)+<span class="number">1</span>]())</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String::String(const char * pstr)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">strcpy</span>(_pstr,pstr);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">:_pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pstr)+<span class="number">1</span>]())</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String::String(const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">strcpy</span>(_pstr,rhs._pstr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span>::~<span class="keyword">String</span>()</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String::~String()"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">if</span>(_pstr)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">delete</span> []_pstr;</span><br><span class="line">		_pstr = <span class="literal">nullptr</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String &amp;String::operator=(const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">this</span>!=&amp;rhs) <span class="comment">//防止自复制问题</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">delete</span> []_pstr;</span><br><span class="line">		_pstr = <span class="literal">nullptr</span>;</span><br><span class="line">		_pstr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pstr)+<span class="number">1</span>]();</span><br><span class="line">		<span class="built_in">strcpy</span>(_pstr,rhs._pstr);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String &amp;String::operator=(const char *pstr)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">tmp</span><span class="params">(pstr)</span></span>;  <span class="comment">//调用构造函数</span></span><br><span class="line">	*<span class="keyword">this</span> = tmp; <span class="comment">//调用上面的重载=函数</span></span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// delete _pstr;</span></span><br><span class="line">	<span class="comment">// _pstr = nullptr;</span></span><br><span class="line">	<span class="comment">// _pstr = new char[strlen(pstr)+1]();</span></span><br><span class="line">	<span class="comment">// strcpy(_pstr,pstr);</span></span><br><span class="line">	<span class="comment">// return *this;</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String &amp;String::operator+=(const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">tmp</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">	<span class="keyword">delete</span> []_pstr;</span><br><span class="line">	_pstr = <span class="literal">nullptr</span>;</span><br><span class="line">	_pstr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(tmp._pstr)+<span class="built_in">strlen</span>(rhs._pstr)+<span class="number">1</span>]();</span><br><span class="line">	<span class="built_in">strcpy</span>(_pstr,tmp._pstr);</span><br><span class="line">	<span class="built_in">strcat</span>(_pstr,rhs._pstr);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"String &amp;String::operator+=(const char *pstr)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">tmp</span><span class="params">(pstr)</span></span>;</span><br><span class="line">	*<span class="keyword">this</span> += tmp;</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">char</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"char &amp;String::operator[](std::size_t index)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">if</span>(index&lt;<span class="built_in">size</span>())</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> _pstr[index];</span><br><span class="line">	} </span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">char</span> ch = <span class="string">'\0'</span>;</span><br><span class="line">		<span class="keyword">return</span> ch;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index) <span class="keyword">const</span>  <span class="comment">//只能读数据成员，不能写，只能调用const的成员函数</span></span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"const char &amp;String::operator[](std::size_t index) const"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">if</span>(index&lt;<span class="built_in">size</span>())</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">return</span> _pstr[index];</span><br><span class="line">	} </span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">char</span> ch = <span class="string">'\0'</span>;</span><br><span class="line">		<span class="keyword">return</span> ch;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="keyword">size_t</span> <span class="title">String::size</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"std::size_t String::size() const"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">strlen</span>(_pstr);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">const</span> <span class="keyword">char</span>* <span class="title">String::c_str</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"const char* String::c_str() const"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> _pstr;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">String</span> &amp; lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)  <span class="comment">//友元函数</span></span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"bool operator==(const String &amp; lhs, const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> !<span class="built_in">strcmp</span>(lhs._pstr,rhs._pstr);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs) <span class="comment">//友元函数</span></span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"bool operator==(const String &amp; lhs, const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr,rhs._pstr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"bool operator&lt;(const String &amp;lhs, const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">// if(strcmp(lhs._pstr,rhs._pstr)&lt;0) return true;</span></span><br><span class="line">	<span class="comment">// else return false;</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr,rhs._pstr) &lt; <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"bool operator&gt;(const String &amp;lhs, const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">// if(strcmp(lhs._pstr,rhs._pstr)&gt;0) return true;</span></span><br><span class="line">	<span class="comment">// else return false;</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr,rhs._pstr) &gt; <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"bool operator&lt;=(const String &amp;lhs, const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">// if(strcmp(lhs._pstr,rhs._pstr)&gt;0) return false;</span></span><br><span class="line">	<span class="comment">// else return true;</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr,rhs._pstr) &lt;= <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"bool operator&gt;=(const String &amp;lhs, const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">// if(strcmp(lhs._pstr,rhs._pstr)&lt;0) return false;</span></span><br><span class="line">	<span class="comment">// else return true;</span></span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr,rhs._pstr) &gt;= <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line">	</span><br><span class="line"><span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"std::ostream &amp;operator&lt;&lt;(std::ostream &amp;os, const String &amp;rhs)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">if</span>(rhs._pstr)</span><br><span class="line">	{</span><br><span class="line">		os &lt;&lt; rhs._pstr &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> os;</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="built_in">std</span>::istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="built_in">std</span>::istream &amp;is, <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"std::istream &amp;operator&gt;&gt;(std::istream &amp;is, String &amp;s)"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">if</span>(rhs._pstr)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">delete</span> []rhs._pstr;</span><br><span class="line">		rhs._pstr = <span class="literal">nullptr</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="built_in">string</span> <span class="built_in">buffer</span> = <span class="string">""</span>;</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span>((ch=is.<span class="built_in">get</span>()) != <span class="string">'\n'</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">buffer</span> += ch;</span><br><span class="line">	}</span><br><span class="line">	rhs._pstr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">buffer</span>.<span class="built_in">size</span>()+<span class="number">1</span>]();</span><br><span class="line">	<span class="built_in">strcpy</span>(rhs._pstr,<span class="built_in">buffer</span>.c_str());</span><br><span class="line">	<span class="comment">//或者定义一个vector&lt;char&gt; buffer</span></span><br><span class="line">	<span class="comment">//strncpy(rhs._pstr,&amp;buffer[0],buffer.size())</span></span><br><span class="line">	<span class="keyword">return</span> is;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">tmp</span><span class="params">(lhs)</span></span>;</span><br><span class="line">	tmp += rhs;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">{</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">tmp</span><span class="params">(lhs)</span></span>;</span><br><span class="line">	tmp += pstr;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">char</span> *pstr, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">	<span class="function"><span class="keyword">String</span> <span class="title">tmp</span><span class="params">(pstr)</span></span>;</span><br><span class="line">	tmp += rhs;</span><br><span class="line">	<span class="keyword">return</span> tmp;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//String.cc</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"String.hh"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// //String()</span></span><br><span class="line">    <span class="comment">// String s;</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// String(const char *);</span></span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">s</span><span class="params">(<span class="string">"hello world"</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">s1</span><span class="params">(<span class="string">"hello"</span>)</span></span>;</span><br><span class="line">    <span class="comment">// // String(const String &amp;);</span></span><br><span class="line">    <span class="comment">// String s1(s);</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s1 &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// //String &amp;String::operator=(const String &amp;rhs)</span></span><br><span class="line">    <span class="comment">// String s1("sdadas");</span></span><br><span class="line">    <span class="comment">// s = s1;</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s &lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// //String &amp;String::operator=(const char *pstr)</span></span><br><span class="line">    <span class="comment">// s = "you are welcome";</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// //String &amp;String::operator+=(const String &amp;rhs)</span></span><br><span class="line">    <span class="comment">// String s1("sdadas");</span></span><br><span class="line">    <span class="comment">// s += s1;</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// //String &amp;String::operator+=(const char *pstr)</span></span><br><span class="line">    <span class="comment">// s += "you";</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// //char &amp;String::operator[](std::size_t index)</span></span><br><span class="line">    <span class="comment">// const String s2("asdfg");</span></span><br><span class="line">    <span class="comment">// //s2[2] = 'y';</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s2 &lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s2[2] &lt;&lt;endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// cin &gt;&gt; s;</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; s &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//cout &lt;&lt;"hello1" + s1 &lt;&lt;endl;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>提示：将上面自定义String的所有函数重新实现一下，注意有些函数是可以相互调用的，这个代码不难，但是相对来说比较繁琐，可以写一个测试一个，降低错误率。</p><h3 id="五、算法题（选做题）"><a href="#五、算法题（选做题）" class="headerlink" title="五、算法题（选做题）"></a>五、算法题（选做题）</h3><p>1、缺失的第一个正数<br>给你一个未排序的整数数组 nums ，请你找出其中没有出现的最小的正整数。请你实现时间复杂度为 O(n) 并且只使用常数级别额外空间的解决方案。</p><p>示例 1：<br>输入：nums = [1,2,0]<br>输出：3<br>示例 2：</p><p>输入：nums = [3,4,-1,1]<br>输出：2<br>示例 3：</p><p>输入：nums = [7,8,9,11,12]<br>输出：1</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">    }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><p>2、数字序列中某一位的数字<br>题目：数字以0123456789101112131415…的格式序列化到一个字符序列中。在这个序列中，第5位（从0开始计数）是5，第13位是1，第19位是4，等等。请写一个函数求任意位对应的数字。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>39Cppday7</title>
    <url>/category/39thCPP_day7/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="C-Day7"><a href="#C-Day7" class="headerlink" title="C++Day7"></a>C++Day7</h2><a id="more"></a><h3 id="一、编程题"><a href="#一、编程题" class="headerlink" title="一、编程题"></a>一、编程题</h3><p>1、熟悉log4cpp的用法，动手敲代码<br><a href="http://blog.csdn.net/liuhong135541/article/category/1496383" target="_blank" rel="noopener">http://blog.csdn.net/liuhong135541/article/category/1496383</a></p><p>优先级：NOTSET &lt; DEBUG &lt; INFO &lt; NOTICE &lt; WARN &lt; ERROR &lt; CRIT &lt; ALERT &lt; FATAL = EMERG</p><p>2、封装log4cpp，使用起来比较方便，如下所示。输出的日志信息能同时输出到终端和文件<br>要求：可以像使用printf一样，进行可变参数的传递，可以传任意个参数。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello,world"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	logInfo(<span class="string">"The log is info message"</span>);	<span class="comment">//或者   </span></span><br><span class="line">	logError(<span class="string">"The log is error message"</span>);</span><br><span class="line">	logWarn(<span class="string">"The log is warn message"</span>);</span><br><span class="line">	logDebug(<span class="string">"The log is debug message"</span>);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出的日志信息中最好能有文件的名字，函数的名字及其所在的行号(这个在C/C++里面有对应的宏，可以查一下)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用单例模式</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mylogger</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">warn</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">error</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">debug</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">info</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	Mylogger();</span><br><span class="line">	~Mylogger();</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="comment">//......</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Mylogger *<span class="built_in">log</span> = Mylogger::getInstance();</span><br><span class="line"></span><br><span class="line"><span class="built_in">log</span>-&gt;info(<span class="string">"The log is info message"</span>);</span><br><span class="line"><span class="built_in">log</span>-&gt;error(<span class="string">"The log is error message"</span>);</span><br><span class="line"><span class="built_in">log</span>-&gt;fatal(<span class="string">"The log is fatal message"</span>);</span><br><span class="line"><span class="built_in">log</span>-&gt;crit(<span class="string">"The log is crit message"</span>);</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/SimpleLayout.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/BasicLayout.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/PatternLayout.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/OstreamAppender.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/FileAppender.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/RollingFileAppender.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/Category.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/Priority.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">stringstream</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mylogger</span> //单例模式</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">warn</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">error</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">debug</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">info</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Mylogger* <span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">	</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	Mylogger();</span><br><span class="line">	~Mylogger();</span><br><span class="line">    <span class="keyword">static</span> Mylogger* _pInstance;</span><br><span class="line">    log4cpp::Category &amp;_root;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Mylogger* Mylogger::_pInstance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Mylogger* <span class="title">Mylogger::getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(_pInstance == <span class="literal">nullptr</span>)</span><br><span class="line">    {</span><br><span class="line">        _pInstance = <span class="keyword">new</span> Mylogger();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> _pInstance;</span><br><span class="line">}   </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(_pInstance)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> _pInstance;</span><br><span class="line">        _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">}    </span><br><span class="line"></span><br><span class="line">Mylogger::Mylogger()</span><br><span class="line">:_root(log4cpp::Category::getRoot())</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//日志的格式</span></span><br><span class="line">    log4cpp::PatternLayout *ppl1 = <span class="keyword">new</span> log4cpp::PatternLayout();</span><br><span class="line">    ppl1-&gt;setConversionPattern(<span class="string">"%d %c [%p] %x %m %n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// %d 日期 %c 类别 %p 优先级 %x NDC %m 拼接后的消息内容 %n 换行</span></span><br><span class="line">    log4cpp::PatternLayout *ppl2 = <span class="keyword">new</span> log4cpp::PatternLayout();</span><br><span class="line">    ppl2-&gt;setConversionPattern(<span class="string">"%d %c [%p] %x %m %n"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//日志的目的地</span></span><br><span class="line">    log4cpp::OstreamAppender *pos = <span class="keyword">new</span> log4cpp::OstreamAppender(<span class="string">"OstreamAppender"</span>, &amp;<span class="built_in">cout</span>);</span><br><span class="line">    pos-&gt;setLayout(ppl1);</span><br><span class="line"></span><br><span class="line">    log4cpp::RollingFileAppender *pfa = </span><br><span class="line">        <span class="keyword">new</span> log4cpp::RollingFileAppender(<span class="string">"RollingFileAppender"</span>, </span><br><span class="line">                                 <span class="string">"wd.log"</span>);</span><br><span class="line">    pfa-&gt;setLayout(ppl2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//日志的种类</span></span><br><span class="line">    _root.addAppender(pfa);</span><br><span class="line">    _root.addAppender(pos);</span><br><span class="line">    _root.setPriority(log4cpp::Priority::DEBUG);<span class="comment">//日志的优先级</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//当日志的优先级比category的优先级低的时候，日志就会被过滤</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::warn</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.warn(loginfo);</span><br><span class="line">    <span class="comment">// 通过warn 成员函数，是这条信息 具有 WARN 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::debug</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.debug(loginfo);</span><br><span class="line">    <span class="comment">// 通过debug 成员函数，是这条信息 具有 DEBUG 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::error</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.error(loginfo);</span><br><span class="line">    <span class="comment">// 通过error 成员函数，是这条信息 具有 ERROR 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::info</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.info(loginfo);</span><br><span class="line">    <span class="comment">// 通过info 成员函数，是这条信息 具有 INFO 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Mylogger::~Mylogger()</span><br><span class="line">{</span><br><span class="line">    log4cpp::Category::<span class="built_in">shutdown</span>();  <span class="comment">//回收资源</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Mylogger* mylogger = Mylogger::getInstance();</span><br><span class="line">    mylogger-&gt;info(<span class="string">"The log is info message"</span>);</span><br><span class="line">    mylogger-&gt;error(<span class="string">"The log is error message"</span>);</span><br><span class="line">    mylogger-&gt;debug(<span class="string">"The log is debug message"</span>);</span><br><span class="line">    mylogger-&gt;warn(<span class="string">"The log is warn message"</span>);</span><br><span class="line"></span><br><span class="line">    mylogger-&gt;destroy();</span><br><span class="line">    mylogger = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>提示：在记录日志的时候，可以把文件名、函数名、行号与最终需要打印的信息拼接起来，这其实就是字符串的拼接，可以使用string进行操作。但是每次使用log-&gt;info，log-&gt;error的时候，都要使用对象，这样的使用也是比较麻烦，所以可以吧log-&gt;info(“The log is info message”);一些信息再去进行封装即可，例如使用宏定义。</p><h3 id="二、选择题"><a href="#二、选择题" class="headerlink" title="二、选择题"></a>二、选择题</h3><p>1.关于友元的描述中，(A)是错误的。<br>A．友元函数是成员函数，它被说明在类体内<br>B．友元函数可直接访问类中的私有成员<br>C．友元函数破坏封装性，使用时尽量少用<br>D．友元类中的所有成员函数都是友元函数</p><p>2.下面对于友元函数描述正确的是（ C）。<br>A.友元函数的实现必须在类的内部定义<br>B.友元函数是类的成员<br>C.友元函数破坏了类的封装性和隐藏性<br>D.友元函数不能访问类的私有成员</p><p>3.下列的各类函数中，（C ）不是类的成员函数。<br>A. 构造函数 B. 析构函数 C. 友元函数 D. 拷贝构造函数</p><p>4．友元的作用是。（ A ）<br>A.提高程序的运行效率 B.加强类的封装性<br>C. 实现数据的隐蔽 D. 增加成员函数的种类</p><p>5、如果类A被说明成类B的友元，则（DE ）。(多选题)<br>A、类A的成员即类B的成员<br>B、类B的成员即类A的成员<br>C、类A的成员函数不能访问类B的成员<br>D、类A的成员函数可以访问类B的成员<br>E、类B不一定是类A的友元</p><h3 id="三、写出下列程序的结果"><a href="#三、写出下列程序的结果" class="headerlink" title="三、写出下列程序的结果"></a>三、写出下列程序的结果</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span></span><br><span class="line"><span class="class">{</span>  </span><br><span class="line">   <span class="keyword">int</span> y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	  <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span>  <span class="title">A</span>;</span> </span><br><span class="line">};</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">{</span> </span><br><span class="line">      <span class="keyword">int</span> x;</span><br><span class="line"> <span class="keyword">public</span>:  </span><br><span class="line">     A(<span class="keyword">int</span> a,B &amp;r, <span class="keyword">int</span> b)  </span><br><span class="line">	 {</span><br><span class="line">		x=a; </span><br><span class="line">		r.y=b;</span><br><span class="line">	 } </span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">Display</span><span class="params">( B &amp; )</span></span>; </span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">A::Display</span><span class="params">(B &amp;r)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">" "</span>&lt;&lt;r.y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>{   B Obj2;</span><br><span class="line">    <span class="function">A <span class="title">Obj1</span><span class="params">(<span class="number">33</span>,Obj2,<span class="number">88</span>)</span></span>;</span><br><span class="line">    Obj1.Display(Obj2);</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="number">33</span> <span class="number">88</span></span><br></pre></td></tr></tbody></table></figure><h3 id="四、简答题"><a href="#四、简答题" class="headerlink" title="四、简答题"></a>四、简答题</h3><p>1、什么是友元？友元的存在形式有？友元有何特点？</p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">可以把一个函数或一个类写成 某个类 的友元，那么这个函数或类就可以访问 某个类的私有（所有成员）</span><br><span class="line"></span><br><span class="line">友元的形式：</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">friend</span> 函数原型；		<span class="comment">// 该函数就可以访问 A 的私有成员了</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span>;</span>			<span class="comment">// 类 B 的对象 就可以访问 A 中的成员</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">友元的特点：</span><br><span class="line">友元可以写在类中的任何一个位置，他不受类中访问权限的限制</span><br><span class="line">友元不具有传递性</span><br><span class="line">友元不可以继承</span><br></pre></td></tr></tbody></table></figure><p>2、运算符重载的原则是什么？有哪些规则？</p><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">重载的运算符的操作对象必须至少有一个是自定义类型或枚举类型</span><br><span class="line">重载运算符之后，其优先级和结合性还是固定不变的。</span><br><span class="line">重载不会改变运算符的用法，原来有几个操作数、操作数在左边还是在右边，这些都不会改变。</span><br><span class="line">重载运算符函数不能有默认参数，否则就改变了运算符操作数的个数。</span><br><span class="line">重载逻辑运算符（&amp;&amp;,<span class="params">||</span>）后，不再具备短路求值特性。</span><br><span class="line">不能臆造一个并不存在的运算符，如@、$等</span><br></pre></td></tr></tbody></table></figure><p>3、不能重载的运算符有哪几个？</p><figure class="highlight autohotkey"><table><tbody><tr><td class="code"><pre><span class="line"><span class="title">不可以重载的运算符：`.`  ` .*`  `?:`  ` ::</span>`  ` sizeof`</span><br><span class="line">另外：`,` `&amp;` `||` `&amp;&amp;` ，这几个运算符虽然可以重载，但最好也不要重载。</span><br></pre></td></tr></tbody></table></figure><p>4、运算符重载的形式有哪几种？</p><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line"><span class="bullet">* </span>普通函数重载（写成类的友元）</span><br><span class="line"><span class="bullet">* </span>成员函数重载</span><br><span class="line"></span><br><span class="line">总结：</span><br><span class="line"><span class="bullet">	* </span>赋值（=）、下标（[]）、调用（()）、成员访问（-&gt;）必须是  成员函数重载</span><br><span class="line"><span class="bullet">	* </span>复合赋值运算符（+= -= *= /= %= != ）建议 成员函数重载</span><br><span class="line"><span class="bullet">	* </span>自增（++）、自减（--）、解引用（*）等一元运算符，建议 采用成员函数重载</span><br><span class="line"><span class="bullet">	* </span>输入输出流（<span class="xml"><span class="tag">&lt;&lt; &gt;</span></span>&gt;）运算符，必须采用 普通函数重载</span><br><span class="line"><span class="bullet">	* </span>其他的如算数（+ - * /）、相等性、关系、和位运算符等，建议采用 普通函数重载</span><br></pre></td></tr></tbody></table></figure><p>5、自增运算符的前置形式和后置形式有什么区别?返回值类型分别是什么？</p><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line">前置++</span><br><span class="line"> </span><br><span class="line">Complex &amp;<span class="keyword">operator</span>++()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"++运算符重载"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    ++m_r;</span><br><span class="line">    ++m_r;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">(++c3).<span class="built_in">print</span>();     <span class="comment">// 前置++</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值类型为 引用，就是该自增后的对象的引用</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line">后置++</span><br><span class="line">    </span><br><span class="line">Complex <span class="keyword">operator</span>++(<span class="keyword">int</span>)        <span class="comment">// int 不表示传参，只是标志这个是表示后置++</span></span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"后置++"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Complex <span class="title">tmp</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    ++m_r;</span><br><span class="line">    ++m_v;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">(c3++).<span class="built_in">print</span>();         <span class="comment">// 后置++</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值类型为一个临时对象，即返回的是自增前的对象。</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>Android项目目录结构解析</title>
    <url>/category/Android%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>eclipse总是出现莫名其妙的bug，于是改投向Android Studio的怀抱</p><p>文章主要介绍了android创建的项目根目录架构和目录文件的作用</p></blockquote><a id="more"></a><h2 id="Android项目根目录"><a href="#Android项目根目录" class="headerlink" title="Android项目根目录"></a>Android项目根目录</h2><p><a href="https://i.loli.net/2019/02/23/5c716c663de09.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c663de09.png" alt="1.png"></a></p><p><strong>整个项目架构</strong></p><figure class="highlight pgsql"><table><tbody><tr><td class="code"><pre><span class="line">├── .idea</span><br><span class="line">|	 ├── codeStyles</span><br><span class="line">|		 └── Project.xml</span><br><span class="line">|	 ├── .name</span><br><span class="line">|    ├── gradle.xml</span><br><span class="line">|    ├── misc.xml</span><br><span class="line">|    ├── modules.xml</span><br><span class="line">|    ├── runConfigurations.xml</span><br><span class="line">|    └── workspace.xml</span><br><span class="line">		  </span><br><span class="line">├── app</span><br><span class="line">|	 ├── libs</span><br><span class="line">|	 ├── src</span><br><span class="line">|		 ├── androidTest</span><br><span class="line">|		 ├── main</span><br><span class="line">|		 	 ├── java</span><br><span class="line">|		 	 ├── res</span><br><span class="line">|		 	 └── AndroidManifest.xml</span><br><span class="line">|		 └── test</span><br><span class="line">|    ├── .gitignore</span><br><span class="line">|    ├── build.gradle</span><br><span class="line">|    └── proguard-rules.pro</span><br><span class="line"></span><br><span class="line">├── gradle</span><br><span class="line">|	 ├── <span class="keyword">wrapper</span></span><br><span class="line">|		 ├── gradle-<span class="keyword">wrapper</span></span><br><span class="line">|		 └── gradle-<span class="keyword">wrapper</span>.properties</span><br><span class="line"></span><br><span class="line">├── .gitignore</span><br><span class="line">├── build.gradle</span><br><span class="line">├── gradle.properties</span><br><span class="line">├── gradlew</span><br><span class="line">├── gradlew.bat</span><br><span class="line">├── <span class="keyword">local</span>.properties</span><br><span class="line">├── MyApplication.iml</span><br><span class="line">└── settings.gradle</span><br></pre></td></tr></tbody></table></figure><p>(java和res部分省略)</p><h4 id="1-gradle和-idea"><a href="#1-gradle和-idea" class="headerlink" title="1. gradle和.idea"></a>1. <strong>gradle</strong>和.idea</h4><p>这两个目录下放置的都是Android Studio自动生成的一些文件，我们无须关心，也不要去手动编辑它</p><h4 id="2-app"><a href="#2-app" class="headerlink" title="2. app"></a>2. <strong>app</strong></h4><p>项目中的代码和各种资源几乎放置在这个目录中，后续的开发工作也是在这个目录下进行</p><h4 id="3-gitignore"><a href="#3-gitignore" class="headerlink" title="3. .gitignore"></a>3. .gitignore</h4><p>这个文件是用来将指定的目录或文件排除在版本控制之外的</p><h4 id="4-build-gradle"><a href="#4-build-gradle" class="headerlink" title="4. build.gradle"></a>4. build.gradle</h4><p>这是项目全局的gradle构建脚本，通常这个文件中的内容是不需要修改的</p><p><a href="https://i.loli.net/2019/02/23/5c716c6650e25.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6650e25.png" alt="2.png"></a></p><p>两处repositories的闭包中都声明了jcenter()这行配置，那么这个jcenter是什么意思呢？其实它是一个代码托管仓库，很多Android开源项目都会选择将代码托管到jcenter上，声明了这行配置之后，我们就可以在项目中轻松引用任何jcenter上的开源项目了。</p><p>接下来，dependencies闭包中使用classpath声明了一个Gradle插件。为什么要声明这个插件呢？因为Gradle并不是专门为构建Android项目而开发的，Java、C++等很多种项目都可以使用Gradle来构建。因此如果我们要想使用它来构建Android项目，则需要声明com.android. tools.build:gradle:3.2.1这个插件</p><h4 id="5-gradle-properties"><a href="#5-gradle-properties" class="headerlink" title="5. gradle.properties"></a>5. gradle.properties</h4><p>这个文件是全局的gradle配置文件，在这里配置的属性将会影响到项目中所有的gradle编译脚本</p><h4 id="6-gradlew和gradlew-bat"><a href="#6-gradlew和gradlew-bat" class="headerlink" title="6. gradlew和gradlew.bat"></a>6. gradlew和gradlew.bat</h4><p>这两个文件是用来在命令行界面中执行gradle命令的，其中gradlew是在Linux或Mac系统中使用的，gradlew.bat是在Windows系统中使用的</p><h4 id="7-local-properties"><a href="#7-local-properties" class="headerlink" title="7. local.properties"></a>7. local.properties</h4><p>这个文件用于指定本机中的Android SDK路径，通常内容都是自动生成的，我们并不需要修改。除非你本机中的Android SDK位置发生了变化，那么就将这个文件中的路径改成新的位置即可</p><h4 id="8-MyApplication-iml"><a href="#8-MyApplication-iml" class="headerlink" title="8. MyApplication.iml"></a>8. MyApplication.iml</h4><p>iml文件是所有IntelliJ IDEA项目都会自动生成的一个文件（Android Studio是基于IntelliJ IDEA开发的），用于标识这是一个IntelliJ IDEA项目，我们不需要修改这个文件中的任何内容</p><h4 id="9-settings-gradle"><a href="#9-settings-gradle" class="headerlink" title="9. settings.gradle"></a>9. settings.gradle</h4><p>这个文件用于指定项目中所有引入的模块。由于HelloWorld项目中就只有一个app模块，因此该文件中也就只引入了app这一个模块。通常情况下模块的引入都是自动完成的，需要我们手动去修改这个文件的场景可能比较少</p><h4 id="10-gradle类似php的composer"><a href="#10-gradle类似php的composer" class="headerlink" title="10. gradle类似php的composer"></a>10. gradle类似php的composer</h4><p>这个目录下包含了gradle wrapper的配置文件，使用gradle wrapper的方式不需要提前将gradle下载好，而是会自动根据本地的缓存情况决定是否需要联网下载gradle。Android Studio默认没有启用gradle wrapper的方式，如果需要打开，可以点击Android Studio导航栏→File→Settings→Build, Execution, Deployment→Gradle，进行配置更改</p><p><a href="https://i.loli.net/2019/02/23/5c716c66413a1.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c66413a1.png" alt="3.png"></a></p><h4 id="11-app目录"><a href="#11-app目录" class="headerlink" title="11. app目录"></a>11. app目录</h4><p><a href="https://i.loli.net/2019/02/23/5c716c6640b35.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6640b35.png" alt="4.png"></a></p><ul><li><p>libs</p><p>如果你的项目中使用到了第三方jar包，就需要把这些jar包都放在libs目录下，放在这个目录下的jar包都会被自动添加到构建路径里去</p></li><li><p>.gitignore</p><p>这个文件用于将app模块内的指定的目录或文件排除在版本控制之外，作用和外层的.gitignore文件类似</p></li><li><p>build.gradle</p><p>这是app模块的gradle构建脚本，这个文件中会指定很多项目构建相关的配置</p><p><a href="https://i.loli.net/2019/02/23/5c716c666bc38.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c666bc38.png" alt="5.png"></a></p><ol><li><p>第一行应用了一个插件，一般有两种值可选：</p><p>com.android.application表示这是一个应用程序模块</p><p>com.android.library表示这是一个库模块。</p><p>应用程序模块和库模块的最大区别在于，一个是可以直接运行的，一个只能作为代码库依附于别的应用程序模块来运行</p></li><li><p>接下来是一个大的android闭包，在这个闭包中我们可以配置项目构建的各种属性。</p><p>其中compileSdkVersion用于指定项目的编译版本</p><p>然后我们看到，这里在android闭包中又嵌套了一个defaultConfig闭包，defaultConfig闭包中可以对项目的更多细节进行配置。</p><p>其中，applicationId用于指定项目的包名，前面我们在创建项目的时候其实已经指定过包名了，如果你想在后面对其进行修改，那就是在这里修改的。minSdkVersion用于指定项目最低兼容的Android系统版本，这里指定成15表示最低兼容到Android 4.0系统。targetSdkVersion指定的值表示你在该目标版本上已经做过了充分的测试，系统将会为你的应用程序启用一些最新的功能和特性。比如说Android 6.0系统中引入了运行时权限这个功能，如果你将targetSdkVersion指定成23或者更高，那么系统就会为你的程序启用运行时权限功能，而如果你将targetSdkVersion指定成22，那么就说明你的程序最高只在Android 5.1系统上做过充分的测试，Android 6.0系统中引入的新功能自然就不会启用了。剩下的两个属性都比较简单，versionCode用于指定项目的版本号，versionName用于指定项目的版本名</p></li></ol></li></ul><ol start="3"><li><p>接下来我们看一下buildTypes闭包。buildTypes闭包中用于指定生成安装文件的相关配置，通常只会 有两个子闭包，一个是debug，一个是release</p><p>debug闭包用于指定生成测试版安装文件的配置，release闭包用于指定生成正式版安装文件的配置。另外，debug闭包是可以忽略不写的，因此我们看到上面的代码中就只有一个release闭包。下面来看一下release闭包中的具体内容吧，minifyEnabled用于指定是否对项目的代码进行混淆，true表示混淆，false表示不混淆。proguardFiles用于指定混淆时使用的规则文件，这里指定了两个文件，第一个proguard-android.txt是在Android SDK目录下的，里面是所有项目通用的混淆规则，第二个proguard-rules.pro是在当前项目的根目录下的，里面可以编写当前项目特有的混淆规则。需要注意的是，通过Android Studio直接运行项目生成的都是测试版安装文件</p></li></ol><ol start="4"><li>接下来还剩一个dependencies闭包。这个闭包的功能非常强大，它可以指定当前项目所有的依赖关系。通常Android Studio项目一共有3种依赖方式：本地依赖、库依赖和远程依赖。本地依赖可以对本地的Jar包或目录添加依赖关系，库依赖可以对项目中的库模块添加依赖关系，远程依赖则可以对jcenter库上的开源项目添加依赖关系。观察一下dependencies闭包中的配置，第一行的implementation fileTree就是一个本地依赖声明，它表示将libs目录下所有.jar后缀的文件都添加到项目的构建路径当中。而第二行和第三行则是远程依赖声明，com.android.support:appcompat-v7:28.0.0就是一个标准的远程依赖库格式，其中com.android.support是域名部分，用于和其他公司的库做区分；appcompat-v7是组名称，用于和同一个公司中不同的库做区分；28.0.0是版本号，用于和同一个库不同的版本做区分。加上这句声明后，Gradle在构建项目时会首先检查一下本地是否已经有这个库的缓存，如果没有的话则会去自动联网下载，然后再添加到项目的构建路径当中。至于库依赖声明这里没有用到，它的基本格式是compile project后面加上要依赖的库名称，比如说有一个库模块的名字叫helper，那么添加这个库的依赖关系只需要加入compile project(‘:helper’)这句声明即可。另外剩下的一句testCompile是用于声明测试用例库的，这个我们暂时用不到，先忽略它就可以了</li></ol><ul><li><p>proguard-rules.pro</p><p>这个文件用于指定项目代码的混淆规则，当代码开发完成后打成安装包文件，如果不希望代码被别人破解，通常会将代码进行混淆，从而让破解者难以阅读</p></li></ul><ul><li><p>src</p><p><a href="https://i.loli.net/2019/02/23/5c716c6643501.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6643501.png" alt="6.png"></a></p></li></ul><ol><li><p>androidTest</p><p>此处是用来编写Android Test测试用例的，可以对项目进行一些自动化测试</p><ol start="2"><li>test</li></ol><p>此处是用来编写Unit Test测试用例的，是对项目进行自动化测试的另一种方式</p><ol start="3"><li>main</li></ol><p><a href="https://i.loli.net/2019/02/23/5c716c6642df2.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6642df2.png" alt="7.png"></a></p><p><strong>java</strong></p><p>毫无疑问，java目录是放置我们所有Java代码的地方，展开该目录，你将看到我们刚才创建的MainActivity文件就在里面</p><p><a href="https://i.loli.net/2019/02/23/5c716c66424be.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c66424be.png" alt="8.png"></a></p><p><strong>res</strong></p><p><a href="https://i.loli.net/2019/02/23/5c716c6643ba6.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6643ba6.png" alt="9.png"></a></p><p>这个目录下的内容就有点多了。简单点说，就是你在项目中使用到的所有图片、布局、字符串等资源都要存放在这个目录下。当然这个目录下还有很多子目录，</p><p>图片放在drawable目录下，</p><p>布局放在layout目录下，</p><p>字符串放在values目录下，</p><p>所以你不用担心会把整个res目录弄得乱糟糟的</p></li></ol><p><strong>AndroidManifest.xml</strong></p><p>这是你整个Android项目的配置文件，你在程序中定义的所有四大组件都需要在这个文件里注册，另外还可以在这个文件中给应用程序添加权限声明</p><p><a href="https://i.loli.net/2019/02/23/5c716d5253c56.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716d5253c56.png" alt="2019-02-23_235654.png"></a></p><p>这段代码表示对HelloWorldActivity这个活动进行注册，没有在AndroidManifest.xml里注册的活动是不能使用的。其中intent-filter里的两行代码非常重要，和表示HelloWorldActivity是这个项目的主活动，在手机上点击应用图标，首先启动的就是这个活动</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>android</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>C++历史</title>
    <url>/category/C++%E5%8E%86%E5%8F%B2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="C-历史"><a href="#C-历史" class="headerlink" title="C++历史"></a>C++历史</h1><a id="more"></a><h2 id="C-诞生背景"><a href="#C-诞生背景" class="headerlink" title="C++诞生背景"></a>C++诞生背景</h2><h3 id="C-1972，效率高，面向过程的语言"><a href="#C-1972，效率高，面向过程的语言" class="headerlink" title="C 1972，效率高，面向过程的语言"></a>C 1972，效率高，面向过程的语言</h3><h3 id="C-诞生的原因"><a href="#C-诞生的原因" class="headerlink" title="C++诞生的原因"></a>C++诞生的原因</h3><ul><li>Bjarne博士在研究Unix内核时，发现没有合适的工具可以有效的分析由于内核分布而造成的网络流量以及如何将内核模块化</li><li>面向对象的语言simula</li></ul><h3 id="C-诞生面临的困难"><a href="#C-诞生面临的困难" class="headerlink" title="C++诞生面临的困难"></a>C++诞生面临的困难</h3><ul><li>C是主流语言，新的语言要在运行时间、代码紧凑性、数据紧凑性方面与C媲美，还要有自己特点</li></ul><h3 id="C-解决办法"><a href="#C-解决办法" class="headerlink" title="C++解决办法"></a>C++解决办法</h3><ul><li>站在C的高度，继承自C，同时加入面向对象中的一些特征，类、运算符重载、模板、命名空间、异常</li></ul><h3 id="C与C-的区别"><a href="#C与C-的区别" class="headerlink" title="C与C++的区别"></a>C与C++的区别</h3><ul><li><p>C面向过程的语言</p><ul><li>模块化，按照事物发展的逻辑顺序进行</li></ul></li><li><p>C++面向对象的语言</p><ul><li>抽象、封装、继承、多态</li></ul></li></ul><h2 id="C-发展历史"><a href="#C-发展历史" class="headerlink" title="C++发展历史"></a>C++发展历史</h2><h3 id="历史事件"><a href="#历史事件" class="headerlink" title="历史事件"></a>历史事件</h3><ul><li>ANSI制定标准，ISO修改批准，ANSI修改发布</li></ul><h3 id="四个阶段"><a href="#四个阶段" class="headerlink" title="四个阶段"></a>四个阶段</h3><ul><li><p>1980-1995</p><ul><li><p>上升</p><ul><li>传统类型上的面向对象语言效率接近C</li></ul></li></ul></li><li><p>1996-2000</p><ul><li><p>低迷</p><ul><li><p>硬件价格的下降</p></li><li><p>其他语言的冲击Java</p><ul><li>上手简单</li><li>Java没有指针</li><li>Java有完善的内存回收机制，能自动进行内存回收</li><li>Java有完善的异常处理机制</li><li>Java跨平台，Java虚拟机JVM，一次编译处处运行</li></ul></li></ul></li></ul></li><li><p>2001-2010</p><ul><li><p>回升</p><ul><li><p>STL成熟，使用方便</p></li><li><p>移动互联网的诞生与发展</p><ul><li><p>安卓</p><ul><li>Java</li></ul></li></ul></li><li><p>移动互联网性能需要提升</p><ul><li><p>Android NDK</p><ul><li><p>Linux</p><ul><li>C</li><li>抽象级别高C++兼容C</li></ul></li></ul></li></ul></li></ul></li></ul></li><li><p>2011-至今</p><ul><li><p>高峰</p><ul><li><p>C++11</p><ul><li>auto、nullptr</li><li>array、unordered_set/unordered_map</li><li>智能指针</li><li>thread、atomic</li><li>function、bind、lambda</li><li>移动语义、右值引用</li></ul></li><li><p>C++14、C++17、C++20、C++23</p></li></ul></li></ul></li></ul><h2 id="C-应用方向"><a href="#C-应用方向" class="headerlink" title="C++应用方向"></a>C++应用方向</h2><h3 id="游戏行业"><a href="#游戏行业" class="headerlink" title="游戏行业"></a>游戏行业</h3><ul><li><p>Cocos2d-x</p><ul><li>游戏引擎就是用C++11</li><li>王哲、触控科技</li></ul></li><li><p>unity3D</p></li><li><p>Unreal</p><ul><li>UE4</li></ul></li></ul><h3 id="服务器方向"><a href="#服务器方向" class="headerlink" title="服务器方向"></a>服务器方向</h3><ul><li>IBM、微软、阿里、联想、大唐电信</li></ul><h3 id="图像处理"><a href="#图像处理" class="headerlink" title="图像处理"></a>图像处理</h3><ul><li>OpenCV、OpenGL是C++写的</li></ul><h3 id="网络软件"><a href="#网络软件" class="headerlink" title="网络软件"></a>网络软件</h3><ul><li>金山卫士、WPS都是C++写的</li></ul><h3 id="深度学习的框架"><a href="#深度学习的框架" class="headerlink" title="深度学习的框架"></a>深度学习的框架</h3><ul><li><p>TensorFlow</p><ul><li>底层还是使用C++</li><li>Python is just a wrapper and C++ is the core</li></ul></li></ul><h3 id="区块链"><a href="#区块链" class="headerlink" title="区块链"></a>区块链</h3><ul><li><p>BTC</p><ul><li>比特币</li></ul></li><li><p>ETH</p><ul><li>以太坊</li></ul></li><li><p>EOS</p><ul><li>柚子币</li></ul></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>C++输入输出流</title>
    <url>/category/C++%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="C-输入输出流"><a href="#C-输入输出流" class="headerlink" title="C++输入输出流"></a>C++输入输出流</h1><a id="more"></a><h2 id="输入输出机制"><a href="#输入输出机制" class="headerlink" title="输入输出机制"></a>输入输出机制</h2><h3 id="通过C语言相关知识引出输入输出"><a href="#通过C语言相关知识引出输入输出" class="headerlink" title="通过C语言相关知识引出输入输出"></a>通过C语言相关知识引出输入输出</h3><ul><li>printf/scanf</li><li>fopen/fclose</li></ul><h3 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h3><h3 id="流的概念"><a href="#流的概念" class="headerlink" title="流的概念"></a>流的概念</h3><ul><li>类比如水管</li><li>C++将数据之间的这种传输操作称为流</li></ul><h3 id="流的类型"><a href="#流的类型" class="headerlink" title="流的类型"></a>流的类型</h3><ul><li>标准IO</li><li>文件IO</li><li>字符串IO</li></ul><h3 id="流的继承图"><a href="#流的继承图" class="headerlink" title="流的继承图"></a>流的继承图</h3><h3 id="流的状态"><a href="#流的状态" class="headerlink" title="流的状态"></a>流的状态</h3><ul><li><p>badbit</p><ul><li>bad()</li></ul></li><li><p>failbit</p><ul><li>fail()</li></ul></li><li><p>eofbit</p><ul><li>eof()</li></ul></li><li><p>goodbit</p><ul><li>good()</li></ul></li></ul><h2 id="标准IO"><a href="#标准IO" class="headerlink" title="标准IO"></a>标准IO</h2><h3 id="标准输入cin"><a href="#标准输入cin" class="headerlink" title="标准输入cin"></a>标准输入cin</h3><ul><li><p>举例：cin与流状态的使用</p><ul><li><p>clear重置流的状态</p></li><li><p>ignore清空缓冲区</p><ul><li>ignore(std::numeric_limits<a href="std::streamsize">std::streamsize</a>::max(), ‘\n’)</li></ul></li></ul></li></ul><h3 id="标准输出cout-cerr-clog"><a href="#标准输出cout-cerr-clog" class="headerlink" title="标准输出cout/cerr/clog"></a>标准输出cout/cerr/clog</h3><h3 id="缓冲区"><a href="#缓冲区" class="headerlink" title="缓冲区"></a>缓冲区</h3><ul><li><p>定义</p><ul><li>内存的一部分</li></ul></li><li><p>作用</p><ul><li>速度、空间不匹配的中间产物</li></ul></li><li><p>类型</p><ul><li><p>全缓冲</p><ul><li>例如：对磁盘文件读写</li></ul></li><li><p>行缓冲</p><ul><li>例如：键盘的输入操作</li></ul></li><li><p>不带缓冲</p><ul><li>例如：cerr</li></ul></li></ul></li><li><p>输出缓冲区</p><ul><li><p>缓冲区内容被刷新几种情况</p><ul><li><p>程序正常结束</p></li><li><p>缓冲区满</p></li><li><p>使用操作符显示刷新缓冲区</p><ul><li>flush</li><li>endl</li></ul></li><li><p>使用unitbuf设置流状态以及nounitbuf回到正常状态</p></li><li><p>输入流与输出流相关联</p><ul><li>tie</li></ul></li></ul></li></ul></li><li><p>举例：for(size_t idx = 0; idx &lt; 1024; ++idx{ cout &lt;&lt; ‘a’;}sleep(3) 头文件&lt;unistd.h&gt;</p><ul><li>解读flush/endl/ends/operator&lt;&lt;</li></ul></li></ul><h2 id="文件IO"><a href="#文件IO" class="headerlink" title="文件IO"></a>文件IO</h2><h3 id="头文件fstream"><a href="#头文件fstream" class="headerlink" title="头文件fstream"></a>头文件fstream</h3><h3 id="explicit修饰"><a href="#explicit修饰" class="headerlink" title="explicit修饰"></a>explicit修饰</h3><ul><li>隐式转化</li></ul><h3 id="文件输入流ifstream"><a href="#文件输入流ifstream" class="headerlink" title="文件输入流ifstream"></a>文件输入流ifstream</h3><ul><li><p>当文件不存在时，打开文件失败</p><ul><li><p>ifstream ifs</p><ul><li>构造函数多种，需要选取</li></ul></li></ul></li><li><p>从文件读数据并输出到屏幕</p><ul><li><p>ifs &gt;&gt; word</p><ul><li>默认以空格分隔</li></ul></li></ul></li><li><p>从文件一次读取一行使用getline函数</p><ul><li><p>while(getline(ifs, line))</p></li><li><p>如果想把读出的数据保存起来</p><ul><li><p>string line[128]</p></li><li><p>vector</p><ul><li>讲解其原理</li></ul></li></ul></li></ul></li></ul><h3 id="文件输出流ofstream"><a href="#文件输出流ofstream" class="headerlink" title="文件输出流ofstream"></a>文件输出流ofstream</h3><ul><li><p>默认情况，当文件不存在的时候创建文件，当文件已经存在，则清空文件再写</p><ul><li><p>ofstream ofs</p><ul><li>构造函数多种，需要选取</li></ul></li></ul></li></ul><h3 id="文件输入输出流fstream"><a href="#文件输入输出流fstream" class="headerlink" title="文件输入输出流fstream"></a>文件输入输出流fstream</h3><ul><li><p>使用fstream这个类进行输入输出</p><ul><li><p>举例：从终端输入数据然后存到文件，之后从文件读数据然后输出到屏幕(都使用fstream)</p><ul><li><p>查找文件指针的位置</p><ul><li>tellp/tellg</li></ul></li><li><p>设置文件指针的位置</p><ul><li><p>seekp/seekg</p><ul><li>std::ios::beg</li><li>std::ios::cur</li><li>std::ios::end</li></ul></li></ul></li></ul></li></ul></li></ul><h3 id="文件的模式"><a href="#文件的模式" class="headerlink" title="文件的模式"></a>文件的模式</h3><ul><li><p>输入模式</p><ul><li><p>in输入</p></li><li><p>ate</p><ul><li><p>文件指针最初在文件末尾</p><ul><li>等同于在in模式下，使用std::ios::end</li></ul></li></ul></li></ul></li><li><p>输出模式</p><ul><li><p>out输出</p></li><li><p>app追加</p><ul><li>写入始终在文件末尾</li></ul></li></ul></li></ul><h2 id="字符串IO"><a href="#字符串IO" class="headerlink" title="字符串IO"></a>字符串IO</h2><h3 id="头文件stream"><a href="#头文件stream" class="headerlink" title="头文件stream"></a>头文件stream</h3><h3 id="字符串输出流ostringstream"><a href="#字符串输出流ostringstream" class="headerlink" title="字符串输出流ostringstream"></a>字符串输出流ostringstream</h3><ul><li>举例：数值转换为字符串并输出</li></ul><h3 id="字符串输入输出流stringstream"><a href="#字符串输入输出流stringstream" class="headerlink" title="字符串输入输出流stringstream"></a>字符串输入输出流stringstream</h3><ul><li>举例：将数字转为字符串输出，然后字符串输入到指定格式输出到屏幕</li></ul><h3 id="字符串输入流istringstream"><a href="#字符串输入流istringstream" class="headerlink" title="字符串输入流istringstream"></a>字符串输入流istringstream</h3><ul><li>举例：读配置文件，结合ifstream进行</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day11笔记</title>
    <url>/category/Linux_day11%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>大页的使用|信号量|消息队列</p></blockquote><a id="more"></a><h1 id="大页的使用"><a href="#大页的使用" class="headerlink" title="大页的使用"></a>大页的使用</h1><ol><li>想使用大页的方式申请内存，需要系统支持的，默认的情况下不使用大页的方式分配，需要手动设置</li><li>如果切换到root报认证失败，<ol><li>密码写错了</li><li>没有设置密码, <code>sudo passwd root +</code> 密码</li></ol></li><li>设置系统支持大页方式，<ol><li>切换到root用户</li><li><code>echo 10 &gt; /proc/sys/vm/nr_hugepages</code></li><li><code>cat /proc/sys/vm/nr_hugepages</code>发现如果和你设置的大页数量一样，就说明设置好了</li></ol></li><li>查看大页详细信息<code>grep Huge /proc/meminfo</code></li><li>使用mmap实现共享内存<ol><li>创建一个文件touch file</li><li>给文件开辟空间ftruncate 函数， truncate -s +开辟空间的大小 + 文件名</li></ol></li><li>mmap使用大页的方式申请共享内存<ol><li><code>sudo mount none /mnt/huge/ -t hugetlbfs</code></li><li>在huge目录下创建file</li></ol></li><li>不要对一个指针取sizeof，64位系统当中指针占8个字节</li><li>当两个进程对共享每次+1，各自相加100，正确的原因，是进程在+100，没有用完时间片，没有进程间切换，或者切换没有在+1的过程当中进程切换。</li><li>当两个进程对共享区值每次+1，各加1000w，有时候能成功，有时失败的原因是？<ol><li>成功的原因：进程间切换没有在+1这个操作过程中发生切换</li><li>失败的原因：在+1的过程当中发生了进程间切换</li></ol></li></ol><h1 id="信号量"><a href="#信号量" class="headerlink" title="信号量"></a>信号量</h1><ol><li><p>信号量的提出者是荷兰计算机科学家Dijkstra，信号量的作用：可以用于进程间的同步与互斥</p></li><li><p>同步：两个或两个以上的量在变化过程中，保持一定的相对关系。</p></li><li><p>互斥：两个事物不能同时存在。对资源的独占式访问</p></li><li><p>信号量种类分三种：system V、posix、posix基于内存的信号量</p></li><li><p>信号量又叫信号灯：</p></li><li><p>对于只有两种状态的信号量又叫二进制信号量，常用于互斥操作</p></li><li><p>对于具有多个资源的信号量，又称为计数信号量。常用于同步</p></li><li><p>信号量的值：资源的数量</p></li><li><p>二进制信号量：初始值为1， 只有两种值，0和1</p></li><li><p>计数信号量：值要大于1</p></li><li><p>临界资源：可以被共享，但是需要互斥访问的资源</p></li><li><p>临界区：访问临界资源的代码，临界区也需要互斥的访问</p></li><li><p>如何使用信号量控制资源， p v操作</p></li><li><p>P操作：测试、探查操作，测试控制该资源信号量的值是否大于0， 大于0表示有资源可以使用，程序会进入临界区，访问临界资源</p></li><li><p>V操作： 增加操作， 访问完资源之后，释放资源，资源的数量+1；</p></li><li><p>passeren, 通过的意思，vrijgeven 释放</p></li><li><p>p、v是一个原子操作。是由内核保证的</p></li><li><p>创建信号int semget(key_t key, int nsems, int semflg)</p><ol><li>成功返回信号量的id、失败返回-1</li><li>参数2，是信号量的个数，</li><li>参数3：IPC_CREAT|0600;</li></ol></li><li><p>对信号量的操作int semctl(int semid, int semnum, int cmd, …)</p><ol><li>失败返回-1</li><li>参数2：对那个信号量操作，就那个的编号，编号从零开始</li><li>参数3：cmd，IPC_RMID,删除， GETVAL：获取该信号量所代表资源的数量，semctl返回该值， GETALL： 获取所有信号的各自所代表的资源数量，SETVAL：设置当前信号量所代表的资源数量，semctl成功返回0，SETALL：设置所有信号量所代表的资源数量</li></ol></li><li><p>信号量的操作函数int semop(int semid, struct sembuf *sops, size_t nsops)</p><ol><li><p>成功返回0， 失败-1</p></li><li><p>参数2：操作信号的结构体，</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> short sem_num;  <span class="comment">/* semaphore number */</span></span><br><span class="line">short          sem_op;   <span class="comment">/* semaphore operation */</span></span><br><span class="line">short          sem_flg;  <span class="comment">/* operation flags */</span>  一般填<span class="number">0</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>参数3：结构体的数量</p></li></ol></li><li><p>如何使用pv操作</p><ol><li>进入临界区前p操作；p: -1</li><li>出临界区V操作 V: +1</li></ol></li><li><p>p、v操作，系统为了保证原子性，所以每次p、v都会消耗比较多的时间</p></li><li><p>sem_flag设置为SEM_UNDO的作用</p><ol><li>如果某个操作指定SEM_UNOD, 那么进程终止时自动撤销资源操作</li><li>好处：可以避免死锁。</li><li>为了防止p操作后，进程意外退出，资源没有被释放，造成信号量的值发生错误。</li></ol></li></ol><h1 id="消息队列（Message-Queue-MQ"><a href="#消息队列（Message-Queue-MQ" class="headerlink" title="消息队列（Message Queue)MQ"></a>消息队列（Message Queue)MQ</h1><ol><li><p>是一种多进程之间通信一种机制：<strong>解耦</strong>、<strong>异步</strong>、<strong>削峰</strong></p><ol><li>解耦：就是解除两个或者两个以上事物之间的关联性，使其具有独立性</li><li>异步：</li><li>削峰：</li></ol></li><li><p>创建消息队列使用的函数int msgget(key_t key, int msgflg)</p><ol><li>成功返回消息队列id，失败返回-1，</li></ol></li><li><p>往消息队列传数据int msgsnd(int msqid, const void *msgp, size_t msgsz, int msgflg)</p><ol><li><p>成功返回0， 失败返回-1，</p></li><li><p>参数1，msgid</p></li><li><p>参数2：该结构体需要重构，重构的地方时结构的第二个成员，改成自己需要使用的大小</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">msgbuf</span> {</span></span><br><span class="line">               <span class="keyword">long</span> mtype;       <span class="comment">/* message type, must be &gt; 0 */</span></span><br><span class="line">               <span class="keyword">char</span> mtext[<span class="number">1</span>];    <span class="comment">/* message data */</span></span><br><span class="line">           };</span><br></pre></td></tr></tbody></table></figure></li><li><p>参数3：发送数据的长度</p></li><li><p>参数4：标志位，填0；</p></li></ol></li><li><p>从消息队列里面接收数据的函数ssize_t msgrcv(int msqid, void *msgp, size_t msgsz, long msgtyp, int msgflg);</p><ol><li>成功返回接收的字节数，失败返回-1，</li><li>参数2：接收的信息保存在该结构体中</li><li>参数3：最多接收的数据量</li><li>参数4：指定接收哪个类型的数据</li><li>参数 5：标志位，填0</li></ol></li><li><p>消息队列，是先进先出结构，相同类型下，先写入队列的数据，先接收；数据之间是有边界的</p></li><li><p>msgrcv接收类型如果是填0，代表无差别类型接收；如果填负数，就取小于等于该负数绝对值消息，按消息类型的由小到大开始接收</p></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day10笔记</title>
    <url>/category/Linux_day10%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>管道|进程间通信的高级方式|内存管理</p></blockquote><a id="more"></a><h1 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h1><p>gcc, 数字+gcc多行注释</p><p>:e 在当前的代码当中打开另外的代码， ctrl+n就可以切换代码</p><ol><li>无名管道int pipe(int pipefd[2]);<ol><li>成功返回0，失败返回-1，参数是一个数组，保存是管道的两端</li><li>fd[1]是管道的是写端，fd[0]是管道的读端</li></ol></li><li>无名管道的特点<ol><li>无名管道只能在有亲缘关系之间的进程进行通信（父子，兄弟）</li><li>半双工</li><li>依赖于文件系统，生命周期随进程的结束而结束</li><li>管道是基于字节流来通信的，数据没有边界，多次写管道，数据是粘在一起的。</li><li><strong>管道关闭读端，写管道</strong>，程序回收到SIGPIPE信号，进程的退出码是141，（echo $? 查看进程退出，若大于128，就说明，进程是被信号打断的）</li><li>关闭管道的写端，使用read读管道，那么read会变成非阻塞的，返回0；</li></ol></li><li>有名管道（命名管道）特点<ol><li>可以在非亲缘关系的进程间通信</li><li>是一种特殊类型的文件，不会随着进程的结束而消失。</li></ol></li><li><code>int mkfifo(const char *pathname, mode_t mode)</code><ol><li>成功返回0， 失败返回-1，</li><li>参数1：创建的命名管道，</li><li>参数2：权限</li></ol></li><li>删除有名管道<code>int unlink(const char *pathname)</code><ol><li>可以删除有名管道文件，还可以删除普通文件</li><li>删除的连接，当问文件的连接数为0的时候，才真正的删除该文件。</li></ol></li><li>标准流管道</li><li>FILE *popen(const char *command, const char *type)<ol><li>参数1：启动另一个进程</li><li>参数2：打开方式</li></ol></li><li>popen其实就是对管道的操作进行一些封装<ol><li>创建一条管道</li><li>fork一个子进程</li><li>在父进程中关闭不需要使用的文件描述符</li><li>执行exec函数族的调用</li><li>执行函数中所指定的命令</li></ol></li></ol><h1 id="进程间通信的高级方式"><a href="#进程间通信的高级方式" class="headerlink" title="进程间通信的高级方式"></a>进程间通信的高级方式</h1><ol><li>system V的通信方式<ol><li>共享内存</li><li>信号量</li><li>消息队列</li></ol></li><li>共享内存：一段特殊的内存区域， 可以被多个进程共享，进程想要使用这块共享内存，需要把共享区域映射到本进程的地址空间中，就可以实现进程间的数据交互</li><li>创建共享内存的接口： int shmget(key_t key, size_t size, int shmflg)<ol><li>成功返回共享内存id， 失败返回-1，</li><li>key是一个整型值，可以使用ftok函数生成，</li><li>第二个参数：创建共享内存的大小</li><li>参数3：IPC_CREAT|0666；</li></ol></li><li>key_t ftok(const char *pathname, int proj_id)<ol><li>成功返回一个key（8位的整型值），失败返回-1，</li><li>参数1：是一个路径，路径所指向的文件（文件夹）必须真实存在，可访问的文件）</li><li>参数2：是一个整型值（必须是非零值）</li></ol></li><li>ftok函数的参数如果每次都是一样的，那么生成的key值，每次都是一样的、</li><li>查看共享内存ipcs</li><li>删除共享内存的方式<ol><li>ipcrm -m +共享内存id</li><li>ipcrm -M +共享内存的键值</li></ol></li><li>共享内存一旦创建好之后，就会一直存在，不会随进程的结束而消失，直到使用命令删除，或者重启系统</li><li>shmat：at是attach，附加</li><li>映射函数void *shmat(int shmid, const void *shmaddr, int shmflg)<ol><li>成功返回指向该共享内存的指针，失败是返回（void*)-1,</li><li>参数1：共享内存的id，</li><li>参数2：填NULL，表示让内核决定一个合适的位置</li><li>参数3：标志位，填0；</li></ol></li><li>shmdt：dt是detach分离，</li><li>解除映射int shmdt(const void *shmaddr)<ol><li>参数：shmat的返回指针</li></ol></li><li>共享内存控制函数int shmctl(int shmid, int cmd, struct shmid_ds *buf)<ol><li>参数2：IPC_STAT获取共享内存的信息、IPC_SET、设置共享内存相关信息、IPC_RMID删除该共享内存</li><li>参数3：是一个结构体，保存共享内存的相关信息</li></ol></li><li>对于共享内存的这种删除，叫标记删除：此时删除一段共享内存时，该共享内存正在使用（连接数不为0），该共享内存不会立即被删除，当该共享内存不在被使用的时候，才会真正的删除。</li><li>当键值为全0的时候，是私有的共享内存。只能在有亲缘关系间的进程之间使用。</li><li>私有方式的共享内存不受key约束，并且每次执行都会生成新的一块共享内存</li></ol><h1 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h1><ol><li>虚拟地址：进程实际看到的地址</li><li>物理地址：存放程序数据的真实位置</li><li>物理地址和虚拟地址转换：使用MMU内存管理单元进行转换（硬件），不同的系统，转换机制不同</li><li>32位系统，进程的地址空间是0-4G(2的32次方)， 64位系统当中，进程的地址空间是2的48次方（256T）。</li><li>可以通过<code>cat /proc/cpuinfo</code> 查看</li><li>内存的最小分配大小4k，对于虚拟地址来讲又叫<strong>页</strong>，对于物理地址叫<strong>页框</strong></li><li>申请内存的时候，系统是采用lazy模式分配的<ol><li>lazy模式：当申请内存时，但是没有使用，系统不会立刻分配内存空间。只有当真正的使用该内存空间的时候，系统才分配内存空间。</li><li>页表：保存虚拟地址和物理地址的对应关系。当申请的内存空间没有被使用的时候，页表是不会存储物理地址和虚拟地址的对应关系。</li></ol></li><li>为什么要采用多级页表？<ol><li>节约内存空间</li></ol></li><li>大页，linux默认的大页是2M， 可以通过 grep Huge /proc/meminfo查看。</li><li>快表TLb：记录下一次或者频率比较高的，虚拟和物理地址的对应关系。FIFO、LRU</li><li>快表存储原理：局部性原理：<ol><li>时间局部性：</li><li>空间局部性：</li></ol></li><li>不同进程 ，不同的虚拟地址是否能对应相同的物理地址？ 可以</li><li>不同进程， 相同的虚拟地址能否对应不同的物理地址？ 可以</li><li>虚拟地址和物理地址并没有一个绝对的对应关系。</li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>C++基础</title>
    <url>/category/C++%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="C-基础"><a href="#C-基础" class="headerlink" title="C++基础"></a>C++基础</h1><a id="more"></a><h2 id="1、命名空间"><a href="#1、命名空间" class="headerlink" title="1、命名空间"></a>1、命名空间</h2><h3 id="初窥C-程序"><a href="#初窥C-程序" class="headerlink" title="初窥C++程序"></a>初窥C++程序</h3><ul><li><p>举例：打印”hello world“</p><ul><li><p>1、头文件为何没有.h</p></li><li><p>2、函数声明与函数定义的区别?</p><ul><li>声明可以多次，但是定义只能有一次</li><li>教会大家打印查bug以及定位bug</li></ul></li><li><p>3、概念：输出输出流对象、输入输出运算符(运算符重载)、字符串常量、换行符</p><ul><li>operator&lt;&lt;(cout, “hello,world”)</li></ul></li></ul></li></ul><h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><ul><li><p>1、定义形式以及访问</p></li><li><p>2、命名空间的三种使用形式以及优缺点</p><ul><li><p>1、using编译指令</p><ul><li>using编译指令，一次性把std空间中的所有实体全部引用出来</li><li>初学者不熟悉std里面的内容，会有犯错</li></ul></li><li><p>2、作用域限定符</p><ul><li>每次写都比较麻烦，但是降低犯错概率</li></ul></li><li><p>3、using声明机制</p><ul><li>可以选择作用域范围的，越小越安全，降低犯错误的概率，推荐使用</li></ul></li></ul></li><li><p>3、带命名空间的函数声明</p><ul><li>举例：两个命名空间相互有调用</li><li>标准命名空间也是可以扩展的，注意：标准命名空间实体都是小写的，所有在扩展的时候尽量用大写，如:MyStruct</li></ul></li><li><p>4、匿名命名空间</p><ul><li><p>为了兼容C</p><ul><li>C++底层内存模型与C是一致的</li></ul></li></ul></li><li><p>5、命名空间的嵌套</p></li></ul><h2 id="2、const用法"><a href="#2、const用法" class="headerlink" title="2、const用法"></a>2、const用法</h2><h3 id="const修饰变量"><a href="#const修饰变量" class="headerlink" title="const修饰变量"></a>const修饰变量</h3><ul><li>1、形式 const int number = 10</li><li>2、必须初始化(与赋值区别)</li><li>3、不能修改，保护数据</li></ul><h3 id="const修饰指针"><a href="#const修饰指针" class="headerlink" title="const修饰指针"></a>const修饰指针</h3><ul><li><p>常量指针</p><ul><li><p>const *</p><ul><li>pointer to const</li></ul></li><li><p>指针本身(指向)可以修改，但是指针指向变量不可以修改</p></li></ul></li><li><p>指针常量</p><ul><li><ul><li><p>const</p><ul><li>const pointer</li></ul></li></ul></li><li><p>指针指向的变量可以修改，但是指针本身不可修改</p></li></ul></li><li><p>const指针常量</p><ul><li>const * const</li><li>指针指向的变量以及指针本身都不可以修改</li></ul></li><li><p>引出函数指针与指针函数、数组指针与指针数组</p><ul><li>int (*pFun)() int *func()</li><li>int (*pArray)[] int *pArray[]</li></ul></li></ul><h3 id="const修饰对象与成员函数"><a href="#const修饰对象与成员函数" class="headerlink" title="const修饰对象与成员函数"></a>const修饰对象与成员函数</h3><h2 id="3、new-delete"><a href="#3、new-delete" class="headerlink" title="3、new/delete"></a>3、new/delete</h2><h3 id="1、开辟一个元素的空间"><a href="#1、开辟一个元素的空间" class="headerlink" title="1、开辟一个元素的空间"></a>1、开辟一个元素的空间</h3><ul><li>int *pInt = new int(10)</li><li>与malloc对比</li></ul><h3 id="2、开辟数组空间"><a href="#2、开辟数组空间" class="headerlink" title="2、开辟数组空间"></a>2、开辟数组空间</h3><ul><li>int *pArray = new int<a href="">10</a></li><li>与malloc对比</li></ul><h3 id="3、malloc-free与new-delete相同点与不同点"><a href="#3、malloc-free与new-delete相同点与不同点" class="headerlink" title="3、malloc/free与new/delete相同点与不同点"></a>3、malloc/free与new/delete相同点与不同点</h3><ul><li><p>相同点</p><ul><li>1、都是用来申请堆空间</li><li><ol start="2"><li>必须成对出现，否则就会有内存泄漏</li></ol></li></ul></li><li><p>不同点</p><ul><li><ol><li>new/delete是C++表达式，malloc/free是C库函数</li></ol></li><li>2、new表达式在开辟空间的同时可以初始化空间；malloc在开辟堆空间时，只申请空间，不会初始化空间</li></ul></li></ul><h2 id="4、引用reference"><a href="#4、引用reference" class="headerlink" title="4、引用reference"></a>4、引用reference</h2><h3 id="引用的特征"><a href="#引用的特征" class="headerlink" title="引用的特征"></a>引用的特征</h3><ul><li><p>引用的形式</p><ul><li>int &amp;ref = number</li></ul></li><li><p>对引用的修改就是对变量本身的修改</p></li><li><p>引用是变量的别名，必须初始化，它的出现就是为了减少指针的使用</p></li><li><p>引用本身不能单独存在，必须要绑定到一个实体上，一经绑定之后，不能改变指向</p></li><li><p>引用的底层实现是指针常量</p></li></ul><h3 id="抛出问题：既然引用的底层实现也是指针，那区别与联系是什么？"><a href="#抛出问题：既然引用的底层实现也是指针，那区别与联系是什么？" class="headerlink" title="抛出问题：既然引用的底层实现也是指针，那区别与联系是什么？"></a>抛出问题：既然引用的底层实现也是指针，那区别与联系是什么？</h3><ul><li>指针和引用的联系与区别<br>★ 相同点：</li></ul><ol><li>都是地址的概念；<br>指针指向一块内存，它的内容是所指内存的地址；引用是某块内存的别名。<br>★ 区别：</li><li>指针是一个实体，而引用仅是个别名；</li><li>引用使用时无需解引用(*)，指针需要解引用；</li><li>引用只能在定义时被初始化一次，之后不可变；指针可变；</li><li>引用没有 const，指针有 const；</li><li>引用不能为空，指针可以为空；</li><li>“sizeof 引用”得到的是所指向的变量(对象)的大小，而“sizeof 指针”得到的是指针本身(所指向的变量或对象的地址)的大小；</li><li>指针和引用的自增(++)运算意义不一样；</li><li>从内存分配上看：程序为指针变量分配内存区域，而引用不需要分配内存区域。</li></ol><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ul><li><p>引用作为函数参数</p><ul><li><p>对比普通形式、指针形式、引用形式</p><ul><li>传递实质：值传递、地址传递与引用传递</li><li>开销：函数栈空间，如果传递是结构体</li><li>优势：直观，不需要为参数开辟额外的空间，不需要进行复制，这样提高程序的执行效率</li></ul></li></ul></li><li><p>引用作为函数返回值</p><ul><li><p>列举正确形式</p><ul><li><p>1、与普通函数返回值对比，没有复制开销</p></li><li><p>2、普通函数直接返回引用，没有意义</p></li><li><p>3、引用作为函数返回值的前提：实体的生命周期要大于函数生命周期</p></li><li><p>4、之前函数返回值是指针也没有意义</p><ul><li>返回局部变量的地址</li></ul></li><li><p>5、返回堆空间引用，但是有内存泄漏，如果非要这么做，必须有内存回收机制</p></li></ul></li></ul></li></ul><h2 id="5、强制转换"><a href="#5、强制转换" class="headerlink" title="5、强制转换"></a>5、强制转换</h2><h3 id="与C强制转换的区别"><a href="#与C强制转换的区别" class="headerlink" title="与C强制转换的区别"></a>与C强制转换的区别</h3><ul><li>C的简单粗暴，C++这四种可以分场景，相对来说更安全，切容易查找grep -rn “static_cast” ./</li></ul><h3 id="static-cast"><a href="#static-cast" class="headerlink" title="static_cast"></a>static_cast</h3><ul><li>基本数据类型之间的转化</li><li>void <em>==&gt;目标类型,void</em>==&gt;int *</li><li>基类与派生类之间指针或引用的转换</li></ul><h3 id="const-cast"><a href="#const-cast" class="headerlink" title="const_cast"></a>const_cast</h3><ul><li>去掉常量属性</li></ul><h3 id="dynamic-cast"><a href="#dynamic-cast" class="headerlink" title="dynamic_cast"></a>dynamic_cast</h3><h3 id="reinterpret-cast"><a href="#reinterpret-cast" class="headerlink" title="reinterpret_cast"></a>reinterpret_cast</h3><h2 id="6、函数重载-overload"><a href="#6、函数重载-overload" class="headerlink" title="6、函数重载(overload)"></a>6、函数重载(overload)</h2><h3 id="函数重载的含义与形式"><a href="#函数重载的含义与形式" class="headerlink" title="函数重载的含义与形式"></a>函数重载的含义与形式</h3><ul><li>同一个作用域中，函数名字相同，但是参数列表不同的函数</li></ul><h3 id="C不支持函数重载，C-支持，列举重载形式以及原因"><a href="#C不支持函数重载，C-支持，列举重载形式以及原因" class="headerlink" title="C不支持函数重载，C++支持，列举重载形式以及原因"></a>C不支持函数重载，C++支持，列举重载形式以及原因</h3><ul><li>名字改编</li><li>g++ -c test.cc/nm test.o</li></ul><h3 id="C-为何能使用C语言的库，历史原因：C-为了兼容C，但是不能将所有C实现的库按照C-方式进行，否则工程浩大，这样的兼容没有意义。。所以对于C语言的库，要按照C的方式进行编译，即不进行名字改编。。如果想将自己写的代码在C-中按照C方式编译，可以使用extern-“C”"><a href="#C-为何能使用C语言的库，历史原因：C-为了兼容C，但是不能将所有C实现的库按照C-方式进行，否则工程浩大，这样的兼容没有意义。。所以对于C语言的库，要按照C的方式进行编译，即不进行名字改编。。如果想将自己写的代码在C-中按照C方式编译，可以使用extern-“C”" class="headerlink" title="C++为何能使用C语言的库，历史原因：C++为了兼容C，但是不能将所有C实现的库按照C++方式进行，否则工程浩大，这样的兼容没有意义。。所以对于C语言的库，要按照C的方式进行编译，即不进行名字改编。。如果想将自己写的代码在C++中按照C方式编译，可以使用extern “C”;"></a>C++为何能使用C语言的库，历史原因：C++为了兼容C，但是不能将所有C实现的库按照C++方式进行，否则工程浩大，这样的兼容没有意义。。所以对于C语言的库，要按照C的方式进行编译，即不进行名字改编。。如果想将自己写的代码在C++中按照C方式编译，可以使用extern “C”;</h3><h3 id="C与C-混合编程"><a href="#C与C-混合编程" class="headerlink" title="C与C++混合编程"></a>C与C++混合编程</h3><ul><li>使C的源码既能够在C中以C的形式进行调用也能在C++中以C的形式进行调用，内置宏#ifdef __cplusplus #endif</li></ul><h2 id="7、默认参数"><a href="#7、默认参数" class="headerlink" title="7、默认参数"></a>7、默认参数</h2><h3 id="默认参数的目的：就是为了少写代码"><a href="#默认参数的目的：就是为了少写代码" class="headerlink" title="默认参数的目的：就是为了少写代码"></a>默认参数的目的：就是为了少写代码</h3><h3 id="默认参数的声明"><a href="#默认参数的声明" class="headerlink" title="默认参数的声明"></a>默认参数的声明</h3><ul><li>最好是在声明时候写默认参数，如果声明时候不写默认参数，而在定义时候写默认参数，则函数调用在函数定义之后</li></ul><h3 id="默认参数的顺序规定：从右向左"><a href="#默认参数的顺序规定：从右向左" class="headerlink" title="默认参数的顺序规定：从右向左"></a>默认参数的顺序规定：从右向左</h3><h3 id="默认参数与函数重载-二义性"><a href="#默认参数与函数重载-二义性" class="headerlink" title="默认参数与函数重载:二义性"></a>默认参数与函数重载:二义性</h3><h2 id="8、bool类型"><a href="#8、bool类型" class="headerlink" title="8、bool类型"></a>8、bool类型</h2><h3 id="任何非0值就是true，0值就是false"><a href="#任何非0值就是true，0值就是false" class="headerlink" title="任何非0值就是true，0值就是false"></a>任何非0值就是true，0值就是false</h3><h3 id="占用大小1"><a href="#占用大小1" class="headerlink" title="占用大小1"></a>占用大小1</h3><h2 id="9、inline函数"><a href="#9、inline函数" class="headerlink" title="9、inline函数"></a>9、inline函数</h2><h3 id="带参数宏定义-预处理阶段"><a href="#带参数宏定义-预处理阶段" class="headerlink" title="带参数宏定义(预处理阶段)"></a>带参数宏定义(预处理阶段)</h3><ul><li>函数调用是有开销的，但是宏定义是没有开销的，提高了程序的执行效率</li><li>字符串替换，不安全，bug会带到运行时</li></ul><h3 id="inline函数-编译阶段"><a href="#inline函数-编译阶段" class="headerlink" title="inline函数(编译阶段)"></a>inline函数(编译阶段)</h3><ul><li>inline函数的效果与带参数的宏定义是一样的，同时又可以进行编译，安全性比带参数的宏定义要高</li><li>在函数的调用处，用函数体替换</li></ul><h3 id="头文件与实现文件分开"><a href="#头文件与实现文件分开" class="headerlink" title="头文件与实现文件分开"></a>头文件与实现文件分开</h3><ul><li>inline函数需要将声明与实现放在一起，不能分开</li></ul><h3 id="内联函数的使用"><a href="#内联函数的使用" class="headerlink" title="内联函数的使用"></a>内联函数的使用</h3><ul><li>代码短、没有复杂语句块，不能有for/while</li></ul><h2 id="10、异常安全"><a href="#10、异常安全" class="headerlink" title="10、异常安全"></a>10、异常安全</h2><h3 id="throw、try、catch三关键字的解释"><a href="#throw、try、catch三关键字的解释" class="headerlink" title="throw、try、catch三关键字的解释"></a>throw、try、catch三关键字的解释</h3><ul><li><p>throw抛出异常</p><ul><li>throw 表达式：可以是自定义类型，可以是内置类型</li></ul></li><li><p>try尝试捕获异常</p></li><li><p>catch捕获异常</p></li></ul><h3 id="try-catch形式类比switch-case"><a href="#try-catch形式类比switch-case" class="headerlink" title="try/catch形式类比switch case"></a>try/catch形式类比switch case</h3><ul><li>try{}catch(){}catch(){}…</li></ul><h2 id="11、C-C-风格字符串"><a href="#11、C-C-风格字符串" class="headerlink" title="11、C/C++风格字符串"></a>11、C/C++风格字符串</h2><h3 id="C风格字符串两种形式-字符数组与字符指针"><a href="#C风格字符串两种形式-字符数组与字符指针" class="headerlink" title="C风格字符串两种形式:字符数组与字符指针"></a>C风格字符串两种形式:字符数组与字符指针</h3><ul><li>C风格字符串长度、拷贝、拼接</li></ul><h3 id="C-风格字符串"><a href="#C-风格字符串" class="headerlink" title="C++风格字符串"></a>C++风格字符串</h3><ul><li>C风格字符串转为C++风格</li><li>C++风格字符串转换C风格字符串c_str</li><li>字符串的长度、遍历、拼接(+/append)、查找、截取</li><li>优势:不用考虑空间问题</li></ul><h3 id="cppreference-com-英文版本"><a href="#cppreference-com-英文版本" class="headerlink" title="cppreference.com      英文版本"></a>cppreference.com 英文版本</h3><p>zh.cppreference.com 中文版本</p><h2 id="12、内存布局"><a href="#12、内存布局" class="headerlink" title="12、内存布局"></a>12、内存布局</h2><h3 id="1、原理"><a href="#1、原理" class="headerlink" title="1、原理"></a>1、原理</h3><ul><li><p>32bit，4G(虚拟地址空间)</p><ul><li><p>3G-4G，内核空间</p><ul><li>进程管理、设备管理、虚拟文件管理</li></ul></li><li><p>0-3G，用户空间</p><ul><li><p>栈空间</p><ul><li>局部变量，函数参数</li></ul></li><li><p>内存映射段</p><ul><li>静态库与动态库，文件映射，匿名映射</li></ul></li><li><p>堆空间</p><ul><li>malloc/calloc/new</li></ul></li><li><p>读写段</p><ul><li><p>全局静态区</p><ul><li>全局静态变量</li></ul></li></ul></li><li><p>只读段</p><ul><li><p>文字常量区</p><ul><li>字符串常量</li></ul></li><li><p>程序代码区</p><ul><li>程序二进制代指令</li></ul></li></ul></li></ul></li></ul></li></ul><h3 id="2、代码"><a href="#2、代码" class="headerlink" title="2、代码"></a>2、代码</h3><ul><li><p>按照全局静态到局部变量的方式进行讲解</p><ul><li>全局变量会初始化为0，全局指针会初始化为nullptr</li><li>局部变量不会初始化，垃圾值，局部指针也不会初始化，也是垃圾值(野指针)</li></ul></li></ul><h3 id="3、堆与栈的区别与比较-堆和栈是用的最多的"><a href="#3、堆与栈的区别与比较-堆和栈是用的最多的" class="headerlink" title="3、堆与栈的区别与比较(堆和栈是用的最多的)"></a>3、堆与栈的区别与比较(堆和栈是用的最多的)</h3><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day12笔记</title>
    <url>/category/Linux_day12%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>信号</p></blockquote><a id="more"></a><h1 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h1><ol><li><p>信号不同于信号量</p></li><li><p>信号也是进程间通信的一种</p></li><li><p>系统当中信号的定义：信号是进程运行过程中，由自身产生，或者由进程外部发过过来的消息。</p></li><li><p>中断：中断是指计算运行过程当中，出现某些意外情况需要主机干预，机器能自动停止正在运行的程序，并且转入处理新情况的程序，处理完毕之后，又会返回原来被暂停的程序中继续运行</p><ol><li>硬中断：硬中断是由外设产生的，硬中断信号是由中断控制器提供，硬中断可以屏蔽的。</li><li>软中断：软中断是利用硬中断的概念，用软件的方式进行的模拟。宏观上异步的执行效果</li><li>软中断是实现系统API函数调用的手段</li></ol></li><li><p>软中断不会去抢占另一个软中断，硬中断可以抢占软件中断。硬件中断可以保证时效性</p></li><li><p>每一个信号都自己的默认行为，它决定了收到信号后的行为。</p><ol><li>Term：终止当前进程</li><li>Ign：忽略该信号</li><li>Core：终止当前进程，并且产生core dump</li><li>Stop：停止（挂起）一个进程</li><li>Cont：使当前停止的进程，继续运行</li></ol></li><li><p>常见信号</p><ol><li>SIGINT 2 term 中断来自键盘 ctrl c</li><li>SIGQUIT 3 Core 从键盘退出 ctrl \</li><li>SIGKILL 9 Term Kill signal 不能被捕捉也能被修改</li><li>SIGPIPE 13 Term 写一个关闭读端的管道回收这个信号</li><li>SIGALRM 14 Term sleep函数就是使用这个信号</li><li>SIGUSR1 SIGUSR2 是提供给用户使用的信号 默认行为 Term</li></ol></li><li><p>signal、sigaction这两个函数可以捕捉信号，并且可以修改信号的行为</p></li><li><p>由进程内部产生的信号又称为同步信号， 由进程外部产生的信号又叫异步信号</p></li><li><p>进程收到信号后有<strong>三种行为</strong>处理该信号</p><ol><li>接收默认处理</li><li>忽略信号</li><li>捕捉信号并处理</li></ol></li><li><pre><code class="c"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*<span class="keyword">sighandler_t</span>)</span><span class="params">(<span class="keyword">int</span>)</span></span>;
<span class="function"><span class="keyword">sighandler_t</span> <span class="title">signal</span><span class="params">(<span class="keyword">int</span> signum, <span class="keyword">sighandler_t</span> handler)</span></span>;
<span class="comment">//失败返回SIG_ERR， </span>
<span class="comment">//参数1：捕捉或处理的信号， </span>
<span class="comment">//参数2：处理信号的函数</span>
&lt;!--￼<span class="number">0</span>--&gt;</code></pre></li><li><p>两个函数功能类似，参数越多，功能越强</p></li><li><pre><code class="c"><span class="function"><span class="keyword">int</span> <span class="title">sigaction</span><span class="params">(<span class="keyword">int</span> signum, <span class="keyword">const</span> struct sigaction *act, struct sigaction *oldact)</span></span>
<span class="function"><span class="comment">//参数1：信号值</span></span>
<span class="function"><span class="comment">//参数2：struct sigaction {</span></span>
<span class="function">               <span class="title">void</span>     <span class="params">(*sa_handler)</span><span class="params">(<span class="keyword">int</span>)</span></span>;   <span class="comment">//旧类型的信号处理函数</span>
               <span class="keyword">void</span>     (*sa_sigaction)(<span class="keyword">int</span>, <span class="keyword">siginfo_t</span> *, <span class="keyword">void</span> *);  <span class="comment">// 新类型的信号处理函数</span>
               <span class="keyword">sigset_t</span>   sa_mask;  <span class="comment">//阻塞信号的结合</span>
               <span class="keyword">int</span>        sa_flags;  <span class="comment">//信号处理的方式，旧的类型填0， 新的类型SA_SIGINFO</span>
               <span class="keyword">void</span>     (*sa_restorer)(<span class="keyword">void</span>);  <span class="comment">//保留不用</span>
           };
<span class="comment">// siginfo_t这个结构体保存该信号一些相关信息，如信号值，信号产生的时间</span>
<span class="comment">//参数3：保存原来的信号一些相关信息</span>
&lt;!--￼<span class="number">1</span>--&gt;

<span class="number">3.</span> sigaction 使用新类型sa_flags填SA_SIGINFO才可精确保存该信号的相关信息。

<span class="number">4.</span> 查看bash的进程id  echo $$

<span class="number">5.</span>  echo $？查看上一条命令的返回状态</code></pre></li><li><p>信号的阻塞</p><ol><li><p>阻塞与忽略的区别，</p><ol><li>阻塞：阻塞一会，之后还会继续执行</li><li>忽略：不会在理会该信号</li></ol></li><li><p>使用sigaction阻塞信号，阻塞的作用域就在信号处理函数这个范围内</p><p>2号信号模拟处理订单，生成订单信息，这个过程需要花费一段时间，我们知道当一个信号正在处理时，其他信号突然来了，会切换到新信号，而当我们将该信号阻塞时，该信号再执行这个过程，就不会切换。</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">sigset_t</span> <span class="built_in">set</span>;</span><br><span class="line">sigemptyset(&amp;<span class="built_in">set</span>);</span><br><span class="line">  </span><br><span class="line"><span class="comment">//把3号信号放到阻塞集合当中</span></span><br><span class="line">sigaddset(&amp;<span class="built_in">set</span>, <span class="number">3</span>);                                    </span><br><span class="line">  </span><br><span class="line"><span class="comment">//使用新类型</span></span><br><span class="line">act.sa_sigaction = newFunc;</span><br><span class="line">act.sa_flags = SA_SIGINFO;</span><br><span class="line">act.sa_mask = <span class="built_in">set</span>;</span><br></pre></td></tr></tbody></table></figure></li><li><p>sigprocmask它可以实现全局范围内的信号阻塞</p></li><li><p>查看进程中阻塞集合路径 vim include/linux/sched.h +931</p></li><li><pre><code class="c"><span class="function"><span class="keyword">int</span> <span class="title">sigprocmask</span><span class="params">(<span class="keyword">int</span> how, <span class="keyword">const</span> <span class="keyword">sigset_t</span> *<span class="built_in">set</span>, <span class="keyword">sigset_t</span> *oldset)</span></span>
<span class="function"><span class="comment">//成功返回0， 失败返回错误码</span></span>
<span class="function"><span class="comment">//参数1：表示怎么处理第二个参数这个集合</span></span>
    SIG_BLOCK：把集合加入到原有的阻塞集合当中
    SIG_UNBLOCK：把集合从原有的集合中删除
    SIG_SETMASK：把集合替换原有的阻塞集合
<span class="comment">//参数2：阻塞集合</span>
<span class="comment">//参数3：原有的集合，一般为NULL</span>

<span class="keyword">sigset_t</span> pending;
sigemptyset(&amp;pending);

sigpending(&amp;pending);

<span class="comment">//sigismember成功返回1, 如果信号不在阻塞集合，返回0， &gt;</span>
<span class="keyword">if</span>(sigismember(&amp;pending, <span class="number">2</span>)){
    <span class="built_in">printf</span>(<span class="string">"sig is pending\n"</span>);
}
&lt;!--￼<span class="number">3</span>--&gt;
















</code></pre></li></ol></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day16笔记</title>
    <url>/category/Linux_day16%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>网络相关概念|tcp|udp</p></blockquote><a id="more"></a><h1 id="网络相关概念"><a href="#网络相关概念" class="headerlink" title="网络相关概念"></a>网络相关概念</h1><ol><li>网络通信才是更广泛的通信方式。</li><li>两台主机通过ip地址连接</li><li>网络通信其实就是两台主机之间的进程通信。是通过端口号找到进程。</li><li>由一个交换机与连接在该设备上的若干个主机就构成了一个局域网。</li><li>通信双方必须遵守的规则：协议</li><li>网络协议分为两种模型：<ol><li>OSI参考模型（7层）（物链网应表会传）：更偏向于理论研究</li><li>TCP/IP四层：应传二网：更利于实际开发</li></ol></li><li>为什么要把协议分层？<ol><li>分层之后，每一层只负责完成自己的任务，下层协议向上层协议提供了基础服务，上层协议使用下层协议, 不关心底层的实现细节，只需要完成各自的职能。</li></ol></li><li>协议除了分层，还分为<strong>公有协议</strong>和<strong>私有协议</strong></li><li>tcp/ip是一类协议，是协议族</li><li>https：http协议+ssl（安全套接字协议）</li><li>传输层两个重要协议：<ol><li>tcp(传输控制协议）:面向连接的，保证数据的安全可靠传输，比较慢。（常用于文件传输）</li><li>udp（用户数据报协议）：非面向连接，速度快，但是传输的数据不可靠（应用场景：实时类游戏上，即时聊天，在线直播）</li></ol></li><li>每一台设备都由唯一的一个物理地址。</li><li>端口号的范围：[0 - 2的16次方)</li><li>ipv4占4个字节，ipv6占16个字节、物理地址占6个字节，端口号占2个字节</li><li>端口号：<ol><li>0-1024不是给普通用户使用的，是给一些常用的协议和应用使用的。</li><li>用户使用的范围：（1024-10000）</li></ol></li><li>以太网是现有局域网最常使用的通信协议标准。</li><li>以太网帧格式数据的长度：46 - 1500字节</li><li>ARP地址转换协议：把ip地址转换成物理地址（mac)</li><li>arp缓存表：记录主机的ip和主机物理地址的对应关系</li><li>生存时间：TTL（time to live)指的是跳数</li><li>ip数据包头长最长是60个字节。20个字节的基本头长+选项长度。</li><li>六度拓朴理论</li><li>路由器：连接两个多个的网络硬件设备，可以解析，各种不同类型的网络传来的数据包的目的地址，在根据特定的路由算法把各数据包按照<strong>最佳路线</strong>传送到指定位置。 <strong>工作在网络层</strong></li><li>路由表：记录两台主机之间最优的路径（类似于高德地图）</li><li>交换机：是一种基于mac地址识别，完成以太网数据帧转发的网络设备。<strong>工作在网络接口层</strong></li></ol><h3 id="tcp协议"><a href="#tcp协议" class="headerlink" title="tcp协议"></a>tcp协议</h3><ol><li><p>面向连接：正在建立连接、还是正在连接、或者正在关闭连接的状态。</p></li><li><p>tcp为保证数据安全可靠的传输：序列号、确认重传（重传的次数一般为10次）、滑动窗口（规定通信双方传输数据的大小）（发送方于接收方的窗口大小不一定是一样大）。</p></li><li><p>ack（Ack）确认号；ACK：确认标志位，表示确认数据信息的，tcp协议规定，三次握手建立完成之后，必须带ACK = 1标志位，</p></li><li><p>SYN标志位：当SYN=1，表示请求建立连接</p></li><li><p>FIN标志位：当SIN=1, 表示请求断开连接</p></li><li><p>序列号其实是一个随机值：</p><ol><li>从安全的角度来讲：随机值不利攻击者捕获数据包。</li><li>从稳定角度来讲：防止断开重连后，延迟的数据包重新被接收。</li></ol></li><li><p>ISN = M+F</p></li><li><p>显示相对序列号的设置方式：编辑-&gt;首选项-&gt;protocols-&gt;tcp。</p></li><li><p>确认号ack是x+1的原因：</p><ol><li>期望下一次收到的数据包的序列是x+1；</li><li>SYN标志位占用一个序列号</li></ol></li><li><p>三次握手的流程：</p><ol><li>A-&gt;B：SYN=1， seq=x;</li><li>B-&gt;A: SYN=1, ACK=1, seq = y, ack=x+1;</li><li>A-&gt;B: ACK=1, seq=x+1, ack=y+1;</li></ol></li><li><p><strong>tcp协议第三次握手数据包的序列号和第一次发送数据的数据包的序列号是相同的。</strong></p></li><li><p>两次握手能不能建立连接？</p><ol><li>可以：前提网络必须通常。</li><li>不可以：如果网络状态不好，造成第一握手在网络中延迟，过了一段时间，主机A重传第一次握手（当前网络状态恢复正常），很快的与与主机B建立连接，数据交互完毕之后关闭连接。此时在网络中延迟的第一次握手重新到达了主机B，主机B发送第二次握手建立连接，但是主机A不会再理会这次连接，所以就造成了，主机B一直等待主机A送数据，浪费主机B的资源。</li></ol></li><li><p>tcp三次握手改成二次握手行不行？</p><ol><li>为了防止丢失的请求报文重新到达对方</li><li>第三次握手是对第二次握手的确认，如果少了这次确认，就无法保证服务端的序列号被客户端成功的接收。</li></ol></li><li><p>三次握手时报文丢失：</p><ol><li>第一次握手丢失：发送方会重传第一次握手</li><li>第二次握手丢失：发送方和接收方都可能会重传。</li><li>第三次握手丢失：<ol><li>通信双方都没有数据要发送：主机B重传第二次握手</li><li>主机B要想先发送数据：主机B会重传第二次握手</li><li>主机A要想先发送数据：可以直接发送数据， 主机B直接接收数据</li></ol></li></ol></li><li><p>Linux系统下2MSL是60秒</p></li><li><p>tcp四次挥手：</p><ol><li>A-&gt;B：FIN=1, seq=u;</li><li>B-&gt;A：ACK=1， seq=v, ack = u+1;</li><li>B-&gt;A数据传输</li><li>B-&gt;A：FIN=1, seq= w, ack=u+1;</li><li>A-&gt;B：ACK=1， seq=u+1, ack= w+1</li></ol></li><li><p>只有断开方才有TIME-WAIT状态</p></li><li><p>为什么主动断开方要有TIME-WAIT状态？</p><ol><li>保证通信双方四次挥手顺利完成，能够正常的关闭tcp连接。</li><li>保证旧的报文在网络中消失。</li></ol></li><li><p>四次挥手改成三次挥手行不行？</p><ol><li>可以：1.前提是网络状态非常好. 2.主机B发送完第二次挥手之后，没有数据发送给主机A，那么第二次挥手可以和第三次挥手合并。B-&gt;A：FIN=1，ACK=1， seq=v, ack=u+1;</li></ol></li><li><p>MTU 是网络传输最大报文包 = 数据的长度 + 协议的头长 1500个字节</p></li><li><p>MSS 是网络传输数据最大值（不包含协议的长度）。 1500 - 20(ip头长) - 20（tcp头长） = 1460字节</p></li><li><p>udp协议的特点：</p><ol><li>没有各种连接：在传输数据前不需要建立连接</li><li>不重新排序：对到达顺序混乱的数据包不进行重新排序。</li><li>没有确认：发送数据包无需等待对方确认。因此，udp协议可以随时发送数据，但是无法保证数据成功被对方接收。</li></ol></li><li><p>可以在应用层对upd进行安全性的封装，使其传输数据安全可靠。已经有开源代码实现该功能，分别是：RUDP、RTP、UDP。</p></li><li><p>协议的选择：</p><ol><li>对于可靠性来讲：要求可靠性高采用tcp协议，反之选择udp</li><li>从实时性的角度：对实时性要求高的选择udp协议，反之tcp</li><li>根据网络状态选择：网络状态好采用udp，网络状态差选择tcp</li></ol></li><li><p>C/S模式是传统的应用模式：含有客户端和服务端</p></li><li><p>B/S模式是浏览器充当客户端。</p></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day14笔记</title>
    <url>/category/Linux_day14%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>线程取消函数|线程终止清理函数|线程互斥|线程同步</p></blockquote><a id="more"></a><h3 id="线程取消函数"><a href="#线程取消函数" class="headerlink" title="线程取消函数"></a>线程取消函数</h3><ol><li>另外一个线程收到cancel信号默认行为是运行完取消点才结束</li></ol><h3 id="线程终止清理函数"><a href="#线程终止清理函数" class="headerlink" title="线程终止清理函数"></a>线程终止清理函数</h3><ol><li><p>pthread_cleanup_push(), pthread_cleanup_pop(); 这是一个函数对，管理是一个栈结构，调用push的时候就是把清理函数入栈，调用pop的时候，清理函数出栈。</p></li><li><p>void pthread_cleanup_push(void (*routine)(void *), void *arg);</p><ol><li>参数1：清理函数</li><li>参数2：清理函数的参数</li></ol></li><li><p>void pthread_cleanup_pop(int execute);</p><ol><li>如果填非0值，代表清理函数出栈，后进先出</li><li>如果填0，表示清理函数不出栈</li></ol></li><li><p>使用注意事项：</p><ol><li>必须成对使用</li><li>必须在代码的同一层次使用</li></ol></li><li><p>在清理函数对中间的代码如果意外退出， 执行清理函数才是正确方式。</p></li><li><p>线程清理函数得到响应的时机：三个时机</p><ol><li>线程被cancel掉</li><li>显式的弹栈pop（1）</li><li>pthread_exit()</li></ol></li><li><p>线程清理函数不会响应的时机：两个</p><ol><li>pop(0)</li><li>return ;</li></ol></li><li><p>cancel代码当中尽量不要使用。</p></li><li><p>push放在紧邻需要清理的资源下面</p></li><li><p>pop尽量往后放。</p></li></ol><p><strong>对于 man 不了线程的相关函数需要增加 man 信息 ， apt-get install manpages-posix-dev</strong></p><h3 id="线程互斥"><a href="#线程互斥" class="headerlink" title="线程互斥"></a>线程互斥</h3><ol><li><p>对资源的独占式访问</p></li><li><p>线程锁pthread_mutex_t mutex称为互斥锁或者互斥体。访问共享资源的时候，需要加锁对资源进行访问，访问完成之后解锁。如果已经有锁住该资源，那么就阻塞，直到该资源被释放。</p></li><li><p>锁的初始化</p><ol><li><p>静态方式：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutex_t</span> mutex = PTHREAD_MUTEX_INITIALIZER；</span><br></pre></td></tr></tbody></table></figure></li><li><p>动态的方式；int pthread_mutex_init(pthread_mutex_t *mutex, const pthread_mutexattr_t *mutexattr)</p><ol><li>成功返回0， 失败返回错误码</li><li>参数1：需要初始化的锁变量</li><li>参数2：锁的属性</li></ol><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">pthread_mutex_init(&amp;mutex, <span class="literal">NULL</span>);</span><br></pre></td></tr></tbody></table></figure></li><li><p>锁的使用</p><ol><li>加锁：int pthread_mutex_lock(pthread_mutex_t *mutex);<ol><li>成功返回0， 失败返回错误码</li><li>参数：需要加锁的变量</li></ol></li><li>解锁：int pthread_mutex_unlock(pthread_mutex_t *mutex);</li><li>锁的销毁：int pthread_mutex_destroy(pthread_mutex_t *mutex)<ol><li>它是阻塞性函数</li></ol></li><li>测试加锁：int pthread_mutex_trylock(pthread_mutex_t *mutex);<ol><li>它是非阻塞性函数，如果一把锁正在使用，那么使用trylock不会加锁成功，也不会阻塞，会返回错误码。如果这把锁没有被使用，那么trylock的行为和lock一样。</li></ol></li></ol></li><li><p>锁的注意事项</p><ol><li>不能对一把正在使用的锁进行销毁操作</li><li>加锁一次：锁的引用值+1；解锁时，引用计数-1。锁的引用计数为0的时候，锁才能被销毁。所以，对一把锁加锁1次，连续解锁两次，destroy不会成功。</li><li>pthread_mutex_lock是一个阻塞性函数。连续加锁会阻塞。</li><li>自死锁：自己连续加锁两次</li></ol></li><li><p>互斥锁的属性</p><ol><li><p>普通锁、快速锁，pthread_mutex_init(&amp;mutex, NULL);</p></li><li><p>嵌套锁：可以对一把锁连续加锁多次</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutexattr_t</span> attr;</span><br><span class="line">pthread_mutexattr_init(&amp;attr);</span><br><span class="line"><span class="comment">//线程锁属性类型设置函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_mutexattr_settype</span><span class="params">(<span class="keyword">pthread_mutexattr_t</span> *attr, <span class="keyword">int</span> type)</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数1：设置锁的属性变量</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数2：需要设置的类型，type填PTHREAD_MUTEX_RECURSIVE，是设置嵌套锁</span></span></span><br></pre></td></tr></tbody></table></figure></li><li><p>检错锁：它可以检测最简单的自死锁， 还可以检测多余的解锁。</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutexattr_t</span> attr;</span><br><span class="line">pthread_mutexattr_init(&amp;attr);</span><br><span class="line"><span class="comment">//线程锁属性类型设置函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_mutexattr_settype</span><span class="params">(<span class="keyword">pthread_mutexattr_t</span> *attr, <span class="keyword">int</span> type)</span></span></span><br><span class="line"><span class="function"><span class="comment">//type填PTHREAD_MUTEX_ERRORCHECK设置检错锁</span></span></span><br></pre></td></tr></tbody></table></figure></li></ol></li><li><p>对于不同属性的锁，加锁和解锁的各自表现</p><ol><li>加锁：<ol><li>对于普通锁：不允许连续加锁</li><li>对于嵌套锁：可以连续加锁多次</li><li>对于检错锁：加锁，连续加锁会返回错误码</li></ol></li><li>解锁：<ol><li>对于普通锁：解锁者可以是同进程内任意线程</li><li>对于嵌套锁：文档要求必须由加锁者解锁，但是同进程的任意线程也可以解锁</li><li>对于检错锁：解锁者必须由加锁者解锁</li></ol></li></ol></li><li><p>死锁的概念：指多个进程因竞争资源而造成的一种僵局。若无外力的干预，这些进程将无法向前推进</p></li><li><p>死锁产生的原因：1.系统资源的竞争 2.进程的推进顺序不合理</p></li><li><p>死锁产生的必要条件 1.互斥条件 2.不可剥夺条件 3. 循环等待 4.请求与保持</p></li><li><p>死锁的避免：破坏四个必要条件之一即可。</p></li></ol><h3 id="线程的同步"><a href="#线程的同步" class="headerlink" title="线程的同步"></a>线程的同步</h3><ol><li><p>什么是同步：两个或两个以上随时间变化的量，在变化的过程当中保持一定的相对关系。</p></li><li><p>线程实现同步的方式是条件变量。</p></li><li><pre><code class="c"><span class="keyword">pthread_cond_t</span> cond
&lt;!--￼<span class="number">4</span>--&gt;

<span class="number">2.</span> 静态方式

   &lt;!--￼<span class="number">5</span>--&gt;</code></pre></li><li><p>条件变量的销毁：只有在条件变量没有被使用的时候，才能被销毁</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_destroy</span><span class="params">(<span class="keyword">pthread_cond_t</span> *cond)</span></span></span><br></pre></td></tr></tbody></table></figure></li><li><p>条件变量的等待：</p><ol><li><p>无条件等待：</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">int pthread_cond_wait(pthread_cond_t *restrict cond, pthread_mutex_t *restrict mutex)</span><br></pre></td></tr></tbody></table></figure><ol><li>参数1：条件变量</li><li>参数2：互斥锁</li></ol></li><li><p>计时等待：等待一段时间，如果条件没有成立啊，就返回</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_timedwait</span><span class="params">(<span class="keyword">pthread_cond_t</span> *<span class="keyword">restrict</span> cond, <span class="keyword">pthread_mutex_t</span> *<span class="keyword">restrict</span> mutex,  <span class="keyword">const</span> struct timespec *<span class="keyword">restrict</span> abstime)</span></span></span><br></pre></td></tr></tbody></table></figure></li></ol></li><li><p>函数的上下半部：指的是函数的行为发生了改变</p><ol><li><p>对比买酒-卖酒模型：pthread_cond_wait的上半部：商店里没有酒，在登记表登记，解锁出商店，回家睡觉</p><p>​ 下半部： 商店老板通知顾客商店有酒了，顾客睡醒，加锁进入商店买酒，删除登记本上的信息。</p></li><li><p>对比代码：pthread_cond_wait的上半部：1.条件变量上排队，2.解锁 3.睡眠</p><p>​ 下半部：1.被唤醒 2.加锁(如果此时该锁没有被使用，那么就加锁成功， 如果此时这个锁正在被使用的，会阻塞，直到该锁被释放，加锁) 3.pthread_cond_wait函数返回。</p></li></ol></li><li><p>条件变量的激发：</p><ol><li><p>每次激发一个条件变量</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_signal</span><span class="params">(<span class="keyword">pthread_cond_t</span> *cond)</span></span></span><br></pre></td></tr></tbody></table></figure></li><li><p>激发所有条件变量</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_broadcast</span><span class="params">(<span class="keyword">pthread_cond_t</span> *cond)</span></span></span><br></pre></td></tr></tbody></table></figure></li></ol></li></ol></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day13笔记</title>
    <url>/category/Linux_day13%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>线程</p></blockquote><a id="more"></a><h1 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h1><ol><li><p>进程的特点：进程是资源分配的基本单位，拥有自己独立的资源，拥有自己独立的数据段、代码段、堆栈段，所以cpu切换进程的时候，需要保存较多上下文。为了解决cpu保存进程上下文所付出的较大开销，所以就引入了线程</p></li><li><p>线程：是cpu调度的基本单位，一个进程里面至少拥有一个线程。如果在一个进程里面创建多个线程，那么这些线程共享该地址空间。线程只拥有少量的栈空间。</p></li><li><p>线程的缺点：不利于资源的管理和保护，而进程更利于资源的管理和保护的。</p></li><li><p>线程的种类</p><ol><li>用户级线程：用户自己创建的线程</li><li>核心级线程：cpu实际运行的线程</li></ol></li><li><p>进程： 创建fork() 退出exit() 等待wait()</p></li><li><p>线程： 创建pthread_create() 退出pthread_exit() 等待pthread_join()</p></li><li><p>线程库NPTL，查看方式man 7 pthreads</p></li><li><p>不要使用进程的退出方式退出线程。</p></li><li><p>线程创建</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_create</span><span class="params">(<span class="keyword">pthread_t</span> *thread, <span class="keyword">const</span> <span class="keyword">pthread_attr_t</span> *attr, <span class="keyword">void</span> *(*start_routine) (<span class="keyword">void</span> *), <span class="keyword">void</span> *arg)</span></span></span><br><span class="line"><span class="function"><span class="comment">//成功返回0，失败返回错误码</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数1：线程id</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数2：线程的属性</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数3：线程的处理函数</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数4：线程处理函数的参数</span></span></span><br></pre></td></tr></tbody></table></figure></li><li><p>打印三句话的原因（两句 i am child thread): 由于usleep时间太短了，导致子线程刚把数据输出到屏幕上，还没有来得及清空缓冲区，主线程就从usleep苏醒过来，执行return，发现缓冲区没有被清空，就清空缓冲。</p></li><li><p>编程中尽量不要把自己申请的资源交给别人使用，为了资源泄露，更严重的会导致死锁。</p></li><li><p>一个进程当中只有一个主线程，其它都是子线程，主线线程可以等待子线程并且回收子线程的资源，其它子线程级别相同，可以不想等待，但是它们都不能等待主线程。</p></li><li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5CWangYe%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210701164029941.png" alt="image-20210701164029941"></p><p>这种方法采用的值传递，pthread_create第四个参数需要的8个字节，所以我们只需要传递8个字节就可以了。</p></li><li><p>return 是C语言阵营的退出方式，pthread_exit()它是NPTL线程的线程退出方式。</p></li><li><p>线程的等待函数<code>int pthread_join(pthread_t thread, void **retval)</code></p><ol><li><p>成功返回0， 失败返回错误码，</p></li><li><p>参数1：等待退出的线程id，</p></li><li><p>参数2：接收子线程的退出</p></li><li><p>可以接收指针类型的退出状态</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> *retVal = <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment">//等待子线程的退出，并回收子线程的资源</span></span><br><span class="line">ret = pthread_join(thid, (<span class="keyword">void</span>**)&amp;retVal)</span><br></pre></td></tr></tbody></table></figure></li><li><p>还可以接收long类型表的变量</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> retVal = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//等待子线程的退出，并回收子线程的资源</span></span><br><span class="line">ret = pthread_join(thid, (<span class="keyword">void</span>**)&amp;retVal)        <span class="comment">//long ------ void*</span></span><br><span class="line">    											 <span class="comment">//&amp;long ----- void**</span></span><br></pre></td></tr></tbody></table></figure></li></ol></li><li><p>线程的退出<code>void pthread_exit(void *retval)</code></p></li><li><p>查看线程相关信息的命令：<strong>ps -elLf</strong> 看到的内核级线程id</p></li><li><p>查看进程相关信息的命令：<strong>ps -elf</strong></p></li><li><p>long ret = pthread_self() 看到的用户级线程id</p></li><li><p>thid也是用户级线程id</p></li></ol><h3 id="线程的取消"><a href="#线程的取消" class="headerlink" title="线程的取消"></a>线程的取消</h3><ol><li>线程可以自己掉线程退出函数退出，也可以被其它线程杀掉，被其它线程杀掉的方式就叫线程的取消。</li><li>被杀掉的线程可以选择自己如何处理这个信号，<strong>忽略</strong>、<strong>立刻终止</strong>、<strong>运行至取消点后终止</strong>。</li><li>什么是取消点？<ol><li>取消其实就是一些特殊函数：一般阻塞函数都是取消点，非阻塞性函数也可能是取消点。</li></ol></li><li>线程取消函数<code>int pthread_cancel(pthread_t thread)</code><ol><li>成功返回0， 失败返回错误码</li><li>参数：想要cancel线程的id</li></ol></li><li>ps -elLf看到的线程id是核心级线程的id，thid是用户级线程的id</li><li>获取线程id的函数pthread_t pthread_self(void)<ol><li>永远不会失败，成功返回线程id</li></ol></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day17笔记</title>
    <url>/category/Linux_day17%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>网络相关概念|tcp|udp|select</p></blockquote><a id="more"></a><h1 id="网络相关概念"><a href="#网络相关概念" class="headerlink" title="网络相关概念"></a>网络相关概念</h1><ol><li><p>什么是套接口（socket）：又称为套接字，是操作系统内核中的一个<strong>数据结构</strong>， 它是网络中的节点进行<strong>相互通信的</strong>门户 ，是网络进程的ID。是一个文件描述符。</p></li><li><p>套接口的组成：ip+端口号</p></li><li><p>NAT技术(网络地址转换技术）：内部私有的网络地址转换成合法的网络ip地址。可以有效的解决公网ip分配不足的问题。</p></li><li><p>一个完整的套接字：协议、本机IP、本机的端口、对端ip、对端的端口。</p></li><li><p>tcp像管道、udp像消息队列</p></li><li><p>小端模式：内存的低地址存储数据的低字节，高地址存数据的高字节。</p></li><li><p>大端模式：内存低地址存储数据的高字节，高地址存放数据低字节。</p></li><li><p>IBM公司最初存储数据采用的是大端模式。因特尔、AMD采用小端模式。</p></li><li><p>主机字节序：电脑采用什么方式存储数据的。</p></li><li><p>网络字节序：二进制值，大端模式。</p></li><li><p>在编程中，需要把主机字节序转换成网络字节序。</p></li><li><p>更常用的将ip地址由主机字节序转换为网络字节序in_addr_t inet_addr(const char *cp);</p><ol><li>成功返回，转换的结果，</li><li>参数是ip地址</li></ol></li><li><p>int inet_aton(const char *cp, struct in_addr *inp);</p><ol><li>参数1：需要转换的ip地址</li><li>参数：保存转换后的网络ip地址。</li></ol></li><li><p>16进制与10进制对应关系：a:10 、 b:11 、c :12、 d:13、 e:14、f:15</p></li><li><p>可以将ipv4或者ipv6的ip的网络字节序转换成主机字节序：const char *inet_ntop(int af, const void *src, char *dst, socklen_t size);</p><ol><li>参数1：地址类型：</li><li>参数2：需要转换的网络字节序</li><li>参数3：保存转换后的结果</li><li>参数4：保存结果的大小</li></ol></li></ol><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line">主机字节序&lt;-------&gt;网络字节序</span><br><span class="line"><span class="function"><span class="title">htons</span><span class="params">()</span></span>         h:host    </span><br><span class="line"><span class="function"><span class="title">ntohs</span><span class="params">()</span></span>         n:network </span><br><span class="line"><span class="function"><span class="title">htonl</span><span class="params">()</span></span>         s:short--&gt;端口</span><br><span class="line"><span class="function"><span class="title">ntohl</span><span class="params">()</span></span>         l:long--&gt;ip地址</span><br></pre></td></tr></tbody></table></figure><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line">ip地址：  点分十进制&lt;------&gt;网络字节序的二进制数</span><br><span class="line"><span class="function"><span class="title">inet_aton</span><span class="params">()</span></span>  char点分十进制 --&gt; 网络字节序的二进制数</span><br><span class="line"><span class="function"><span class="title">inet_ntoa</span><span class="params">()</span></span>  网络字节序的二进制数 --&gt; char点分十进制</span><br><span class="line"><span class="function"><span class="title">inet_addr</span><span class="params">()</span></span>  和inet_aton() 功能相同但，结果是通过返回值传递的</span><br><span class="line"></span><br><span class="line">可以使用ipv6</span><br><span class="line"><span class="function"><span class="title">inet_pton</span><span class="params">()</span></span>  char点分十进制 --&gt; 网络字节序的二进制数</span><br><span class="line"><span class="function"><span class="title">inet_ntop</span><span class="params">()</span></span>  网络字节序的二进制数 --&gt; char点分十进制</span><br></pre></td></tr></tbody></table></figure><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">gethostname() 域名 --&gt; ip</span><br><span class="line">gethostaddr()<span class="built_in"> ip </span>--&gt; 域名</span><br></pre></td></tr></tbody></table></figure><ol><li><h5 id="tcp协议socket编程，服务端的流程"><a href="#tcp协议socket编程，服务端的流程" class="headerlink" title="tcp协议socket编程，服务端的流程"></a>tcp协议socket编程，服务端的流程</h5><ol><li>int socket(int domain, int type, int protocol);使用该函数生成一个套接口、用于与客户端建立连接时使用的。<ol><li>成功返回socket文件描述符，失败返回-1，</li><li>参数1：ipv4（AF_INET)，或者ipv6（AF_INET6)</li><li>参数2：通信的类型，tcp或者udp</li><li>参数：协议编号，一般为0；</li></ol></li><li>int bind(int sockfd, const struct sockaddr <em>addr, socklen_t addrlen)；绑定*</em>本机**的ip和端口号，绑定到sfd(socket函数返回值)<ol><li>成功返回0，失败返回-1，</li><li>参数1：socket函数的返回值，</li><li>参数2：保存ip和端口的结构体</li><li>参数3：结构体的大小</li></ol></li><li>int listen(int sockfd, int backlog)；监听在sfd上的客户端的连接<ol><li>参数1：sfd</li><li>参数2：代表同时监听的最大连接数</li></ol></li><li>int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen)；接收对端的连接<ol><li>返回值：成功返回一个新的socket文件描述符newFd，该描述符作用，是与连接上服务器的客户端进行数据交互时使用的。失败返回-1；</li><li>参数1：sfd</li><li>参数2：保存对端的ip和端口号</li><li>参数3：结构体长度的变量指针</li></ol></li><li>ssize_t recv(int sockfd, void *buf, size_t len, int flags)；从对端接收数据，该函数时一个阻塞性函数<ol><li>返回值：成功返回接收到的字节数，返回0的时候，代表发送方连接断开，失败返回-1</li><li>参数1：newFd</li><li>参数2：保存数据的位置</li><li>参数3：最多接收的字节数</li><li>参数4：标志位，一般置为0</li></ol></li><li>ssize_t send(int sockfd, const void *buf, size_t len, int flags); 向对端发送数据<ol><li>返回值：成功返回成功发送的字节数，失败返回-1，</li><li>参数1：newFd</li><li>参数2：发送的数据</li><li>参数3：发送数据的大小</li><li>参数4：标志位，一般置为0；</li></ol></li><li>int close(int fd); 关闭文件描述符</li></ol></li><li><p>客户端的流程</p><ol><li>socket</li><li>int connect(int sockfd, const struct sockaddr *addr, socklen_t addrlen); 连接服务器<ol><li>返回值：成功返回0， 失败返回-1</li><li>参数1：sfd</li><li>参数2：服务器的ip和端口</li><li>参数3：结构体的大小</li></ol></li><li>send</li><li>recv</li><li>close</li></ol></li><li><p>select的底层实现：位图，只能保存0和1。FD_ZERO初始化时，位图所有的位为0.</p><ol><li>FD_SET：把需要监听的描述符加入到集合当中，位图所对应的位置为1。</li><li>如果select监控到描述符就绪，他就不去修改该描述符在位图所对应值。如果该文件描述符没有就绪，select会将该文件描述符所对应位图的值置为0。</li></ol></li><li><p><code>：修改的行数起始位置，修改行数的末尾位置s/旧词/新词/g</code> <code>:28,42s/newFd/sfd/g</code></p></li><li><p>tcp_chat聊天结束后（客户端ctrl+c)，服务端疯狂打印（newFd就绪）</p><ol><li>原因：客户端主动断开，处于close_wait状态，所以内核检测到与newFd连接的对端断开了，内核会使用newFd告诉服务端，对方已经断开，你也可以断开了。</li></ol></li><li><p>查看网络相关状态命令：<code>netstat -nat</code></p></li><li><p>客户端开的端口又叫临时端口，这个端口范围大于10000， 小于65535.</p></li><li><p>编程中goto尽量少使用</p><ol><li>goto会破坏程序的局部性。</li><li>goto一般应用于嵌入式开发</li></ol></li><li><p>tcp建立三次握手的时候，内核做了哪些事情。</p><ol><li>客户端发送第一次握手，请求建立连接，服务端接收第一次握手，并且回复第二次握手，回复完的同时，把未建立完的tcp连接加入到半连接队列里面；当客户端回复第三次握手的时候，服务端从半连接队列里面取出第一个连接与第三次握手合并成一个完整的tcp连接，并且加入到全连接队列里面。</li><li>accept其实就是全连接队列里面取出第一个连接。accept函数实在内核空闲的时候从全连接队列里面取数据。</li><li>listen的第二个参数就是指定全连接队列（半连接）的大小。</li><li>全连接队列（半连接）大小是由listen的第二个参数与 /proc/sys/net/core/somaxconn这个配置共同决定（取二者最小值）。</li><li>查看backlog的最大值<code>cat /proc/sys/net/ipv4/tcp_max_syn_backlog</code></li></ol></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day15笔记</title>
    <url>/category/Linux_day15%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>线程</p></blockquote><a id="more"></a><ol><li><p>进程间通信方式：管道、共享内存、信号量、消息队列、信号</p></li><li><p>线程是cpu调度的最小单位、与同进程中线程共享进程的地址空间、只拥有少量的占空间、执行速度快、同进程内切换速度快。不利于资源的管理和保护。</p></li><li><p>创建线程：pthread_create(&amp;thid, &amp;attr, threadFunc, void<em>); 线程的等待：pthread_join(thid, (void*</em>)ret);</p><p>​ 线程的退出 pthread_exit（void*）；</p></li><li><p>线程的取消: 收到cancel信号有三种行为：忽略、立刻被杀死、运行到取消点终止</p></li><li><p>pthread_cancel(thid)；发送cancel信号。</p></li><li><p>线程终止清理函数：pthread_cleanup_push, pthread_cleanup_pop.栈结构。</p></li><li><p>线程清理函数三个响应时机：</p><ol><li>被cancel</li><li>pthread_exit()</li><li>显式的pop（1）；</li></ol></li><li><p>不会得到执行的两个：</p><ol><li>return</li><li>pop（0）；</li></ol></li><li><p>线程互斥：使用的式线程锁：</p></li><li><p>互斥锁的创建：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">静态方式：<span class="keyword">pthread_mutex_t</span> mutex = PTHREAD_MUTEX_INITIALIZER;</span><br><span class="line">动态方式：pthread_mutex_init(&amp;mutex, &amp;attr)</span><br></pre></td></tr></tbody></table></figure></li><li><p>互斥锁的基本属性：</p><ol><li>普通锁、快速锁：连续的加锁会造成死锁—自死锁</li><li>嵌套所：可以加锁多次</li><li>检错锁：检查最简单的自死锁，还可检查重复、多余的解锁、防止销毁不了该锁</li></ol></li><li><p>锁的销毁pthread_mutex_destroy：没有被使用的锁才能被销毁，而且锁的引用计数为0的时候才能被销毁</p></li><li><p>现成的同步：条件变量</p></li><li><p>条件变量的创建：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">静态方式：<span class="keyword">pthread_cond_t</span> cond = PTHREAD_COND_INITIALIZER;</span><br><span class="line">动态方式：pthread_cond_init(&amp;cond, <span class="literal">NULL</span>);</span><br></pre></td></tr></tbody></table></figure></li><li><p>条件变量的激发：</p><ol><li>pthread_cond_signal():一次激发一个在该条件变量上等待的任务</li><li>pthread_cond_broadcast():激发所有等待在该条件变量上的任务</li></ol></li><li><p>条件变量的等待：</p><ol><li>pthread_cond_wait():无条件等待<ol><li>上半部：在条件变量上排队、解锁、睡眠</li><li>下半部：被唤醒、加锁（如果该是正在被使用，等待解锁；如果该锁未被使用、加锁成功）、返回。</li></ol></li><li>pthread_cond_timedwait():计时等待（等待一段时间）</li></ol></li><li><p>线程安全的函数不一定是可重入函数，可冲入函数一定是线程安全函数。</p></li><li><p>线程安全：如果一个函数能够安全的<strong>同时被多个线程调用</strong>而得到正确的结果</p></li><li><p>char *ctime_r(const time_t *timep, char *buf)</p><ol><li>//参数2：保存当前调用ctimr_r函数所生成的时间字符串的内存区。</li></ol></li><li><p>可重入函数 : 简单来说就是可以被中断的函数 （或者说，被中断后重新载入该函数能够正确执行）</p></li><li><p>线程安全函数和可重入函数的关系：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5CWangYe%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210703102154752.png" alt="image-20210703102154752"></p><p>可重入函数一定是线程安全函数，线程安全函数不一定时可重入函数。</p></li><li><p>线程的属性：</p><ol><li><p>设置线程分离属性：</p></li><li><pre><code class="c"><span class="keyword">pthread_attr_t</span> attr; 
pthread_attr_init(&amp;attr);
<span class="function"><span class="keyword">int</span> <span class="title">pthread_attr_setdetachstate</span><span class="params">(<span class="keyword">pthread_attr_t</span> *attr, <span class="keyword">int</span> detachstate)</span></span>;
<span class="comment">//参数2：设置为PTHREAD_CREATE_DETACHED是线程脱离同步，默认是PTHREAD_CREATE_JOINABLE。</span></code></pre></li></ol></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day18笔记</title>
    <url>/category/Linux_day18%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>udp|epoll</p></blockquote><a id="more"></a><ol><li><p>设置套接口选项</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">setsockopt</span><span class="params">(<span class="keyword">int</span> sockfd, <span class="keyword">int</span> level, <span class="keyword">int</span> optname, <span class="keyword">const</span> <span class="keyword">void</span> *optval, <span class="keyword">socklen_t</span> optlen)</span></span></span><br><span class="line"><span class="function"><span class="comment">//成功返回0， 失败返回-1</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数1：sfd</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数2：设置层次</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数3：设置的选项</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数4：设置的选项是否生效,选项值&gt;0时，生效</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数5：对参数取sizeof</span></span></span><br></pre></td></tr></tbody></table></figure></li><li><p>udp协议编程流程</p><ol><li>服务端<ol><li>socket</li><li>bind</li><li>ssize_t recvfrom(int sockfd, void *buf, size_t len, int flags, struct sockaddr *src_addr, socklen_t *addrlen)从对端接收数据，并且保存对端的ip和端口</li><li>ssize_t sendto(int sockfd, const void *buf, size_t len, int flags, const struct sockaddr *dest_addr, socklen_t addrlen)向指定的ip和端口的对端发送数据</li><li>close</li></ol></li><li>客户端：<ol><li>socket</li><li>sendto</li><li>recvfrom</li><li>close</li></ol></li></ol></li><li><p>对于udp通信来讲，服务端必须要先recvfrom，然后sendto</p><ol><li>因为，udp时非面向连接的，所以最开始不知道对端的ip和端口，所以先接收对方发来的而数据，并且记录对端的ip和端口。</li></ol></li></ol><h3 id="epoll多路复用"><a href="#epoll多路复用" class="headerlink" title="epoll多路复用"></a>epoll多路复用</h3><ol><li><p>什么是epoll？为什么要引入epoll？</p><ol><li>linux为处理大批量的文件描述符，而对select与poll做的改进，它能显著提高程序在大量并发的连接中，只有少量描述符活跃的情况下，提高cpu的利用率。epoll利用一个文件描述符管理多个文件描述符。epoll号称可以监控百万级别的文件描述符。</li><li>解决select和poll不足之处。</li></ol></li><li><p>select在使用的过程的缺点：</p><ol><li>select监控文件描述符数量有限制，默认是1024.</li><li>select每次都会修改监控的集合，</li><li>所以每次都需要把监听文件描述符重新加入到集合中</li><li>select检查就绪文件描述符时候，轮询集合。</li><li>每次都需要把监听的集合从用户态拷贝到内核态，返回时，会从内核态拷贝数据到用户态</li></ol></li><li><p>epoll是如何改进的?</p><ol><li>epoll监听的文件描述符没有限制，具体监控数量与内存大小有关，1GB可以监控约10w个文件描述符</li></ol></li><li><p>epoll的使用：</p><ol><li><p>int epoll_create(int size);</p><ol><li>成功返回一个文件描述符（管理后续需要监听的文件描述符），失败返回-1，</li><li>参数：必须填大于0的值</li></ol></li><li><p>int epoll_ctl(int epfd, int op, int fd, struct epoll_event *event);</p><ol><li>成功返回0，失败返回-1</li><li>参数1：epoll_create()的返回值epfd</li><li>参数2：操作epfd，增加、修改、删除</li><li>参数3：需要操作的文件描述符</li><li>参数：告诉内核操作文件的事件</li></ol></li><li><p>int epoll_wait(int epfd, struct epoll_event *events, int maxevents, int timeout)</p><ol><li><p>成功返回就绪文件描述符的数量，失败返回-1</p></li><li><p>参数1：epfd</p></li><li><p>参数2：结构体数组，保存就绪文件描述符</p></li><li><p>参数3：结构体数组的大小</p></li><li><p>参数4：epoll等待时间，如果填-1,表示epol无限等待，直到有就绪的文件描述符。</p></li></ol></li></ol></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day19笔记</title>
    <url>/category/Linux_day19%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>epoll原理刨析|select总结|epoll的两种触发方式|五种io模型</p></blockquote><a id="more"></a><h3 id="epoll原理刨析"><a href="#epoll原理刨析" class="headerlink" title="epoll原理刨析"></a>epoll原理刨析</h3><ol><li><p>调用epoll_create函数：返回一个epfd，与此同时内核会创建eventpoll这个结构体，该结构体有两个非常重要的成员<strong>红黑树</strong>和<strong>双向链表</strong></p><ol><li>红黑树的作用：保存需要监听的描述符</li><li>双向链表：保存就绪的文件描述符</li></ol></li><li><p>调用epoll_ctl函数时：就是对红黑树操作，可以添加节点到红黑树，修改、删除。</p><ol><li>添加、修改、删除节点到红黑树，需要不要遍历？<ol><li>需要查找，logn</li></ol></li><li>添加描述符到红黑树上时，有一次内存拷贝，从用户空间拷贝到内核空间，一次注册文件描述符，永久生效</li><li>当描述符添加到红黑树上时，内核会给每一个节点注册一个回调函数，当该描述符就绪的时候，会主动调用自己的回调函数，将其加入到双向链表当中。</li></ol></li><li><p>调用epoll_wait时：去监控双向链表，如果双向链表里面有数据，取数据，返回用户空间；如果没有数据，就阻塞。</p><ol><li>取数据时，会从内核空间拷贝数据到用户空间。</li><li>用户空间存放就绪文件描述符的结构体数组大小如何选择？<ol><li>要根据实际业务逻辑</li></ol></li></ol><h3 id="select总结："><a href="#select总结：" class="headerlink" title="select总结："></a>select总结：</h3><ol><li>select的底层实现：位图</li><li>select缺点：监控的文件描述符数量有限，默认是1024，这个值可以改，但是不能解决效率问题</li><li>每次调用select时，会发生用户空间到内核空间的数据拷贝，select返回时，又要从内核空间拷贝数据到用户空间</li><li>select每次检查就绪描述符的时候，需要遍历所有的文件描述符</li></ol><h3 id="epoll的总结："><a href="#epoll的总结：" class="headerlink" title="epoll的总结："></a>epoll的总结：</h3><ol><li>epoll的底层实现：红黑树+双向链表</li><li>epoll的优点：epoll监控的文件描述符没有限制，仅跟内存大小有关（cat /proc/sys/fs/file-max）</li><li>把需要监听的描述符加入红黑树，一次加入永久生效；</li><li>内核会给每一个加入到红黑树上的文件描述符注册一个回调函数，当就绪的时候，主动调用自己的回调函数，将其加入到双向链表中。</li><li>epoll每次只检查就绪链表，不需要遍历所有文件描述符，效率高</li></ol><h3 id="epoll的效率一定比select高？"><a href="#epoll的效率一定比select高？" class="headerlink" title="epoll的效率一定比select高？"></a>epoll的效率一定比select高？</h3><ol><li>不一定，</li><li>一般认为，在并发量低，socket都比较活跃的情况下，select的效率更高</li></ol></li></ol><h3 id="epoll的两种触发方式："><a href="#epoll的两种触发方式：" class="headerlink" title="epoll的两种触发方式："></a>epoll的两种触发方式：</h3><ol><li><p>水平触发LT（level trigger）</p></li><li><p>边沿触发（边缘触发）ET（edge trigger）</p></li><li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5CWangYe%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210708111741295.png" alt="image-20210708111741295"></p></li><li><p>LT特点：如果该文件描述符数据没有一次性的读取完成，那么还需继续触发epoll_wait，直到数据全部读完</p></li><li><p>ET特点：如果该文件描述符数据没有一次性的读取完成，那么只会触发一次epoll_wait，直到该文件描述符有第二次可读写发生时，才会继续调用epoll_wait.</p></li><li><p>将recv函数设置为非阻塞性的，把flag设置为MSG_DONTWAIT.</p></li><li><p>再et模式下，当接收缓冲区比较小，需要循环接收数据；把recv设置为非阻塞的。</p></li><li><p>et模式一般要配合非阻塞接口去使用</p></li><li><p>int fcntl(int fd, int cmd, … /* arg */ );</p><ol><li>修改（获取）文件描述符属性</li><li>参数1：需要修改的文件描述符，</li><li>参数2：修改（获取）文件描述符的操作</li></ol></li><li><p>函数的阻塞性和文件描述符属性有关。</p></li><li><p>epoll的超时时间：单位是毫秒，1秒=1000毫秒。</p><figure class="highlight ini"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">readyNum</span> = epoll_wait(epfd, evs, <span class="number">2</span>, <span class="number">5000</span>)<span class="comment">;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>epoll设置超时时间的作用：为了断开已经没有和服务端有数据交互的客户端，节约系统资源。</p></li><li><p>SYN Flood攻击：攻击者利用了tcp协议的漏洞，只发送第一次握手，服务端回复第二次握手，并且把这个半连接状态加入到半连接队列里。攻击者不回复第三次握手，造成服务端半连接队列满，无法接收正常客户端的连接请求。</p></li><li><p>如何防护SYN Flood攻击</p><ol><li>增加半连接队列长度</li><li>减少服务端重传服务端重传第二次握手的次数及时间。</li><li>syn cookie</li></ol></li><li><p>缓冲区的大小默认64k，所以一个tcp连接系统至少要分配128k的空间。如过业务逻辑每次的数据量比较少，那么可以减小缓冲区的大小，来节约服务器成本，增加连接数。</p><h3 id="五种io模型"><a href="#五种io模型" class="headerlink" title="五种io模型"></a>五种io模型</h3></li><li><h5 id="1-阻塞IO（blocking-I-O）"><a href="#1-阻塞IO（blocking-I-O）" class="headerlink" title="1.阻塞IO（blocking I/O）"></a>1.阻塞IO（blocking I/O）</h5><p>​ A拿着一支鱼竿在河边钓鱼，并且一直在鱼竿前等，在等的时候不做其他的事情，十分专心。只有鱼上钩的时，才结束掉等的动作，把鱼钓上来。</p><h5 id="2-非阻塞IO（noblocking-I-O）"><a href="#2-非阻塞IO（noblocking-I-O）" class="headerlink" title="2.非阻塞IO（noblocking I/O）"></a>2.非阻塞IO（noblocking I/O）</h5><p>​ B也在河边钓鱼，但是B不想将自己的所有时间都花费在钓鱼上，在等鱼上钩这个时间段中，B也在做其他的事情（一会看看书，一会读读报纸，一会又去看其他人的钓鱼等），但B在做这些事情的时候，每隔一个固定的时间检查鱼是否上钩。一旦检查到有鱼上钩，就停下手中的事情，把鱼钓上来。</p><h5 id="3-信号驱动IO（signal-blocking-I-O）"><a href="#3-信号驱动IO（signal-blocking-I-O）" class="headerlink" title="3.信号驱动IO（signal blocking I/O）"></a>3.信号驱动IO（signal blocking I/O）</h5><p>​ C也在河边钓鱼，但与A、B不同的是，C比较聪明，他给鱼竿上挂一个铃铛，当有鱼上钩的时候，这个铃铛就会被碰响，C就会将鱼钓上来。</p><h5 id="4-IO多路复用（I-O-multiplexing）"><a href="#4-IO多路复用（I-O-multiplexing）" class="headerlink" title="4.IO多路复用（I/O multiplexing）"></a>4.IO多路复用（I/O multiplexing）</h5><p>​ D同样也在河边钓鱼，但是D生活水平比较好，D拿了很多的鱼竿，一次性有很多鱼竿在等，（对于select）而且每个鱼杆上都挂了铃铛，当铃铛响了的时候，D轮询的查找是哪个鱼杆上的铃铛响的。（对于epoll）给每个鱼杆都设置了不同的响铃方式，这样不用轮询，直接到相应鱼杆把鱼拉上来即可</p><h5 id="5-异步IO（asynchronous-I-O）"><a href="#5-异步IO（asynchronous-I-O）" class="headerlink" title="5.异步IO（asynchronous I/O）"></a>5.异步IO（asynchronous I/O）</h5><p>​ E也想钓鱼，但E有事情，于是他雇来了F，让F帮他钓鱼，一旦有鱼上钩，F就钓鱼上来，然后打电话通知E钓鱼完成。</p></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day22笔记</title>
    <url>/category/Linux_day22%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>零拷贝|进程池的退出|线程池</p></blockquote><a id="more"></a><h3 id="零拷贝"><a href="#零拷贝" class="headerlink" title="零拷贝"></a>零拷贝</h3><ol><li>void *mmap(void *addr, size_t length, int prot, int flags, int fd, off_t offset);<ol><li>成功返回指向映射空间的指针，失败-1</li><li>参数1：填NULL，让系统指定分配位置</li><li>参数2：映射空间大小</li><li>参数3：期望的内存保护标志</li><li>参数4：指定映射对象的类型，是否可以被共享</li><li>参数5：文件描述符</li><li>参数6：被映射的内容起始位置</li></ol></li><li>ssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count);<ol><li>参数1：往哪个文件描述符写数据</li><li>参数2：从哪个文件描述符取数据</li><li>参数3：文件偏移量</li><li>参数4：传输数据长度</li></ol></li><li>sendfile只能用于发送方发送数据，不能用于接收数据</li><li>ssize_t splice(int fd_in, loff_t *off_in, int fd_out, loff_t *off_out, size_t len, unsigned int flags);<ol><li>成功返回接收到的字节数，失败-1，</li><li>参数1：从哪取数据</li><li>参数2：偏移量</li><li>参数3：数据写到哪</li><li>参数4：偏移量</li><li>参数5：单次写入长度，最多65536</li><li>参数6：0</li></ol></li><li>mmap和sendfile最大可以传输两个G的文件。</li><li>当今数据传输瓶颈在于网络。</li><li>零拷贝接口移植性不是特别好</li></ol><h3 id="进程池的退出"><a href="#进程池的退出" class="headerlink" title="进程池的退出"></a>进程池的退出</h3><ol><li>两种退出方式：<ol><li>发信号给父进程，父进程收到信号后依次杀死子进程</li><li>父进程收到信号后，给子进程发送退出标记，如果子进程正在忙碌，那么就等待忙完后退出；对于没有在忙碌，直接退出</li></ol></li></ol><h3 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h3><ol><li>线程池中线程的数量不是越多越好：一下方案效率高<ol><li>对io密集型，线程数量一般等于cpu核心数的二倍</li><li>对cpu密集型，线程的数量一般等于核心数加1</li></ol></li></ol><h5 id="防止头文件重复包含："><a href="#防止头文件重复包含：" class="headerlink" title="防止头文件重复包含："></a>防止头文件重复包含：</h5><ol><li>#ifndef … #define … “code” #endif</li><li>#pragma once</li></ol><p>创建结构体时，小类型优先放到前面</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day20笔记</title>
    <url>/category/Linux_day20%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>进程池|进程池流程</p></blockquote><a id="more"></a><h3 id="进程池："><a href="#进程池：" class="headerlink" title="进程池："></a>进程池：</h3><ol><li>管道不可以传递文件描述符，只能传递描述符所对应的数值。</li><li>int socketpair(int domain, int type, int protocol, int sv[2]) 该函数作用，创建一对套接口，这一对套接口创建的时候就是相连，只能在本机使用。</li><li>对于一个没有长度的数组叫可变长数组又叫柔性数组；、<ol><li>柔性数组不能取sizeof</li><li>一般配合结构体使用，结构体中必须有一个明确类型的成员，而且柔性数组要放在结构体的最后面。</li><li>优先使用堆空间申请内存。</li><li>cmsghdr的第一个成员：cmsg_len保存该结构的前三个成员的大小+柔性数组保存数据的大小</li></ol></li><li>写iovec结构体数据使用的函数是ssize_t writev(int fd, const struct iovec *iov, int iovcnt)<ol><li>参数1：往哪写数据，</li><li>参数2：结构体</li><li>参数3：结构体的个数</li></ol></li></ol><h3 id="进程池流程："><a href="#进程池流程：" class="headerlink" title="进程池流程："></a>进程池流程：</h3><ol><li>父进程的流程：<ol><li>循环创建子进程，记录子进程相关信息（子进程id，子进程状态，子进程通信使用的文件描述符）</li><li>创建tcp监听套接字，等待客户端的连接</li><li>创建epoll，把需要监听的描述符添加到epoll当中，</li><li>如果客户端连接服务器，使用accept函数接收这次连接请求，返回newFd， 交给空闲子进程</li><li>如果epoll监听的管道可读，表示子进程工作完成，把子进程的工作状态置为空闲。</li></ol></li><li>子进程的流程：<ol><li>子进程调用recvFd阻塞在管道上，如果管道中有数据到来，那么从recvmsg返回，服务客户端</li><li>服务完客户端之后，关闭连接，通知父进程，并且由父进程将子进程的工作状态置为非忙碌</li><li>继续等待下一次任务</li></ol></li></ol><p>客户端想要从服务器上下载文件，该文件该如何传输？</p><ol><li>发送方：<ol><li>要打开文件，发送文件名</li><li>读取文件，发送文件内容</li></ol></li><li>接收方：<ol><li>接收文件，创建同名文件</li><li>接收文件内容，把接收的内容写到文件中。</li></ol></li></ol><p>什么是tcp粘包问题：多次发送的数据，可以被一次接收，数据之间没有分界线，所有数据全粘在一起</p><p>如何去解决粘包问题？人为去规定数据的分界线。私有协议。</p><p>查看文件大小du -sh + filename</p><p>查看磁盘相关信息df</p><p>查看socket : netstat -nat</p><p>​</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day23笔记</title>
    <url>/category/Linux_day23%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3></blockquote><a id="more"></a><ol><li><p>什么是数据库？为什么要使用数据库？</p><ol><li>数据库是一个实体，是保存和管理数据的“仓库”</li><li>数据库是数据管理的技术和方法，它能更合适的组织数据，更方便的维护数据，更严密的控制数据，更有效的利用数据。</li></ol></li><li><p>《r系统：数据库关系理论》标志着关系型数据库的诞生</p></li><li><p>oracle：老板 拉里埃里森，</p><p>数据库注释有三种：# 、– （空格）、/* */</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#进入数据库的方式</span><br><span class="line">sudo mysql -u root -p</span><br><span class="line"></span><br><span class="line">#查看数据库</span><br><span class="line">show databases；</span><br><span class="line"></span><br><span class="line">#创建数据库</span><br><span class="line">create database 39th;</span><br><span class="line"></span><br><span class="line">#数据库操作每一条语句都要以；号结尾</span><br><span class="line">#操作数据成功，只会报Query OK，</span><br><span class="line"></span><br><span class="line">#修改数据库字符集为utf8</span><br><span class="line">alter database 39th CHARACTER SET utf8;</span><br><span class="line"></span><br><span class="line">#切换、使用数据库</span><br><span class="line">use + 数据库名</span><br><span class="line"></span><br><span class="line">#删除数据库</span><br><span class="line">drop database 39th;</span><br></pre></td></tr></tbody></table></figure></li></ol><p>char(size)，提高效率</p><p>VARCHAR(size):降低存储容量，节约空间</p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#创建member表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">member</span> (<span class="keyword">id</span> <span class="built_in">int</span>, <span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">20</span>), age <span class="built_in">int</span>, math <span class="built_in">float</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询当前数据库所有的表</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看表的结构信息</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">member</span>;</span><br><span class="line">desc member;</span><br><span class="line"></span><br><span class="line"><span class="comment">#数据库中  列 = 域 = 字段</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#修改表， 表的字段</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">modify</span> math <span class="built_in">int</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">change</span> <span class="keyword">name</span> mingzi <span class="built_in">varchar</span>(<span class="number">20</span>);</span><br><span class="line"><span class="comment">#change可以改变列名，同样可以改变类型， 但是不能单独去修改类型， modify只可以修改类型，不能修改名字</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#修改表名</span></span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">to</span> chengyuan;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> chengyuan <span class="keyword">rename</span> <span class="keyword">to</span> <span class="keyword">member</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#插入字段</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">add</span> english <span class="built_in">float</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">add</span> chinese <span class="built_in">float</span> <span class="keyword">first</span>; <span class="comment">/*插入到最前面*/</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">add</span> cs <span class="built_in">float</span> <span class="keyword">after</span> <span class="keyword">id</span>; <span class="comment">/* 插入数据到id后面*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#删除表中字段</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">drop</span> cs;</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day24笔记</title>
    <url>/category/Linux_day24%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>DML语言|DQL|<strong>数据完整性</strong>|多表设计|数据库的备份</p></blockquote><a id="more"></a><p>DML语言</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#向表中插入数据</span><br><span class="line">insert into member (id, name , age , math) values (1, 'zhansan', 27, 59);</span><br><span class="line"></span><br><span class="line">#查询刚才插入的结果</span><br><span class="line">select * from member；</span><br><span class="line"></span><br><span class="line">#可以向表中插入部分数据</span><br><span class="line">insert into member (id, name) values (2, 'lisi');</span><br><span class="line"></span><br><span class="line">#不写列名插入数据，必须把所有列都赋值</span><br><span class="line">insert into member values (3, 'wangwu', 21, 86);</span><br><span class="line"></span><br><span class="line">#快速的插入多条数据</span><br><span class="line">insert into member values (4, 'zhouliu', 21, 89), (5, 'wuqi', 19, 99);</span><br><span class="line"></span><br><span class="line">#修改表中元素值，更新数据</span><br><span class="line">update member set age = 31 where id = 2;</span><br><span class="line">update member set math = 77 where name = 'lisi';</span><br><span class="line"></span><br><span class="line">#一次更新多个数据</span><br><span class="line"> update member set age = 18, math = 89 where name = 'wuqi';</span><br><span class="line"> </span><br><span class="line">#删除表中数据</span><br><span class="line">delete from member where id = 5;</span><br><span class="line"> </span><br><span class="line">#可以对表中插入空值</span><br><span class="line">insert into member (id) values (NULL);</span><br><span class="line"></span><br><span class="line">#删除表中空值</span><br><span class="line">delete from member where id is NULL;</span><br></pre></td></tr></tbody></table></figure><p>DQL</p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#查询表中单个数据的信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询表中部分数据的情况</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>, math <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">#对查询结果去重distinct</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">distinct</span> age <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#对查询结果做表达式运算</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">name</span>, math + <span class="number">10</span>  <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line">  +<span class="comment">---------+-----------+</span></span><br><span class="line">| name    | math + 10 |</span><br><span class="line">+<span class="comment">---------+-----------+</span></span><br><span class="line">| zhansan |        69 |</span><br><span class="line">| lisi    |        87 |</span><br><span class="line">| wangwu  |        96 |</span><br><span class="line">| zhouliu |        99 |</span><br><span class="line">+<span class="comment">---------+-----------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#对表达式计算取别名</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>, math + <span class="number">10</span> + <span class="number">19</span>*<span class="number">21</span> <span class="number">-29</span>+<span class="number">18</span>  <span class="keyword">as</span> total  <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line">+<span class="comment">---------+-------+</span></span><br><span class="line">| name    | total |</span><br><span class="line">+<span class="comment">---------+-------+</span></span><br><span class="line">| zhansan |   457 |</span><br><span class="line">| lisi    |   475 |</span><br><span class="line">| wangwu  |   484 |</span><br><span class="line">| zhouliu |   487 |</span><br><span class="line">+<span class="comment">---------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查询某些特定的列</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math &gt; <span class="number">80</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"> <span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math &lt;&gt; <span class="number">89</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math != <span class="number">89</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">#查询某范围的数据between ...  and ... 查询范围是闭区间</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">89</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询集合中的数据 in（set）</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math <span class="keyword">in</span> (<span class="number">10</span>, <span class="number">29</span>, <span class="number">59</span>, <span class="number">77</span>, <span class="number">100</span>);</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#模糊查询like</span></span><br><span class="line"> <span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%san'</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%u'</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%i_'</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%i__'</span>;</span><br><span class="line">+<span class="comment">------+------+------+------+</span></span><br><span class="line">| id   | name | age  | math |</span><br><span class="line">+<span class="comment">------+------+------+------+</span></span><br><span class="line">|    2 | lisi |   31 |   77 |</span><br><span class="line">+<span class="comment">------+------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#数据库的退出方式</span></span><br><span class="line"><span class="number">1.</span>quit;  </span><br><span class="line">2.exit;</span><br><span class="line">3.ctrl + d </span><br><span class="line"></span><br><span class="line"><span class="comment">#查询多个条件同时成立</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> age =<span class="number">21</span> <span class="keyword">and</span> <span class="keyword">id</span> =<span class="number">3</span>;</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">| id   | name   | age  | math |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">|    3 | wangwu |   21 |   86 |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询的结果中任一条件成立or</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> age =<span class="number">27</span> <span class="keyword">or</span> <span class="keyword">id</span> =<span class="number">3</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询条件不成立的</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">not</span>(math = <span class="number">59</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">not</span> math = <span class="number">59</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#对查询结果结果排序 （默认是升序的方式）</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> age;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">(按照降序排序)</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span> ;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#显示固定范围的数据limit</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">3</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#对查询结果偏移offset</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span> <span class="keyword">offset</span> <span class="number">1</span>;</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">| id   | name   | age  | math |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">|    3 | wangwu |   21 |   86 |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></tbody></table></figure><p><strong>数据完整性</strong>：分为三类</p><ol><li>实体完整性：通过主键（类似于身份证号）保证插入的数据（一行）是表中唯一的实体，防止重复插入数据，浪费空间</li><li>域完整性：保证列的数据类型和约束</li><li>参照完整性：保证一个表外键与另一个表的主键相关联，要求关系中不允许引用不存在的实体</li></ol><p>数据完整性只能尽量保证插入的数据是正确的， 不能百分百保证数据正确</p><p><strong>多表设计</strong>：</p><ol><li>一对多：避免数据的冗余，节约空间</li><li>多对多：避免数据的冗余，节约空间</li><li>一对一：为了方便扩展，可以扩展成一对多，也可以扩展成多对多</li></ol><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">#复杂查询</span><br><span class="line">create table hero (</span><br><span class="line">	-&gt; id int auto_increment,</span><br><span class="line">    -&gt; name char(20),</span><br><span class="line">    -&gt; age int,</span><br><span class="line">    -&gt; primary key(id)</span><br><span class="line">    -&gt; );</span><br><span class="line">#把某字段设置为主键后， 默认不为NULL，设置主键的列，不能有重复值</span><br><span class="line"></span><br><span class="line">insert into hero (name, age) values('yasuo', 5), ('jie', 7), ('nuoshou', 7);</span><br><span class="line">Query OK, 3 rows affected (0.01 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from hero;</span><br><span class="line">+----+---------+------+</span><br><span class="line">| id | name    | age  |</span><br><span class="line">+----+---------+------+</span><br><span class="line">|  1 | timo    |   21 |</span><br><span class="line">|  2 | dema    |   29 |</span><br><span class="line">|  3 | yasuo   |    5 |</span><br><span class="line">|  4 | jie     |    7 |</span><br><span class="line">|  5 | nuoshou |    7 |</span><br><span class="line">+----+---------+------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#某字段设置为自动增长后，不赋值该字段，那么它会接着之前表中已有最大的值继续增加。</span><br><span class="line"></span><br><span class="line">#创建装备表，并且把hero_id设置为外键，关联hero表的id</span><br><span class="line">create table equipment (</span><br><span class="line">    -&gt; id int auto_increment primary key,</span><br><span class="line">    -&gt; name char(20) not NULL,</span><br><span class="line">    -&gt; price float,</span><br><span class="line">    -&gt; hero_id int,</span><br><span class="line">    -&gt; foreign key(hero_id) references hero(id)</span><br><span class="line">    -&gt; );</span><br><span class="line">    </span><br><span class="line">#删除含有外键约束的表中数据，如果不解除外键，无法删除</span><br><span class="line">delete from hero where name = 'timo';</span><br><span class="line">delete from hero;</span><br><span class="line">truncate table hero;</span><br><span class="line"> drop table hero;</span><br><span class="line"> #以上方法都不能删除</span><br><span class="line"> </span><br><span class="line"> #只复制表数据，不复制表结构</span><br><span class="line"> create table hero1 select * from hero;</span><br><span class="line"> #只复制表结构，不复制表中数据</span><br><span class="line"> create table hero2 like hero;</span><br><span class="line"> </span><br><span class="line">#对一个没有设置主键的表设置主键</span><br><span class="line"> alter table hero1 modify id int primary key;</span><br><span class="line"> </span><br><span class="line"> #删除主键</span><br><span class="line"> alter table hero3 drop primary key;</span><br><span class="line"> #如果有外键关联该表的主键，是不能删除该表的主键</span><br><span class="line"> </span><br><span class="line"> #对一个没有外键的表设置外键</span><br><span class="line"> alter table equipment add foreign key(hero_id) references hero1(id);</span><br><span class="line"> #设置外键的时候， 关联的必须是另一个表的主键，而且类型需要相同，</span><br><span class="line"> </span><br><span class="line"> #可以主动设置外键名</span><br><span class="line"> alter table equipment1 add CONSTRAINT equipment1_foreign_key FOREIGN KEY(hero_id) REFERENCES hero1(id);</span><br><span class="line"> </span><br><span class="line"> #删除外键</span><br><span class="line"> alter table equipment1 drop FOREIGN KEY equipment1_ibfk_1;</span><br><span class="line"> </span><br><span class="line"> #查看当前是在哪个数据工作</span><br><span class="line"> select database();</span><br><span class="line"> </span><br><span class="line"> #交叉查询</span><br><span class="line">  select * from hero cross join equipment ;</span><br><span class="line">  </span><br><span class="line">  #内连接查询</span><br><span class="line">  select * from hero inner join  equipment  on hero.id = equipment.hero_id;</span><br><span class="line">  </span><br><span class="line">  #隐式内连接不加inner join</span><br><span class="line">  select * from hero, equipment  where  hero.id = equipment.hero_id;</span><br><span class="line">  </span><br><span class="line">  #可以对查询的表名起别名as</span><br><span class="line">  select * from hero as h inner join  equipment as e on h.id = e.hero_id;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  #左外连接（以左表为基准）</span><br><span class="line">  select * from hero left outer join equipment on hero.id = equipment.hero_id;</span><br><span class="line">  </span><br><span class="line">  #右外连接（以右表为基准）</span><br><span class="line">   select * from hero right outer join equipment on hero.id = equipment.hero_id;</span><br><span class="line">   </span><br><span class="line">   #子查询</span><br><span class="line">   select *from hero where id =(select id from hero where name like '%suo');</span><br><span class="line">   </span><br><span class="line">   #联合查询</span><br><span class="line">   select age from hero where id &gt; 3 union select age from hero where age &lt; 10;</span><br><span class="line">   </span><br><span class="line">   #对联合查询结果不去重union all</span><br><span class="line">   select age from hero where id &gt; 3 union all select age from hero where age &lt; 10;</span><br><span class="line">+------+</span><br><span class="line">| age  |</span><br><span class="line">+------+</span><br><span class="line">|    7 |</span><br><span class="line">|    7 |</span><br><span class="line">|    5 |</span><br><span class="line">|    7 |</span><br><span class="line">|    7 |</span><br><span class="line">+------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select *from hero;</span><br><span class="line">+----+---------+------+</span><br><span class="line">| id | name    | age  |</span><br><span class="line">+----+---------+------+</span><br><span class="line">|  1 | timo    |   21 |</span><br><span class="line">|  2 | dema    |   29 |</span><br><span class="line">|  3 | yasuo   |    5 |</span><br><span class="line">|  5 | nuoshou |    7 |</span><br><span class="line">|  6 | jie     |    7 |</span><br><span class="line">+----+---------+------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#报表查询</span><br><span class="line"> select age from hero group by age；</span><br><span class="line"> </span><br><span class="line"> #统计函数和报表查询联合使用</span><br><span class="line"> select count(age),age  from hero group by age;</span><br><span class="line"> #group by后面的组要是同样的， 不然查不到</span><br><span class="line"> </span><br><span class="line"> #查询表中最大的年纪</span><br><span class="line"> select max(age)  from hero;</span><br><span class="line"> </span><br><span class="line"> #同时查询最大值和最小值</span><br><span class="line"> select min(age), max(age)  from hero;</span><br><span class="line">+----------+----------+</span><br><span class="line">| min(age) | max(age) |</span><br><span class="line">+----------+----------+</span><br><span class="line">|        5 |       29 |</span><br><span class="line">+----------+----------+</span><br><span class="line"></span><br><span class="line">#对报表查询做条件查询group by ... having ...</span><br><span class="line">select count(age), age from hero group by age having age &lt; 10;</span><br><span class="line">+------------+------+</span><br><span class="line">| count(age) | age  |</span><br><span class="line">+------------+------+</span><br><span class="line">|          1 |    5 |</span><br><span class="line">|          2 |    7 |</span><br><span class="line">+------------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#对查询出来的临时表再次查询</span><br><span class="line"> select count(age), age from hero group by age having count(age) &gt; 1;</span><br><span class="line"> +------------+------+</span><br><span class="line">| count(age) | age  |</span><br><span class="line">+------------+------+</span><br><span class="line">|          2 |    7 |</span><br><span class="line">+------------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></tbody></table></figure><p>数据库的备份</p><p>sudo mysqldump -u root -p 39th &gt; 39th.sql</p><p>数据库的恢复</p><ol><li>先创建该库（create database + 库名）</li><li>sudo mysql -u root -p 39th &lt; 39th.sql</li></ol><p>windows和linux 数据快速传输插件</p><p>sudo apt install lrzsz</p><p>sz是从linux下发数据到win下</p><p>rz从win下传数据到linux下</p><p>运行数据库代码加动态库-lmysqlclient</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday04_ Linux部分习题答案</title>
    <url>/category/Linux%E9%83%A8%E5%88%86%E4%B9%A0%E9%A2%98%E7%AD%94%E6%A1%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Linux部分习题答案"><a href="#Linux部分习题答案" class="headerlink" title="Linux部分习题答案"></a>Linux部分习题答案</h1><a id="more"></a><h2 id="基础005"><a href="#基础005" class="headerlink" title="基础005"></a>基础005</h2><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">(c)</span><br><span class="line"><span class="variable">$find</span> /usr/share/doc -name <span class="string">"*.html"</span> -a -size +100 -a -<span class="built_in">type</span> f -<span class="built_in">exec</span> ls -l {} \;</span><br></pre></td></tr></tbody></table></figure><h2 id="基础006"><a href="#基础006" class="headerlink" title="基础006"></a>基础006</h2><figure class="highlight armasm"><table><tbody><tr><td class="code"><pre><span class="line">(<span class="keyword">b) </span>从标准输入中读取</span><br></pre></td></tr></tbody></table></figure><h2 id="基础-007"><a href="#基础-007" class="headerlink" title="基础 007"></a>基础 007</h2><figure class="highlight powershell"><table><tbody><tr><td class="code"><pre><span class="line">(c) </span><br><span class="line"><span class="variable">$find</span> . <span class="literal">-name</span> <span class="string">"*.c"</span>|xargs grep <span class="operator">-nE</span> <span class="string">"\(.*\).*;<span class="variable">$</span>"</span></span><br></pre></td></tr></tbody></table></figure><h2 id="基础009"><a href="#基础009" class="headerlink" title="基础009"></a>基础009</h2><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">(c)</span><br><span class="line">	.file	"test.c"</span><br><span class="line">	.text</span><br><span class="line">	.globl	func1</span><br><span class="line">	.type	func1, @function</span><br><span class="line">func1:</span><br><span class="line">.LFB0:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp</span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp # 压栈</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	movq	%rdi, -24(%rbp) #将参数arr存入rbp-24的位置</span><br><span class="line">	movl	%esi, -28(%rbp) #将参数size存入rbp-28的位置</span><br><span class="line">	movl	$0, -8(%rbp) #保存立即数0 cnt</span><br><span class="line">	movl	$0, -4(%rbp) #保存立即数0 i</span><br><span class="line">	jmp	.L2 #转到.L2</span><br><span class="line">.L3:#</span><br><span class="line">	movl	-4(%rbp), %eax #拷贝i到eax</span><br><span class="line">	cltq    #将long转换成quad eax-&gt;rax </span><br><span class="line">	leaq	0(,%rax,4), %rdx #将rax内容*4 存入rdx中（就是i*4）</span><br><span class="line">	# arr[i]中，arr是8个字节而i是4个字节，所以首先要把i拓展成8个字节</span><br><span class="line">	movq	-24(%rbp), %rax #将arr拷贝到rax中</span><br><span class="line">	addq	%rdx, %rax #将rax加上rdx</span><br><span class="line">	movl	(%rax), %eax #访问rax所指内存的内容，存入eax中</span><br><span class="line">	addl	%eax, -8(%rbp) #cnt加上eax的内容</span><br><span class="line">	addl	$1, -4(%rbp) #i加1</span><br><span class="line">.L2:</span><br><span class="line">	movl	-4(%rbp), %eax #拷贝cnt到eax</span><br><span class="line">	cmpl	-28(%rbp), %eax #比较i和size</span><br><span class="line">	jl	.L3 #小于则跳转到.L3</span><br><span class="line">	movl	-8(%rbp), %eax #拷贝cnt到eax中 作为返回值</span><br><span class="line">	popq	%rbp #弹栈</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret #返回</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE0:</span><br><span class="line">	.size	func1, .-func1</span><br><span class="line">	.globl	func2</span><br><span class="line">	.type	func2, @function</span><br><span class="line">func2:</span><br><span class="line">.LFB1:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp</span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp #压栈</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	movl	%edi, -20(%rbp) #传参 存入rbp-20</span><br><span class="line">	movl	%esi, -24(%rbp) #传参 存入rbp-24</span><br><span class="line">	movl	-20(%rbp), %eax</span><br><span class="line">	movl	%eax, -4(%rbp) #rbp-20 -&gt; rbp-4</span><br><span class="line">	movl	-24(%rbp), %eax</span><br><span class="line">	movl	%eax, -20(%rbp) #rbp-24 -&gt; rbp-20</span><br><span class="line">	movl	-4(%rbp), %eax</span><br><span class="line">	movl	%eax, -24(%rbp) #rbp-4 -&gt; rbp-24</span><br><span class="line">	nop</span><br><span class="line">	popq	%rbp #弹栈</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret #返回</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE1:</span><br><span class="line">	.size	func2, .-func2</span><br><span class="line">	.globl	func3</span><br><span class="line">	.type	func3, @function</span><br><span class="line">func3:</span><br><span class="line">.LFB2:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp </span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp #压栈</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	movq	%rdi, -24(%rbp) #传参 指针a</span><br><span class="line">	movq	%rsi, -32(%rbp) #传参 指针b</span><br><span class="line">	movq	-24(%rbp), %rax #将rbp-24所指内存的内容存入rax 存储a</span><br><span class="line">	movl	(%rax), %eax #将rax所指内存的内容存入eax 存储*a</span><br><span class="line">	movl	%eax, -4(%rbp)#将eax所指内存的内容存入rbp-4 拷贝*a到rbp-4</span><br><span class="line">	movq	-32(%rbp), %rax # 存储b</span><br><span class="line">	movl	(%rax), %edx #将rbp-32所指内存的内容存入edx 存储*b</span><br><span class="line">	movq	-24(%rbp), %rax #rbp-24所指内存的内容存入rax 用a覆盖b</span><br><span class="line">	movl	%edx, (%rax)#将edx的内容存入rax所指的内存 用*b覆盖*a</span><br><span class="line">	movq	-32(%rbp), %rax#将rbp-32所指内存内容存入rax 取出b</span><br><span class="line">	movl	-4(%rbp), %edx#将rbp-4所指内存内容存入edx 取出*a</span><br><span class="line">	movl	%edx, (%rax) #将edx的内存存入rax所指的内存 用*a覆盖*b</span><br><span class="line">	nop</span><br><span class="line">	popq	%rbp</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE2:</span><br><span class="line">	.size	func3, .-func3</span><br><span class="line">	.globl	main</span><br><span class="line">	.type	main, @function</span><br><span class="line">main:</span><br><span class="line">.LFB3:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp</span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	subq	$48, %rsp #分配48字节的栈帧</span><br><span class="line">	movq	%fs:40, %rax</span><br><span class="line">	movq	%rax, -8(%rbp) #存储金丝雀值</span><br><span class="line">	xorl	%eax, %eax</span><br><span class="line">	movl	$1, -48(%rbp) #i</span><br><span class="line">	movl	$3, -40(%rbp) #j</span><br><span class="line">	movl	$5, -44(%rbp) #k</span><br><span class="line">	movl	$1, -32(%rbp) #arr[0] ~arr[5]</span><br><span class="line">	movl	$2, -28(%rbp)</span><br><span class="line">	movl	$3, -24(%rbp)</span><br><span class="line">	movl	$4, -20(%rbp)</span><br><span class="line">	movl	$5, -16(%rbp)</span><br><span class="line">	movl	$6, -12(%rbp)</span><br><span class="line">	leaq	-32(%rbp), %rax #取出arr的首地址 存入rax</span><br><span class="line">	movl	$6, %esi #将立即数6存入esi</span><br><span class="line">	movq	%rax, %rdi #将rax（arr的首地址）存入rdi</span><br><span class="line">	call	func1 #调用func1函数</span><br><span class="line">	movl	%eax, -36(%rbp) #将返回值存入rbp-36</span><br><span class="line">	movl	-48(%rbp), %eax</span><br><span class="line">	movl	-40(%rbp), %edx</span><br><span class="line">	movl	%edx, %esi</span><br><span class="line">	movl	%eax, %edi #将i和j传入edi和esi</span><br><span class="line">	call	func2 #调用func2函数</span><br><span class="line">	leaq	-44(%rbp), %rdx</span><br><span class="line">	leaq	-48(%rbp), %rax</span><br><span class="line">	movq	%rdx, %rsi</span><br><span class="line">	movq	%rax, %rdi #取出i和k的地址存入rdi和rsi</span><br><span class="line">	call	func3 #调用func3</span><br><span class="line">	movl	$0, %eax</span><br><span class="line">	movq	-8(%rbp), %rcx</span><br><span class="line">	xorq	%fs:40, %rcx #检查金丝雀</span><br><span class="line">	je	.L9</span><br><span class="line">	call	__stack_chk_fail@PLT</span><br><span class="line">.L9:</span><br><span class="line">	leave</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE3:</span><br><span class="line">	.size	main, .-main</span><br><span class="line">	.ident	"GCC: (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0"</span><br><span class="line">	.section	.note.GNU-stack,"",@progbits</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>add_argument参数用法</title>
    <url>/category/add_argument%E5%8F%82%E6%95%B0%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="required"><a href="#required" class="headerlink" title="required"></a>required</h3><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
  </entry>
  <entry>
    <title>android studio配置</title>
    <url>/category/android%20studio%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h2 id="导入的项目"><a href="#导入的项目" class="headerlink" title="导入的项目"></a>导入的项目</h2><ul><li><p>删除 .idea/gradle.xml</p></li><li><p>SDK Android 11 API 30</p></li><li><p>AVD Pixel 4a API 30</p></li><li><p>setting Gradle 6.7.1</p></li><li><p>build.gradle</p><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">classpath</span> "<span class="selector-tag">com</span><span class="selector-class">.android</span><span class="selector-class">.tools</span><span class="selector-class">.build</span><span class="selector-pseudo">:gradle</span><span class="selector-pseudo">:4.2.2"</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>gradle.properties</p><figure class="highlight ini"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">android.overridePathCheck</span>=<span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>android</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>autogluon自动化调参</title>
    <url>/category/autogluon/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="泰坦尼克号预测生存人员"><a href="#泰坦尼克号预测生存人员" class="headerlink" title="泰坦尼克号预测生存人员"></a>泰坦尼克号预测生存人员</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> autogluon.tabular <span class="keyword">import</span> TabularDataset, TabularPredictor</span><br><span class="line"><span class="comment"># 训练</span></span><br><span class="line">train_data = TabularDataset(<span class="string">'train.csv'</span>)</span><br><span class="line">id, label = <span class="string">'PassengerId'</span>, <span class="string">'Survived'</span></span><br><span class="line">predictor = TabularPredictor(label=label, path=save_path).fit(</span><br><span class="line">    train_data.drop(columns=[id]))</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line">test_data = TabularDataset(<span class="string">'test.csv'</span>)</span><br><span class="line">preds = predictor.predict(test_data.drop(columns=[id]))</span><br><span class="line">submission = pd.DataFrame({id:test_data[id],label:preds})</span><br><span class="line">submission.to_csv(<span class="string">'submission.csv'</span>,index=<span class="literal">False</span>)</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>深度学习</category>
      </categories>
      <tags>
        <tag>深度学习</tag>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS选择器</title>
    <url>/category/cssday02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了5种常见的CSS复合选择器，标签显示模式，行高，CSS背景属性（background）和CSS的三大特性</p></blockquote><a id="more"></a><h1 id="1-CSS复合选择器"><a href="#1-CSS复合选择器" class="headerlink" title="1. CSS复合选择器"></a>1. CSS复合选择器</h1><ul><li>CSS选择器分为基础选择器和复合选择器，基础选择器无法满足实际开发中，快速高效地选择标签</li><li>复合选择器是由基础选择器通过不同的方式组合而成</li></ul><h2 id="1-1-后代选择器"><a href="#1-1-后代选择器" class="headerlink" title="1.1 后代选择器"></a>1.1 后代选择器</h2><ul><li><p>又称：包含选择器</p><figure class="highlight dts"><table><tbody><tr><td class="code"><pre><span class="line">.col ul <span class="class">li </span>{</span><br><span class="line"><span class="symbol">			color:</span> green;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line"><span class="params">&lt;div class="col"&gt;</span></span><br><span class="line">		<span class="params">&lt;ul&gt;</span></span><br><span class="line">			<span class="params">&lt;li&gt;</span>春风化雨<span class="params">&lt;/li&gt;</span></span><br><span class="line">			<span class="params">&lt;li&gt;</span>春风化雨<span class="params">&lt;/li&gt;</span></span><br><span class="line">			<span class="params">&lt;li&gt;</span>春风化雨<span class="params">&lt;/li&gt;</span></span><br><span class="line">		<span class="params">&lt;/ul&gt;</span></span><br><span class="line">	<span class="params">&lt;/div&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="1-2-子元素选择器"><a href="#1-2-子元素选择器" class="headerlink" title="1.2 子元素选择器"></a>1.2 子元素选择器</h2><figure class="highlight dts"><table><tbody><tr><td class="code"><pre><span class="line">.demo&gt;<span class="class">p </span>{</span><br><span class="line"><span class="symbol">			color:</span> pink;</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line"><span class="params">&lt;div class="demo"&gt;</span></span><br><span class="line">		<span class="params">&lt;p&gt;</span>春风化雨<span class="params">&lt;/p&gt;</span></span><br><span class="line">	<span class="params">&lt;/div&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="1-3-交集选择器"><a href="#1-3-交集选择器" class="headerlink" title="1.3 交集选择器"></a>1.3 交集选择器</h2><ul><li>选择既是p标签和又有red类名</li></ul><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.red</span> {</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="1-4-并集选择器"><a href="#1-4-并集选择器" class="headerlink" title="1.4 并集选择器"></a>1.4 并集选择器</h2><ul><li>选择p标签和col类名</li></ul><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span>, <span class="selector-class">.col</span> {</span><br><span class="line">	<span class="attribute">color</span>: pink;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="1-5-链接伪类选择器"><a href="#1-5-链接伪类选择器" class="headerlink" title="1.5 链接伪类选择器"></a>1.5 链接伪类选择器</h2><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span>:link   <span class="comment">/*未访问的链接*/</span></span><br><span class="line"><span class="selector-tag">a</span>:visited   <span class="comment">/*已访问的链接*/</span></span><br><span class="line"><span class="selector-tag">a</span>:hover    <span class="comment">/*鼠标放上去但未点击时的链接*/</span></span><br><span class="line"><span class="selector-tag">a</span>:active   <span class="comment">/*鼠标点击时的链接*/</span></span><br></pre></td></tr></tbody></table></figure><p><strong>注意：</strong></p><ul><li>写的时候顺序不能颠倒，否则会引起错误</li><li>记忆法：<strong>l</strong>o<strong>v</strong>e <strong>h</strong>a<strong>t</strong>e 爱上了讨厌</li><li>实际开发中，我们很少写全四个状态，一般写法为：</li></ul><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span> {   <span class="comment">/* a是标签选择器  所有的链接 */</span></span><br><span class="line">			<span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">			<span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">			<span class="attribute">color</span>: gray;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> {   <span class="comment">/* :hover 是链接伪类选择器 鼠标经过 */</span></span><br><span class="line">			<span class="attribute">color</span>: red; <span class="comment">/*  鼠标经过的时候，由原来的 灰色 变成了红色 */</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="1-6-复合选择器总结"><a href="#1-6-复合选择器总结" class="headerlink" title="1.6 复合选择器总结"></a>1.6 复合选择器总结</h2><table><thead><tr><th>选择器</th><th>作用</th><th>特征</th><th>使用情况</th><th>隔开符号及用法</th></tr></thead><tbody><tr><td>后代选择器</td><td>用来选择元素后代</td><td>是选择所有的子孙后代</td><td>较多</td><td>符号是<strong>空格</strong> .nav a</td></tr><tr><td>子代选择器</td><td>选择 最近一级元素</td><td>只选亲儿子</td><td>较少</td><td>符号是<strong>&gt;</strong> .nav&gt;p</td></tr><tr><td>交集选择器</td><td>选择两个标签交集的部分</td><td>既是 又是</td><td>较少</td><td><strong>没有符号</strong> p.one</td></tr><tr><td>并集选择器</td><td>选择某些相同样式的选择器</td><td>可以用于集体声明</td><td>较多</td><td>符号是<strong>逗号</strong> .nav, .header</td></tr><tr><td>链接伪类选择器</td><td>给链接更改状态</td><td></td><td>较多</td><td>重点记住 a{} 和 a:hover 实际开发的写法</td></tr></tbody></table><h1 id="2-标签显示模式（display）"><a href="#2-标签显示模式（display）" class="headerlink" title="2. 标签显示模式（display）"></a>2. 标签显示模式（display）</h1><h2 id="2-1-块级元素（block-level）"><a href="#2-1-块级元素（block-level）" class="headerlink" title="2.1 块级元素（block-level）"></a>2.1 块级元素（block-level）</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">常见的块元素有<span class="tag">&lt;<span class="name">h1</span>&gt;</span>~<span class="tag">&lt;<span class="name">h6</span>&gt;</span>、<span class="tag">&lt;<span class="name">p</span>&gt;</span>、<span class="tag">&lt;<span class="name">div</span>&gt;</span>、<span class="tag">&lt;<span class="name">ul</span>&gt;</span>、<span class="tag">&lt;<span class="name">ol</span>&gt;</span>、<span class="tag">&lt;<span class="name">li</span>&gt;</span>等，其中<span class="tag">&lt;<span class="name">div</span>&gt;</span>标签是最典型的块元素。</span><br></pre></td></tr></tbody></table></figure><p>块级元素的特点：</p><ul><li>比较霸道，自己独占一行（竖着显示）</li><li>高度，宽度，外边距和内边距都可以自由控制</li><li>宽度默认是容器（父级宽度）的100%</li><li>是一个容器，里面可以放行内或块级元素</li><li>只有 文字才 能组成段落 因此 p 里面不能放块级元素，特别是 p 不能放div</li><li>同理还有这些标签h1,h2,h3,h4,h5,h6,dt，他们都是文字类块级标签，里面不能放其他块级元素。</li></ul><h2 id="2-2-行内元素（inline-level）"><a href="#2-2-行内元素（inline-level）" class="headerlink" title="2.2 行内元素（inline-level）"></a>2.2 行内元素（inline-level）</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">常见的行内元素有<span class="tag">&lt;<span class="name">a</span>&gt;</span>、<span class="tag">&lt;<span class="name">strong</span>&gt;</span>、<span class="tag">&lt;<span class="name">b</span>&gt;</span>、<span class="tag">&lt;<span class="name">em</span>&gt;</span>、<span class="tag">&lt;<span class="name">i</span>&gt;</span>、<span class="tag">&lt;<span class="name">del</span>&gt;</span>、<span class="tag">&lt;<span class="name">s</span>&gt;</span>、<span class="tag">&lt;<span class="name">ins</span>&gt;</span>、<span class="tag">&lt;<span class="name">u</span>&gt;</span>、<span class="tag">&lt;<span class="name">span</span>&gt;</span>等，其中<span class="tag">&lt;<span class="name">span</span>&gt;</span>标签最典型的行内元素。有的地方也成内联元素</span><br></pre></td></tr></tbody></table></figure><ul><li>行内元素的特点：</li><li>相邻行内元素在一行上，一行可以显示多个。</li><li>高、宽直接设置是无效的。</li><li>默认宽度就是它本身内容的宽度。</li><li><strong>行内元素只能容纳文本或则其他行内元素。</strong></li></ul><p>注意：</p><ul><li>链接里面不能再放链接。</li><li>特殊情况a里面可以放块级元素，但是给a转换一下块级模式最安全。</li></ul><h2 id="2-3-行内块元素（inline-block）"><a href="#2-3-行内块元素（inline-block）" class="headerlink" title="2.3 行内块元素（inline-block）"></a>2.3 行内块元素（inline-block）</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">在行内元素中有几个特殊的标签——<span class="tag">&lt;<span class="name">img</span> /&gt;</span>、<span class="tag">&lt;<span class="name">input</span> /&gt;</span>、<span class="tag">&lt;<span class="name">td</span>&gt;</span>，可以对它们设置宽高和对齐属性，有些资料可能会称它们为行内块元素。</span><br></pre></td></tr></tbody></table></figure><p>行内块元素的特点：</p><ul><li>和相邻行内元素（行内块）在一行上,但是之间会有空白缝隙。一行可以显示多个</li><li>默认宽度就是它本身内容的宽度。</li><li>高度，行高、外边距以及内边距都可以控制。</li></ul><h2 id="2-4-三种显示模式区别总结"><a href="#2-4-三种显示模式区别总结" class="headerlink" title="2.4 三种显示模式区别总结"></a>2.4 三种显示模式区别总结</h2><table><thead><tr><th align="center">元素模式</th><th align="center">元素排列</th><th align="center">设置样式</th><th align="center">默认宽度</th><th align="center">包含</th></tr></thead><tbody><tr><td align="center">块级元素</td><td align="center">一行只能放一个块级元素</td><td align="center">可以设置高度和宽度</td><td align="center">容器的100%</td><td align="center">容器级可以包含任何标签</td></tr><tr><td align="center">行内元素</td><td align="center">一行可以放多个行内元素</td><td align="center">不能直接设置高度和宽度</td><td align="center">它本身的内容宽度</td><td align="center">容纳文本或者行内元素</td></tr><tr><td align="center">行内块元素</td><td align="center">一行可以放多个行内块元素</td><td align="center">可以设置高度和宽度</td><td align="center">它本身的内容宽度</td><td align="center"></td></tr></tbody></table><h2 id="2-5-标签显示模式转换-display"><a href="#2-5-标签显示模式转换-display" class="headerlink" title="2.5 标签显示模式转换 display"></a>2.5 标签显示模式转换 display</h2><figure class="highlight scss"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">display</span>: block;    <span class="comment">/*行内元素转块级元素*/</span></span><br><span class="line"><span class="attribute">display</span>: inline;   <span class="comment">/*块级元素转行内元素*/</span></span><br><span class="line"><span class="attribute">display</span>: inline-block;	<span class="comment">/*块、行内元素转行内块元素*/</span></span><br></pre></td></tr></tbody></table></figure><h1 id="3-行高那些事-（line-height）"><a href="#3-行高那些事-（line-height）" class="headerlink" title="3. 行高那些事 （line-height）"></a>3. 行高那些事 （line-height）</h1><h2 id="3-1-测量行高："><a href="#3-1-测量行高：" class="headerlink" title="3.1 测量行高："></a>3.1 测量行高：</h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/line1.png"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/line2.png"><h2 id="3-2-单行文本垂直居中"><a href="#3-2-单行文本垂直居中" class="headerlink" title="3.2 单行文本垂直居中"></a>3.2 单行文本垂直居中</h2><p><strong>行高和高度的三种关系</strong>：</p><ul><li>如果 行高 等 高度 文字会 垂直居中</li><li>如果行高 大于 高度 文字会 偏下</li><li>如果行高小于高度 文字会 偏上</li></ul><h1 id="4-CSS背景属性（background）"><a href="#4-CSS背景属性（background）" class="headerlink" title="4. CSS背景属性（background）"></a>4. CSS背景属性（background）</h1><h2 id="4-1-背景颜色background-color："><a href="#4-1-背景颜色background-color：" class="headerlink" title="4. 1 背景颜色background-color："></a>4. 1 背景颜色background-color：</h2><ul><li>颜色值，默认是transparent（透明的）</li></ul><h2 id="4-2-背景图片background-image"><a href="#4-2-背景图片background-image" class="headerlink" title="4.2 背景图片background-image:"></a>4.2 背景图片background-image:</h2><ul><li>none | url(url地址)</li><li>其中url地址不加引号</li></ul><h2 id="4-3-背景平铺background-repeat-可bgr敲tab快捷打出来"><a href="#4-3-背景平铺background-repeat-可bgr敲tab快捷打出来" class="headerlink" title="4.3 背景平铺background-repeat:可bgr敲tab快捷打出来"></a>4.3 背景平铺background-repeat:可bgr敲tab快捷打出来</h2><table><thead><tr><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">no-repeat</td><td align="center">不平铺</td></tr><tr><td align="center">repeat</td><td align="center">横向和纵向平铺（默认）</td></tr><tr><td align="center">repeat-x</td><td align="center">横向平铺</td></tr><tr><td align="center">repeat-y</td><td align="center">纵向平铺</td></tr></tbody></table><h2 id="4-4背景位置background-position"><a href="#4-4背景位置background-position" class="headerlink" title="4.4背景位置background-position"></a>4.4背景位置background-position</h2><table><thead><tr><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">length</td><td align="center">百分数|由浮点数和单位标识符组成的长度值</td></tr><tr><td align="center">position</td><td align="center">left|center|right|top|bottom 方位名词</td></tr></tbody></table><p>注意：</p><ul><li>必须先指定background-image属性</li><li>position后为x坐标和y坐标，中间以空格相隔</li></ul><h2 id="4-5-背景附着background-attachment"><a href="#4-5-背景附着background-attachment" class="headerlink" title="4.5 背景附着background-attachment"></a>4.5 背景附着background-attachment</h2><table><thead><tr><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">scroll</td><td align="center">背景图像随着内容滚动</td></tr><tr><td align="center">fixed</td><td align="center">背景图像固定</td></tr></tbody></table><h2 id="4-6-背景简写"><a href="#4-6-背景简写" class="headerlink" title="4.6 背景简写"></a>4.6 背景简写</h2><ul><li><p>background: 背景颜色 背景图片地址 背景平铺 背景滚动 背景位置;</p></li><li><p>例如：</p><figure class="highlight less"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="number">#ccc</span> url(<span class="string">images/1.png</span>) no-repeat fixed center top;</span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="4-7-背景透明（CSS3）"><a href="#4-7-背景透明（CSS3）" class="headerlink" title="4.7 背景透明（CSS3）"></a>4.7 背景透明（CSS3）</h2><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">background: rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</span><br></pre></td></tr></tbody></table></figure><ul><li>最后一个参数是alpha透明度，取值在0到1之间</li><li>0.3可以省略前面的0，写成rgba(0,0,0,.3)</li><li>盒子背景半透明，盒子里的内容不受影响</li><li>因为是CSS3，所以只支持ie9以上的版本</li></ul><h2 id="4-8-背景总结"><a href="#4-8-背景总结" class="headerlink" title="4.8 背景总结"></a>4.8 背景总结</h2><table><thead><tr><th align="center">属性</th><th align="center">作用</th><th align="center">值</th></tr></thead><tbody><tr><td align="center">background-color</td><td align="center">背景颜色</td><td align="center">预定义的颜色值/十六进制/RGB代码</td></tr><tr><td align="center">background-image</td><td align="center">背景图片</td><td align="center">url(图片路径)</td></tr><tr><td align="center">background-repeat</td><td align="center">是否平铺</td><td align="center">repeat/no-repeat/repeat-x/repeat-y</td></tr><tr><td align="center">background-position</td><td align="center">背景位置</td><td align="center">length/position 分别是x 和 y坐标， 切记 如果有 精确数值单位，则必须按照先X 后Y 的写法</td></tr><tr><td align="center">background-attachment</td><td align="center">背景固定还是滚动</td><td align="center">scroll/fixed</td></tr><tr><td align="center">背景简写</td><td align="center">更简单</td><td align="center">背景颜色 背景图片地址 背景平铺 背景滚动 背景位置; 他们没有顺序</td></tr><tr><td align="center">背景透明</td><td align="center">让盒子半透明</td><td align="center">background: rgba(0,0,0,0.3); 后面必须是 4个值</td></tr></tbody></table><h1 id="5-CSS三大特性"><a href="#5-CSS三大特性" class="headerlink" title="5. CSS三大特性"></a>5. CSS三大特性</h1><h2 id="5-1-CSS层叠性"><a href="#5-1-CSS层叠性" class="headerlink" title="5.1 CSS层叠性"></a>5.1 CSS层叠性</h2><ul><li>样式冲突，采取就近原则</li><li>样式不冲突，不会层叠</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/层叠性.png"><h2 id="5-2-CSS继承性"><a href="#5-2-CSS继承性" class="headerlink" title="5.2 CSS继承性"></a>5.2 CSS继承性</h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/继承性.png"><ul><li>作用：简化代码，降低CSS样式的复杂性</li><li>子元素可以继承父元素的一些样式（如：以text-，font-，line-开头都可以继承，以及color属性）</li></ul><h2 id="5-3-CSS优先级"><a href="#5-3-CSS优先级" class="headerlink" title="5.3 CSS优先级"></a>5.3 CSS优先级</h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/优先级.png"><ul><li>选择器相同，考虑样式层叠性</li><li>选择器不同，考虑优先级问题</li></ul><h3 id="5-3-1-权重计算公式"><a href="#5-3-1-权重计算公式" class="headerlink" title="5.3.1 权重计算公式"></a>5.3.1 权重计算公式</h3><table><thead><tr><th align="center">分类</th><th align="center">计算权重公式</th></tr></thead><tbody><tr><td align="center">继承或*</td><td align="center">0,0,0,0</td></tr><tr><td align="center">每个元素（标签选择器）</td><td align="center">0,0,0,1</td></tr><tr><td align="center">每个类，伪类</td><td align="center">0,0,1,0</td></tr><tr><td align="center">每个ID</td><td align="center">0,1,0,0</td></tr><tr><td align="center">每个行内样式 style=””</td><td align="center">1,0,0,0</td></tr><tr><td align="center">每个!important （添加到属性值后面，分号结尾前） 重要的</td><td align="center">∞ 无穷大</td></tr></tbody></table><h3 id="5-3-2-权重叠加"><a href="#5-3-2-权重叠加" class="headerlink" title="5.3.2 权重叠加"></a>5.3.2 权重叠加</h3><ul><li>div ul li ——&gt; 0,0,0,3</li><li>.nav ul li ——&gt; 0,0,1,2</li><li>a:hover —–—&gt; 0,0,1,1</li><li>.nav a ——&gt; 0,0,1,1</li><li>如果权重相等，则考虑就近原则</li></ul><h3 id="5-3-3-继承的权重为0"><a href="#5-3-3-继承的权重为0" class="headerlink" title="5.3.3 继承的权重为0"></a>5.3.3 继承的权重为0</h3><p>我们修改样式，一定要看该标签有没有被选中。</p><ul><li>如果选中了，那么以上面的公式来计权重。谁大听谁的。</li><li>如果没有选中，即使样式为!important，也没用，权重依然为0，因为继承的权重为0.</li></ul><h1 id="6-CSS注释"><a href="#6-CSS注释" class="headerlink" title="6. CSS注释"></a>6. CSS注释</h1><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span> {</span><br><span class="line"> <span class="comment">/* 所有的字体是14像素大小*/</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;                 </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css02</category>
      </categories>
      <tags>
        <tag>选择器</tag>
        <tag>css</tag>
        <tag>标签显示模式</tag>
        <tag>background</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS初识</title>
    <url>/category/css%E5%88%9D%E8%AF%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了3种常见的层叠样式表： 行内式、内部样式表和外部样式表，并对它们做出了比较</p></blockquote><a id="more"></a><h2 id="css层叠样式表-cascading-style-sheets"><a href="#css层叠样式表-cascading-style-sheets" class="headerlink" title="css层叠样式表 (cascading style sheets)"></a>css层叠样式表 (cascading style sheets)</h2><h3 id="1-引入css样式表（书写位置）"><a href="#1-引入css样式表（书写位置）" class="headerlink" title="1. 引入css样式表（书写位置）"></a>1. 引入css样式表（书写位置）</h3><h4 id="1-1-行内式（内联样式）"><a href="#1-1-行内式（内联样式）" class="headerlink" title="1.1 行内式（内联样式）"></a>1.1 行内式（内联样式）</h4><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> <span class="attr">style</span>=<span class="string">"属性1:属性值1; 属性2:属性值2; 属性3:属性值3;"</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">标签名</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>缺点：没有实现样式和结构相分离</p><h4 id="1-2-内部样式表（内嵌样式表）"><a href="#1-2-内部样式表（内嵌样式表）" class="headerlink" title="1.2 内部样式表（内嵌样式表）"></a>1.2 内部样式表（内嵌样式表）</h4><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/CSS"</span>&gt;</span></span><br><span class="line">	选择器1</span><br><span class="line">    {</span><br><span class="line">        属性1：属性值1</span><br><span class="line">        属性2：属性值2</span><br><span class="line">    }</span><br><span class="line">    选择器2</span><br><span class="line">    {</span><br><span class="line">        属性1：属性值1</span><br><span class="line">        属性2：属性值2</span><br><span class="line">    }</span><br><span class="line">    ...    </span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>注意：</strong></p><ul><li>style标签一般位于head标签中，当然理论上它可以放在html文档的任何地方</li><li>html5可以省略type=”text/CSS”</li><li>只能控制当前页面</li></ul><p>缺点：没有实现结构和样式彻底分离</p><h4 id="1-3-外部样式表（外链式）"><a href="#1-3-外部样式表（外链式）" class="headerlink" title="1.3 外部样式表（外链式）"></a>1.3 外部样式表（外链式）</h4><p>是将所有的样式放在以.css为扩展名的外部样式文件中，通过link标签链接到html文件中</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"sytlesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css文件路径"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th align="center">属性</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">rel</td><td align="center">定义当前文档与所链接文档的关系</td></tr><tr><td align="center">type</td><td align="center">定义所链接的文件类型，type=”text/css含义：所链接的是css样式文件，一般我们可以省略</td></tr><tr><td align="center">href</td><td align="center">定义所链接的外部样式文件的url，可以是相对地址，也可以是绝对地址</td></tr></tbody></table><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/外链式.jpg"><h4 id="1-4-三种样式表比较"><a href="#1-4-三种样式表比较" class="headerlink" title="1.4 三种样式表比较"></a>1.4 三种样式表比较</h4><table><thead><tr><th align="center">样式表</th><th align="center">优点</th><th align="center">缺点</th><th align="center">使用情况</th><th align="center">控制范围</th></tr></thead><tbody><tr><td align="center">行内样式表</td><td align="center">书写方便，权重高</td><td align="center">没有实现结构和样式的分离</td><td align="center">较少</td><td align="center">控制一个标签</td></tr><tr><td align="center">内部样式表</td><td align="center">部分结构和样式的分离</td><td align="center">没有彻底分离</td><td align="center">较多</td><td align="center">控制一个页面</td></tr><tr><td align="center">外部样式表</td><td align="center">完全实现结构和样式的分离</td><td align="center">需要link下</td><td align="center">最多，强烈推荐</td><td align="center">控制整个站点</td></tr></tbody></table><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css01</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>样式表</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS基础选择器</title>
    <url>/category/css%E5%9F%BA%E7%A1%80%E9%80%89%E6%8B%A9%E5%99%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了4种常见的基础选择器：标签选择器、类选择器、id选择器和通配符选择器的作用和用法</p></blockquote><a id="more"></a><h2 id="1-css选择器的作用"><a href="#1-css选择器的作用" class="headerlink" title="1. css选择器的作用"></a>1. css选择器的作用</h2><ul><li>找出特定的html元素</li><li>选择器分为基础选择器和复合选择器</li></ul><h2 id="2-css基础选择器"><a href="#2-css基础选择器" class="headerlink" title="2. css基础选择器"></a>2. css基础选择器</h2><h3 id="2-1-标签选择器"><a href="#2-1-标签选择器" class="headerlink" title="2.1 标签选择器"></a>2.1 标签选择器</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        标签名1 {</span><br><span class="line">            属性1: 属性值1</span><br><span class="line">            属性2: 属性值2</span><br><span class="line">        }</span><br><span class="line">        标签名2 {</span><br><span class="line">            属性1: 属性值1</span><br><span class="line">            属性2: 属性值2</span><br><span class="line">        }</span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-2-类选择器"><a href="#2-2-类选择器" class="headerlink" title="2.2 类选择器"></a>2.2 类选择器</h3><ul><li>类名选择器</li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        .类名 {</span><br><span class="line">			属性1：属性值1</span><br><span class="line">    		属性2：属性值2</span><br><span class="line">		}</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>标签</li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"类名"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>优点：可以为一个或多个标签定义相同的样式</p><h3 id="2-3-类选择器的特殊用法-多类名"><a href="#2-3-类选择器的特殊用法-多类名" class="headerlink" title="2.3 类选择器的特殊用法-多类名"></a>2.3 类选择器的特殊用法-多类名</h3><ul><li>我们可以给标签指定多个类名</li><li>各个类名之间用空格隔开</li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"blue font"</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-4-id选择器"><a href="#2-4-id选择器" class="headerlink" title="2.4 id选择器"></a>2.4 id选择器</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        #类名 {</span><br><span class="line">			属性1：属性值1</span><br><span class="line">    		属性2：属性值2</span><br><span class="line">		}</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>标签</li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> <span class="attr">id</span>=<span class="string">"类名"</span>&gt;</span> <span class="tag">&lt;/<span class="name">标签名</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>类选择器与id选择器区别：id选择器只用于修饰文档中某一具体元素</li><li>类似身份证上姓名和身份证号的区别，姓名可能重名，身份证号唯一</li></ul><h3 id="2-5-通配符选择器"><a href="#2-5-通配符选择器" class="headerlink" title="2.5 通配符选择器"></a>2.5 通配符选择器</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * {</span><br><span class="line">			属性1：属性值1</span><br><span class="line">    		属性2：属性值2</span><br><span class="line">		}</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css01</category>
      </categories>
      <tags>
        <tag>选择器</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS文字文本样式</title>
    <url>/category/css%E6%96%87%E5%AD%97%E6%96%87%E6%9C%AC%E6%A0%B7%E5%BC%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>本文主要介绍:css字体font的一些样式属性、外观属性、chrome开发者工具和sublime快捷操作emmet语法</p></blockquote><a id="more"></a><h1 id="CSS字体样式属性调试工具"><a href="#CSS字体样式属性调试工具" class="headerlink" title="CSS字体样式属性调试工具"></a>CSS字体样式属性调试工具</h1><h2 id="1-font字体"><a href="#1-font字体" class="headerlink" title="1. font字体"></a>1. font字体</h2><h3 id="1-1-font-size：字号"><a href="#1-1-font-size：字号" class="headerlink" title="1.1 font-size：字号"></a>1.1 font-size：字号</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">font-size:16px;</span><br></pre></td></tr></tbody></table></figure><ul><li>由于不同浏览器默认显示的字体大小可能不同，所以我们在设置字体大小时应该给定明确值</li><li>谷歌浏览器的默认字体大小是16px</li></ul><h3 id="1-2-font-family-字体"><a href="#1-2-font-family-字体" class="headerlink" title="1.2 font-family:字体"></a>1.2 font-family:字体</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">font-family:Arial,"Microsoft Yahei","黑体";</span><br></pre></td></tr></tbody></table></figure><ul><li>字体名中含有空格，$，#等，要用英文状态下的双引号</li><li>中文字体要用英文状态下的双引号</li><li>英文不区分大小写</li></ul><h4 id="CSS-Unicode字体"><a href="#CSS-Unicode字体" class="headerlink" title="CSS Unicode字体"></a>CSS Unicode字体</h4><table><thead><tr><th align="center">字体名称</th><th align="center">英文名称</th><th align="center">Unicode 编码</th></tr></thead><tbody><tr><td align="center">宋体</td><td align="center">SimSun</td><td align="center">\5B8B\4F53</td></tr><tr><td align="center">新宋体</td><td align="center">NSimSun</td><td align="center">\65B0\5B8B\4F53</td></tr><tr><td align="center">黑体</td><td align="center">SimHei</td><td align="center">\9ED1\4F53</td></tr><tr><td align="center">微软雅黑</td><td align="center">Microsoft YaHei</td><td align="center">\5FAE\8F6F\96C5\9ED1</td></tr><tr><td align="center">楷体_GB2312</td><td align="center">KaiTi_GB2312</td><td align="center">\6977\4F53_GB2312</td></tr><tr><td align="center">隶书</td><td align="center">LiSu</td><td align="center">\96B6\4E66</td></tr><tr><td align="center">幼园</td><td align="center">YouYuan</td><td align="center">\5E7C\5706</td></tr><tr><td align="center">华文细黑</td><td align="center">STXihei</td><td align="center">\534E\6587\7EC6\9ED1</td></tr><tr><td align="center">细明体</td><td align="center">MingLiU</td><td align="center">\7EC6\660E\4F53</td></tr><tr><td align="center">新细明体</td><td align="center">PMingLiU</td><td align="center">\65B0\7EC6\660E\4F53</td></tr></tbody></table><p><strong>注意：</strong>Unicode字体也要用引号包起来</p><h3 id="1-3-font-weight-字体粗细"><a href="#1-3-font-weight-字体粗细" class="headerlink" title="1.3 font-weight:字体粗细"></a>1.3 font-weight:字体粗细</h3><ul><li>在html中我们使用b和strong标签来设置字体粗细</li><li>而在CSS中：</li></ul><table><thead><tr><th align="center">属性值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">normal</td><td align="center">默认值（400）</td></tr><tr><td align="center">bold</td><td align="center">加粗（700）</td></tr><tr><td align="center">number</td><td align="center">100-900</td></tr></tbody></table><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">我们平时更喜欢用数字来表示是否加粗</span><br></pre></td></tr></tbody></table></figure><h3 id="1-4-font-style-字体风格"><a href="#1-4-font-style-字体风格" class="headerlink" title="1.4 font-style:字体风格"></a>1.4 font-style:字体风格</h3><ul><li>在html中我们使用em标签哎设置字体风格</li><li>而在CSS中</li></ul><table><thead><tr><th align="center">属性值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">normal</td><td align="center">正常</td></tr><tr><td align="center">italic</td><td align="center">斜体</td></tr></tbody></table><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line">我们平时几乎被怎么给文字设置斜体，相反更喜欢将<span class="keyword">em</span>标签改为普通模式</span><br></pre></td></tr></tbody></table></figure><h3 id="1-5-font：综合设置字体样式"><a href="#1-5-font：综合设置字体样式" class="headerlink" title="1.5 font：综合设置字体样式"></a>1.5 font：综合设置字体样式</h3><figure class="highlight maxima"><table><tbody><tr><td class="code"><pre><span class="line">选择器 {<span class="built_in">font</span>: <span class="built_in">font</span>-<span class="built_in">style</span> <span class="built_in">font</span>-weight <span class="built_in">font</span>-size/line-<span class="built_in">height</span> <span class="built_in">font</span>-family;}</span><br></pre></td></tr></tbody></table></figure><p><strong>注意：</strong></p><ul><li>上面的书写顺序要严格遵循</li><li>font-size和font-family一定要写，其他可不写（取默认值），否则font属性将不起作用</li></ul><h2 id="2-CSS外观属性"><a href="#2-CSS外观属性" class="headerlink" title="2. CSS外观属性"></a>2. CSS外观属性</h2><h3 id="2-1-color：文本颜色"><a href="#2-1-color：文本颜色" class="headerlink" title="2.1 color：文本颜色"></a>2.1 color：文本颜色</h3><table><thead><tr><th align="center">属性值</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">预定义的颜色值</td><td align="center">red,green,blue等</td></tr><tr><td align="center">十六进制</td><td align="center">#000000黑色，#ffffff白色，#ff0000红色,#ccc灰色等</td></tr><tr><td align="center">RGB三原色</td><td align="center">rgb(255,0,0)</td></tr></tbody></table><p>一般十六进制用的多一些，且可采用简写：如<code>#ffffff</code> 可写为#fff</p><h3 id="2-2-text-align：文本水平对齐方式"><a href="#2-2-text-align：文本水平对齐方式" class="headerlink" title="2.2 text-align：文本水平对齐方式"></a>2.2 text-align：文本水平对齐方式</h3><table><thead><tr><th align="center">属性值</th><th align="center">文本水平对齐方式</th></tr></thead><tbody><tr><td align="center">left</td><td align="center">左对齐（默认）</td></tr><tr><td align="center">center</td><td align="center">居中对齐</td></tr><tr><td align="center">right</td><td align="center">右对齐</td></tr></tbody></table><ul><li>注意：是设置盒子里内容的水平对齐方式，而不是盒子水平对齐方式</li></ul><h3 id="2-3-line-height：行间距"><a href="#2-3-line-height：行间距" class="headerlink" title="2.3 line-height：行间距"></a>2.3 line-height：行间距</h3><ul><li>一般只设置为比字号大7-8px左右就可以了</li></ul><h3 id="2-4-text-indent：文本缩进"><a href="#2-4-text-indent：文本缩进" class="headerlink" title="2.4 text-indent：文本缩进"></a>2.4 text-indent：文本缩进</h3><ul><li>单位为em</li><li>1em就是一个字的宽度，如果是汉字，1em就是一个汉字的宽度，一般我们缩进2em</li></ul><h3 id="2-5-text-decoration：文本装饰"><a href="#2-5-text-decoration：文本装饰" class="headerlink" title="2.5 text-decoration：文本装饰"></a>2.5 text-decoration：文本装饰</h3><table><thead><tr><th align="center">属性值</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">none</td><td align="center">文本默认，也可以用来取消下划线</td></tr><tr><td align="center">underline</td><td align="center">给文本加下划线（a标签链接默认）</td></tr><tr><td align="center">overline</td><td align="center">给文本加上划线</td></tr><tr><td align="center">line-through</td><td align="center">给文本加删除线</td></tr></tbody></table><h2 id="3-chrome开发者工具"><a href="#3-chrome开发者工具" class="headerlink" title="3. chrome开发者工具"></a>3. chrome开发者工具</h2><ul><li>ctrl+滚轮 ：可放大缩小开发者页面</li><li>左侧是html元素结构，右侧是css样式</li><li>右侧css样式可以改动数值和颜色并动态查看效果</li><li>ctrl + 0 复原开发者页面大小</li></ul><h2 id="4-sublime快捷操作emmet语法"><a href="#4-sublime快捷操作emmet语法" class="headerlink" title="4. sublime快捷操作emmet语法"></a>4. sublime快捷操作emmet语法</h2><ol><li>快速生成标签：标签名 +tab键</li></ol><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">div</span></span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>快速生成多个标签：标签名*数量 +tab键</li></ol><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">div*<span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><ol start="3"><li>快速生成父子标签</li></ol><figure class="highlight maxima"><table><tbody><tr><td class="code"><pre><span class="line">ul&gt;<span class="built_in">li</span></span><br><span class="line">ul&gt;<span class="built_in">li</span>*<span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><ol start="4"><li>快速生成兄弟标签</li></ol><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">div</span>+p</span><br></pre></td></tr></tbody></table></figure><ol start="5"><li>快速生成带有类名的div</li></ol><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line"><span class="title">.demo</span></span><br><span class="line"><span class="title">.demo*3</span></span><br></pre></td></tr></tbody></table></figure><ol start="6"><li>生成的div类名带有顺序</li></ol><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">.demo$*<span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><ol start="7"><li>快速生成带有类名的标签</li></ol><figure class="highlight coq"><table><tbody><tr><td class="code"><pre><span class="line">p.<span class="built_in">red</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css01</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>emmet</tag>
        <tag>字体</tag>
      </tags>
  </entry>
  <entry>
    <title>docker用法</title>
    <url>/category/docker%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="从docker-hub上拉取image"><a href="#从docker-hub上拉取image" class="headerlink" title="从docker hub上拉取image"></a>从docker hub上拉取image</h3><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line">docker pull yanyucheng/<span class="keyword">ruby</span>-de<span class="variable">v:0</span>.<span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><h3 id="启动容器：-将容器的-3000-端口映射到主机的-3000-端口，容器名字设为ruby-run"><a href="#启动容器：-将容器的-3000-端口映射到主机的-3000-端口，容器名字设为ruby-run" class="headerlink" title="启动容器： 将容器的 3000 端口映射到主机的 3000 端口，容器名字设为ruby-run"></a>启动容器： 将容器的 3000 端口映射到主机的 3000 端口，容器名字设为ruby-run</h3><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> -tid -p 3000:3000 --name ruby-<span class="builtin-name">run</span> yanyucheng/ruby-dev:0.2  </span><br><span class="line"></span><br><span class="line">docker <span class="builtin-name">run</span> -i -d --name llvm llvm_hw:0.1 /bin/bash</span><br></pre></td></tr></tbody></table></figure><h3 id="进入容器-ruby-run-命令行模式"><a href="#进入容器-ruby-run-命令行模式" class="headerlink" title="进入容器(ruby-run)命令行模式"></a>进入容器(ruby-run)命令行模式</h3><h3 id="其实这里推荐vscode下个docker插件，一键进入容器"><a href="#其实这里推荐vscode下个docker插件，一键进入容器" class="headerlink" title="其实这里推荐vscode下个docker插件，一键进入容器"></a>其实这里推荐vscode下个docker插件，一键进入容器</h3><figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line">docker exec -ti ruby-<span class="keyword">run</span><span class="bash"> /bin/bash</span></span><br></pre></td></tr></tbody></table></figure><h3 id="在docker容器里修改后，一定要记得把容器保存为image，不然关机就都丢失了"><a href="#在docker容器里修改后，一定要记得把容器保存为image，不然关机就都丢失了" class="headerlink" title="在docker容器里修改后，一定要记得把容器保存为image，不然关机就都丢失了"></a>在docker容器里修改后，一定要记得把容器保存为image，不然关机就都丢失了</h3><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">docker commit docker_name image_name</span></span><br></pre></td></tr></tbody></table></figure><h3 id="将docker镜像push到docker-hub上"><a href="#将docker镜像push到docker-hub上" class="headerlink" title="将docker镜像push到docker hub上"></a>将docker镜像push到docker hub上</h3><h4 id="1-登录"><a href="#1-登录" class="headerlink" title="1. 登录"></a>1. 登录</h4><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">docker login</span></span><br></pre></td></tr></tbody></table></figure><h4 id="2-标记image"><a href="#2-标记image" class="headerlink" title="2. 标记image"></a>2. 标记image</h4><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line">docker <span class="keyword">tag</span> <span class="title">[image_name</span>] [user_name]/repository:<span class="keyword">tag</span></span><br><span class="line"></span><br><span class="line">docker <span class="keyword">tag</span> <span class="title">hello-world</span> <span class="number">798577670</span>/dev:<span class="number">0.1</span></span><br></pre></td></tr></tbody></table></figure><h4 id="3-发布image"><a href="#3-发布image" class="headerlink" title="3. 发布image"></a>3. 发布image</h4><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">docker push <span class="number">798577670</span>/dev:<span class="number">0.1</span></span><br></pre></td></tr></tbody></table></figure><h3 id="查看所有容器"><a href="#查看所有容器" class="headerlink" title="查看所有容器"></a>查看所有容器</h3><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">docker ps -a</span></span><br></pre></td></tr></tbody></table></figure><h3 id="查看所有运行的容器"><a href="#查看所有运行的容器" class="headerlink" title="查看所有运行的容器"></a>查看所有运行的容器</h3><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">docker ps</span></span><br></pre></td></tr></tbody></table></figure><h3 id="已存在的容器跑起来"><a href="#已存在的容器跑起来" class="headerlink" title="已存在的容器跑起来"></a>已存在的容器跑起来</h3><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line">docker <span class="literal">start</span>　容器名字</span><br></pre></td></tr></tbody></table></figure><blockquote><p>以下都是宿主机终端下输的命令</p></blockquote><h3 id="宿主机拷贝文件到docker容器"><a href="#宿主机拷贝文件到docker容器" class="headerlink" title="宿主机拷贝文件到docker容器"></a>宿主机拷贝文件到docker容器</h3><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">docker cp ./ast-<span class="built_in">int</span>erpreter llvm:/</span><br></pre></td></tr></tbody></table></figure><h3 id="docker容器拷贝文件到宿主机"><a href="#docker容器拷贝文件到宿主机" class="headerlink" title="docker容器拷贝文件到宿主机"></a>docker容器拷贝文件到宿主机</h3><figure class="highlight nginx"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">docker</span> cp llvm:/ast-interpreter .</span><br></pre></td></tr></tbody></table></figure><h3 id="删除镜像"><a href="#删除镜像" class="headerlink" title="删除镜像"></a>删除镜像</h3><figure class="highlight apache"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">docker</span> rmi<span class="meta"> [image_name]</span></span><br></pre></td></tr></tbody></table></figure><h3 id="删除容器"><a href="#删除容器" class="headerlink" title="删除容器"></a>删除容器</h3><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">docker rm -f <span class="number">1e560f</span>ca3906</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>经验</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>cv笔记</title>
    <url>/category/cv%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E6%94%BE%E5%BC%83/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="transformer与rnn区别？"><a href="#transformer与rnn区别？" class="headerlink" title="transformer与rnn区别？"></a>transformer与rnn区别？</h3><figure class="highlight xl"><table><tbody><tr><td class="code"><pre><span class="line">所有单词<span class="function"><span class="title">push</span>进去可以一起处理的----&gt;</span>并行化处理</span><br><span class="line">不是像rnn一样，比如输入“我”，要等这个处理输出后，才能输入“爱”</span><br><span class="line">这样做增快了速度，但忽略了单词间的序列关系或者说是先后关系</span><br></pre></td></tr></tbody></table></figure><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/10/oWrRJM5N92IVYEd.png" alt="image.png"></p><p>去掉冗余的部分，去掉肥牛，保留肌肉</p><h3 id="1-1卷积核的作用"><a href="#1-1卷积核的作用" class="headerlink" title="1*1卷积核的作用"></a>1*1卷积核的作用</h3><ul><li>升维/降维</li><li>在保持feature map尺度不变的（即不损失分辨率）的前提下大幅增加非线性特性（利用后接的非线性激活函数），把网络做的很deep。</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/5tBoJXDbj6x13n8.png" alt="image.png" style="zoom:50%"><ul><li><p>比如上图这个，28 * 28 * 192 图片输入，1 * 1 * 192 卷积核（192代表卷积核的深度），对每个通道进行扫描最后对应相加，最后生成的feature map大小为28 * 28 * 1，如果有多少个out_chanel（卷积核数量），最后生成的feature map大小为28 * 28 * out_chanel</p></li><li><p>减少计算量</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/vuQR7SVE3Lf9p5I.png" alt="image.png"></p><p>补充：</p><ul><li><p>卷积网络的参数量：主要是卷积核的参数量（height,width,input_channel,output_channel）</p></li><li><p>卷积核的深度：input_channel</p></li><li><p>卷积核的个数：output_channel</p></li></ul></li></ul><h2 id="Inception-v1"><a href="#Inception-v1" class="headerlink" title="Inception v1"></a>Inception v1</h2><ol><li>这一点孙琳钧童鞋讲的很清楚。1×1的卷积层（可能）引起人们的重视是在NIN的结构中，论文中林敏师兄的想法是利用MLP代替传统的线性卷积核，从而提高网络的表达能力。文中同时利用了跨通道pooling的角度解释，认为文中提出的MLP其实等价于在传统卷积核后面接cccp层，从而实现多个feature map的线性组合，实现跨通道的信息整合。而cccp层是等价于1×1卷积的，因此细看NIN的caffe实现，就是在每个传统卷积层后面接了两个cccp层（其实就是接了两个1×1的卷积层）。</li><li>进行降维和升维引起人们重视的（可能）是在GoogLeNet里。对于每一个Inception模块（如下图），原始模块是左图，右图中是加入了1×1卷积进行降维的。虽然左图的卷积核都比较小，但是当输入和输出的通道数很大时，乘起来也会使得卷积核参数变的很大，而右图加入1×1卷积后可以降低输入的通道数，卷积核参数、运算复杂度也就跟着降下来了。</li></ol><p>以GoogLeNet的3a模块为例，输入的feature map是28×28×192，3a模块中1×1卷积通道为64，3×3卷积通道为128,5×5卷积通道为32，如果是左图结构，那么卷积核参数为1×1×192×64+3×3×192×128+5×5×192×32，而右图对3×3和5×5卷积层前分别加入了通道数为96和16的1×1卷积层，这样卷积核参数就变成了1×1×192×64+（1×1×192×96+3×3×96×128）+（1×1×192×16+5×5×16×32），参数大约减少到原来的三分之一。</p><p>同时在并行pooling层后面加入1×1卷积层后也可以降低输出的feature map数量，左图pooling后feature map是不变的，再加卷积层得到的feature map，会使输出的feature map扩大到416，如果每个模块都这样，网络的输出会越来越大。</p><p>而右图在pooling后面加了通道为32的1×1卷积，使得输出的feature map数降到了256。GoogLeNet利用1×1的卷积降维后，得到了更为紧凑的网络结构，虽然总共有22层，但是参数数量却只是8层的AlexNet的十二分之一（当然也有很大一部分原因是去掉了全连接层）[8]</p><p>信息分布更全局性的图像偏好较大的卷积核，信息分布比较局部的图像偏好较小的卷积核。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/5tjrdgNoywFlxCK.png" alt="image.png"></p><h2 id="ResNet"><a href="#ResNet" class="headerlink" title="ResNet"></a>ResNet</h2><p>ResNet同样也利用了1×1卷积，并且是在3×3卷积层的前后都使用了，不仅进行了降维，还进行了升维，使得卷积层的输入和输出的通道数都减小，参数数量进一步减少，如下图的结构[8]。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/XMG5PUxn2oB7Dhc.png" alt="image.png"></p><h3 id="Inception-v2"><a href="#Inception-v2" class="headerlink" title="Inception v2"></a>Inception v2</h3><p>将 5×5 的卷积分解为两个 3×3 的卷积运算以提升计算速度，5×5 的卷积在计算成本上是一个 3×3 卷积的 2.78 倍</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/5wkCzZdfipXlbvF.png" alt="image.png" style="zoom:67%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/ajUogyw6hrS47C2.png" alt="image.png" style="zoom:67%"><p>模块中的滤波器组被扩展（即变得更宽而不是更深），以解决表征性瓶颈。如果该模块没有被拓展宽度，而是变得更深，那么维度会过多减少，造成信息损失</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/umNDAG8MIe1iOUq.png" alt="image.png"></p><h3 id="Inception-v3"><a href="#Inception-v3" class="headerlink" title="Inception v3"></a>Inception v3</h3><p>Inception Net v3 整合了前面 Inception v2 中提到的所有升级，还使用了：</p><ul><li><p>RMSProp 优化器；</p></li><li><p>Factorized 7x7 卷积；</p></li><li><p>辅助分类器使用了 BatchNorm；</p></li><li><p>标签平滑（添加到损失公式的一种正则化项，旨在阻止网络对某一类别过分自信，即阻止过拟合）。</p></li></ul><h3 id="Inception-v4"><a href="#Inception-v4" class="headerlink" title="Inception v4"></a>Inception v4</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/fHkzTrBCqn3ZiNL.png" alt="image.png" style="zoom:50%"><h3 id="常规卷积"><a href="#常规卷积" class="headerlink" title="常规卷积"></a>常规卷积</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/FiPdYWbL2tRjrvl.png" alt="image.png" style="zoom:33%"><h3 id="MobileNet-使用depthwise-separable-convolution深度可分离卷积："><a href="#MobileNet-使用depthwise-separable-convolution深度可分离卷积：" class="headerlink" title="MobileNet:使用depthwise separable convolution深度可分离卷积："></a>MobileNet:使用depthwise separable convolution深度可分离卷积：</h3><ul><li><p>depthwise conv ：卷积核没有了深度</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/j1zv2gPwNAQB4LZ.png" alt="image.png" style="zoom:33%"></li><li><p>point conv</p></li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/Jjgc3B7HMQOdXqi.png" alt="image.png" style="zoom:33%"><h3 id="MobileNet-V2"><a href="#MobileNet-V2" class="headerlink" title="MobileNet V2"></a><strong>MobileNet V2</strong></h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/4rkgFoIY1HN6sSC.png" alt="image.png" style="zoom:50%"><p><strong>Inverted Residuals (倒残差结构):</strong><br>DWConv layer 层提取得到的特征受限于输入的通道数，若通道很少，只能在低维度上工作，效果不好，因此需要“扩张”通道，采用“扩张-卷积特征提取-压缩”的结构<br><strong>Linear Bottlenecks</strong><br>在压缩时，Relu会破坏特征（原因：Relu对于负的输入，输出全为零，因此在特征被压缩的情况下，在经过Relu又会损失一部分特征）最后不采用Relu,而采用Linear,防止Relu破坏特征。</p><p>V1与V2结构对比：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/EbNpqXQDmVICcun.png" alt="image.png"></p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/gPAoumUlWfCMZI3.png" alt="image.png" style="zoom:50%"><h3 id="GhostNet其核心是-Ghost-Module"><a href="#GhostNet其核心是-Ghost-Module" class="headerlink" title="GhostNet其核心是 Ghost Module"></a><strong>GhostNet</strong>其核心是 Ghost Module</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/6X4U2ZAHNrCeKxj.png" alt="image.png" style="zoom:50%"> $$ \text { 注：可利用 depthwise 卷积实现 } \phi_{i, j} \text {, 常规卷积操作可用 pointwise 卷积代替 } $$<h3 id="ghost-bottleneck"><a href="#ghost-bottleneck" class="headerlink" title="ghost bottleneck"></a>ghost bottleneck</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/tvHDSEi8LweBy72.png" alt="image.png" style="zoom:50%"><h3 id="知识蒸馏"><a href="#知识蒸馏" class="headerlink" title="知识蒸馏"></a>知识蒸馏</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/10/9hZtCo7d15yHMJf.png" alt="image.png"></p><p>上面的是师傅：告诉你这个是一只马，他更像驴，而不是汽车</p><p>下面的是课本：告诉你他就是一只马，而不是别的东西</p><p>跟我们普通人学习是一样的过程，既要有师傅老师带，也要自己钻研课本</p><p>当然预测过程中，只用到了学生网络t=1的hard prediction</p><p>权重…微调学生网络，使得这个total loss最小化</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/10/QUWci8CvDlkzVam.png" alt="image.png"></p><p>这个一开始是放在mnist数据集上训练的，学生网络，比如论文中提到的3虽然没有见过，但是师傅给他说过虽然3没见过，但这个3啊和8很像，和7不是很像，就是老师把知识都传给了学生网络，虽然说3没见过，但学生网络对3仍然能很好的识别</p><p>轻巧化</p><p>这个也在语音识别上进行了实验，发现蒸馏后效果还是挺好的</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/10/9Y4ydrTiOgV1qmR.png" alt="image.png">教师网络训练单个的学生网络，你会发现效果是类似的，也就是知识蒸馏的效果还是挺不错的，教会徒弟饿死师傅，你会发现徒弟也更轻量化</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/10/wb1jAhiKsrzSp84.png" alt="image.png"></p><p>发现用soft targets能有效地防止过拟合</p><p>首先在baseline上训练，得到的是第一行的结果，后来只用了3%的训练集，可以看到，训练集上准确率高了，但是测试集上准确率明显低了很多，这就是很明显的过拟合，当然我们平常来说，遇到过拟合现象，我们应该提前终止训练，进行正则化，dropout等，也就是说我们应时刻密切关注测试集上的准确率，如果发现先升后降，我们应该在降的那个点，马上停下来</p><p>而用soft targets就不会出现这种情况，它会一直增加直到收敛，不会出现那种先增后降的这种情况，也就是泛化能力表现地不错</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/10/RQqSo64VIUp2HuO.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/10/1gvodiHQ8l3EcjX.png" alt="image.png"></p><p>徒儿你的第1层模拟我的第5层，你的第2层模拟我的第10层</p><h3 id="MnasNet"><a href="#MnasNet" class="headerlink" title="MnasNet"></a>MnasNet</h3><ul><li>多目标优化函数：<ul><li>准确度性能+真实手机推理时间</li><li>兼顾准确度（也就是精度）和速度（这里用真实手机推理时间这个延迟来表示），呐既不用浮点数运算次数flops，也不用内存访问量mac，也不用参数量，直接用最真实的手机推理时间来表示速度，构建…</li></ul></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>深度学习</category>
      </categories>
      <tags>
        <tag>cv</tag>
      </tags>
  </entry>
  <entry>
    <title>gdb调试</title>
    <url>/category/gdb%E8%B0%83%E8%AF%95%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="demo-c"><a href="#demo-c" class="headerlink" title="demo.c"></a>demo.c</h3><h4 id="启动gdb"><a href="#启动gdb" class="headerlink" title="启动gdb"></a>启动gdb</h4><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">gdb demo</span></span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/l.png"><figure class="highlight erlang"><table><tbody><tr><td class="code"><pre><span class="line">l</span><br><span class="line">Gdb列出的源代码中明确地给出了对应的行号, 这样就可以大大地方便代码的定位.</span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/b.png"><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">b <span class="number">6</span></span><br><span class="line">设置断点，第<span class="number">5</span>行结束，第<span class="number">6</span>行未执行</span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/ib.png"><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">i</span> b</span><br><span class="line">查看断点信息：主要是断点编号和在断点这停了几次</span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/r.png"><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">r</span><br><span class="line">运行到第<span class="number">6</span>行暂停（第<span class="number">5</span>行结束，第<span class="number">6</span>行未执行）</span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/p.png"><figure class="highlight properties"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">p</span>  <span class="string">打印变量值  </span></span><br><span class="line"><span class="attr">display</span> <span class="string">自动打印</span></span><br></pre></td></tr></tbody></table></figure><h3 id="单步执行"><a href="#单步执行" class="headerlink" title="单步执行"></a>单步执行</h3><figure class="highlight excel"><table><tbody><tr><td class="code"><pre><span class="line">s：能进入函数调用内部</span><br><span class="line"><span class="built_in">n</span>：不进入函数调用内部</span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/bt.png"><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">打印全部栈帧</span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/c.png"><figure class="highlight llvm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">c</span></span><br><span class="line">查看变量值和堆栈后，可以让程序继续运行下去</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>gdb</tag>
      </tags>
  </entry>
  <entry>
    <title>html常用标签</title>
    <url>/category/html%E5%B8%B8%E7%94%A8%E6%A0%87%E7%AD%BE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了html常用的几个标签，又对相对和绝对路径进行阐述，最后记录一些扩展语法</p></blockquote><a id="more"></a><h1 id="1-html常用标签"><a href="#1-html常用标签" class="headerlink" title="1. html常用标签"></a>1. html常用标签</h1><h2 id="1-1-排版标签"><a href="#1-1-排版标签" class="headerlink" title="1.1 排版标签"></a>1.1 排版标签</h2><h3 id="1）标题标签：共6种"><a href="#1）标题标签：共6种" class="headerlink" title="1）标题标签：共6种"></a>1）标题标签：共6种</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2）段落标签：paragraph段落"><a href="#2）段落标签：paragraph段落" class="headerlink" title="2）段落标签：paragraph段落"></a>2）段落标签：paragraph段落</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> 内容 <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3）水平线标签hr：horizontal-横线"><a href="#3）水平线标签hr：horizontal-横线" class="headerlink" title="3）水平线标签hr：horizontal   横线"></a>3）水平线标签hr：horizontal 横线</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="4-换行标签br：break，打断，换行"><a href="#4-换行标签br：break，打断，换行" class="headerlink" title="4) 换行标签br：break，打断，换行"></a>4) 换行标签br：break，打断，换行</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><code>注意：</code>与段落标签的区别</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/p与br区别.png"><h3 id="5-div和span标签-：无语义，用于网页布局"><a href="#5-div和span标签-：无语义，用于网页布局" class="headerlink" title="5) div和span标签 ：无语义，用于网页布局"></a>5) div和span标签 ：无语义，用于网页布局</h3><ul><li>div和span标签是两个用来装网页元素的盒子</li><li>div：division的缩写，分割，分区</li><li>span：跨度，范围</li><li>一行只能放一个div</li><li>一行能放多个span</li></ul><h2 id="1-2-文本格式化标签"><a href="#1-2-文本格式化标签" class="headerlink" title="1.2 文本格式化标签"></a>1.2 文本格式化标签</h2><table><thead><tr><th align="center">标签</th><th align="center">显示效果</th></tr></thead><tbody><tr><td align="center"><b></b> / <code>&lt;strong&gt;&lt;/strong&gt;</code></td><td align="center">文字以<strong><code>粗体</code></strong>方式显示</td></tr><tr><td align="center"><i></i> / <code>&lt;em&gt;&lt;/em&gt;</code></td><td align="center">文字以<em><code>斜体</code></em>方式显示 (emphasize)</td></tr><tr><td align="center"><s></s> / <del></del></td><td align="center">文字以加<del><code>删除线</code></del>方式显示</td></tr><tr><td align="center"><u></u> / <ins></ins></td><td align="center">文字以加<u><code>下划线</code></u>方式显示</td></tr></tbody></table><p><strong>注：</strong></p><ul><li>文本格式化应在强调符号外</li><li>现普遍用后面一组标签</li></ul><h2 id="1-3-标签属性"><a href="#1-3-标签属性" class="headerlink" title="1.3 标签属性"></a>1.3 标签属性</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> 属性<span class="attr">1</span>=<span class="string">"属性值1"</span> 属性<span class="attr">2</span>=<span class="string">"属性值2"</span> …&gt;</span> 内容 <span class="tag">&lt;/<span class="name">标签名</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="1-4-图像标签img"><a href="#1-4-图像标签img" class="headerlink" title="1.4 图像标签img"></a>1.4 图像标签img</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"图像URL"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/img属性.png"><p><strong>注意：</strong></p><ul><li>标签可以有多个属性，但这些属性必须放在开始标签之后，src属性必须要写</li><li>多个属性没有先后顺序，标签名与属性、属性与属性都以空格隔开</li><li>采用key=”value”的格式</li></ul><h2 id="1-5-链接标签"><a href="#1-5-链接标签" class="headerlink" title="1.5 链接标签"></a>1.5 链接标签</h2><p>anthor的缩写， 锚</p><p><strong>基本语法：</strong></p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"url地址"</span> <span class="attr">target</span>=<span class="string">"目标窗口的弹出方式"</span>&gt;</span>文本或图像<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>注意：</strong></p><ul><li>外部链接</li><li>内部链接</li><li>空链接 暂时无url地址，则href属性值可定义为”#”</li><li>图像链接（点击图片，跳转到url地址）：</li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"1.png"</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>不仅可以创建文本超链接，在网页中各种网页元素，如图像、表格、音频、视频等都可以添加超链接。</li><li>target值默认为<code>_self</code>,可以设置为 <code>_blank</code>为在新窗口中打开</li></ul><h2 id="1-6-注释标签"><a href="#1-6-注释标签" class="headerlink" title="1.6 注释标签"></a>1.6 注释标签</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 注释内容 --&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>快捷键：ctrl+？</li><li>注释写在上方</li></ul><h2 id="2-路径"><a href="#2-路径" class="headerlink" title="2. 路径"></a>2. 路径</h2><h3 id="2-1-相对路径"><a href="#2-1-相对路径" class="headerlink" title="2.1 相对路径"></a>2.1 相对路径</h3><ul><li>同一级</li><li>下一级 /</li><li>上一级 ../</li><li>上两级 ../../</li></ul><h3 id="2-2-绝对地址"><a href="#2-2-绝对地址" class="headerlink" title="2.2 绝对地址"></a>2.2 绝对地址</h3><ul><li>一换电脑，路径就变了，不提倡使用</li><li>还可以保存网上图片地址，显示图片</li></ul><h2 id="3-扩展"><a href="#3-扩展" class="headerlink" title="3. 扩展"></a>3. 扩展</h2><h3 id="3-1-锚点定位"><a href="#3-1-锚点定位" class="headerlink" title="3.1 锚点定位"></a>3.1 锚点定位</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">1.   <span class="tag">&lt;<span class="name">hx</span> <span class="attr">id</span>=<span class="string">"id名"</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">hx</span>&gt;</span>  （跳转目标）</span><br><span class="line">2.   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#id名"</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">a</span>&gt;</span> （被点链接）</span><br></pre></td></tr></tbody></table></figure><h3 id="3-2-base标签"><a href="#3-2-base标签" class="headerlink" title="3.2 base标签"></a>3.2 base标签</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">target</span>=<span class="string">"_blank"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>注意：</p><ul><li>base标签放在head标签之间</li><li>作用是使所有链接默认以target=”_blank”打开</li></ul><h3 id="3-3-预格式化文本pre标签："><a href="#3-3-预格式化文本pre标签：" class="headerlink" title="3.3 预格式化文本pre标签："></a>3.3 预格式化文本pre标签：</h3><p>作用：让文本按照已有的格式显示到页面上</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">     文本</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-4-特殊字符"><a href="#3-4-特殊字符" class="headerlink" title="3.4 特殊字符"></a>3.4 特殊字符</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/zifu.png"><p><strong>推荐：</strong></p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>more <span class="symbol">&amp;gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>不推荐：</strong></p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>more &gt;&gt; <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-5-xhtml"><a href="#3-5-xhtml" class="headerlink" title="3.5 xhtml"></a>3.5 xhtml</h3><p>xhtml是更严格更纯净的html代码，是以xml的格式编写html元素</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html01</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>标签</tag>
      </tags>
  </entry>
  <entry>
    <title>markdown基本语法</title>
    <url>/category/markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>摘要</p><blockquote><p>主要介绍了一些基础的markdown语法，以备遗忘时回忆一下<span class="github-emoji" style="display:inline;vertical-align:middle;color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f680.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png?v8">🚀</span></p></blockquote><a id="more"></a><h2 id="1-标题"><a href="#1-标题" class="headerlink" title="1.标题"></a>1.标题</h2><ul><li>总共六级标题，在#后面要有一个空格</li></ul><figure class="highlight clean"><table><tbody><tr><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br></pre></td></tr></tbody></table></figure><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><h2 id="2-列表"><a href="#2-列表" class="headerlink" title="2.列表"></a>2.列表</h2><p>无序列表每一行前面加上*或-，符号与文字之间要加一个空格</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">* <span class="number">1</span></span><br><span class="line">* <span class="number">2</span></span><br><span class="line">* <span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><ul><li><p>1</p></li><li><p>2</p></li><li><p>3</p></li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">- <span class="number">1</span></span><br><span class="line">- <span class="number">2</span></span><br><span class="line">- <span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><ul><li><p>1</p></li><li><p>2</p><p>有序列表行第一行加上1.，第二行加上2.，依次类推，然后每个字符与文字间也要加上空格</p></li></ul><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="number">1</span></span><br><span class="line"><span class="number">2.</span> <span class="number">2</span></span><br><span class="line"><span class="number">3.</span> <span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><ol><li>1</li><li>2</li><li>3</li></ol><h2 id="3-引用"><a href="#3-引用" class="headerlink" title="3.引用"></a>3.引用</h2><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line"><span class="quote">&gt; 引用</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>引用</p></blockquote><p><strong>引用嵌套</strong></p><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">&gt; 第一层引用</span><br><span class="line"><span class="meta">&gt;&gt;</span> 第二层引用</span><br></pre></td></tr></tbody></table></figure><blockquote><p>第一层引用</p><blockquote><p>第二层引用</p></blockquote></blockquote><h2 id="4-分割线"><a href="#4-分割线" class="headerlink" title="4.分割线"></a>4.分割线</h2><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">---</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="5-粗体与斜体"><a href="#5-粗体与斜体" class="headerlink" title="5.粗体与斜体"></a>5.粗体与斜体</h2><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line">*<span class="strong">*粗体*</span><span class="strong">*</span></span><br></pre></td></tr></tbody></table></figure><p><strong>粗体</strong></p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line"><span class="strong">*斜体*</span></span><br></pre></td></tr></tbody></table></figure><p><em>斜体</em></p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line">**<span class="strong">*即是粗体也是斜体*</span>*<span class="strong">*</span></span><br></pre></td></tr></tbody></table></figure><p><strong><em>即是粗体也是斜体</em></strong></p><h2 id="6-代码框"><a href="#6-代码框" class="headerlink" title="6.代码框"></a>6.代码框</h2><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">`hello <span class="keyword">my</span> friend`</span><br></pre></td></tr></tbody></table></figure><p><code>hello my friend</code></p><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">`hello <span class="keyword">my</span> friend</span><br><span class="line">   <span class="keyword">me</span> too`</span><br></pre></td></tr></tbody></table></figure><p><code>hello my friend me too</code></p><h2 id="7-表格"><a href="#7-表格" class="headerlink" title="7.表格"></a>7.表格</h2><ul><li>简单方式</li></ul><figure class="highlight gherkin"><table><tbody><tr><td class="code"><pre><span class="line">Name |<span class="string"> Academy </span>|<span class="string"> score </span></span><br><span class="line"><span class="string">- </span>|<span class="string"> :-: </span>|<span class="string"> -: </span></span><br><span class="line"><span class="string">Harry Potter </span>|<span class="string"> Gryffindor</span>|<span class="string"> 90 </span></span><br><span class="line"><span class="string">Hermione Granger </span>|<span class="string"> Gryffindor </span>|<span class="string"> 100 </span></span><br><span class="line"><span class="string">Draco Malfoy </span>|<span class="string"> Slytherin </span>|<span class="string"> 90</span></span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th>Name</th><th align="center">Academy</th><th align="right">score</th></tr></thead><tbody><tr><td>Harry Potter</td><td align="center">Gryffindor</td><td align="right">90</td></tr><tr><td>Hermione Granger</td><td align="center">Gryffindor</td><td align="right">100</td></tr><tr><td>Draco Malfoy</td><td align="center">Slytherin</td><td align="right">90</td></tr></tbody></table><ul><li>原生方式</li></ul><figure class="highlight gherkin"><table><tbody><tr><td class="code"><pre><span class="line">|<span class="string"> Name </span>|<span class="string"> Academy </span>|<span class="string"> score </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> - </span>|<span class="string"> :-: </span>|<span class="string"> -: </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> Harry Potter </span>|<span class="string"> Gryffindor</span>|<span class="string"> 90 </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> Hermione Granger </span>|<span class="string"> Gryffindor </span>|<span class="string"> 100 </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> Draco Malfoy </span>|<span class="string"> Slytherin </span>|<span class="string"> 90 </span>|</span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th align="center">Name</th><th align="center">Academy</th><th align="center">score</th></tr></thead><tbody><tr><td align="center">Harry Potter</td><td align="center">Gryffindor</td><td align="center">90</td></tr><tr><td align="center">Hermione Granger</td><td align="center">Gryffindor</td><td align="center">100</td></tr><tr><td align="center">Draco Malfoy</td><td align="center">Slytherin</td><td align="center">90</td></tr></tbody></table><h2 id="8-插入图片"><a href="#8-插入图片" class="headerlink" title="8.插入图片"></a>8.插入图片</h2><p>插入图片有插入本地图片和插入图片外链两种方式</p><p>本地图片：不容易丢失</p><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/media/name.png"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>图片外链：推荐大家使用 <a href="https://sm.ms/" target="_blank" rel="noopener">sm.ms</a></p><ul><li>使用SM.MS官方API，图床稳定，支持 <strong>HTTPS</strong>。</li><li>支持多文件同时上传（每次最多选择十个图片，且每个图片大小不超过5M）</li><li>支持常见的图片格式 (.png|.jpg|.gif|.webp|.jpeg)</li></ul><h2 id="9-高亮"><a href="#9-高亮" class="headerlink" title="9.高亮"></a>9.高亮</h2><figure class="highlight autohotkey"><table><tbody><tr><td class="code"><pre><span class="line">​```你的内容</span><br></pre></td></tr></tbody></table></figure><figure class="highlight autohotkey"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">```你的内容</span><br></pre></td></tr></tbody></table></figure><p>v</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>go笔记</title>
    <url>/category/go/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="Golang安装环境"><a href="#Golang安装环境" class="headerlink" title="Golang安装环境"></a>Golang安装环境</h3><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line">Go官网下载地址：http<span class="variable">s:</span>//golang.org/<span class="keyword">dl</span>/</span><br><span class="line"></span><br><span class="line">Go官方镜像站（推荐）：http<span class="variable">s:</span>//golang.google.<span class="keyword">cn</span>/<span class="keyword">dl</span>/</span><br></pre></td></tr></tbody></table></figure><h4 id="linux：go环境搭建-windows最新版本不需要设置环境变量"><a href="#linux：go环境搭建-windows最新版本不需要设置环境变量" class="headerlink" title="linux：go环境搭建 (windows最新版本不需要设置环境变量)"></a>linux：go环境搭建 (windows最新版本不需要设置环境变量)</h4><figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/src</span><br><span class="line">wget https://golang.google.cn/dl/go1.19.linux-amd64.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf go1.19.linux-amd64.tar.gz  -C /usr/<span class="built_in">local</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line"># 进入<span class="keyword">go</span>文件夹</span><br><span class="line"><span class="keyword">cd</span> /usr/local</span><br><span class="line"><span class="keyword">ll</span></span><br><span class="line"><span class="keyword">cd</span> <span class="keyword">go</span></span><br><span class="line"><span class="keyword">pwd</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight sh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#go文件夹下</span></span><br><span class="line"><span class="comment">#src：源码</span></span><br><span class="line"><span class="comment">#bin：go编译器路径</span></span><br><span class="line"></span><br><span class="line">api  bin  codereview.cfg  CONTRIBUTING.md  doc  lib  LICENSE  misc  PATENTS  pkg  README.md  SECURITY.md  src  <span class="built_in">test</span>  VERSION</span><br><span class="line"></span><br><span class="line"><span class="comment">#将配置go编译器环境变量</span></span><br><span class="line"><span class="built_in">cd</span> bin</span><br><span class="line"><span class="built_in">pwd</span>  <span class="comment">#/usr/local/go/bin</span></span><br><span class="line">vi ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置go语言的路径</span></span><br><span class="line"><span class="built_in">export</span> GOROOT=/usr/<span class="built_in">local</span>/go</span><br><span class="line"><span class="built_in">export</span> GOPATH=/clp/goProject  //设置自己的项目路径</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$GOROOT</span>/bin:<span class="variable">$GOPATH</span>/bin</span><br><span class="line"><span class="comment">#启动Go Modules</span></span><br><span class="line"><span class="built_in">export</span> GO111MODULE=on</span><br><span class="line"></span><br><span class="line"><span class="comment">#加载使生效</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看go是否安装成功</span></span><br><span class="line">go version  <span class="comment"># go version go1.19 linux/amd64</span></span><br><span class="line">go --<span class="built_in">help</span></span><br></pre></td></tr></tbody></table></figure><p><strong>GOPROXY</strong></p><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">go</span> env -<span class="keyword">w</span> GOPROXY=http<span class="variable">s:</span>//goproxy.<span class="keyword">cn</span>,direct</span><br></pre></td></tr></tbody></table></figure><h4 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h4><ul><li><p>收费：goland</p></li><li><p>免费：vscode</p><ul><li><p>需要在服务器安装的插件：go, gopls</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">第<span class="number">1</span>步：打开 Vscode，然后转到设置。</span><br><span class="line"></span><br><span class="line">第<span class="number">2</span>步：在搜索栏中，输入 gopls</span><br><span class="line"></span><br><span class="line">第<span class="number">3</span>步：在它的下方，找到 settings.json，点击它来编辑</span><br><span class="line"></span><br><span class="line">第<span class="number">4</span>步：在代码部分下面增加</span><br><span class="line"></span><br><span class="line"><span class="string">"gopls"</span>: {</span><br><span class="line">    <span class="string">"experimentalWorkspaceModule"</span>: <span class="literal">true</span>,</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>ctrl +shift +p:go安装</p></li></ul></li></ul><h3 id="golang的优势"><a href="#golang的优势" class="headerlink" title="golang的优势"></a>golang的优势</h3><ul><li><p>简单的部署方式：</p><ul><li>可直接编译成机器码</li><li>不依赖其他库</li><li>直接运行即可部署</li></ul></li><li><p>静态类型语言：</p><ul><li>编译时候能检查出来隐藏的大多数问题<ul><li>shell，python，js等动态语言只能在执行的过程中逐条判断对错</li></ul></li></ul></li><li><p>语言层面的并发</p><ul><li><p>天生的基因支持</p></li><li><p>充分的利用多核</p><figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line">  </span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">goFunc</span><span class="params">(i <span class="keyword">int</span>)</span></span> {</span><br><span class="line">    fmt.Println(<span class="string">"goroutine "</span>, i, <span class="string">" ..."</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++ {</span><br><span class="line">        <span class="keyword">go</span> goFunc(i) <span class="comment">//开启一个并发协程</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//go run 1.go</span></span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p>强大的标准库</p><ul><li>runtime系统调度机制</li><li>高效的gc垃圾回收</li><li>丰富的标准库</li></ul></li><li><p>Golang适合做什么</p><ol><li><p>云计算基础设施领域</p><ul><li>代表项目：docker、kubernetes、etcd、consul、cloudflare CDN、七牛云存储等。</li></ul></li><li><p>基础后端软件</p><ul><li>代表项目：tidb、influxdb、cockroachdb等。</li></ul></li><li><p>微服务</p><ul><li>代表项目：go-kit、micro、monzo bank的typhon、bilibili等。</li></ul></li><li><p>互联网基础设施</p><ul><li>代表项目：以太坊、hyperledger等。</li></ul></li></ol></li><li><p>Golang的不足</p><p>1、包管理，大部分包都在github上</p><p>2、无泛化类型</p><p>3、所有Excepiton都用Error来处理(比较有争议)。</p><p>4、对C的降级处理，并非无缝，没有C降级到asm那么完美(序列化问题)</p></li></ul><h3 id="main-go"><a href="#main-go" class="headerlink" title="main.go"></a>main.go</h3><figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main  <span class="comment">//程序的包名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//main函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{ <span class="comment">//函数的{ 一定是 紧接在后面的，不能换行，不然编译错误</span></span><br><span class="line">	<span class="comment">//golang可加;可不加，建议不加</span></span><br><span class="line">	fmt.Println(<span class="string">"hello Go"</span>)</span><br><span class="line">	time.Sleep(<span class="number">5</span> * time.Second)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明全局变量不能用:=</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// b := 100 error</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//var代表声明，默认值为0</span></span><br><span class="line">	<span class="keyword">var</span> a <span class="keyword">int</span></span><br><span class="line">	fmt.Println(<span class="string">"a ="</span>, a)</span><br><span class="line">	fmt.Printf(<span class="string">"type of a = %T\n"</span>, a)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">100</span></span><br><span class="line">	fmt.Println(<span class="string">"b = "</span>, b)</span><br><span class="line">	fmt.Printf(<span class="string">"type of b = %T\n"</span>, b)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Println是普通输出</span></span><br><span class="line">	<span class="comment">//Printf是格式化输出</span></span><br><span class="line">	<span class="keyword">var</span> bb <span class="keyword">string</span> = <span class="string">"abcd"</span></span><br><span class="line">	fmt.Printf(<span class="string">"bb = %s, type of bb = %T\n"</span>, bb, bb)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//自动判断变量类型</span></span><br><span class="line">	<span class="keyword">var</span> c = <span class="number">100</span></span><br><span class="line">	fmt.Println(<span class="string">"c = "</span>, c)</span><br><span class="line">	fmt.Printf(<span class="string">"type of c = %T\n"</span>, c)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> cc = <span class="string">"abcdf"</span></span><br><span class="line">	fmt.Printf(<span class="string">"cc = %s, type of cc = %T\n"</span>, cc, cc)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//常用的，省去var关键字，直接自动匹配</span></span><br><span class="line">	e := <span class="number">100</span></span><br><span class="line">	fmt.Println(<span class="string">"e = "</span>, e)</span><br><span class="line">	fmt.Printf(<span class="string">"type of e = %T\n"</span>, e)</span><br><span class="line"></span><br><span class="line">	f := <span class="string">"abcd"</span></span><br><span class="line">	fmt.Println(<span class="string">"f = "</span>, f)</span><br><span class="line">	fmt.Printf(<span class="string">"type of f = %T\n"</span>, f)</span><br><span class="line"></span><br><span class="line">	g := <span class="number">3.14</span></span><br><span class="line">	fmt.Println(<span class="string">"g = "</span>, g)</span><br><span class="line">	fmt.Printf(<span class="string">"type of g = %T\n"</span>, g)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//声明多个变量</span></span><br><span class="line">	<span class="keyword">var</span> xx, yy <span class="keyword">int</span> = <span class="number">100</span>, <span class="number">200</span></span><br><span class="line">	fmt.Println(<span class="string">"xx = "</span>, xx, <span class="string">"yy = "</span>, yy)</span><br><span class="line">	<span class="keyword">var</span> kk, ll = <span class="number">100</span>, <span class="string">"aaaa"</span></span><br><span class="line">	fmt.Println(<span class="string">"kk = "</span>, kk, <span class="string">"ll ="</span>, ll)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//多行的多变量声明</span></span><br><span class="line">	<span class="keyword">var</span> (</span><br><span class="line">		vv <span class="keyword">int</span>  = <span class="number">100</span></span><br><span class="line">		jj <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line">	)</span><br><span class="line">	fmt.Println(<span class="string">"vv = "</span>, vv, <span class="string">"jj = "</span>, jj)</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="设置代码用户片段：go-json"><a href="#设置代码用户片段：go-json" class="headerlink" title="设置代码用户片段：go.json"></a>设置代码用户片段：go.json</h3><figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">	<span class="comment">// Place your snippets for go here. Each snippet is defined under a snippet name and has a prefix, body and </span></span><br><span class="line">	<span class="comment">// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:</span></span><br><span class="line">	<span class="comment">// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the </span></span><br><span class="line">	<span class="comment">// same ids are connected.</span></span><br><span class="line">	<span class="comment">// Example:</span></span><br><span class="line">	<span class="attr">"Print to console"</span>: {</span><br><span class="line">		<span class="attr">"prefix"</span>: <span class="string">"go"</span>,</span><br><span class="line">		<span class="attr">"body"</span>: [</span><br><span class="line">			<span class="string">"package main\n"</span>,</span><br><span class="line">			<span class="string">"func main() {"</span>,</span><br><span class="line">			<span class="string">"\t"</span>,</span><br><span class="line">			<span class="string">"}"</span></span><br><span class="line">		],</span><br><span class="line">		<span class="attr">"description"</span>: <span class="string">"main"</span></span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="const-iota"><a href="#const-iota" class="headerlink" title="const iota"></a>const iota</h3><figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const 来定义枚举类型</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	<span class="comment">//可以在const()添加一个关键字iota，每行自动加1上，第一行的iota的默认值是0</span></span><br><span class="line">	BEIJING = <span class="number">10</span> * <span class="literal">iota</span></span><br><span class="line">	SHENZHEN</span><br><span class="line">	SHANGHAI</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// iota只能配合const进行使用</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	a, b = <span class="literal">iota</span> + <span class="number">1</span>, <span class="literal">iota</span> + <span class="number">2</span> <span class="comment">//iota=0</span></span><br><span class="line">	c, d                      <span class="comment">//c=iota + 1, d=iota + 2  iota=1</span></span><br><span class="line">	e, f                      <span class="comment">//e=iota + 1, f=iota + 2  iota=2</span></span><br><span class="line"></span><br><span class="line">	g, h = <span class="literal">iota</span> * <span class="number">2</span>, <span class="literal">iota</span> * <span class="number">3</span> <span class="comment">//iota=3</span></span><br><span class="line">	i, k</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">//常量，将var修改为const,只读属性</span></span><br><span class="line">	<span class="keyword">const</span> length <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"length = "</span>, length)</span><br><span class="line">	fmt.Println(<span class="string">"beijing:"</span>, BEIJING)</span><br><span class="line">	fmt.Println(<span class="string">"shenzhen:"</span>, SHENZHEN)</span><br><span class="line">	fmt.Println(<span class="string">"shanghai:"</span>, SHANGHAI)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="多个返回值的函数："><a href="#多个返回值的函数：" class="headerlink" title="多个返回值的函数："></a>多个返回值的函数：</h3><figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fool</span><span class="params">(a <span class="keyword">string</span>, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> {</span><br><span class="line">	fmt.Println(<span class="string">"a = "</span>, a)</span><br><span class="line">	fmt.Println(<span class="string">"b = "</span>, b)</span><br><span class="line"></span><br><span class="line">	c := <span class="number">100</span></span><br><span class="line">	<span class="keyword">return</span> c</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回多个返回值，匿名的</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fool2</span><span class="params">(a <span class="keyword">string</span>, b <span class="keyword">int</span>)</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span> {</span><br><span class="line">	<span class="keyword">return</span> <span class="number">666</span>, <span class="number">777</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回多个返回值，有形参名称的</span></span><br><span class="line"><span class="comment">// func fool3(a string, b int) (r1  , r2 int)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fool3</span><span class="params">(a <span class="keyword">string</span>, b <span class="keyword">int</span>)</span> <span class="params">(r1 <span class="keyword">int</span>, r2 <span class="keyword">int</span>)</span></span> {</span><br><span class="line">	r1 = <span class="number">1000</span></span><br><span class="line">	r2 = <span class="number">100</span></span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	ret1, ret2 := fool3(<span class="string">"abc"</span>, <span class="number">55</span>)</span><br><span class="line">	fmt.Println(<span class="string">"ret1 = "</span>, ret1, <span class="string">"ret2 = "</span>, ret2)</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="："><a href="#：" class="headerlink" title="："></a>：</h3><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>go</category>
      </categories>
      <tags>
        <tag>go</tag>
      </tags>
  </entry>
  <entry>
    <title>new和delete工作机制</title>
    <url>/category/new%E5%92%8Cdelete%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="new-delete工作机制"><a href="#new-delete工作机制" class="headerlink" title="new/delete工作机制"></a>new/delete工作机制</h1><a id="more"></a><h2 id="new表达式工作步骤"><a href="#new表达式工作步骤" class="headerlink" title="new表达式工作步骤"></a>new表达式工作步骤</h2><h3 id="调用operator-new库函数，分配未类型化的空间，用来保存指定类型的一个对象"><a href="#调用operator-new库函数，分配未类型化的空间，用来保存指定类型的一个对象" class="headerlink" title="调用operator new库函数，分配未类型化的空间，用来保存指定类型的一个对象"></a>调用operator new库函数，分配未类型化的空间，用来保存指定类型的一个对象</h3><h3 id="运行该类型的构造函数初始化对象"><a href="#运行该类型的构造函数初始化对象" class="headerlink" title="运行该类型的构造函数初始化对象"></a>运行该类型的构造函数初始化对象</h3><h3 id="返回指向对象的指针"><a href="#返回指向对象的指针" class="headerlink" title="返回指向对象的指针"></a>返回指向对象的指针</h3><h2 id="delete表达式工作步骤"><a href="#delete表达式工作步骤" class="headerlink" title="delete表达式工作步骤"></a>delete表达式工作步骤</h2><h3 id="调用析构函数，回收对象中数据成员申请资源"><a href="#调用析构函数，回收对象中数据成员申请资源" class="headerlink" title="调用析构函数，回收对象中数据成员申请资源"></a>调用析构函数，回收对象中数据成员申请资源</h3><h3 id="调用operator-delete的标准库函数释放该对象所用的内存"><a href="#调用operator-delete的标准库函数释放该对象所用的内存" class="headerlink" title="调用operator delete的标准库函数释放该对象所用的内存"></a>调用operator delete的标准库函数释放该对象所用的内存</h3><h2 id="operator-new-operator-delete函数"><a href="#operator-new-operator-delete函数" class="headerlink" title="operator new/operator delete函数"></a>operator new/operator delete函数</h2><h3 id="void-operator-new-operator-new"><a href="#void-operator-new-operator-new" class="headerlink" title="void *operator new/operator new[]"></a>void *operator new/operator new[]</h3><h3 id="void-operator-delete-operator-delete"><a href="#void-operator-delete-operator-delete" class="headerlink" title="void operator delete/operator delete[]"></a>void operator delete/operator delete[]</h3><h2 id="Student堆空间例子讲解图"><a href="#Student堆空间例子讲解图" class="headerlink" title="Student堆空间例子讲解图"></a>Student堆空间例子讲解图</h2><h3 id="对象销毁与调用析构函数等价吗？"><a href="#对象销毁与调用析构函数等价吗？" class="headerlink" title="对象销毁与调用析构函数等价吗？"></a>对象销毁与调用析构函数等价吗？</h3><h3 id="operator-new-operator-delete放在类之外定义"><a href="#operator-new-operator-delete放在类之外定义" class="headerlink" title="operator new/operator delete放在类之外定义"></a>operator new/operator delete放在类之外定义</h3><h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><h3 id="只能生成栈对象"><a href="#只能生成栈对象" class="headerlink" title="只能生成栈对象"></a>只能生成栈对象</h3><ul><li><p>创建栈对象需要哪些条件？</p><ul><li>将析构函数私有化看看效果</li></ul></li><li><p>operator new/operator delete私有化</p></li></ul><h3 id="只能生成堆对象"><a href="#只能生成堆对象" class="headerlink" title="只能生成堆对象"></a>只能生成堆对象</h3><ul><li><p>析构函数私有化</p><ul><li><p>this-&gt;~Student()</p><ul><li>析构函数的特殊，导致使用的特殊性</li></ul></li><li><p>delete this</p><ul><li>释放对象本身</li></ul></li></ul></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>pat刷题心得</title>
    <url>/category/pat%E5%88%B7%E9%A2%98%E5%BF%83%E5%BE%97/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="c73d9d25b0da96a0d51ad3fb0cdc449758b61333d363693d1064a33794beac60">dc5294f86077a33d455e26d0204bd060f7929b55521ad4f9f68749362f9415cb6cd8dc4c1a131d508060392fed0667f451511d94dc96ffec7c5bb5ca659e5dfd3416a9d02ee5871fc26f39c65c286972100ce2a2d04d57b0c189337c3f3767f7df0c32fd2914586781c9b328f8f9474bd51c23ff4921d10a789c67496df61fafea00a804250dc05db3920ec71ab3672c481ed6cabe6ce5694a6bbdffbcbad0927dabc994432c0e2adf91fa23d159b15afcefd4db5ddef82a4b98a86b0394d2e8a02f864037e794d896112928dee737b0be1e4cc6b5593115c6d798d432a22d2d2cd5fb0fe908433e65144f7ff01f1f5ff80c646016fe939159eca7f9f08dc5ffd137442519dc7201a949c81b46bf9a52efc470db297edbef1870ff4ec392a7e1584b77eb89be8d00e41f3b922bb4c64d0216fd7d6ff3d33f113cc47a04a91d6ef572a941e0b131c64f0b69d415a58ec49422f78060b9500a677e955d3f13814d9996ccf1949f7f05035f36d0a2d1317ce0efb86e807716fb139993a351ff7dab6991af04e751a1f8482be419f0e7eeb48dc79cd8b4e81210d0715d529e1396bc1c213ff4aaf5ea22cae440227e981f900eb44fa06fb9024e844949e8852cb3d79759794f2b21f4e1bf1fdb43cbd09f8b3ef00cee9da98a711749b961fc16fb414c29dba6962f6cca9fa4ff21b65508b731935ecdd4adaf27a98ab7741a7d07fa8dbde003fb6dd78d19e53c4ca2068338e40aea26547fde4ba9098cbc3dff9454fdefd1133d9ec889e649d01e0761fb643bd7331c09eeba94271794ecd56c055560076a885c5f0bedbf5331167e8856c913ac7825d71dd91d4cad7a5901b256cebe5eb5837675a2cf116c23bd23102158acc8ba3a9cb902f5acea19f0198cfc22380c6084b1614ab451cd9bc3346e99302e92b1f6742513166fece56e3e1c147dcfbed0da454fa303d0ff1206e14763cbc739a6c41db93f7a1fb0786307b5403262f292fa25bfd3beafd646e3a7fdee1d9ae0a0bf4e0670237a184d6ec241c69bba56a2a8e3cfe7980055e6e80087bc8d4852e18b5448e3b670fcb29df4960b1a2d74c7c0adb0d0eeea264aa37c0aa22c63dfb931c3845adf56a690695a529bcea78b82480428312ed7679bd999cad66edabd5762e5a77186649d0c2cb565265ba483f967408befdebb9d400f323b7e9073eb61eac3d003555b15afc084d636d6463318f3857155bea3901c50b8d8a52262a5b9f5db1bfdb5c04dae06570bf3c28fc9d773b0d23a0486a98d555c7a1923a302aa17151f77fb153f83a1ab7b8e01fd0c0cdea9628d13fba74c2807a5f1eeb6b0ecce4400e6008b2a85342fabe74c316712e682b2584ddfb76d26422fbfa9fd4100eba64674f0ac36de961f96f64d033b8695cc131d48aa64efcf9587d30fd891ada0884040f5a48e1bb6684c48b18ce075a4c51c4747873447119e1ce3155921e76da56179382415a3d76224e84d4a2775ced0a24faa8c4a6da38895bd0e40a69f83221819d81e1a4411cbeefce4c32a1f451468e08e9e0d126b43e68d3f6ae91bc6862d061361f1479350cf8352fddb2760632a910aef864160e70b4386642b62af50330cfbc09ca7ce48b12ecf5aa1a7367d8b4ee06d877e080b82af0a0c003a4e15fdd4bbe077fb5210dc0266c7eafd88b26903e4ac99cbd511fc7037c99fea80692bbc7afbb354f804618987e1af534ac220ab60a1018c9cbc367bce84fffdd315f09e385567bd3f20adacb96424e50416c1de746fcf450b7693d04bd7e18647900a17eac74588f4a6df7314d3382e0e67f5003101a50b0e77aadc4882c7983abf3f51d0a62946f6c81330a458c7c438d8cb1444d9a5e44489befedc9fc5008986d9cdef083a8b9c6dbf9d5aaad1011c302be706dc072d75935ba642e6b98502e5161e1e16e6eb91e687733e8a92ccaede33fcd40a4fd5ab7ef0e008930f19ed029f2b8706225d5cfb598c480c64593e3a6655ed9afe41d735fa52bbffab126d4a5946fa512f16d243eb7b662bfe85f048045404c1e0261c4e2f3d369010b3f270b02b5ab76bad1b280de2e57ff5710e8a1e4d9c692dc814f434acc4701e6247f9031777ac8207398a0190e6eff8bc8e0f3e87e98aee117f614b6b04b3496f41d57e58a6b3e7f2f6d6c6c82032ea046bcc6e857d680bac802fea4ccbafaaaf1df7ba236e94e7ed16dfd13e2b2d7cfad8826b1ed5b37defee420662c69b1ea446c50f00d648e725b7a7b322d752d5066edd4e7cb6efe6fea65eba74e8c9bd9064400cac804f6583b3b62b2a223d914f2586bb46c514e31c436c44d5ceb9a1efefe5b156793aa571b4230d3dfb6dd494361c92607a0e3ca08e6da70956d4478b38c6ea698edac2297a8e4424dcff31a50072ff63fd88fa83d9777eaddef51ad35a65e77a0080d4aa2047c5f9ddd591c32f19d3880224cd1fbc70ffbd720261c8b547d44ef9c27690f9d0e19833dd33e69e573304ba9ca63fa6348ef2202650da396c5fa338d0f30611003e9b6ecc9b9c549875f4ede7d3889e6c68e6c75c600cc5bea77b6cec6bf5bf276232e3594df7b876c3a85d719b771e9d3528a9baa369b1cf0c5005f9a3b56bb9670d1b4072dda6cd7783bdb1f82e4984de32a069ae9d1a21831dae3a9b55e8ea5d9a4af50251b2fbbe4430f5fd65c29d99c5e010bd84ad057f3c945ea393e69b23fdfb161608bd32dc8c2c6e24b26a6855fa0853f67273ac42bc2011297a88e93dc0dace6dd318028b801f6e3df93dba136eb1532ec365867d6a87c5946bb46e5dc497634afe30db66058614f27ca451f510cdf1f26857ad1d7ebc49b1417f4fe60fb93456439ef4e0b6ff3be33617f69c97c43c51417cb2dce9ecf3ef499950cc78668f82aaac21ea6db3a14dd48c41dad5f61b4a5e6d8f967e8e758576a840bb562c69aa3102dba1d0fcdba03af9857085337d6df4c48c50aec7b55418d8c34d9c4aeafa3df63f68dc0ca19683ae7008cd3c059b355830fe4b61579e00bdf3f75fbb0beea2c2c45b6709534ffb992095b7b3984cfdde2e52ea31a7984274178432f5217bd904ddaa27322a75f1f042b911653f91dfd00e1201bec750f63fc16f8cddceac5c5d929b0c51d6d5196427d16e96b3ca318a2bb2f95e9bfde75736adaf66d2a44e48a73d9606ac802768581c9dd6a472106b4fd6fa5faad48f328175e74292eae14921d90fb57fec89747a4de405285ea76dc57989a1034cea191a1432d5cee4781c61e0a761b5f74d397df6d9c5d7df93c9a56e1e86384ad829606ecb087d843b6c318ba2652cef078a829a41a730cd3247ea9503e0999e18d8eee917ea007779628692a889cf81dfba4a906c0de8366899d2420974b61cca5140309c58d97232b03b4b4393010c45b54ba3e0115b167c0a0e4f743ad25ff1991859af726dfa18471474209322fb143e36843365b5a878d5739698dfacfda8c23a16bdc458b832c8233cfbfb0d2381c66da040594afe5b4ad83f965180aa6b9bf5035582749e791e85ccf0f742cec39877231c010b78d5744c682b0fd6dc4113e64569b154151ff4002fd9d418ddaf26a995b07401b6566e1f628eff76821b80f3a335c0db089ebdb9a7ae56fb1b7eb19c078b5d53d7ecb1056cb39682072ed0ce24a08124a87ddfb86b5984bb1e1405e5adf1715c0ed7ff837fe038bb8b867a5ce5ba80522480cf54c567466a72ae44fcff867dcce6f57b6dd947ae985f673be45acfe4a216efdbbed42030d6ac2c8d69882a7b650a5443ebe844f3f82a45a0b8f80ecc4159ecf922fd7a3d984ee59d79f1645cdb8787281644923d1f7708b0facd471bfef017262ac110b055db4d468fdd6f9b831506ee081ecbef7afd3500f4c392fcead8f401162dfe5d7c05adfdccb5f4df5144959d89504937044e5d405db50e689668b92ac3857edafd7bb77859db283f1f016242eff60fa04121b606bb3c73459e894e8ae5d810cdcbfad2af435348be89b0062784e645731d8a9bde5f39975299c547c16fe0a5e04a65bfacf415931cd81af7b383e01ce039a41d03fefa00f8275223cdbec6092cda29e2b5e6b68a2ee8b55e40112ce56a22d694601c9bd3c3f1a2cd3199beeb762b0384e63a01dd129abf3c01a36e469960a15fcf0ee935dea4a184a532da3a9f833f018a2ea5e8f44583ca41c8425ce3170cf19b4831525d29c171c6ad1a6162b99f9b5cfc8f417ab3b75be42e0d95ff8fe1e2e4fe9b241ea92f3041bed86a43b47fd8fcaf7220edeab4a815316b1c6eb42c1385fdc46e80fa5e42a52654117190febd4c9e4fd5ce2a02685250cd5a489dda4fe5605a53d2b600cc087064c591b3a2e0dbbef68e232151cb07c55421743b10104a659f05dce1dfebe0bca6b24cbc39db8023584f8accdb86e2c0df69d04a158566263c8dd7f92927c4f685a48f0bd84748c6c3e69e68571dc22102dfae8f3f081736a7b4a35aceee3b4e62a5b134b717390f60d8ed4428b62c4f67bb4dd57addee7ef60b1eadc3cb273f34874cccdf797ed3eff3d32cf2bc0e2c6ccca3e5e21fff6338f9da3ea525a40b11329dc3fa150cdb95332ef88b84748ce955fd89504899173e90b4a2c65e1c1567deac38dcf7174220cb12e3692a633d6af4850f67625102f0ab75cd4abde2b4cf0c8557b83217383803e5f551eab2860961ccb267cf100caa5cb4bc1c50433aaf6ca137355802f3980b5b89db721e97cdc16848f48c304f0408b6d80deb7093ed18b87dea8e123812fe201858cca637e737af1f7294a398003b6d964c1911bed42047eccb26e24fef9f813aa7d80dc309b9e79603ab649e9518ff1f77f36fee70490c4769df7de6d6438686104df6d67fa5f8bdf4fd9f1b53b1ba27984b38d8d9c39180a895c4d98204facd38a601179316f5d8a2f454a2c0f5816b38506f4a278fb2694788112d0a917fa8cddd85e3841f34b5775d19ddd104343074bf384f46dd9f169ae812d1ad288f1a2a625fab6639c8cd6cc88ec6ef84b53c6c287c1d214805b7268fb1227334f4bbdbc51db4d9b1539c28918fde41da11f05d2ab63f611eb8905138461efa4554ee73e54f72237900579ded740d79f303519c223e3767502488d2854d8cf73f7fff32bf3fa19d13b7b93809e6518332d682c16589fd788916757f0778be5388ff4c182b543490e4f2f78dd7b6f8288d5f144952c1866845e062f68b70e52d5500acc4fc89c8d4b55b51b057c02026a77639f62409222fd22007c967c31bc6e4dd67daaf4b7b436d875239540cf1cfa027ea77f91bf01c5b439dc8d511352d5d0867818529b69b2b4b9f41c2d7f4cf1da3b3e9a38b14360941bb150bb6197b2e7098eb926eb9650074d2f55ffe39339726a32327a4f23306bd920034998454eb26b6904726f5b19d1060a7fb960e9a953463ed38c9107751ebfb18f66a53fe3251ee639cdb7fdccf9ff0785e6cf2e2e2e49a0d08f2c3d53305305dbe6782b3b63794842740df40bd8a788a31da29510734537093d8c59d1c6be3309a06a76806e409347e99e571a5133da181db91594a12e9e6c966fe1f4538811af9b9d4225f9a9900368d63069184798fc0402c64d59f69ef64cb07f1af7f8ee3b05d04e2dfd940134e2a4829b25fe517447385db87f36a9a2d7606c2e3ccb5a6f69ed8dcfe0b5328c40d43196349415206f2f531602a911cf4331a090031e69bbe4c41b3dd0eed53b36ac27d721ee38e34fbec9d096046c7e2781e31d259436e36fcb3f3804ae1ffc96f29b0bb6ea39aa4fc4b3f32f1a025ce6e2cc82d9aa4fa85cf4acd17c39920f61ad53f2c7ac032f7fb546c330ac6433299d11a76accc247abbcd443dff8ceb4d89ea0bafea5a736521cf77c15fa7b3d3f8907be39840e0142e6a01976911b01df2968dc67c62448ae850d9f26ffead60649f6d6e01b55610494426e0411eb3aea47278b70b6ee5e7675f07a377368de8c8a7d6f471f2784cc56656bf80f2468879cfb8c428cef3790922ca1ffea060a606f74325efbd58a9716a04b39d5f889657ee970deff2354e7eb35ad49a9cdc62dff578f0f8d39444d62a4293be983e0d50c27a70a834ace8f762a5153cd3fe73adbeb36031f7c788d5641d19d2a1472b437682dc7872def2dc50a441d923d14b9e9fb8348cc60efa6b35f5fac02926a4ddb5aa06252ecd59d99e053329ecc86e2261bb5baf851cc3e6efb480b86c6b4c1dcf581cb38e9f83030335759284c1f516e333f4bde6e281d01571d46ba61655e826d27e0166b49015a2227110db51b25ef60908d5841b4c0c99f701d22aac4e4b5f48abd0935bb54b32389048de1a21a2f6a5f45e6fc85d88f773fb2cb860fde0307a0f73be1a4deb6ca6dd89b660d9d779811f3fa8bdcacb49617f00046eee6bf95d4ee55eaddebe772efa6bd62479e5dc799ef64c25addce88449bc9aaf75f3bd6e8450cf52fc8b6ac90295f8e7076e9a351351ae229b8165849899e70fd2b6d30441ef6bd526b4163e4a8e3e5f8f4cc30c74234972f58a249a630b92f3c4ac19d32e997a7969b48e3caacaa8ff85b3c2cd6c5ecf80ecea77de12d5c29d792519607b424a693e8b2a0054476df6fabc8df462bc41478852c5605127a30958ba068f9edf58aca219812ab24caa15be79c37dcf1449f11365018ff772dde95a430ea08dd309104b0ab5f3d3b0ece8d58055c65cd182a64dde2d16812906f2b711d2ad7a5fa4bae6dbce40e8ead9bfc6332ba4af0078ef3e237d5ff7986c9cf1e76be347919de6887a17a0fd586e8e77be4f855e6a7ffd51fe7132778dbc35f96bde36c2a4f59329119816efac553f8087de4156fa5a715c296ab5e9a6ed936a98e09a2d4d21e0181499e75805b87318efcb86b19f07f7b246ccf122ff314b9cf8fb0971ca84c79a41e205e54c3ed0a70406644ade3d14e943b60e57a5205b7a9e8c29d3d2d0584562e803a2cd808727a134c10cf8550711244ab481d9450c9da97813f0733a2eac86d183ba5fbce7babacf68a6ef08b1ed711f0ee2e1e9b77e1a8ecb045fadc32068232418ad9bfff5ad4075fe2445aea3c4eb9c1acd19cd165aecc03b0150aa73c0c0a0a78a5703c9c4544171678da1f35a48072dcc9728d1cd7ae62320cf6865ef12c954b2ce373f3d66a779ce37d60fd7320954612a3c0f3a809422724cb9dbff0c0362c06554005304594da2e8c538df1e48f6c86c628e1b697aca52672d90ce607ec8d844bacd38d3ddb45da32d8b287bb4f4fef914adffd2fcf6c4d6529eec5821d52075679d7ea44edc149143c53d40b5efe8a0306c38deb2b5d3e1044bb6f08533ea828cf5c8bfa01c2550140b9b75f59dbe173a4f6f67b99d049c38226436a1f467ce4679a4888cb879a283ce33eb0b80ee9ce698458660cebe096b35d466a1d5b0446a131fd1c27ec2801f3270916555472bed00ff796166293048725c5fd074be0206186ea4f477e6b9838ce34078725610bd7c045718987998a62e17a22d0e0b11bb9ecab24eff5ff5e6f9d3d817d42f729e7e1fd75b39f657a5ad25bb2b61355b019645dc6ccbae80a5ef2dc4b4c94c917a7699106cb3d2d8bcaf81601acdd1162a956d19b41a86356ba92a22ec9fc428b580e2abcc781dea472ba0cfe5f68080d4cfb3962f087d71e1ebc7b1f8e7402b2933d6fce1a0c1ae39c82df20d580606af52346122fe669b9338b5d345d3883c896fc552cf0d6f6c152af417e4838e22f4de90f2e7f246aaa9e958411ada3b5ffb5a302173eedfb7795a354c5ae404eb4c16cbddb9dd5e3bfefe020b4af8f25f7686eab8feb5003c59a5e7a2c1043d978f1e8eb1464385088854b484b1989999028c87ff5f633727139e78ec2f31a48ffe101a4f6779fc749c96f6be4060bac948a9c085c9fa5aa2be3cfd3d3227a3e09daa49a9051bae4e32608d5164bd2c643a2ced4b002a728831d3e8cf0582a05630046cc97157a6a08533b4c424b97cbf37ddcc766c172b05b63f25233b4538f9a4f6aefbb53e370864d1c1feb2094024585509c15ed8e27b78696ecbccb2f4fe537b5da4a4341bc3441102df50cc65e95568a98eee6c6011926bb23d60fc7b04735db3acfab71f7ec9b2fc9d417fc0b1a7485df8be847f6d3eb2e79822839a147492e64c8692a22a9576c89a419b248b2fa14c7a4af5ec126c69e8bd68ad65f5753f8e6a1db3673c1d400b266f5d183f06574dfc87cb4bd73e51f00b7644fa52f16f91e2975ea69de6dec850b6b5eeb99a3e1535ef61c81575b3dbc0a788f622d600f19664779618b5d1e800d5b0af45c24d462d9fbba0469518553b6140c2cf0689d707f6dbbb7ab345dcf21608633349be03c675de63c325c25c705a29d7bd577877b49dc2d51fca05f9fe3fd4903b1caecc446c3de9a6572e622c9e1d48a82a37f7450c041aa45b81d1a4eac64f6f050c2412df3e4a3e0c0a3ca7c9f48bf4e6d4a2a3f6b714bc662d50f0199718c5cadc0fa75e4d5e3fcc68ceb84795820625e13675f01dd12b4a9c436ce921cc193968868cefb23e8ca8522e550e2f2be6b272e6154f96ca4ca641e89d6d7ee7eb0cd31762019d8a7c7fafd9064fa016f73778172f11a7a5201661bfcc4375341f30b660050393a3b1177a175dc30d6eeb0794762d68dc8e4089aa3a692b1248cffa6b296126d66f2f2e924a421f8559ebfe9e9a55c0282fdc817d0d2f80a90686e605f52133ea07c0de8b7b2f01cac46f99946e951611509c0dc073235cf11d3df907f1e54bf3e4301a69509ca6ce14844a5c1b90b32ee7ce48c4f4cfc7e299953b84c3d1826bd5009b05b0f266c8d8ee4ce679d05764a2f5d480780feba84c47e469b1f79dd2323905f14e1b492f00f4216945e0e4245ceffe0d1bcdec6a0921461952146340f736dcd869d2134b484b2df0cb35c7135dfa076e3fffd0eadf0e6ab67c7966f9fb72a7e97bb83ec7cb3ae83bbaec36d7056eab1fe14edf3522fb6af7c78dc11896c3d7d5adf5222850c5e1bd1665687ad0ecd2c6a09abb25a67e3754a6fe8dc7123aa51cd7e7ea2c3b6b73db666c4726aca0163d273ff2fcaa1b58a2b02bba8b6affe3825c720b9b2196f1d3dc3ee1141b3e8286a9dcf3bffc0737b7e1539ef6ebcf9abef33ecf4fc8ffedc2d5c75ea68da660b11c3e379709d08eb61025fe275ed7d1ccb841869573749b61e623dac9acebb44ba1aba520f1849c6d01a7f40e3e4b3107a7ebf9e92c4cf10635644e879740ed1e4e366839a83b683b1f4cdeb13451b695e1dc77bb95159a1da26fb6353fc5da2d3229457ae3468f4dd21422002c7d87188f63ac068e28e8fe4f460c6dbf4fa0ce88fcf4d7a5e8de8aefab30d7f784ff9ef7c4278eed3a31a3ec02479bcac98ece3075396db5d0657533a986e88b70e086779e2734f90db7d3917892fe6fd71ba1f967aafbb036e49a115b0451ac4d3403bd481a76dc791d8cf71628a1a9046d2597036d65f4dfb6c09d1899b56c02591af4e6eb4724822bbf05de49e2913688b66f18ec2c62c3f8635a3a729007141a1bfec73d3512c04297b04eb9d8c014d63129ea4ad4cf7b43af8a3ebc1d960533731ec6a35825dba427c66dd396af1e60630aab620f6f9fcd3de106687b862284793e50c685508aa4ba1b7f5c58d4e7497489afbbec8755fae108d465a28c6edf5d274ba8238c3cc64f2e2be74af78b5804544d220fa46b7fb52af4cf29280e92e42f01f610af31cb23853c2b947cfc713a6d64177395c3b109f9853eb347ef55c937608756a835bdc9126fed745ce3945c59ff9af0099cc584a5fc8c24f4f171a6c867d251a4b76e14f723e5c0a4775a2ab62a6b88e5ea2bf89b9c8835c6ec59869ffd62de4001718a2d26cd0e1851e1f4c7b09800c7ed76af7cf7ef75991666a30b3ca9d0e914bde3ac5505f5df53e040b03f89949600527368662fe563865e6c622b0d2152cea409da8c3507f94e61e598f2de2520c0b8d548ac6bb741b55bf8c02d3afbfcf99844c927fdf04e9b8f3dc00ec02fe59b997f0bc596f540e21581af418af3d246661913b15a2c0982e081207721a0d4f6e2fb27daf32ec7438c32473f443bc4ac4465c43ddc48402bb832dfa0818632bb2f32e51188537f8986c82853db3cac7e3299f8ea77abeeadc0859e0de9fe52cd5ca052400be2069b7882f87698cfd9e3d9160a30530767603532c81285dbdcdfb57f89d55d05903e664533682a31a1de4050e51a513cf0df13b414a1a6676d0e4575c1dffdea8e58c42f268da00b4e7a0dbb2b92b82f0c2ddd8a7b1d54a1904641a7e8c7fc1954937b913b4b45bf125419f87b2a29375c68bb9db377d2ec3015025f903939d2b908825e8f3a2ade733761f146fc532349d85cbde9fff92e3fc6360223bac878c8582046ec9d934222dfdff24b7e234295964b55899608d1ed76770d75cf09ea61c30c11ceb5dbdfc9bf83f8d61974a02ab1a79c41c7b24cc449ff3b8f996eb7f639a1fef2afe6b27cdeaf35b2fd2ca6449d6e62ee0b7b5ece93cbb6b37b45db0c930fc2ba065a4c4cbea3348a03c14351729ef7bfe651f008b6dfcc9eb427f1d8cad565bdf3d2d9f06a384063440c14ed893f442e3c1787345b1d52e07e8a218c4b8bf367dd58a93d094ceed903179eece35718d96a8719a16aef0e8a37864bd4ab5e2f908f03789fc272e775f3e6490b8f9cb7b707be0535f177f599fbe76fb7660b5ee5e78a50dcca0303f89aa09f4fc0e18895af31d28e32faaed31e874b7cced4a7be9b056c9bf554d7c77124341eecfb05e1c6d94c6b6040308287be007eb6b98a1bc1668cbb00a993f6035f1efb2eae26374e9e497fac9524607930665dace0bf667115e96cf25bce479f2a0df8c8fb06390381f4e2f33413b5ad2e56469147ee4978c9680fbe10acc800e7a5c1939c1f408f3f536d2b92e16f828fce821dfe857bc8812da6580fe1794d40de323efa0fc387ac8c98b928ff563bfa487540b34a8e3db8533d5268837b9f30b7f80ff94c42b94b8551538c0761b50d2e9533033e3af7e91385c25b8aa5660327b9efbcb8a5b4b1d87be02f0b7215a0f28239307722f6f8dca8a50f9dd3bc8ce7768dfc4370db24ac77a84dc0c3df7b482f3ce3837086a10505d2808f7052d4ce6ee84dc566423c98259e8a9f5195d88a17828ed7514323be0fbd6d2edd0dfb09ed08cae2d26397c1330adf5be037776b87d600f61e8be21d993d3806140d6cfd51da3a73151a192db21d1d659af7ac76f8613d039120a7ec43af8dc39e675264a6b565955eb51157ba3e7361a23d3adaad90cf9d95da7544dca00047a9eacc52aa8cd29b505b00fc3236f3c806e28c1f7a15f5a4cda5c76d38dd61d5f45898afc996a79d6621b0debf30b1c9ae0e3c5eea4ac7188244b6bb131784c541d535bf85d90a75ba274a6b4860237d95454e22916c333d79a43ac6b4340cf6cbe3d1db1a4dcc95697c00e34b12b147a6b3bfcbaebb3ca3de9b1210c871eb388b0da27f8bf253b722aec6a6db6bef3f8ee3187d389a579857cd787034344b26a142c168783182b434c1a74bdb33f2cb1ae4f61cb9eaf0e2f8517bdfb469604089df46e69dfd9fc32303ece6ae1daf5f3f0c8161ec39e42cb0b671be174f550a5fa3f2749fb5f74b6ec97faac9774636b722c8fb46fdf1fccb6a3da6ce5070e905bd5ca51d2b7814b6293f4fee66662608be28071ec675b9dc821316a007beeab2e0455e2771a0ef7d2ed3883d6023e60e93b4fb01d8e26f5496d4fbe97fd49170febc23030cd939f7f44ddcea6f3b5e0661f833f1715000f09a716e3476e48097dc3856043726582bc09b675b62595cd552c8c3ac172e458f7fb6d8491c4a9f1855917623f88d4f04ebe765c93081c68e48f2602e2d31c6ec671abb63702cff5e4d1099e2c153c292570dd3f92a59c3acbd63d9ff7bcbfdd5050b402ded723015a5c715be91374c184bdba6a41a956b1271930308f370babefacbc13ca72c9e25e9010cee924b68ce1b6c6e5e06b39a06509b3bea077349550fb4a2c96c025e96db531e98eb6886aeaa08e9b3954c760575426e525bddd47677bc23db0c63cb9bd072758902c861997aa3129b46249b9e36422f93ab59fab7991150cb619b717289b8ca76082770111901e9c16c83719c3056e16873664926a5be55f22667f00b2b1909c75817775d21a7fd5e9f4251308f10ee69f6df6248afad9da3e9a312bad5c17d149c41076dcc9be004b9656c98690bbb6512411d4620b1276f0f741f05d45560767ff4658c5f9b38c82a89146321ec3da2be392f5a1d309d1548f6f2bbab8e9ac022e84ef433ac000ab8c3764bfc1a636c886d5e97498f55028ef66532d6face10d7bee98508b677cb1ab1791ea4cdf84645138caa24bb06a7f5cbc30025f4f7f549ca5bbe741dac5da10816718db332cf7a75def6c98361c356d27644f1c3b78098c15efd67a95f30563499c74f2ff536b56ed3a714255da13e7b664be91818556acea7888a32605988c01588539bd737f40e69f62cb1a53a17b3c796d817bc7efcdd8bb383b0b6f586da848903f985f57072f5a750bd3adaaa09a23ae84bb0b5894cdf7c744dc63fb186f11ba578161d023a3661f69698036322b135718eef509c87f1efcb59015408a4df27d7fd7f343b5e19d2a07ab1b2df4f576705b9244e181268e8a6fef940fd9e1d151c6ee9eca9d6d770d3752e15390a812c2323c69b8f535db2f08db6e63f108d77e25df60d9256c94b3fe74d2ba91eb330989d80bbf2e52300aa1f302078c7b1e47b99e21330f2fd5c130614fb877fc7f2d50f54ee1b5458f40aad373bcb73a5b42d0b45a1f799cbda59e4475e85325ea4da53a310234f0b4f31ba38ac7e1ca8e94cba8aff7f1174532fd52ce49991c357cd44b56eb315e29d93a29382f3a685282909be181fab2e32ff68c7e6cd9a6c70a949341f87d5e5ff25af9c9b11a5967de774b6d0866c091e9a7430592a3d022ecfb86b4a2db7adb383391a2c8ca369c19dac92952448ebc6acd13d27ca9ccdcc18ef91a0a006562b04942f4a10b7320eb81e094b78d75b59bacd777c0d8e6e1533c9a438b029975668f551b37247e6f48a71bf393e575b61dea026b8fda8b86059d3347dee3c58ecc26209aa87a08069862eb8d3f63e0c9ec3f32e45d909114bf01ebdcd77e1ba168afcacde58eaad284756a0a1e6f0c33562a2101796fd949a4f0dd5184017bf0d646851a67c403ca6e62f04bcbec85f1bfe9bc9abd0559ee01e7c17cade0b7f71a1bd4f5fd4d22f3c24af1fb615cfb6afa61b3c3f24df4dbc42961a63c7a3ab88f4916d031d1c79b0bdd6126b2d20ecaa91787df2ac5b7fc3108899cce81d160644cacac0dcf46abec125d7ecb57f1b64b26cec1bdd5ba4e0ed641afab06b484b4b16f337e16e8fc44d53704140a0f4517a4007d31969c17766bf5f7c97b61b903a3327ca67833ee06ec3904cd8c694bd366f94d128d93d95cf6bc967ab5f045144b1c0fe00c1eba4bd607bf8247746600a035660a4bc85e6ba6873258ae28162ce69ae2dada44e52d6c59dff8a96eb7441c4e9678ed62aaa9326cc1567169154ebf1a013fb26411bacc95cddcb13e18144b83925a9e46eec4963f81e9c84319d5da00aee4acf9ebcb92bf4cd5070cf93e84d43cd67d94e98083efc622fae7687ce1408e6b380c776ba68fe284529e3e71b15f9d869a27c2bd85c65eff0ddc4bcb2ccabeca390554ea6045000164230f9b31b2676d4b60a068832d9d6dd0d7963c52209643bdc1a2d20535a1cfd5e15184f9fec5832f8dbd1cba3db93afdd7fec7abe0c64cabfa1ad80d4b8f29e8f4cbbcecf93fe89f1f4cb4a99a45aef7fc39a9e1ff62fe78f8f952d539d43d267345f8d283307846d14f2ee88a089b3ef00c5dcc1d917f3e2a6cc83a7460b62de7c9acdac15da8795a0ccdf1c96cce94f4bb835e177af499578300236ebb55438ea264f82df753b0242f33cdc362b205bbfe4286154aee8af25eae9e7e740236ab5df80d0be3744b4f969472a9932352d38202aa25d7eab0a939fc514d7eb0cffd7326cd0dd9c3fbfd3c6a8d22c5dffaf2487475d3c60ea1f4ae259bc2bcf844a42dd6829b38ee657c0ba323d025d62ad7c3d6f7c0336ed61463e1e038e2662acc6439719fb7ea21858b9df5924f23dfcd3800585a099e24bae92cf55b14f040a8f143a0a63937c5a94fbafe40bb1f6fa1e7fc0afcb7f5b68632fcfc907dc9f3fcc5dbcbc6374fe8f111c9a9f11f00940fe2e56854b844c1b792959379f3c236b0859dfd60140ac0aac42f78ef54974a1eb77a4efec9078ee62c553bed5dbe1bd219e398aefa57f5d442fbc34fe6b1a0fa0338b642d99b7685f578292d83db3ef7ef49031fbc60d0d9037542b752b1762dad110a3e0634a42b81c378870786d63b74db40995b6be39659298dd25dce48e3f6c791d9a4dfd509cddb1ce455b4f765c42dd8ff2f0d489c068f4d684b2b1d206775b1f5e378535bc6d0aa3d6584b999653a6d5b582b1739699f53af9b3169080e0b0690d55ffda8515b4ef5aab637ca773370425be959a5a1388a7eed3259387473fb1f38db0bc2bfb3d194e2102df295a7e214708a0275dbf78f011b8eaa51926299d4d98fb3fd4805f21e2e603e54365fce7f0617ba5ee591def960201863eebfc8ad80c943d493182c6d107a8f3c1eb533cac9857bc28d7fd7d50395db55b08435a706c560e9d58f4fb2f6db59ea0bf12f5491c2e59a5ea0d19e7e0b758dae61a7936eccc8619026daddcf8c1b447bc9facf4a7a9d0d08dd933663dc40aa369249fdf39f6b05f5e3285dfd2ec369e0f2ff41d74cc325f1cb19cddd2c74ffe781eacdc92f0341f18940ab0f6e9ba61d04a3c3c7d6927670feae864e9650fa85d4891fc569e570345ee8db926f0ac246165f2a60d148561d12b01b6d0ed62c22895e89ba91459668ff35e5e6e093ad244c709665a771591e8ea6d49b6cc77b90cd52af820f877ccb1b334928ece883a57461d6f9977d0a03832e1d7ddfb15511d19243bb39b29bf706fc145fcf28518ddec03fed987f9c9d1ac9752dd3041b5481ca2fa131218ab8a54719c573239f3f2772eb3ede4c5c39907356b843683620f78ad2ec2dac9f32b32b94e10677ca61ef7e7dada4d6e02cbc4fe91d3e8df1982042a2b455dd2c63a53ea4194b48eefc32eaff8f8634fbd1b29b9d6459701fa7ca0d5264ef12a45b3aa353177c5d01a72de4e0e6b3d7fec7b3bcfd5814ca184039a2cd51ba0dd091db2733265d0813f80ca90f2ec01e86a43c9854f71c15e1c003d5d3faacf1aecef43c6ce0fa94c9f510047250d900147fdda288bb3aa2202188ad8f82dd7bb2b9901fed6aa6eb5ddb2c18b4d0567b54237cbb04390d73add16628d84439771c7703f90d1363ec701003462f76ea0869449fd54fec25c64390a6d653a1a125b148f13947f7e4f48e265cd7eb2b61d1a70693cb0e6d94fa29086df4fc4479e4adafeff54b1ee44cb57029a795404098f7d932eed15efba4131a08a1a650ebbd3f146f5b5810900b126879170d42008b6abfce974de027c886e8c320cc5b3fad2b515adf2c2a82f254ace1dd7bb84285fddac3d1f6fd09918bba62b2bd1af45567c0f00d1f5c832ebeff9fae1f1ceb36eac1ccba8f5ce4872fe40bfbf4b283eedfed5901af8c7bb9897b955cd229509a980c80a80a243dd0b632d127202fb5a58b3eb6d17ff693140ffdec063de6b14c735d0d0e87a59dfc4cbcd713a6c2fc7a40727f5ce8debed34e4367938b4defcb3076935fc4dd047ed1ff013f9c320dee1c09afb46ba3df8d015cc2c20b448462eb073f199cb8c170e2880d6a682c1bb12011ce3c5ae3a677b9aa303baf83458dd2c4560550c8fdb338ddcdffe75a75536905e66c01a0fd861999341f4a6a51ba94d4cbc0403ef7de6104555ab95fc8bbc2be464a5072e7464d8b6931f7cff30b33de181014f08c1d58dc4065b09826cfd1bc152fd9f1f4a3e247aa213fb2380ed4ead65b191e5a34974ed8523542d8aa2bc8d502b47e35999542606a764f17571c9ed765455dff738dd0445042db254b8058397fdcff83af72506766d409181366871342cb966a2ab60cf35684e40cffd9098e05fec7d94d2dc2608dc1c701452c7aa556709b77b0ccf4c378bfcff85f2c30ce08c77afd2aa6b2a8c6b7a81d859bdd16c9a32e3af0f4cf4cd726250e9fc2dbbf64f5f4657e2b4809af42e02ae96aebf2b0f24054557b9ef58c7e6a0bee6d9949a2bbdb7a69a822c758b73a4abf19ace727102810d7bbf799fef810cbf7535e15de221d95ca52eec55edf84f76789a9dc7b023989164dae473696340f8babf415fbff3a346208b13787c0813790e6e823e77dc87ed0dfa1a07452706ff9c9196a5155e928adfa41fd442509757359503eb6c031b71170b7a3c29b4632579a53a5a6308903960c47364bac08bd195a77b53810d21b9054f2d415a0fdd339a3c0793b9677130b27051e44893e3e0b4ec0517105a10a3fc80e4f2cc404568cc3cebc07fca47e35be4b07c0fde1525b30671295619517d439317de8c061f25bbaebb563604b874ff654d6c68ce03d1708c137f0e6b2beb1798c0e23df868e52a2fe5a516edcbf2325739c8c4949ed5ff3e2ca2e35c545b420d2845dcb1c33c2d36f6ba92f4512ea7ac784f3322465782de4223a8d1a91c3df5c0262565ea0ba4337abac45514d98d72e2e69b5a03af242e8783ae8dddd44253b61f25077fbbe94390c8a803e5907032661654e0166a7dcb0afa09fc2787b031000860d934aea4fe3f1e8bf6839f73a3b06e05e4448153e4aaae974845931c9f03243e119c81dbb5a977deef48cd50a80619dce5431b5c621a7a927d14dd985d503644df04cc21d9e58a68bb0625f78854efb21a54a86c539cf5bccaa9e105c4498e4d2a8a96835cf1897442212c82df9c3a92ec053b950e73c6c21a2e586e3c8f5f83ee62c9b26eb98fa3f8c07261eafd527d82c5a42be7276216a3046ffecfca7f4866919adaa7b553183d53f00b3916c82bac51d6ae9734148a7cc120f6a77861dc2eae1f2da587d7ee85029bbfe8bb57529b01787ad0fff9cc76966d1ace2527cb2c15a977aa13866fa78805fb2791748e6ac955cf345fb84b118aa2f66879f8fbb76b20aca2bb52663bbbf2194ce57036c9196da229d3682c7b2c8b5cd89544a10add4113fadeb14d027412e27b7d8b79238c109881609c453080200e9510c7511b0a661c8f6ddc3cfd492152d42fefe13d373f0e0f640ca844576bbae7c804a508b377fe5c6131d47476ea2b42477395959078227d29309c34d397a16fafea52672c3dab098455c8fcf808659519b1e5136dbd0069036c9d1cd075b77557171423b0947b3e9b9444b1822f6e92feaba0dff9a660dadb545810ab1545e5b68f3168ca9a29948c378a5709087907fb98e04b4878874fd520018a66e3a78bd45d3d6f15df958a3d5fa4caaee8e83bff7ad52923d271d280c3b5f583e75901e7e9f16f6e0c449ae0143a28d2e900089a08c7e904a610226b75d2edec0aa742bfd6d43fd65f3e75bceede4eee3d0dd5281fec5effacaba910c0226a329d813f2f8acec500c3359286f971412e359fcab55fb062e2b880c263660b00e37f392104182dff0f550390d43765d60a9902f8d3dfaff02fa3421967d981a0d7917eb1cd485037e235972eb26ae422feadf2311ec0601da615fafc3dad1d8244244fc2c66e6dd794ab5a9550905fa3fe7ecfa7ec0766f97ea278a331e38c5cc3b3f9deb53cd5b7b4bae86a645fa59427d5ef72766a4d2151f77fc2ee9390b727e4e69161b37e5c410223ab5ab451db294eaac120f0279daaaa76c1f1195bb01d8f24b71b82bf32dc72c8417f0d07f1916b3734cc32d7908d838a3a1a11f53202529db47b9c01ff72eb3447bbeac70bc815255909278e244eac18471c972f448a65894d7ef2e61bf88074ffce8a99cec7890865f6bf6658ccb187735cd9f6e9dec35d4847beb5d89b79ac9e3780923635d80ae8e1e3a53880d8a33b119ce340deece457763bfd8f53b930c792bdb75e84c4d2b979c728dfa3b7cd40ad1d4424b70ac810f28bd0195d12e95407c05fd0b0ee6240f3bce217a523f6de005c64838fbec148a2d5914a0ca8e43f20e1a257dfb5df7594009a6993f64a330ac65e36deb532e35d4a1c04d1028437097d450ca8a59048878ba4247cc0392108a81bd670c2b8ee991619d586444a7d3260019b8e9bba47896abd212b306fcaa55f66077d49b628f9c23557b8432c08e148132a8fcb986ecd7d890bbb9067562cd7b43465197dbb3a37c31c18159d9b5f9b75c8bb51a7d723b13bf76b40b825326b4459efb1ccff3300239b5b223f04819bc964e2e1b2bc8d31a7389ca7c4fbd95481b1d9814fc692fb9cb0a00111dd14d8dfa3b6eb505c61ef9948711cf8f3068f6e2a179868795f8f9e80dd42c8f435bc9037a77b0ba7d7ea4084be6c597be104e974a9045df58af46aa75d4a86cd0d63005acdfcffce98458021bfc201e8c7788c6086465654da666b9fafed52731172ac7675b74e0f058514a92e246bdffae4fd3982f27d0b2e2fe3b1e5d8b61f277eab89d4ed4bf955ad0ba07ecd25059faf356400568209faad30a2d50c22f50eb540f445718076632c0747935e206298a43b3be3eac5104b912166cf36c2baf60de60222339fc5ac4c92987be6b10bb617444d7f750f60a8fc9774b6437e0227d315853165af28910bec005fa72725ba67eb67c143e5232c328bba0177b96733dd784a73ced65af5fe19531424eca60435688a934bbaf671a918c72ec0747e9aae225f3f5005aafc7b443b79e288dc069e76e0444bd76598cfd11ffa0016bfe84448a0cf82bbb6b5e3e795db87d066b6b690cb19fb5f2cbcd139572239a0c62956b9384de4ea36124d68c2920d9432141ca27040363b84fe4bba62e381af0829a33c8c13de708a18c90e14496f0fbb7e76ddc0fe4f370054cfd03544ed907444cefbb916363e0e555da7dbf04d5fe90a2f0f987211af63b91e2414a8eee85be479fbf53faab70f2771948284dccd5d9e9514cef488a4c25a116420f0477721b5a617904ca5b6c6691fd09b803d169ed37c02154c615b3090583869f9cf857983f8f3c2dfca17c4b9e52a3c1a1032e14e9e8d7abf1af5345790e91d09fad1a5ce3547fb024f276cc16a1e3d991e15516cd0af656601986916af7f74df91ec9b6620808292d6edcebfecbd059a0a77820dccdebb1153ece5f2d2c922dbb31d3c52392edbba805587a8d1c73f298f5286b7331643fd115f1107bcf2511b68e016ed3d4049392f725dcade05e495869a68c5d687088f3ab20717eef9ff8cc859ad6ea0fc9a25a06009d569454b02c5eeac1c5134c5c989aebc21ef625d3d0f025ced25cdfd37c6d0778d2763a7e7f2eabcbed1ad77215d7b5ac9c2f7e84779343fb413a638079a069106c34dfbc09adf5b4014392c2c06ea36bbf179a5d4a1076bc570ebc78ad525f82a36d76a1cc3ab383ea69f51ee266eb00d87c9ee63528fb25b3cc9c29ba7d3c05bd0b46b0ccb1eabc6ddd9957c17bb22699d73257393be6d4355e8e13d77fd7dc87873eb881dd8283f49d40f6670e960ff3ff0b54fa15634636091d6793339806c48c0779cb9a955b74f191e63e5ed43c7232b250be86623d0feee96c1b035d1e7ff617a7dc305562a8399a1e3855755506021332ecb25042e13a55aedb599705e1df110d53effee2ea20e877b34355c548ed0627ff96ece7f7276ffd58e08d69136f76d1d46b49675fd2baaf54e12ac779877b190c7372a32f4eb9c8b4a0ff31b9423f0f3bdc7b019d017f32b81489316e9e48fab18ed445e25abc42a799c74779e04c76432c6f23ff362e7c99190e654988503726b3fcdedd9b039d3420f66c7435af39e900bccceacad3357802b25a9fa71eb81873c7b5861086c9a8d584dedc8d1acaa81614ed90c4bffef4ae871b134d1f110842e67b3cc5fb0b2ffafd964ac2209fea91423a1802c8904e631aa7cd3c96d4a9c1893ed6fc11cc3b521e627c5ae40b6bfb9f5c85cb2d79e531b0992fdaa15527992302a98d854ace32b1a397748ccc81dc0b761c5d7c2404818965496ed15dfbd369d23bb39b9de57173b28c94b9edc0351be8d01ebb31593fda1b6c44800d49aa4bae574ef409895d4e504787755997b34e1edbfec77cd44c83ea68706dce3ded847496d4d867c5020e28471dc8f1b5d5370d2758440f5823202794badf348b297bc776b97f3c3a782ce9fb03c02da7c585568ba31df16445c315be6866c5416362c76c585dd5399fe82846544b8deab1c2ecc43801441ae2715c34be5bab32e0694ac869870b82289bbddc71a1c51ae7ca66ee468e1d345e880d142999d2a43c4b22a39641d0d86054f1da4be505e39ffb02be37eaddd7ba8cd0384f5d6ab2332a7d0cefb68d3967fecf6ab0f91aaf9ec50fe020c114a9c181c960fea4f854ed8f9311d67d26efeeebcd5c09a1fbf4237a5dcbc2efac82809018761e0d5aa1c40b110355e4b564c7cf0e19bea2c80a3427337c9e94a94f5e4b86e0fd7401c13785fbf5edc7b0b4dfc7bf387af299fa365b23f5a871029377a0534a271e7fe199cd83bafb8648c0384c538ca72c7af23e493d2a75870efa8cc5236c00ff9536f063cde767da29b74d52becd41e5adcacb94fa01bacd274be2ca8847f44bc25f782dbfc7a648cdbef6c73b962ba36c14cdf14cff9542ddb9d11e18affc3a129f80fa1e1b151befbf48deded7e31b41d985bf612c0afff96e1e06b1a6466e703f318b65a5190496be1db684a5b24631913def952460acf450df6b0f360f6b8825e03a7295e6eb5cf1154ff41c6c08c28983bee17640fffc17205363ff0477b67c0eaca9e686c9ce99dff4ba26786c70a3abb79ba138a63a28a178b31ce51e4dc80322092c813740276952b793a4d6ca7e05de479c4ebb549324b952055af335a61ae25ad9b8d397209be163910953fa2f69cabc18af71d693ddcc1ed070533bb69e77732146e2e71116156847ed2cc2e73802dc3a7f374508c385855d4c571e1d0740f3e2fcc462ca56ee90a491c322cfc137c5ba71d874d343d6cc8b2fd4229f0c964312394bbb9cd6dea028acf3c791397f0492a95a3e3af0280473c793fc8fd3f492a85f7996206e71a871003a626defc019096634fe1239fe7abb6e0f55064b412a1e9fc688bc1a043ae840e519e72cc056c4768ab3f2121ac2f5c4117ac609c0df6e4a02bfd529e059e916c47b5e797da7b16926c66ce16fd294c3a72d09549fe1aa2d2377a22a523e093dbd0b0c566be707c09b3ba54510e7e3a28be1ce78102ef8723f11aacc4c4fc94a9148d90f8faf219926cf0e7cacff926b4ad057528b089c0fa68b0178783693b1ffd60ea02abba42b1d8324bf55ea462aa549720d4214b5682e088005ee81a46e621ad0ebe4c49840e744f32d723c863303f91bab7cff2874cd566a6bf5b834a0b91ef2c644d88ec03a2e36886f53ca7d7cbdf15a5f80c87aade92c36e034f312d9e9f03ac5a0f3ef1eb8317278dab0ab2ad5a4b6de79b2a0f3321a06ded12c643b28084fa9ba4bf0bdffc1fdd110bfe439c2131e46c8714fc4c37e4b3479abb05d6f9d3a4718ffdf0ac3c5d31127f4bf8a4498cf14d60dc98e6d8d4035d4032be50aa084d857cf4c4b8597815b4eb78fbeb6377f81300afc870be8409112084f940c428d8c763076a179b5d6085de085cd5c9186c2e46cff6d38471f3fed1b919ae6ec83af5e9677ba892a417d94500f069f089062ddc172642f38dc619018a795f6a2b33313eec6dee6a42060330101ae9c509eee4d597035dd712c992c3744c9845adbea624cb17248657945ad7b1bdb5a9ad049393f399eb32e60bce6b4854f2916bf96ecbd5ecb1f8c98262ec3f8ed0a321da9070940ed3f39ef682eeeaa5bbe13cb4d84a8635a830f2bb6a8dbc732c97a297d65f47e246ea2db57aa4af813472b452ce46b9f4c03f24c2e962ee8e4f316694443b50dc05d50caef6970599a002dc18f918405306553904ed98fc41d3e9f99cd4ad442b58b9bd357cc05db7546443b62b5f061b1e6d1ef74fb4d535c2b25d704d79bf0a5afa6c5288d24e8a2b2f78b28cd7e55dda8ef4ed0915c865520e2d33ae10b2a38d39b3f22b2a8b43cd99d32d9a1caba59d06ccbfba9294f494d41ff04b248944f58dc0ac71c45872b37692046a6eb639e3159e8350c630e8e4467e6f1071e2bf521840cb986748c0c4b10ed46c22f013f6e82e76837332272cc2ed9078172274083b2382eb3e324dd4cd251ccf42c76972a5bf01d419ef24bd5ef143dbaf26d40970c6265bacabab07fecfa67ff4a31939441167dda19a7b60851a81c4552a2b49f1961c9a4be08e5de617f3727e56dae757b8dd638d006b562236760c901ee3b5ca527a52a3de215dfe4fdd41f23ecb4d0887bb3ee1449ba5df8d71671fe9c37c1deb2b565502ddf9c87b4d0655d7c5fb3c920e61d328c7a550dddf078e130d72b5b24a8690e88f4655</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>专业相关</category>
        <category>刷题</category>
        <category>pat</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>cpp</tag>
        <tag>pat</tag>
      </tags>
  </entry>
  <entry>
    <title>python分词</title>
    <url>/category/python%E5%88%86%E8%AF%8D/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="分词"><a href="#分词" class="headerlink" title="分词"></a>分词</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">result_lcut = jieba.lcut(<span class="string">"小明硕士毕业于中国科学院计算所，后在哈佛大学深造"</span>)</span><br><span class="line">print(type(result_lcut))   <span class="comment"># list</span></span><br><span class="line">print(<span class="string">" "</span>.join(result_lcut)) <span class="comment"># 间隔空格</span></span><br></pre></td></tr></tbody></table></figure><h3 id="词语出现的位置"><a href="#词语出现的位置" class="headerlink" title="词语出现的位置"></a>词语出现的位置</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">result = jieba.tokenize(<span class="string">'中国科学院大学在北京怀柔'</span>)</span><br><span class="line">print(<span class="string">"这是默认模式的tokenize"</span>)</span><br><span class="line">print(type(result))</span><br><span class="line">print(result)</span><br><span class="line"><span class="keyword">for</span> tk <span class="keyword">in</span> result:</span><br><span class="line">    print(<span class="string">"%s\t\t start: %d \t\t end:%d"</span> % (tk[<span class="number">0</span>],tk[<span class="number">1</span>],tk[<span class="number">2</span>]))</span><br></pre></td></tr></tbody></table></figure><h3 id="选择分词模式"><a href="#选择分词模式" class="headerlink" title="选择分词模式"></a>选择分词模式</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"> </span><br><span class="line">seg_list = jieba.cut(<span class="string">"单手补扣+8板阿联只是微微一笑，他已赢回主帅信任"</span>, cut_all=<span class="literal">True</span>)</span><br><span class="line">print(<span class="string">"全模式: "</span> + <span class="string">"/ "</span>.join(seg_list))</span><br><span class="line"> </span><br><span class="line">seg_list = jieba.cut(<span class="string">"单手补扣+8板阿联只是微微一笑，他已赢回主帅信任"</span>, cut_all=<span class="literal">False</span>, HMM=<span class="literal">False</span>)</span><br><span class="line">print(<span class="string">"默认模式: "</span> + <span class="string">"/ "</span>.join(seg_list))</span><br><span class="line"> </span><br><span class="line">seg_list = jieba.cut(<span class="string">"单手补扣+8板阿联只是微微一笑，他已赢回主帅信任"</span>, cut_all=<span class="literal">False</span>, HMM=<span class="literal">True</span>)</span><br><span class="line">print(<span class="string">"默认模式+HMM: "</span> + <span class="string">"/ "</span>.join(seg_list))</span><br></pre></td></tr></tbody></table></figure><h3 id="删掉空格"><a href="#删掉空格" class="headerlink" title="删掉空格"></a>删掉空格</h3><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line">str_new = <span class="built_in">string</span>.replace(<span class="string">" "</span>, <span class="string">""</span>)</span><br><span class="line"><span class="built_in">print</span> str_new</span><br></pre></td></tr></tbody></table></figure><h3 id="停用词"><a href="#停用词" class="headerlink" title="停用词"></a>停用词</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建停用词列表</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stopwordslist</span><span class="params">()</span>:</span>  <span class="comment">#得到停用词的列表</span></span><br><span class="line">    stopwords = [line.strip() <span class="keyword">for</span> line <span class="keyword">in</span> open(<span class="string">'stopwordstest.txt'</span>,encoding=<span class="string">'UTF-8-sig'</span>).readlines()]</span><br><span class="line">    <span class="keyword">return</span> stopwords</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对句子进行中文分词</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">seg_depart</span><span class="params">(sentence)</span>:</span></span><br><span class="line">    <span class="comment"># 对文档中的每一行进行中文分词</span></span><br><span class="line">    print(<span class="string">"正在分词"</span>)</span><br><span class="line">    sentence_depart = jieba.cut(sentence.strip())</span><br><span class="line">    </span><br><span class="line">    stopwords = stopwordslist()</span><br><span class="line">    print(stopwords)</span><br><span class="line">    <span class="comment"># 输出结果为outstr</span></span><br><span class="line">    outstr = <span class="string">''</span></span><br><span class="line">    <span class="comment"># 去停用词</span></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> sentence_depart:  <span class="comment">#sentence_depart是已经分词的列表</span></span><br><span class="line">        <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> stopwords:</span><br><span class="line">            <span class="keyword">if</span> word != <span class="string">'\t'</span>:</span><br><span class="line">                outstr += word</span><br><span class="line">                outstr += <span class="string">" "</span></span><br><span class="line">    <span class="keyword">return</span> outstr</span><br><span class="line"></span><br><span class="line"><span class="comment"># 给出文档路径</span></span><br><span class="line">filename = <span class="string">"input.txt"</span>    </span><br><span class="line">outfilename = <span class="string">"out.txt"</span></span><br><span class="line">inputs = open(filename, <span class="string">'r'</span>, encoding=<span class="string">'UTF-8'</span>)</span><br><span class="line">outputs = open(outfilename, <span class="string">'w'</span>, encoding=<span class="string">'UTF-8'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将输出结果写入ou团.txt中</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> inputs:   <span class="comment">#一段一段处理</span></span><br><span class="line">    line_seg = seg_depart(line)</span><br><span class="line">    outputs.write(line_seg + <span class="string">'\n'</span>)</span><br><span class="line">    print(<span class="string">"-------------------正在分词和去停用词-----------"</span>)</span><br><span class="line">    </span><br><span class="line">outputs.close()</span><br><span class="line">inputs.close()</span><br><span class="line">print(<span class="string">"删除停用词和分词成功！！！"</span>)</span><br></pre></td></tr></tbody></table></figure><h3 id="提取文本关键词"><a href="#提取文本关键词" class="headerlink" title="提取文本关键词"></a>提取文本关键词</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba.analyse</span><br><span class="line"></span><br><span class="line">content = open(<span class="string">"NBA.txt"</span>).read()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一个参数：待提取关键词的文本</span></span><br><span class="line"><span class="comment"># 第二个参数：返回关键词的数量，重要性从高到低排序</span></span><br><span class="line"><span class="comment"># 第三个参数：是否同时返回每个关键词的权重</span></span><br><span class="line"><span class="comment"># 第四个参数：词性过滤，为空表示不过滤，若提供则仅返回符合词性要求的关键词</span></span><br><span class="line">keywords = jieba.analyse.extract_tags(content, topK=<span class="number">20</span>, withWeight=<span class="literal">True</span>, allowPOS=())</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> keywords:</span><br><span class="line">    <span class="comment"># 分别为关键词和相应的权重</span></span><br><span class="line">    print(item[<span class="number">0</span>], item[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">'\n\n'</span>)</span><br><span class="line"><span class="comment"># allowPOS默认为('n', 'vn', 'v')</span></span><br><span class="line"><span class="comment"># 即仅提取名词、动名词、动词</span></span><br><span class="line">keywords = jieba.analyse.textrank(content, topK=<span class="number">20</span>, withWeight=<span class="literal">True</span>, allowPOS=(<span class="string">'n'</span>, <span class="string">'vn'</span>, <span class="string">'v'</span>))</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> keywords:</span><br><span class="line">    print(item[<span class="number">0</span>], item[<span class="number">1</span>])</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>mobilenetv2和v3处理flower数据集</title>
    <url>/category/mobilenet%E7%B3%BB%E5%88%97/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="split-data-py"><a href="#split-data-py" class="headerlink" title="split_data.py"></a>split_data.py</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> shutil <span class="keyword">import</span> copy, rmtree</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mk_file</span><span class="params">(file_path: str)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> os.path.exists(file_path):</span><br><span class="line">        <span class="comment"># 如果文件夹存在，则先删除原文件夹在重新创建</span></span><br><span class="line">        rmtree(file_path)</span><br><span class="line">    os.makedirs(file_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 保证随机可复现</span></span><br><span class="line">    random.seed(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将数据集中10%的数据划分到验证集中</span></span><br><span class="line">    split_rate = <span class="number">0.1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 指向你解压后的flower_photos文件夹</span></span><br><span class="line">    cwd = os.getcwd()  <span class="comment">#C:\Users\cfhy\PycharmProjects\mobilenet\</span></span><br><span class="line">    <span class="comment">#print(cwd)</span></span><br><span class="line"></span><br><span class="line">    data_root = os.path.join(cwd, <span class="string">"flower_data"</span>)  <span class="comment">#拼接得到 C:\Users\cfhy\PycharmProjects\mobilenet\flower_data</span></span><br><span class="line">    <span class="comment">#print(data_root)</span></span><br><span class="line"></span><br><span class="line">    origin_flower_path = os.path.join(data_root, <span class="string">"flower_photos"</span>)</span><br><span class="line">    <span class="keyword">assert</span> os.path.exists(origin_flower_path), <span class="string">"path '{}' does not exist."</span>.format(origin_flower_path)</span><br><span class="line"></span><br><span class="line">    flower_class = [cla <span class="keyword">for</span> cla <span class="keyword">in</span> os.listdir(origin_flower_path)</span><br><span class="line">                    <span class="keyword">if</span> os.path.isdir(os.path.join(origin_flower_path, cla))]</span><br><span class="line"></span><br><span class="line">    <span class="comment">#print(flower_class)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 建立保存训练集的文件夹</span></span><br><span class="line">    train_root = os.path.join(data_root, <span class="string">"train"</span>)</span><br><span class="line">    mk_file(train_root)</span><br><span class="line">    <span class="keyword">for</span> cla <span class="keyword">in</span> flower_class:</span><br><span class="line">        <span class="comment"># 建立每个类别对应的文件夹</span></span><br><span class="line">        mk_file(os.path.join(train_root, cla))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 建立保存验证集的文件夹</span></span><br><span class="line">    val_root = os.path.join(data_root, <span class="string">"val"</span>)</span><br><span class="line">    mk_file(val_root)</span><br><span class="line">    <span class="keyword">for</span> cla <span class="keyword">in</span> flower_class:</span><br><span class="line">        <span class="comment"># 建立每个类别对应的文件夹</span></span><br><span class="line">        mk_file(os.path.join(val_root, cla))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> cla <span class="keyword">in</span> flower_class:</span><br><span class="line">        cla_path = os.path.join(origin_flower_path, cla)</span><br><span class="line">        images = os.listdir(cla_path)</span><br><span class="line">        num = len(images)</span><br><span class="line">        <span class="comment"># 随机采样验证集的索引</span></span><br><span class="line">        eval_index = random.sample(images, k=int(num*split_rate))</span><br><span class="line">        <span class="keyword">for</span> index, image <span class="keyword">in</span> enumerate(images):</span><br><span class="line">            <span class="keyword">if</span> image <span class="keyword">in</span> eval_index:</span><br><span class="line">                <span class="comment"># 将分配至验证集中的文件复制到相应目录</span></span><br><span class="line">                image_path = os.path.join(cla_path, image)</span><br><span class="line">                new_path = os.path.join(val_root, cla)</span><br><span class="line">                copy(image_path, new_path)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 将分配至训练集中的文件复制到相应目录</span></span><br><span class="line">                image_path = os.path.join(cla_path, image)</span><br><span class="line">                new_path = os.path.join(train_root, cla)</span><br><span class="line">                copy(image_path, new_path)</span><br><span class="line">            print(<span class="string">"\r[{}] processing [{}/{}]"</span>.format(cla, index+<span class="number">1</span>, num), end=<span class="string">""</span>)  <span class="comment"># processing bar</span></span><br><span class="line">        print()</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"processing done!"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></tbody></table></figure><h3 id="mobilenet-v2-py"><a href="#mobilenet-v2-py" class="headerlink" title="mobilenet_v2.py"></a>mobilenet_v2.py</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_make_divisible</span><span class="params">(ch, divisor=<span class="number">8</span>, min_ch=None)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    This function is taken from the original tf repo.</span></span><br><span class="line"><span class="string">    It ensures that all layers have a channel number that is divisible by 8</span></span><br><span class="line"><span class="string">    It can be seen here:</span></span><br><span class="line"><span class="string">    https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet/mobilenet.py</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> min_ch <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        min_ch = divisor</span><br><span class="line">    new_ch = max(min_ch, int(ch + divisor / <span class="number">2</span>) // divisor * divisor)    <span class="comment">#功能实现四舍五入，//整除向下取整</span></span><br><span class="line">    <span class="comment"># Make sure that round down does not go down by more than 10%.</span></span><br><span class="line">    <span class="keyword">if</span> new_ch &lt; <span class="number">0.9</span> * ch:</span><br><span class="line">        new_ch += divisor</span><br><span class="line">    <span class="keyword">return</span> new_ch</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(_make_divisible(16))</span></span><br><span class="line"><span class="comment"># print(_make_divisible(17))</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConvBNReLU</span><span class="params">(nn.Sequential)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, in_channels, out_channels, kernel_size=<span class="number">3</span>, stride=<span class="number">1</span> , groups=<span class="number">1</span>)</span>:</span> <span class="comment">#group为1则为普通卷积；group为in_channels则为dw卷积</span></span><br><span class="line">        padding = (kernel_size - <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">        super(ConvBNReLU, self).__init__(</span><br><span class="line">            nn.Conv2d(in_channels, out_channels, kernel_size, stride, padding, groups=groups, bias=<span class="literal">False</span>),</span><br><span class="line">            nn.BatchNorm2d(out_channels),</span><br><span class="line">            nn.ReLU6(inplace=<span class="literal">True</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InvertedResidual</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, in_channels, out_channels, stride, expand_ratio)</span>:</span></span><br><span class="line">        super(InvertedResidual, self).__init__()</span><br><span class="line">        hidden_channels = in_channels * expand_ratio</span><br><span class="line">        self.use_shortcut = stride == <span class="number">1</span> <span class="keyword">and</span> in_channels == out_channels <span class="comment">#只有当步长为1 且 输入特征矩阵的channels和输出相等时</span></span><br><span class="line"></span><br><span class="line">        layers = [] <span class="comment">## list</span></span><br><span class="line">        <span class="keyword">if</span> expand_ratio != <span class="number">1</span>: <span class="comment">#扩展因子为1时，前面的1x1 pointwise conv不用加上</span></span><br><span class="line">            <span class="comment"># 1x1 pointwise conv</span></span><br><span class="line">            layers.append(ConvBNReLU(in_channels, hidden_channels, kernel_size=<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">        layers.extend([</span><br><span class="line">            <span class="comment"># 3x3 depthwise conv</span></span><br><span class="line">            ConvBNReLU(hidden_channels, hidden_channels, stride=stride, groups=hidden_channels),</span><br><span class="line">            <span class="comment"># 1x1 pointwise conv</span></span><br><span class="line">            nn.Conv2d(hidden_channels, out_channels, kernel_size=<span class="number">1</span>, bias=<span class="literal">False</span>),</span><br><span class="line">            nn.BatchNorm2d(out_channels)</span><br><span class="line">        ])</span><br><span class="line"></span><br><span class="line">        self.conv = nn.Sequential(*layers)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.use_shortcut:</span><br><span class="line">            <span class="keyword">return</span> x + self.conv(x)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.conv(x)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MobileNetV2</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, nums_classes=<span class="number">1000</span>, alpha=<span class="number">1.0</span>, round_nearest=<span class="number">8</span>)</span>:</span>  <span class="comment">#alpha代表卷积核个数的倍率</span></span><br><span class="line">        super(MobileNetV2, self).__init__()</span><br><span class="line">        block = InvertedResidual</span><br><span class="line">        input_channels = _make_divisible(<span class="number">32</span> * alpha, round_nearest)</span><br><span class="line">        last_channels = _make_divisible(<span class="number">1280</span> * alpha, round_nearest)</span><br><span class="line"></span><br><span class="line">        inverted_residual_setting = [</span><br><span class="line">            <span class="comment"># t, c, n, s</span></span><br><span class="line">            [<span class="number">1</span>, <span class="number">16</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">            [<span class="number">6</span>, <span class="number">24</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">            [<span class="number">6</span>, <span class="number">32</span>, <span class="number">3</span>, <span class="number">2</span>],</span><br><span class="line">            [<span class="number">6</span>, <span class="number">64</span>, <span class="number">4</span>, <span class="number">2</span>],</span><br><span class="line">            [<span class="number">6</span>, <span class="number">96</span>, <span class="number">3</span>, <span class="number">1</span>],</span><br><span class="line">            [<span class="number">6</span>, <span class="number">160</span>, <span class="number">3</span>, <span class="number">2</span>],</span><br><span class="line">            [<span class="number">6</span>, <span class="number">320</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        features = []</span><br><span class="line">        <span class="comment">#conv1 layer</span></span><br><span class="line">        features.append(ConvBNReLU(<span class="number">3</span>, input_channels, stride=<span class="number">2</span>))</span><br><span class="line">        <span class="comment"># building inverted residual blockes</span></span><br><span class="line">        <span class="keyword">for</span> t, c, n, s <span class="keyword">in</span> inverted_residual_setting:</span><br><span class="line">            output_channels = _make_divisible(c * alpha, round_nearest)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">                stride = s <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span>   <span class="comment">#只有第一个bottleneck的步长为s，其他的为1</span></span><br><span class="line">                features.append(block(input_channels, output_channels, stride, t))</span><br><span class="line">                input_channels = output_channels</span><br><span class="line"></span><br><span class="line">        <span class="comment">#building last several layers</span></span><br><span class="line">        features.append(ConvBNReLU(input_channels, last_channels, kernel_size=<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">        self.features = nn.Sequential(*features) <span class="comment">#特征提取层</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#building classifier</span></span><br><span class="line">        self.avgpool = nn.AdaptiveAvgPool2d((<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">        self.classifier = nn.Sequential(</span><br><span class="line">            nn.Dropout(<span class="number">0.2</span>),</span><br><span class="line">            nn.Linear(last_channels, nums_classes)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># weight initialization</span></span><br><span class="line">        <span class="keyword">for</span> m <span class="keyword">in</span> self.modules():</span><br><span class="line">            <span class="keyword">if</span> isinstance(m, nn.Conv2d):</span><br><span class="line">                nn.init.kaiming_normal_(m.weight, mode=<span class="string">'fan_out'</span>)</span><br><span class="line">                <span class="keyword">if</span> m.bias <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                    nn.init.zeros_(m.bias)</span><br><span class="line">            <span class="keyword">elif</span> isinstance(m, nn.BatchNorm2d):</span><br><span class="line">                nn.init.ones_(m.weight)</span><br><span class="line">                nn.init.zeros_(m.bias)</span><br><span class="line">            <span class="keyword">elif</span> isinstance(m, nn.Linear):</span><br><span class="line">                nn.init.normal_(m.weight, <span class="number">0</span>, <span class="number">0.01</span>)</span><br><span class="line">                nn.init.zeros_(m.bias)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.features(x)  <span class="comment"># 7x7 1280</span></span><br><span class="line">        x = self.avgpool(x)   <span class="comment"># 1x1 1280</span></span><br><span class="line">        x = torch.flatten(x, <span class="number">1</span>)</span><br><span class="line">        x = self.classifier(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></tbody></table></figure><h3 id="mobilenet-v3-py"><a href="#mobilenet-v3-py" class="headerlink" title="mobilenet_v3.py"></a>mobilenet_v3.py</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Optional, Callable, List</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn, Tensor</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_make_divisible</span><span class="params">(ch, divisor=<span class="number">8</span>, min_ch=None)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    This function is taken from the original tf repo.</span></span><br><span class="line"><span class="string">    It ensures that all layers have a channel number that is divisible by 8</span></span><br><span class="line"><span class="string">    It can be seen here:</span></span><br><span class="line"><span class="string">    https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet/mobilenet.py</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> min_ch <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        min_ch = divisor</span><br><span class="line">    new_ch = max(min_ch, int(ch + divisor / <span class="number">2</span>) // divisor * divisor)</span><br><span class="line">    <span class="comment"># Make sure that round down does not go down by more than 10%.</span></span><br><span class="line">    <span class="keyword">if</span> new_ch &lt; <span class="number">0.9</span> * ch:</span><br><span class="line">        new_ch += divisor</span><br><span class="line">    <span class="keyword">return</span> new_ch</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConvBNActivation</span><span class="params">(nn.Sequential)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,</span></span></span><br><span class="line"><span class="function"><span class="params">                 in_channels: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 out_channels: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 kernel_size: int = <span class="number">3</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                 stride: int = <span class="number">1</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                 groups: int = <span class="number">1</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                 norm_layer: Optional[Callable[..., nn.Module]] = None,</span></span></span><br><span class="line"><span class="function"><span class="params">                 activation_layer: Optional[Callable[..., nn.Module]] = None)</span>:</span></span><br><span class="line"></span><br><span class="line">        padding = (kernel_size - <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> norm_layer == <span class="literal">None</span>:</span><br><span class="line">            norm_layer = nn.BatchNorm2d</span><br><span class="line">        <span class="keyword">if</span> activation_layer == <span class="literal">None</span>:</span><br><span class="line">            activation_layer = nn.ReLU6</span><br><span class="line"></span><br><span class="line">        super(ConvBNActivation, self).__init__(nn.Conv2d(in_channels=in_channels,</span><br><span class="line">                                                         out_channels=out_channels,</span><br><span class="line">                                                         kernel_size=kernel_size,</span><br><span class="line">                                                         stride=stride,</span><br><span class="line">                                                         padding=padding,</span><br><span class="line">                                                         groups=groups,</span><br><span class="line">                                                         bias=<span class="literal">False</span>),</span><br><span class="line">                                               norm_layer(out_channels),</span><br><span class="line">                                               activation_layer(inplace=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SqueezeExcitation</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, in_channels: int, squeeze_factor: int = <span class="number">4</span>)</span>:</span></span><br><span class="line">        super(SqueezeExcitation, self).__init__()</span><br><span class="line">        squeeze_c = _make_divisible(in_channels // squeeze_factor)</span><br><span class="line">        <span class="comment">#self.fc1 = nn.Linear(in_channels, squeeze_c)  # nn.Conv2d(in_channels, squeeze_c, 1) 这样写也可以</span></span><br><span class="line">        self.fc1 = nn.Conv2d(in_channels, squeeze_c, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#self.fc2 = nn.Linear(squeeze_c, in_channels)</span></span><br><span class="line">        self.fc2 = nn.Conv2d(squeeze_c, in_channels, <span class="number">1</span>)</span><br><span class="line">    <span class="comment"># def forward(self, x: Tensor) -&gt; Tensor:  # 必须用F，nn出现bug</span></span><br><span class="line">    <span class="comment">#     scale = nn.AdaptiveAvgPool2d(x, output_size=(1, 1))</span></span><br><span class="line">    <span class="comment">#     scale = self.fc1(scale)</span></span><br><span class="line">    <span class="comment">#     scale = nn.ReLU(scale,inplace=True)</span></span><br><span class="line">    <span class="comment">#     scale = self.fc2(scale)</span></span><br><span class="line">    <span class="comment">#     scale = nn.Hardsigmoid(scale,inplace=True)</span></span><br><span class="line">    <span class="comment">#     return scale * x</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x: Tensor)</span> -&gt; Tensor:</span></span><br><span class="line">        scale = F.adaptive_avg_pool2d(x, output_size=(<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">        scale = self.fc1(scale)</span><br><span class="line">        scale = F.relu(scale, inplace=<span class="literal">True</span>)</span><br><span class="line">        scale = self.fc2(scale)</span><br><span class="line">        scale = F.hardsigmoid(scale, inplace=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> scale * x</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InvertedResidualConfig</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,</span></span></span><br><span class="line"><span class="function"><span class="params">                 in_channels: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 kernel_size: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 expanded_c: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 out_channels: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 use_se: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 activation: str,</span></span></span><br><span class="line"><span class="function"><span class="params">                 stride: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 alpha: float)</span>:</span></span><br><span class="line">        self.in_channels = self.adjust_channels(in_channels, alpha)</span><br><span class="line">        self.kernel_size = kernel_size</span><br><span class="line">        self.expanded_c = self.adjust_channels(expanded_c, alpha)</span><br><span class="line">        self.out_channels = self.adjust_channels(out_channels, alpha)</span><br><span class="line">        self.use_se = use_se</span><br><span class="line">        self.use_hs = activation == <span class="string">"HS"</span>  <span class="comment"># whether using h-swish activation</span></span><br><span class="line">        self.stride = stride</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">adjust_channels</span><span class="params">(channels: int, alpha: float)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> _make_divisible(channels * alpha)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InvertedResidual</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,</span></span></span><br><span class="line"><span class="function"><span class="params">                 cnf: InvertedResidualConfig,</span></span></span><br><span class="line"><span class="function"><span class="params">                 norm_layer: Callable[..., nn.Module])</span>:</span></span><br><span class="line">        super(InvertedResidual, self).__init__()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> cnf.stride <span class="keyword">not</span> <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>]:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">"illegal stride value."</span>)</span><br><span class="line"></span><br><span class="line">        self.use_shortcut = (cnf.stride == <span class="number">1</span>) <span class="keyword">and</span> (cnf.in_channels == cnf.out_channels)</span><br><span class="line"></span><br><span class="line">        layers: List[nn.Module] = []</span><br><span class="line">        activation_layer = nn.Hardswish <span class="keyword">if</span> cnf.use_hs <span class="keyword">else</span> nn.ReLU</span><br><span class="line"></span><br><span class="line">        <span class="comment"># expand 1*1</span></span><br><span class="line">        <span class="keyword">if</span> cnf.in_channels != cnf.expanded_c:</span><br><span class="line">            layers.append(ConvBNActivation(cnf.in_channels,</span><br><span class="line">                                           cnf.expanded_c,</span><br><span class="line">                                           kernel_size=<span class="number">1</span>,</span><br><span class="line">                                           norm_layer=norm_layer,</span><br><span class="line">                                           activation_layer=activation_layer))</span><br><span class="line"></span><br><span class="line">        <span class="comment">#depthwise</span></span><br><span class="line">        layers.append(ConvBNActivation(cnf.expanded_c,</span><br><span class="line">                                       cnf.expanded_c,</span><br><span class="line">                                       kernel_size=cnf.kernel_size,</span><br><span class="line">                                       stride=cnf.stride,</span><br><span class="line">                                       groups=cnf.expanded_c,</span><br><span class="line">                                       norm_layer=norm_layer,</span><br><span class="line">                                       activation_layer=activation_layer))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> cnf.use_se:</span><br><span class="line">            layers.append(SqueezeExcitation(cnf.expanded_c))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># reduce 1*1</span></span><br><span class="line">        layers.append(ConvBNActivation(cnf.expanded_c,</span><br><span class="line">                                       cnf.out_channels,</span><br><span class="line">                                       kernel_size=<span class="number">1</span>,</span><br><span class="line">                                       norm_layer=norm_layer,</span><br><span class="line">                                       activation_layer=nn.Identity))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        self.block = nn.Sequential(*layers)</span><br><span class="line">        self.out_channels = cnf.out_channels</span><br><span class="line">        self.is_strided = cnf.stride &gt; <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x: Tensor)</span> -&gt; Tensor:</span></span><br><span class="line">        <span class="keyword">if</span> self.use_shortcut:</span><br><span class="line">            <span class="keyword">return</span> x + self.block(x)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.block(x)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MobileNetV3</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,</span></span></span><br><span class="line"><span class="function"><span class="params">                 inverted_residual_setting: List[InvertedResidualConfig],</span></span></span><br><span class="line"><span class="function"><span class="params">                 last_channels: int,</span></span></span><br><span class="line"><span class="function"><span class="params">                 num_classes: int = <span class="number">1000</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                 block: Optional[Callable[..., nn.Module]] = None,</span></span></span><br><span class="line"><span class="function"><span class="params">                 norm_layer: Optional[Callable[..., nn.Module]] = None)</span>:</span></span><br><span class="line">        super(MobileNetV3, self).__init__()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> inverted_residual_setting:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">"The inverted_residual_setting should not be empty."</span>)</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> (isinstance(inverted_residual_setting, List) <span class="keyword">and</span></span><br><span class="line">                  all([isinstance(s, InvertedResidualConfig) <span class="keyword">for</span> s <span class="keyword">in</span> inverted_residual_setting])):</span><br><span class="line">            <span class="keyword">raise</span> TypeError(<span class="string">"The inverted_residual_setting should be List[InvertedResidualConfig]"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> block <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            block = InvertedResidual</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> norm_layer <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            norm_layer = partial(nn.BatchNorm2d, eps=<span class="number">0.001</span>, momentum=<span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># func: 需要被扩展的函数，返回的函数其实是一个类</span></span><br><span class="line">            <span class="comment"># func</span></span><br><span class="line">            <span class="comment"># 的函数</span></span><br><span class="line">            <span class="comment"># *args: 需要被固定的位置参数</span></span><br><span class="line">            <span class="comment"># ** kwargs: 需要被固定的关键字参数</span></span><br><span class="line">            <span class="comment"># # 如果在原来的函数 func 中关键字不存在，将会扩展，如果存在，则会覆盖</span></span><br><span class="line"></span><br><span class="line">        layers: List[nn.Module] = []</span><br><span class="line"></span><br><span class="line">        firstconv_output_c = inverted_residual_setting[<span class="number">0</span>].in_channels</span><br><span class="line">        <span class="comment">#building first layer</span></span><br><span class="line">        layers.append(ConvBNActivation(<span class="number">3</span>,</span><br><span class="line">                                       firstconv_output_c,</span><br><span class="line">                                       kernel_size=<span class="number">3</span>,</span><br><span class="line">                                       stride=<span class="number">2</span>,</span><br><span class="line">                                       norm_layer=norm_layer,</span><br><span class="line">                                       activation_layer=nn.Hardswish))</span><br><span class="line"></span><br><span class="line">        <span class="comment">#building inverted residual blocks</span></span><br><span class="line">        <span class="keyword">for</span> cnf <span class="keyword">in</span> inverted_residual_setting:</span><br><span class="line">            layers.append(block(cnf, norm_layer))  <span class="comment">#v3没有模块的重复</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#building last serveral layers</span></span><br><span class="line">        lastconv_in_channels = inverted_residual_setting[<span class="number">-1</span>].out_channels</span><br><span class="line">        lastconv_out_channels = <span class="number">6</span> * lastconv_in_channels</span><br><span class="line"></span><br><span class="line">        layers.append(ConvBNActivation(lastconv_in_channels,</span><br><span class="line">                                       lastconv_out_channels,</span><br><span class="line">                                       kernel_size=<span class="number">1</span>,</span><br><span class="line">                                       norm_layer=norm_layer,</span><br><span class="line">                                       activation_layer=nn.Hardswish))</span><br><span class="line"></span><br><span class="line">        self.features = nn.Sequential(*layers)</span><br><span class="line">        self.avgpool = nn.AdaptiveAvgPool2d(<span class="number">1</span>)</span><br><span class="line">        self.classifier = nn.Sequential(nn.Linear(lastconv_out_channels, last_channels),</span><br><span class="line">                                        nn.Hardswish(inplace=<span class="literal">True</span>),</span><br><span class="line">                                        nn.Dropout(p=<span class="number">0.2</span>, inplace=<span class="literal">True</span>),</span><br><span class="line">                                        nn.Linear(last_channels, num_classes))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># initial weights</span></span><br><span class="line">        <span class="keyword">for</span> m <span class="keyword">in</span> self.modules():</span><br><span class="line">            <span class="keyword">if</span> isinstance(m, nn.Conv2d):</span><br><span class="line">                nn.init.kaiming_normal_(m.weight, mode=<span class="string">"fan_out"</span>)</span><br><span class="line">                <span class="keyword">if</span> m.bias <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                    nn.init.zeros_(m.bias)</span><br><span class="line">            <span class="keyword">elif</span> isinstance(m, (nn.BatchNorm2d, nn.GroupNorm)):</span><br><span class="line">                nn.init.ones_(m.weight)</span><br><span class="line">                nn.init.zeros_(m.bias)</span><br><span class="line">            <span class="keyword">elif</span> isinstance(m, nn.Linear):</span><br><span class="line">                nn.init.normal_(m.weight, <span class="number">0</span>, <span class="number">0.01</span>)</span><br><span class="line">                nn.init.zeros_(m.bias)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_forward_impl</span><span class="params">(self, x: Tensor)</span> -&gt; Tensor:</span></span><br><span class="line">        x = self.features(x)</span><br><span class="line">        x = self.avgpool(x)</span><br><span class="line">        x = torch.flatten(x, <span class="number">1</span>)</span><br><span class="line">        x = self.classifier(x)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x: Tensor)</span> -&gt; Tensor:</span></span><br><span class="line">        <span class="keyword">return</span> self._forward_impl(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mobilenet_v3_large</span><span class="params">(num_classes: int = <span class="number">1000</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                       reduced_tails: bool = False)</span> -&gt; MobileNetV3:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Constructs a large MobileNetV3 architecture from</span></span><br><span class="line"><span class="string">    "Searching for MobileNetV3" &lt;https://arxiv.org/abs/1905.02244&gt;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    weights_link:</span></span><br><span class="line"><span class="string">    https://download.pytorch.org/models/mobilenet_v3_large-8738ca79.pth</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        num_classes (int): number of classes</span></span><br><span class="line"><span class="string">        reduced_tail (bool): If True, reduces the channel counts of all feature layers</span></span><br><span class="line"><span class="string">            between C4 and C5 by 2. It is used to reduce the channel redundancy in the</span></span><br><span class="line"><span class="string">            backbone for Detection and Segmentation.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    alpha = <span class="number">1.0</span></span><br><span class="line">    bneck_conf = partial(InvertedResidualConfig, alpha=alpha)</span><br><span class="line">    adjust_channels = partial(InvertedResidualConfig.adjust_channels, alpha=alpha)</span><br><span class="line"></span><br><span class="line">    reduce_divider = <span class="number">2</span> <span class="keyword">if</span> reduced_tails <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    inverted_residual_setting = [</span><br><span class="line">        <span class="comment"># input_c, kernel, expanded_c, out_c, use_se, activation, stride</span></span><br><span class="line">        bneck_conf(<span class="number">16</span>, <span class="number">3</span>, <span class="number">16</span>, <span class="number">16</span>, <span class="literal">False</span>, <span class="string">"RE"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">16</span>, <span class="number">3</span>, <span class="number">64</span>, <span class="number">24</span>, <span class="literal">False</span>, <span class="string">"RE"</span>, <span class="number">2</span>),  <span class="comment"># C1</span></span><br><span class="line">        bneck_conf(<span class="number">24</span>, <span class="number">3</span>, <span class="number">72</span>, <span class="number">24</span>, <span class="literal">False</span>, <span class="string">"RE"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">24</span>, <span class="number">5</span>, <span class="number">72</span>, <span class="number">40</span>, <span class="literal">True</span>, <span class="string">"RE"</span>, <span class="number">2</span>),  <span class="comment"># C2</span></span><br><span class="line">        bneck_conf(<span class="number">40</span>, <span class="number">5</span>, <span class="number">120</span>, <span class="number">40</span>, <span class="literal">True</span>, <span class="string">"RE"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">40</span>, <span class="number">5</span>, <span class="number">120</span>, <span class="number">40</span>, <span class="literal">True</span>, <span class="string">"RE"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">40</span>, <span class="number">3</span>, <span class="number">240</span>, <span class="number">80</span>, <span class="literal">False</span>, <span class="string">"HS"</span>, <span class="number">2</span>),  <span class="comment"># C3</span></span><br><span class="line">        bneck_conf(<span class="number">80</span>, <span class="number">3</span>, <span class="number">200</span>, <span class="number">80</span>, <span class="literal">False</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">80</span>, <span class="number">3</span>, <span class="number">184</span>, <span class="number">80</span>, <span class="literal">False</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">80</span>, <span class="number">3</span>, <span class="number">184</span>, <span class="number">80</span>, <span class="literal">False</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">80</span>, <span class="number">3</span>, <span class="number">480</span>, <span class="number">112</span>, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">112</span>, <span class="number">3</span>, <span class="number">672</span>, <span class="number">112</span>, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">112</span>, <span class="number">5</span>, <span class="number">672</span>, <span class="number">160</span> // reduce_divider, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">2</span>),  <span class="comment"># C4</span></span><br><span class="line">        bneck_conf(<span class="number">160</span> // reduce_divider, <span class="number">5</span>, <span class="number">960</span> // reduce_divider, <span class="number">160</span> // reduce_divider, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">160</span> // reduce_divider, <span class="number">5</span>, <span class="number">960</span> // reduce_divider, <span class="number">160</span> // reduce_divider, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    last_channels = adjust_channels(<span class="number">1280</span> // reduce_divider)  <span class="comment"># C5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> MobileNetV3(inverted_residual_setting=inverted_residual_setting,</span><br><span class="line">                       last_channels=last_channels,</span><br><span class="line">                       num_classes=num_classes)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mobilenet_v3_small</span><span class="params">(num_classes: int = <span class="number">1000</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                       reduced_tail: bool = False)</span> -&gt; MobileNetV3:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Constructs a large MobileNetV3 architecture from</span></span><br><span class="line"><span class="string">    "Searching for MobileNetV3" &lt;https://arxiv.org/abs/1905.02244&gt;.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    weights_link:</span></span><br><span class="line"><span class="string">    https://download.pytorch.org/models/mobilenet_v3_small-047dcff4.pth</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        num_classes (int): number of classes</span></span><br><span class="line"><span class="string">        reduced_tail (bool): If True, reduces the channel counts of all feature layers</span></span><br><span class="line"><span class="string">            between C4 and C5 by 2. It is used to reduce the channel redundancy in the</span></span><br><span class="line"><span class="string">            backbone for Detection and Segmentation.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    width_multi = <span class="number">1.0</span></span><br><span class="line">    bneck_conf = partial(InvertedResidualConfig, width_multi=width_multi)</span><br><span class="line">    adjust_channels = partial(InvertedResidualConfig.adjust_channels, width_multi=width_multi)</span><br><span class="line"></span><br><span class="line">    reduce_divider = <span class="number">2</span> <span class="keyword">if</span> reduced_tail <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    inverted_residual_setting = [</span><br><span class="line">        <span class="comment"># input_c, kernel, expanded_c, out_c, use_se, activation, stride</span></span><br><span class="line">        bneck_conf(<span class="number">16</span>, <span class="number">3</span>, <span class="number">16</span>, <span class="number">16</span>, <span class="literal">True</span>, <span class="string">"RE"</span>, <span class="number">2</span>),  <span class="comment"># C1</span></span><br><span class="line">        bneck_conf(<span class="number">16</span>, <span class="number">3</span>, <span class="number">72</span>, <span class="number">24</span>, <span class="literal">False</span>, <span class="string">"RE"</span>, <span class="number">2</span>),  <span class="comment"># C2</span></span><br><span class="line">        bneck_conf(<span class="number">24</span>, <span class="number">3</span>, <span class="number">88</span>, <span class="number">24</span>, <span class="literal">False</span>, <span class="string">"RE"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">24</span>, <span class="number">5</span>, <span class="number">96</span>, <span class="number">40</span>, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">2</span>),  <span class="comment"># C3</span></span><br><span class="line">        bneck_conf(<span class="number">40</span>, <span class="number">5</span>, <span class="number">240</span>, <span class="number">40</span>, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">40</span>, <span class="number">5</span>, <span class="number">240</span>, <span class="number">40</span>, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">40</span>, <span class="number">5</span>, <span class="number">120</span>, <span class="number">48</span>, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">48</span>, <span class="number">5</span>, <span class="number">144</span>, <span class="number">48</span>, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">48</span>, <span class="number">5</span>, <span class="number">288</span>, <span class="number">96</span> // reduce_divider, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">2</span>),  <span class="comment"># C4</span></span><br><span class="line">        bneck_conf(<span class="number">96</span> // reduce_divider, <span class="number">5</span>, <span class="number">576</span> // reduce_divider, <span class="number">96</span> // reduce_divider, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>),</span><br><span class="line">        bneck_conf(<span class="number">96</span> // reduce_divider, <span class="number">5</span>, <span class="number">576</span> // reduce_divider, <span class="number">96</span> // reduce_divider, <span class="literal">True</span>, <span class="string">"HS"</span>, <span class="number">1</span>)</span><br><span class="line">    ]</span><br><span class="line">    last_channel = adjust_channels(<span class="number">1024</span> // reduce_divider)  <span class="comment"># C5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> MobileNetV3(inverted_residual_setting=inverted_residual_setting,</span><br><span class="line">                       last_channel=last_channel,</span><br><span class="line">                       num_classes=num_classes)</span><br></pre></td></tr></tbody></table></figure><h3 id="train-py"><a href="#train-py" class="headerlink" title="train.py"></a>train.py</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn, optim</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> datasets, transforms</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> model_v3 <span class="keyword">import</span> mobilenet_v3_large</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    device = torch.device(<span class="string">"cuda:0"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)</span><br><span class="line">    print(<span class="string">"using {} device."</span>.format(device))</span><br><span class="line"></span><br><span class="line">    np.random.seed(<span class="number">0</span>)</span><br><span class="line">    torch.manual_seed(<span class="number">0</span>)</span><br><span class="line">    torch.cuda.manual_seed_all(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    torch.backends.cudnn.deterministic = <span class="literal">True</span></span><br><span class="line">    <span class="comment"># torch.backends.cudnn.benchmark = False</span></span><br><span class="line">    torch.backends.cudnn.benchmark = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    batch_size = <span class="number">64</span></span><br><span class="line">    epochs = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    data_transform = {</span><br><span class="line">        <span class="string">"train"</span>: transforms.Compose([transforms.RandomResizedCrop(<span class="number">224</span>),</span><br><span class="line">                                     transforms.RandomHorizontalFlip(), <span class="comment">#随机水平翻转</span></span><br><span class="line">                                     transforms.ToTensor(),</span><br><span class="line">                                     transforms.Normalize([<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], [<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])]),</span><br><span class="line">        <span class="string">"val"</span>: transforms.Compose([transforms.Resize(<span class="number">256</span>),</span><br><span class="line">                                   transforms.CenterCrop(<span class="number">224</span>),</span><br><span class="line">                                   transforms.ToTensor(),</span><br><span class="line">                                   transforms.Normalize([<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], [<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])]),</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    train_dataset = datasets.ImageFolder(<span class="string">"flower_data/train"</span>, transform=data_transform[<span class="string">"train"</span>])</span><br><span class="line">    validate_dataset = datasets.ImageFolder(<span class="string">"flower_data/val"</span>, transform=data_transform[<span class="string">"val"</span>])</span><br><span class="line"></span><br><span class="line">    train_num = len(train_dataset)</span><br><span class="line">    val_num = len(validate_dataset)</span><br><span class="line">    <span class="comment">#print(train_num)</span></span><br><span class="line">    <span class="comment"># print(val_num)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    flower_list = train_dataset.class_to_idx</span><br><span class="line">    <span class="comment"># print(flower_list) #得到的是一个字典 {'daisy':0, 'dandelion':1, 'roses':2, 'sunflower':3, 'tulips':4}</span></span><br><span class="line">    cla_dict = dict((val, key) <span class="keyword">for</span> key, val <span class="keyword">in</span> flower_list.items())</span><br><span class="line">    <span class="comment"># print(cla_dict)  #反转得到 {0: 'daisy', 1: 'dandelion', 2: 'roses', 3: 'sunflowers', 4: 'tulips'}</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># write dict into json file</span></span><br><span class="line">    json_str = json.dumps(cla_dict, indent=<span class="number">4</span>)</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"class_indices.json"</span>, <span class="string">"w"</span>) <span class="keyword">as</span> json_file:</span><br><span class="line">        json_file.write(json_str)</span><br><span class="line"></span><br><span class="line">    nw = min([os.cpu_count(), batch_size <span class="keyword">if</span> batch_size &gt; <span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span>, <span class="number">8</span>])  <span class="comment"># number of workers</span></span><br><span class="line">    print(<span class="string">'Using {} dataloader workers every process'</span>.format(nw))</span><br><span class="line"></span><br><span class="line">    train_loader = DataLoader(train_dataset, batch_size=batch_size, shuffle=<span class="literal">True</span>)</span><br><span class="line">    validate_loader = DataLoader(validate_dataset, batch_size=batch_size, shuffle=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"using {} images for training, {} images for validation."</span>.format(train_num, val_num))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#create model</span></span><br><span class="line">    net = mobilenet_v3_large(num_classes=<span class="number">5</span>)</span><br><span class="line">    net_weights = net.state_dict()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># load pretrain weights</span></span><br><span class="line">    <span class="comment"># download url: https://download.pytorch.org/models/mobilenet_v2-b0353104.pth</span></span><br><span class="line">    model_weight_path = <span class="string">"mobilenet_v3_large.pth"</span></span><br><span class="line">    <span class="keyword">assert</span> os.path.exists(model_weight_path), <span class="string">"file {} dose not exist."</span>.format(model_weight_path) <span class="comment"># 保证模型存在</span></span><br><span class="line"></span><br><span class="line">    pre_weights = torch.load(model_weight_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># delete classifier weights 去掉最后的分类层的参数</span></span><br><span class="line">    <span class="comment">#pre_dict = {k: v for k, v in pre_weights.items() if net.state_dict()[k].numel() == v.numel()}</span></span><br><span class="line">    pre_dict = {k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> pre_weights.items() <span class="keyword">if</span> net_weights[k].numel() == v.numel()}</span><br><span class="line">    missing_keys, unexpected_keys = net.load_state_dict(pre_dict, strict=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># freeze features weights 冻结features层不更新</span></span><br><span class="line">    <span class="keyword">for</span> param <span class="keyword">in</span> net.features.parameters():</span><br><span class="line">        param.requires_grad = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    net = net.to(device)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># define loss function</span></span><br><span class="line">    loss_function = nn.CrossEntropyLoss()</span><br><span class="line">	loss_function = loss_function.to(device)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#construct an optimizer</span></span><br><span class="line">    params = [p <span class="keyword">for</span> p <span class="keyword">in</span> net.parameters() <span class="keyword">if</span> p.requires_grad]</span><br><span class="line">    optimizer = optim.Adam(params, lr=<span class="number">0.0001</span>)</span><br><span class="line"></span><br><span class="line">    best_acc = <span class="number">0.0</span></span><br><span class="line">    save_path = <span class="string">"MobileNetV3_Large.pth"</span></span><br><span class="line">    train_steps = len(train_loader)</span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(epochs):</span><br><span class="line">        <span class="comment">#train</span></span><br><span class="line">        net.train()</span><br><span class="line">        running_loss = <span class="number">0.0</span></span><br><span class="line">        train_bar = tqdm(train_loader, file=sys.stdout)</span><br><span class="line">        <span class="keyword">for</span> step, data <span class="keyword">in</span> enumerate(train_bar):</span><br><span class="line">            images, labels = data</span><br><span class="line">            images = images.to(device)</span><br><span class="line">            labels = labels.to(device)</span><br><span class="line">            outputs = net(images)</span><br><span class="line">            loss = loss_function(outputs, labels)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 优化器优化模型</span></span><br><span class="line">            optimizer.zero_grad()</span><br><span class="line">            loss.backward()</span><br><span class="line">            optimizer.step()</span><br><span class="line"></span><br><span class="line">            running_loss += loss.item()</span><br><span class="line"></span><br><span class="line">            train_bar.desc = <span class="string">"train epoch[{}/{}] loss:{:.3f}"</span>.format(epoch+<span class="number">1</span>, epochs, loss) <span class="comment">#显示训练进度条</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#validate</span></span><br><span class="line">        net.eval()</span><br><span class="line">        total_val_true_num = <span class="number">0.0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            val_bar = tqdm(validate_loader, file=sys.stdout)</span><br><span class="line">            <span class="keyword">for</span> val_data <span class="keyword">in</span> val_bar:</span><br><span class="line">                images, labels = val_data</span><br><span class="line">                images = images.to(device)</span><br><span class="line">                labels = labels.to(device)</span><br><span class="line">                outputs = net(images)</span><br><span class="line"></span><br><span class="line">                val_true_num = (outputs.argmax(<span class="number">1</span>) == labels).sum()</span><br><span class="line">                total_val_true_num += val_true_num</span><br><span class="line"></span><br><span class="line">                val_bar.desc = <span class="string">"valid epoch[{}/{}]"</span>.format(epoch + <span class="number">1</span>,</span><br><span class="line">                                                           epochs)</span><br><span class="line">        val_accurate = total_val_true_num / val_num</span><br><span class="line">        print(<span class="string">'[epoch %d] train_loss: %.3f  val_accuracy: %.3f'</span> %</span><br><span class="line">              (epoch + <span class="number">1</span>, running_loss / train_steps, val_accurate))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> val_accurate &gt; best_acc:</span><br><span class="line">            best_acc = val_accurate</span><br><span class="line">            torch.save(net.state_dict(), save_path)</span><br><span class="line"></span><br><span class="line">        print(<span class="string">'Finished Training'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></tbody></table></figure><h3 id="predict-py"><a href="#predict-py" class="headerlink" title="predict.py"></a>predict.py</h3><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> model_v2 <span class="keyword">import</span> MobileNetV2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    device = torch.device(<span class="string">"cuda:0"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)</span><br><span class="line"></span><br><span class="line">    data_transform = transforms.Compose(</span><br><span class="line">        [transforms.Resize(<span class="number">256</span>),</span><br><span class="line">         transforms.CenterCrop(<span class="number">224</span>),</span><br><span class="line">         transforms.ToTensor(),</span><br><span class="line">         transforms.Normalize([<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], [<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># load image</span></span><br><span class="line">    img_path = <span class="string">"../tulip.jpg"</span></span><br><span class="line">    <span class="keyword">assert</span> os.path.exists(img_path), <span class="string">"file: '{}' dose not exist."</span>.format(img_path)</span><br><span class="line">    img = Image.open(img_path)</span><br><span class="line">    plt.imshow(img)</span><br><span class="line">    <span class="comment"># [N, C, H, W]</span></span><br><span class="line">    img = data_transform(img)</span><br><span class="line">    <span class="comment"># expand batch dimension</span></span><br><span class="line">    img = torch.unsqueeze(img, dim=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># read class_indict</span></span><br><span class="line">    json_path = <span class="string">'./class_indices.json'</span></span><br><span class="line">    <span class="keyword">assert</span> os.path.exists(json_path), <span class="string">"file: '{}' dose not exist."</span>.format(json_path)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(json_path, <span class="string">"r"</span>) <span class="keyword">as</span> f:</span><br><span class="line">        class_indict = json.load(f)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># create model</span></span><br><span class="line">    model = MobileNetV2(num_classes=<span class="number">5</span>).to(device)</span><br><span class="line">    <span class="comment"># load model weights</span></span><br><span class="line">    model_weight_path = <span class="string">"./MobileNetV2.pth"</span></span><br><span class="line">    model.load_state_dict(torch.load(model_weight_path, map_location=device))</span><br><span class="line">    model.eval()</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="comment"># predict class</span></span><br><span class="line">        output = torch.squeeze(model(img.to(device))).cpu()</span><br><span class="line">        predict = torch.softmax(output, dim=<span class="number">0</span>)</span><br><span class="line">        predict_cla = torch.argmax(predict).numpy()</span><br><span class="line"></span><br><span class="line">    print_res = <span class="string">"class: {}   prob: {:.3}"</span>.format(class_indict[str(predict_cla)],</span><br><span class="line">                                                 predict[predict_cla].numpy())</span><br><span class="line">    plt.title(print_res)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(predict)):</span><br><span class="line">        print(<span class="string">"class: {:10}   prob: {:.3}"</span>.format(class_indict[str(i)],</span><br><span class="line">                                                  predict[i].numpy()))</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>深度学习</category>
      </categories>
      <tags>
        <tag>深度学习</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>typedef struct与struct区别</title>
    <url>/category/typedef-struct%E4%B8%8Estruct%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>详细解释c，c++关于struct的区别</p></blockquote><a id="more"></a><h2 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h2><p><code>typedef struct</code>一般用于c语言</p><p>如：</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">typdef <span class="class"><span class="keyword">struct</span> <span class="title">Student</span>{</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">}Stu;</span><br></pre></td></tr></tbody></table></figure><p><code>Stu</code>表示结构体类型，<code>Stu=Struct Stduent</code></p><p>即 可这样声明 <code>Stu stu1;</code></p><p>​ 也可这样声明 <code>Struct Student stu1;</code></p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">typdef <span class="class"><span class="keyword">struct</span>{</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">}Stu;</span><br></pre></td></tr></tbody></table></figure><p>只能用<code>Stu stu1；</code></p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line">typdef <span class="class"><span class="keyword">struct</span> <span class="title">Student</span>{</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><p>只能用<code>Struct Student stu1;</code></p><p>只有struct多用于c++</p><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>{</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">}stu1;</span><br></pre></td></tr></tbody></table></figure><p><code>stu1</code>是一个变量</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>其他</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>cpp</tag>
        <tag>struct</tag>
      </tags>
  </entry>
  <entry>
    <title>pytorch</title>
    <url>/category/pytorch/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="先安装anaconda"><a href="#先安装anaconda" class="headerlink" title="先安装anaconda"></a>先安装anaconda</h3><p>创建pytorch虚拟环境</p><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">conda create -n pytorch <span class="attribute">python</span>=3.7</span><br></pre></td></tr></tbody></table></figure><p>进入pytorch虚拟环境</p><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">conda <span class="built_in">activate</span> pytorch</span><br></pre></td></tr></tbody></table></figure><p>看安装了哪些包</p><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">conda <span class="built_in">list</span></span><br></pre></td></tr></tbody></table></figure><p>安装pytorch：进入官网安装</p><p>测试torch</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">torch.cuda.is_available()  <span class="comment"># True</span></span><br></pre></td></tr></tbody></table></figure><p><strong>pycharm</strong>–&gt;python console交互平台 —&gt; 做小测试用的</p><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.tensorboard import SummaryWriter</span><br><span class="line">按住ctrl+鼠标放在SummaryWriter上查看类SummaryWriter</span><br><span class="line">shift+enter跳到下一行行首</span><br><span class="line">alt+enter导入包提示</span><br><span class="line">ctrl+p函数有哪些参数</span><br><span class="line">ctrl+f查找字符串</span><br><span class="line">Settings  keymap 查快捷键</span><br><span class="line">Settings --&gt;case--&gt; Code Completion 关掉Match case（比如输入r，可以匹配到Resize）</span><br><span class="line">ctrl+o override base class method</span><br></pre></td></tr></tbody></table></figure><p>jupyter 查看各种帮助用的</p><p>使jupyter在pytorch环境也能用</p><figure class="highlight cmake"><table><tbody><tr><td class="code"><pre><span class="line">conda <span class="keyword">install</span> nb_conda</span><br></pre></td></tr></tbody></table></figure><p>python中两大法宝函数</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">dir(torch)   <span class="comment">#查看包</span></span><br><span class="line">dir(torch.cuda)</span><br><span class="line">dir(torch.cuda.is_available)  </span><br><span class="line"></span><br><span class="line"><span class="comment">#helpy</span></span><br><span class="line">help(torch.cuda.is_available)  <span class="comment">#查看具体工具(函数/类)用法，后不加括号(),可以这样理解：东西被别人抢了</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line">help(Dataset)  <span class="comment">#或者  Dataset??</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#获取并打开某一张图片</span></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">img_path = <span class="string">"C:\\Users\\cfhy\\PycharmProjects\\pythonProject\\dataset\\train\\ants\\0013035.jpg"</span></span><br><span class="line">img =Image.open(img_path)</span><br><span class="line">img.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#拼接路径 'dataset/train\\ants'</span></span><br><span class="line">root_dir = <span class="string">"dataset/train"</span></span><br><span class="line">label_dir = <span class="string">"ants"</span></span><br><span class="line">path = os.path.join(root_dir,label_dir)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 以列表的形式返回路径下的文件名</span></span><br><span class="line">dir_path = <span class="string">"dataset/train/ants"</span></span><br><span class="line">img_path_list = os.listdir(dir_path)</span><br><span class="line">img_path_list</span><br></pre></td></tr></tbody></table></figure><h4 id="处理数据集"><a href="#处理数据集" class="headerlink" title="处理数据集"></a>处理数据集</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyData</span><span class="params">(Dataset)</span>:</span> <span class="comment">#继承</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, root_dir, label_dir)</span>:</span></span><br><span class="line">        self.root_dir = root_dir</span><br><span class="line">        self.label_dir = label_dir</span><br><span class="line">        self.dir_path = os.path.join(self.root_dir,self.label_dir)</span><br><span class="line">        self.imgs_name = os.listdir(self.dir_path)  <span class="comment">#列表</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, idx)</span>:</span>  </span><br><span class="line">        <span class="comment">#返回img和label</span></span><br><span class="line">        label = self.label_dir</span><br><span class="line">        img_name = self.imgs_name[idx]</span><br><span class="line">        img_item_path = os.path.join(self.dir_path, img_name)</span><br><span class="line">        img = Image.open(img_item_path)</span><br><span class="line">        <span class="keyword">return</span> img, label</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.imgs_name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root_dir = <span class="string">"dataset/train"</span></span><br><span class="line">ants_label_dir = <span class="string">"ants"</span></span><br><span class="line">bees_label_dir = <span class="string">"bees"</span></span><br><span class="line"></span><br><span class="line">ants_dataset = MyData(root_dir,ants_label_dir)</span><br><span class="line">bees_dataset = MyData(root_dir,bees_label_dir)</span><br><span class="line">train_dataset = ants_dataset + bees_dataset</span><br><span class="line">      </span><br><span class="line"><span class="comment"># img, label = train_dataset[0]  #调用def __getitem__(self, idx):</span></span><br></pre></td></tr></tbody></table></figure><p>打开tensorboard</p><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">tensorboard <span class="attribute">--logdir</span>=logs <span class="attribute">--port</span>=6007</span><br><span class="line"><span class="comment">#可以按6007端口打开tensorboard，防止和其他人冲突</span></span><br></pre></td></tr></tbody></table></figure><p>测试tensorboard</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">img_path = <span class="string">"dataset/train/bees/16838648_415acd9e3f.jpg"</span></span><br><span class="line">img_PIL = Image.open(img_path)  <span class="comment">#PIL</span></span><br><span class="line">img = np.array(img_PIL)  <span class="comment">#PIL--&gt;np</span></span><br><span class="line"></span><br><span class="line">print(type(img))</span><br><span class="line">print(img.shape)  <span class="comment">#height,width,channel</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tensorboard日志记录</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"logs"</span>)</span><br><span class="line">writer.add_image(<span class="string">"test"</span>, img, <span class="number">1</span>, dataformats=<span class="string">'HWC'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># y = 2x</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    writer.add_scalar(<span class="string">"y=2x"</span>, <span class="number">2</span>*i, i)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><p>用torch.Tensor格式图片</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line">img_path = <span class="string">"dataset/train/bees/16838648_415acd9e3f.jpg"</span></span><br><span class="line">img_PIL = Image.open(img_path)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ToTensor():PIL--&gt;Tensor</span></span><br><span class="line">tran_tensor = transforms.ToTensor()</span><br><span class="line">img_tensor = tran_tensor(img_PIL)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输入的是Tensor格式,tensorboard日志记录</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"logs"</span>)</span><br><span class="line">writer.add_image(<span class="string">"tensor_img"</span>,img_tensor)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br><span class="line"></span><br><span class="line">print(type(img))</span><br><span class="line">print(img.shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tran_norm = transforms.Normalize([<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>],[<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>])</span><br><span class="line">img_norm = tran_norm(img_tensor) <span class="comment">#输入的是torch.Tensor格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Resize  PIL--&gt;PIL</span></span><br><span class="line">img_resize = transforms.Resize((<span class="number">256</span>, <span class="number">256</span>))</span><br><span class="line">img = img_resize(img_PIL)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Resize  Tensor--&gt;Tensor</span></span><br><span class="line">img_resize = transforms.Resize(<span class="number">256</span>) <span class="comment">#长宽等比缩放</span></span><br><span class="line">tran_tensor = transforms.ToTensor()</span><br><span class="line">img = img_resize(tran_tensor(img_PIL))</span><br><span class="line"></span><br><span class="line"><span class="comment">#Compose PIL--&gt;PIL--&gt;Tensor</span></span><br><span class="line">img_resize = transforms.Resize(<span class="number">256</span>)</span><br><span class="line">tran_tensor = transforms.ToTensor()</span><br><span class="line">img_compose = transforms.Compose([img_resize, tran_tensor])</span><br><span class="line">img = img_compose(img_PIL)   <span class="comment">#几乎每个方法都有一个__call__</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Compose PIL--&gt;PIL--&gt;Tensor</span></span><br><span class="line">img_rc = transforms.RandomCrop(<span class="number">256</span>)</span><br><span class="line">tran_tensor = transforms.ToTensor()</span><br><span class="line">img_compose = transforms.Compose([img_rc, tran_tensor])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    img = img_compose(img_PIL) <span class="comment">#随机裁剪10张</span></span><br><span class="line">    writer.add_image(<span class="string">"tensor_img"</span>, img, i)</span><br></pre></td></tr></tbody></table></figure><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/03/15/fLoem1aB9Auy5kz.png" alt="image.png"></p><p>cifar10数据集下载和使用</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line">data_transforms = torchvision.transforms.Compose(</span><br><span class="line">    [torchvision.transforms.ToTensor()]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">#PIL--&gt;Tensor</span></span><br><span class="line">train_set = torchvision.datasets.CIFAR10(<span class="string">"./cifar10_dataset"</span>, train=<span class="literal">True</span>, transform=data_transforms, download=<span class="literal">True</span>)</span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"./cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=data_transforms, download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(test_set[0])</span></span><br><span class="line"><span class="comment"># img, target = test_set[0]</span></span><br><span class="line"><span class="comment"># print(img)</span></span><br><span class="line"><span class="comment"># print(target)</span></span><br><span class="line"><span class="comment"># img.show()</span></span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">"logs"</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    img, target = test_set[i]</span><br><span class="line">    writer.add_image(<span class="string">"test"</span>, img, i)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><p>DataLoader:比如设置每次多少个batch_size取数据</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"./cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor())</span><br><span class="line">img, target = test_set[<span class="number">0</span>]</span><br><span class="line">print(img)</span><br><span class="line">print(img.shape)</span><br><span class="line">print(target)</span><br><span class="line"></span><br><span class="line">test_loader = DataLoader(dataset=test_set, batch_size=<span class="number">64</span>, shuffle=<span class="literal">True</span>, num_workers=<span class="number">0</span>, drop_last=<span class="literal">True</span>)</span><br><span class="line">writer = SummaryWriter(<span class="string">"logs"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#shuffle设置为True，每次epoch取的就不一样</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">    step = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> test_loader:</span><br><span class="line">        imgs, targets = data</span><br><span class="line">        writer.add_images(<span class="string">"Epoch: {}"</span>.format(epoch), imgs, step)</span><br><span class="line">        step = step + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><p>torch.nn</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span> <span class="comment">#__init__会覆盖父类__init__</span></span><br><span class="line">        super().__init__()  <span class="comment">#从父类nn.Module继承</span></span><br><span class="line">        self.conv1 = nn.Conv2d(<span class="number">1</span>, <span class="number">20</span>, <span class="number">5</span>) </span><br><span class="line">        self.conv2 = nn.Conv2d(<span class="number">20</span>, <span class="number">20</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = F.relu(self.conv1(x))</span><br><span class="line">        <span class="keyword">return</span> F.relu(self.conv2(x))</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input)</span>:</span></span><br><span class="line">        output = input + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tudui = Tudui()</span><br><span class="line">x = torch.tensor(<span class="number">1.0</span>)</span><br><span class="line">output = tudui(x)  <span class="comment">#自动调用forward方法</span></span><br><span class="line">print(output)</span><br></pre></td></tr></tbody></table></figure><p>torch.nn.functional.conv2d</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line">input = torch.tensor([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">              [<span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">              [<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">              ])</span><br><span class="line"></span><br><span class="line">kernel = torch.tensor([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>],</span><br><span class="line">                      [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">                      [<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line">print(input.shape)</span><br><span class="line">print(kernel.shape)</span><br><span class="line"></span><br><span class="line">input = torch.reshape(input, (<span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">5</span>)) <span class="comment">#输入图像</span></span><br><span class="line">kernel = torch.reshape(kernel, (<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>))  <span class="comment">#卷积核</span></span><br><span class="line"></span><br><span class="line">output = F.conv2d(input, kernel, stride=<span class="number">1</span>) <span class="comment">#卷积操作</span></span><br><span class="line">print(output)</span><br><span class="line"></span><br><span class="line">output2 = F.conv2d(input, kernel, stride=<span class="number">2</span>)</span><br><span class="line">print(output2.shape)</span><br><span class="line"></span><br><span class="line">output3 = F.conv2d(input, kernel, stride=<span class="number">1</span>, padding=<span class="number">1</span>)</span><br><span class="line">print(output3)</span><br></pre></td></tr></tbody></table></figure><p>经过一个Conv2d—-&gt;提取特征</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.conv1 = Conv2d(in_channels=<span class="number">3</span>, out_channels=<span class="number">6</span>, kernel_size=<span class="number">3</span>, stride=<span class="number">1</span>, padding=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.conv1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment">#PIL--&gt;Tensor</span></span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"./cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(), download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">test_loader = DataLoader(dataset=test_set, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line">tudui = Tudui()</span><br><span class="line">print(tudui)</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">"logs"</span>)</span><br><span class="line">step = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> test_loader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    output = tudui(imgs)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#print("imgs shape:",imgs.shape)</span></span><br><span class="line">    <span class="comment">#print("output shape:",output.shape)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#imgs shape: torch.Size([64, 3, 32, 32])</span></span><br><span class="line">    writer.add_images(<span class="string">"input"</span>, imgs, step)</span><br><span class="line">    <span class="comment">#output shape: torch.Size([64, 6, 30, 30])</span></span><br><span class="line">    output = torch.reshape(output,(<span class="number">-1</span>,<span class="number">3</span>,<span class="number">30</span>,<span class="number">30</span>)) <span class="comment">#format nchwddd  #把channel多的给了batch_size</span></span><br><span class="line">    writer.add_images(<span class="string">"output"</span>,output,step)</span><br><span class="line">    step = step + <span class="number">1</span></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><ul><li>在卷积层中stride默认值为1，而在池化层中stride默认值为kernel_size的大小</li><li>卷积后channel可能变，池化channel不变</li></ul><p>经过一个MaxPool2d—-&gt;马赛克</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision.datasets</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> MaxPool2d</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.max_pool1 = MaxPool2d(kernel_size=<span class="number">3</span>, ceil_mode=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input)</span>:</span></span><br><span class="line">        output = self.max_pool1(input)</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">"../logs"</span>)</span><br><span class="line">step = <span class="number">0</span></span><br><span class="line">tudui = Tudui()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> dataloader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    <span class="comment">#print(imgs.shape)</span></span><br><span class="line">    writer.add_images(<span class="string">"input"</span>, imgs, step)</span><br><span class="line">    output = tudui(imgs)</span><br><span class="line">    writer.add_images(<span class="string">"output"</span>, output, step)</span><br><span class="line">    step = step + <span class="number">1</span></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><p>经过一个非线性激活函数—-&gt;模糊</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> ReLU, Sigmoid</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.sigmoid1 = Sigmoid() <span class="comment">#inplace就地操作</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input)</span>:</span></span><br><span class="line">        output = self.sigmoid1(input)</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">"../logs"</span>)</span><br><span class="line">step = <span class="number">0</span></span><br><span class="line">tudui = Tudui()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> dataloader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    <span class="comment">#print(imgs.shape)</span></span><br><span class="line">    writer.add_images(<span class="string">"input"</span>, imgs, step)</span><br><span class="line">    output = tudui(imgs)</span><br><span class="line">    writer.add_images(<span class="string">"output"</span>, output, step)</span><br><span class="line">    step = step + <span class="number">1</span></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><p>BatchNorm2d(<strong>num_features</strong> ) #channel</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Linear</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.linear1 = Linear(<span class="number">196608</span>,<span class="number">10</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input)</span>:</span></span><br><span class="line">        output = self.linear1(input)</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>, drop_last=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tudui = Tudui()</span><br><span class="line"></span><br><span class="line"><span class="comment"># [64, 3, 32, 32]---&gt;[1, 1, 1, 196608]([196608])---&gt;[10]</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> dataloader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    print(imgs.shape)</span><br><span class="line">    <span class="comment">#output = torch.reshape(imgs,(1, 1, 1, -1))</span></span><br><span class="line">    output = torch.flatten(imgs)</span><br><span class="line"></span><br><span class="line">    output = tudui(output);</span><br><span class="line">    print(output.shape)</span><br></pre></td></tr></tbody></table></figure><p>h/w计算公式（padding,dilation,kernel_size,stride）</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/03/22/sXYKgc3pbUNzOaV.png" alt="image.png" style="zoom:50%"><p>为保持输入图像尺寸不变，padding应设置为卷积核大小的一半</p><blockquote><p>cifar10 model structure</p></blockquote><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/03/22/YbUOM4dfKBPv7eX.png" alt="image.png"></p><p>sequential</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">3</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">1024</span>, <span class="number">64</span>),</span><br><span class="line">            Linear(<span class="number">64</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tudui = Tudui()</span><br><span class="line"><span class="comment">#print(tudui)</span></span><br><span class="line">input = torch.ones((<span class="number">64</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>))</span><br><span class="line"></span><br><span class="line">writer = SummaryWriter(<span class="string">"../model_seq"</span>)</span><br><span class="line">writer.add_graph(tudui, input)</span><br><span class="line"></span><br><span class="line">writer.close()  <span class="comment">#一定要加关闭，不然显示不出来</span></span><br><span class="line"><span class="comment"># output = tudui(input)</span></span><br><span class="line"><span class="comment"># print(output.shape)</span></span><br></pre></td></tr></tbody></table></figure><p>loss function</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"></span><br><span class="line">y = torch.tensor([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], dtype=torch.float32)</span><br><span class="line">target = torch.tensor([<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>], dtype=torch.float32)</span><br><span class="line"></span><br><span class="line">loss1 = nn.L1Loss()</span><br><span class="line">loss = loss1(y, target)</span><br><span class="line">print(loss)</span><br><span class="line"></span><br><span class="line">loss2 = nn.MSELoss()</span><br><span class="line">loss = loss2(y, target)</span><br><span class="line">print(loss)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">y1 = torch.tensor([<span class="number">0.1</span>, <span class="number">0.2</span>, <span class="number">0.3</span>])</span><br><span class="line">target1 = torch.tensor([<span class="number">2</span>]) <span class="comment">#类别</span></span><br><span class="line">y1 = torch.reshape(y1,(<span class="number">1</span>, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">loss3 = nn.CrossEntropyLoss()</span><br><span class="line">loss = loss3(y1, target1)</span><br><span class="line">print(loss)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">3</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">1024</span>, <span class="number">64</span>),</span><br><span class="line">            Linear(<span class="number">64</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>, drop_last=<span class="literal">True</span>)</span><br><span class="line">tudui = Tudui()</span><br><span class="line"><span class="comment">#print(tudui)</span></span><br><span class="line"></span><br><span class="line">loss = nn.CrossEntropyLoss()</span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> dataloader:</span><br><span class="line">    imgs, targets = data</span><br><span class="line">    output = tudui(imgs)</span><br><span class="line">    print(imgs.shape)</span><br><span class="line">    print(output.shape)</span><br><span class="line">    print(targets.shape)</span><br><span class="line">    result_loss = loss(output, targets)</span><br><span class="line">    result_loss.backward()</span><br><span class="line">    <span class="comment">#print(result_loss)</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"> <span class="comment">#result: </span></span><br><span class="line"> <span class="comment">#   torch.Size([64, 3, 32, 32])</span></span><br><span class="line"> <span class="comment">#	 torch.Size([64, 10])</span></span><br><span class="line"> <span class="comment">#	 torch.Size([64])</span></span><br></pre></td></tr></tbody></table></figure><p>优化器</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#定义网络结构</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">3</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">1024</span>, <span class="number">64</span>),</span><br><span class="line">            Linear(<span class="number">64</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment">#加载数据集</span></span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>, drop_last=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#实例化：网络结构，loss,优化器</span></span><br><span class="line">tudui = Tudui()</span><br><span class="line">loss = nn.CrossEntropyLoss()</span><br><span class="line">optim = torch.optim.SGD(tudui.parameters(),lr=<span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">20</span>):</span><br><span class="line">    running_loss = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> dataloader:</span><br><span class="line">        imgs, targets = data</span><br><span class="line">        outputs = tudui(imgs)</span><br><span class="line">        result_loss = loss(outputs, targets) <span class="comment">#计算loss</span></span><br><span class="line">        optim.zero_grad() <span class="comment">#梯度清零</span></span><br><span class="line">        result_loss.backward() <span class="comment">#反向传播--&gt;得到梯度</span></span><br><span class="line">        optim.step()  <span class="comment">#训练--&gt;更新参数---&gt;下一次循环根据最新的参数计算梯度</span></span><br><span class="line">        running_loss += result_loss <span class="comment">#计算一轮下所有样本的loss和</span></span><br><span class="line">    print(running_loss)</span><br></pre></td></tr></tbody></table></figure><p>预训练模型pretrained</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vgg16_false = torchvision.models.vgg16(pretrained=<span class="literal">False</span>)</span><br><span class="line">vgg16_true = torchvision.models.vgg16(pretrained=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># vgg16_true.add_module("add_linear", nn.Linear(1000, 10)) #add_module没有返回值</span></span><br><span class="line">vgg16_true.classifier.add_module(<span class="string">"add_linear"</span>, nn.Linear(<span class="number">1000</span>, <span class="number">10</span>))</span><br><span class="line">print(vgg16_true)</span><br><span class="line"></span><br><span class="line">vgg16_false.classifier[<span class="number">6</span>] = nn.Linear(<span class="number">4096</span>, <span class="number">10</span>)</span><br><span class="line">print(vgg16_false)</span><br></pre></td></tr></tbody></table></figure><p>模型保存</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vgg16_false = torchvision.models.vgg16(pretrained=<span class="literal">False</span>) <span class="comment">#模型参数没有被训练</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方式1，保存的是模型结构+模型参数</span></span><br><span class="line">torch.save(vgg16_false, <span class="string">"vgg16_method1.pth"</span>)  <span class="comment">#这样既保存了模型，又保存了参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方式2，保存的是模型参数（官方推荐的）</span></span><br><span class="line">torch.save(vgg16_false.state_dict(), <span class="string">"vgg16_method2.pth"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#陷阱1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.linear1 = Linear(<span class="number">196608</span>,<span class="number">10</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input)</span>:</span></span><br><span class="line">        output = self.linear1(input)</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">tudui = Tudui()</span><br><span class="line">torch.save(tudui,<span class="string">"nn_tudui.pth"</span>)</span><br></pre></td></tr></tbody></table></figure><p>模型加载</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> nn_1 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment">#方式1，直接加载整个模型</span></span><br><span class="line">model = torch.load(<span class="string">"vgg16_method1.pth"</span>)</span><br><span class="line"><span class="comment">#print(model)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># model = torch.load("vgg16_method2.pth")</span></span><br><span class="line"><span class="comment"># print(model)</span></span><br><span class="line"><span class="comment">#方式2，先加载初始化参数的模型，再加载参数</span></span><br><span class="line">vgg16_false = torchvision.models.vgg16(pretrained=<span class="literal">False</span>)</span><br><span class="line">vgg16_false.load_state_dict(torch.load(<span class="string">"vgg16_method2.pth"</span>))</span><br><span class="line">print(vgg16_false)</span><br><span class="line"></span><br><span class="line"><span class="comment">#陷阱1</span></span><br><span class="line">model = torch.load(<span class="string">"nn_tudui.pth"</span>)</span><br><span class="line">print(model)</span><br></pre></td></tr></tbody></table></figure><p>一个完整的模型训练模板</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> model <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备数据集</span></span><br><span class="line">train_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">True</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 长度</span></span><br><span class="line">train_len = len(train_set)</span><br><span class="line">test_len = len(test_set)</span><br><span class="line">print(<span class="string">"训练集的长度：{}"</span>.format(train_len))</span><br><span class="line">print(<span class="string">"测试集的长度：{}"</span>.format(test_len))</span><br><span class="line"></span><br><span class="line"><span class="comment">#利用DataLoader加载数据集</span></span><br><span class="line">train_dataloader = DataLoader(train_set, batch_size=<span class="number">64</span>)</span><br><span class="line">test_dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#搭建模型</span></span><br><span class="line">tudui = Tudui()</span><br><span class="line"></span><br><span class="line"><span class="comment">#损失函数</span></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line"></span><br><span class="line"><span class="comment">#优化器</span></span><br><span class="line"><span class="comment">#learning_rate = 0.01</span></span><br><span class="line"><span class="comment">#1e-2 = 1*(10)^(-2)</span></span><br><span class="line">learning_rate = <span class="number">1e-2</span></span><br><span class="line">optimizer = torch.optim.SGD(tudui.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置训练网络的一些参数</span></span><br><span class="line"><span class="comment">#记录训练的次数</span></span><br><span class="line">total_train_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录测试的次数</span></span><br><span class="line">total_test_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录训练的轮数</span></span><br><span class="line">epoch = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加tensorboard</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"../log_train"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#训练步骤开始</span></span><br><span class="line">tudui.train()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line">    print(<span class="string">"-------------第{}轮训练开始-------------"</span>.format(i+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#训练步骤开始</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> train_dataloader:</span><br><span class="line">        imgs, targets = data</span><br><span class="line">        outputs = tudui(imgs)</span><br><span class="line">        loss = loss_fn(outputs, targets)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#优化器优化模型</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> total_train_step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">"训练次数：{}, loss：{}"</span>.format(total_train_step, loss.item()))</span><br><span class="line">            writer.add_scalar(<span class="string">"train_loss"</span>, loss.item(), total_train_step)</span><br><span class="line">        total_train_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#测试步骤开始</span></span><br><span class="line">    tudui.eval()</span><br><span class="line">    total_test_loss = <span class="number">0</span></span><br><span class="line">    total_test_true_num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> test_dataloader:</span><br><span class="line">            imgs, targets = data</span><br><span class="line">            outputs = tudui(imgs)</span><br><span class="line">            loss = loss_fn(outputs, targets)</span><br><span class="line">            total_test_loss += loss.item()</span><br><span class="line">            test_true_num = (outputs.argmax(<span class="number">1</span>)==targets).sum()</span><br><span class="line">            total_test_true_num += test_true_num</span><br><span class="line"></span><br><span class="line">    total_test_accuracy = total_test_true_num / test_len</span><br><span class="line">    print(<span class="string">"整个测试集上的loss：{}，整个测试集上的正确率：{}"</span>.format(total_test_loss,total_test_accuracy))</span><br><span class="line">    writer.add_scalar(<span class="string">"test_loss"</span>, total_test_loss, total_test_step)</span><br><span class="line">    writer.add_scalar(<span class="string">"test_accuracy"</span>, total_test_accuracy, total_test_step)</span><br><span class="line">    total_test_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#torch.save(tudui, "tudui_{}.pth".format(i))</span></span><br><span class="line">    <span class="comment">#torch.save(tudui.state_dict(), "tudui_{}.pth".format(i))</span></span><br><span class="line">    print(<span class="string">"模型已保存"</span>)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><p>model</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">3</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">1024</span>, <span class="number">64</span>),</span><br><span class="line">            Linear(<span class="number">64</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    tudui = Tudui()</span><br><span class="line">    input = torch.ones(<span class="number">64</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>)</span><br><span class="line">    output = tudui(input)</span><br><span class="line">    print(output.shape)</span><br></pre></td></tr></tbody></table></figure><p>使用gpu加速</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> model <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment">#网络模型、数据(输入、标注)、损失函数 可以用.cuda()----&gt;使用gpu加速</span></span><br><span class="line"><span class="comment">#训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备数据集</span></span><br><span class="line">train_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">True</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 长度</span></span><br><span class="line">train_len = len(train_set)</span><br><span class="line">test_len = len(test_set)</span><br><span class="line">print(<span class="string">"训练集的长度：{}"</span>.format(train_len))</span><br><span class="line">print(<span class="string">"测试集的长度：{}"</span>.format(test_len))</span><br><span class="line"></span><br><span class="line"><span class="comment">#利用DataLoader加载数据集</span></span><br><span class="line">train_dataloader = DataLoader(train_set, batch_size=<span class="number">64</span>)</span><br><span class="line">test_dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#搭建模型</span></span><br><span class="line">tudui = Tudui()</span><br><span class="line"><span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">    tudui = tudui.cuda()</span><br><span class="line"></span><br><span class="line"><span class="comment">#损失函数</span></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line"><span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">    loss_fn = loss_fn.cuda()</span><br><span class="line"><span class="comment">#优化器</span></span><br><span class="line"><span class="comment">#learning_rate = 0.01</span></span><br><span class="line"><span class="comment">#1e-2 = 1*(10)^(-2)</span></span><br><span class="line">learning_rate = <span class="number">1e-2</span></span><br><span class="line">optimizer = torch.optim.SGD(tudui.parameters(),lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置训练网络的一些参数</span></span><br><span class="line"><span class="comment">#记录训练的次数</span></span><br><span class="line">total_train_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录测试的次数</span></span><br><span class="line">total_test_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录训练的轮数</span></span><br><span class="line">epoch = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加tensorboard</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"../log_train"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#训练步骤开始</span></span><br><span class="line">tudui.train()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line">    print(<span class="string">"-------------第{}轮训练开始-------------"</span>.format(i+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#训练步骤开始</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> train_dataloader:</span><br><span class="line">        imgs, targets = data</span><br><span class="line">        <span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">            imgs = imgs.cuda()</span><br><span class="line">            targets = targets.cuda()</span><br><span class="line">        outputs = tudui(imgs)</span><br><span class="line">        loss = loss_fn(outputs, targets)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#优化器优化模型</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> total_train_step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">"训练次数：{}, loss：{}"</span>.format(total_train_step, loss.item()))</span><br><span class="line">            writer.add_scalar(<span class="string">"train_loss"</span>, loss.item(), total_train_step)</span><br><span class="line">        total_train_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#测试步骤开始</span></span><br><span class="line">    tudui.eval()</span><br><span class="line">    total_test_loss = <span class="number">0</span></span><br><span class="line">    total_test_true_num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> test_dataloader:</span><br><span class="line">            imgs, targets = data</span><br><span class="line">            <span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">                imgs = imgs.cuda()</span><br><span class="line">                targets = targets.cuda()</span><br><span class="line">            outputs = tudui(imgs)</span><br><span class="line">            loss = loss_fn(outputs, targets)</span><br><span class="line">            total_test_loss += loss.item()</span><br><span class="line">            test_true_num = (outputs.argmax(<span class="number">1</span>)==targets).sum()</span><br><span class="line">            total_test_true_num += test_true_num</span><br><span class="line"></span><br><span class="line">    total_test_accuracy = total_test_true_num / test_len</span><br><span class="line">    print(<span class="string">"整个测试集上的loss：{}，整个测试集上的正确率：{}"</span>.format(total_test_loss,total_test_accuracy))</span><br><span class="line">    writer.add_scalar(<span class="string">"test_loss"</span>, total_test_loss, total_test_step)</span><br><span class="line">    writer.add_scalar(<span class="string">"test_accuracy"</span>, total_test_accuracy, total_test_step)</span><br><span class="line">    total_test_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#torch.save(tudui, "tudui_{}.pth".format(i))</span></span><br><span class="line">    <span class="comment">#torch.save(tudui.state_dict(), "tudui_{}.pth".format(i))</span></span><br><span class="line">    print(<span class="string">"模型已保存"</span>)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> model <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment">#网络模型、数据(输入、标注)、损失函数 可以用.cuda()----&gt;使用gpu加速</span></span><br><span class="line"><span class="comment">#训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#定义训练的设备</span></span><br><span class="line"><span class="comment">#device = torch.device("cpu")</span></span><br><span class="line"><span class="comment">#device = torch.device("cuda")</span></span><br><span class="line">device = torch.device(<span class="string">"cuda:0"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备数据集</span></span><br><span class="line">train_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">True</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line">test_set = torchvision.datasets.CIFAR10(<span class="string">"../cifar10_dataset"</span>, train=<span class="literal">False</span>, transform=torchvision.transforms.ToTensor(),</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 长度</span></span><br><span class="line">train_len = len(train_set)</span><br><span class="line">test_len = len(test_set)</span><br><span class="line">print(<span class="string">"训练集的长度：{}"</span>.format(train_len))</span><br><span class="line">print(<span class="string">"测试集的长度：{}"</span>.format(test_len))</span><br><span class="line"></span><br><span class="line"><span class="comment">#利用DataLoader加载数据集</span></span><br><span class="line">train_dataloader = DataLoader(train_set, batch_size=<span class="number">64</span>)</span><br><span class="line">test_dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#搭建模型</span></span><br><span class="line">tudui = Tudui()</span><br><span class="line">tudui = tudui.to(device)</span><br><span class="line"></span><br><span class="line"><span class="comment">#损失函数</span></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">loss_fn = loss_fn.to(device)</span><br><span class="line"></span><br><span class="line"><span class="comment">#优化器</span></span><br><span class="line"><span class="comment">#learning_rate = 0.01</span></span><br><span class="line"><span class="comment">#1e-2 = 1*(10)^(-2)</span></span><br><span class="line">learning_rate = <span class="number">1e-2</span></span><br><span class="line">optimizer = torch.optim.SGD(tudui.parameters(),lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置训练网络的一些参数</span></span><br><span class="line"><span class="comment">#记录训练的次数</span></span><br><span class="line">total_train_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录测试的次数</span></span><br><span class="line">total_test_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录训练的轮数</span></span><br><span class="line">epoch = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加tensorboard</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"../log_train"</span>)</span><br><span class="line"></span><br><span class="line">start_time = time.time()</span><br><span class="line"><span class="comment">#训练步骤开始</span></span><br><span class="line">tudui.train()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line">    print(<span class="string">"-------------第{}轮训练开始-------------"</span>.format(i+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#训练步骤开始</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> train_dataloader:</span><br><span class="line">        imgs, targets = data</span><br><span class="line">        imgs = imgs.to(device)</span><br><span class="line">        targets = targets.to(device)</span><br><span class="line">        outputs = tudui(imgs)</span><br><span class="line">        loss = loss_fn(outputs, targets)</span><br><span class="line"></span><br><span class="line">        <span class="comment">#优化器优化模型</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> total_train_step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            end_time = time.time()</span><br><span class="line">            print(end_time-start_time)</span><br><span class="line">            print(<span class="string">"训练次数：{}, loss：{}"</span>.format(total_train_step, loss.item()))</span><br><span class="line">            writer.add_scalar(<span class="string">"train_loss"</span>, loss.item(), total_train_step)</span><br><span class="line">        total_train_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#测试步骤开始</span></span><br><span class="line">    tudui.eval()</span><br><span class="line">    total_test_loss = <span class="number">0</span></span><br><span class="line">    total_test_true_num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> test_dataloader:</span><br><span class="line">            imgs, targets = data</span><br><span class="line">            imgs = imgs.to(device)</span><br><span class="line">            targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">            outputs = tudui(imgs)</span><br><span class="line">            loss = loss_fn(outputs, targets)</span><br><span class="line">            total_test_loss += loss.item()</span><br><span class="line">            test_true_num = (outputs.argmax(<span class="number">1</span>)==targets).sum()</span><br><span class="line">            total_test_true_num += test_true_num</span><br><span class="line"></span><br><span class="line">    total_test_accuracy = total_test_true_num / test_len</span><br><span class="line">    print(<span class="string">"整个测试集上的loss：{}，整个测试集上的正确率：{}"</span>.format(total_test_loss,total_test_accuracy))</span><br><span class="line">    writer.add_scalar(<span class="string">"test_loss"</span>, total_test_loss, total_test_step)</span><br><span class="line">    writer.add_scalar(<span class="string">"test_accuracy"</span>, total_test_accuracy, total_test_step)</span><br><span class="line">    total_test_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#torch.save(tudui, "tudui_{}.pth".format(i))</span></span><br><span class="line">    <span class="comment">#torch.save(tudui.state_dict(), "tudui_{}.pth".format(i))</span></span><br><span class="line">    print(<span class="string">"模型已保存"</span>)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><p>验证模型</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision.transforms</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tudui</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">3</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">32</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">1024</span>, <span class="number">64</span>),</span><br><span class="line">            Linear(<span class="number">64</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">img_path = <span class="string">"../imgs/dog.jpeg"</span></span><br><span class="line">img_PIL = Image.open(img_path)</span><br><span class="line"></span><br><span class="line"><span class="comment">#有的图片可能是四通道，所以必须要转换成rgb</span></span><br><span class="line">img_PIL = img_PIL.convert(<span class="string">"RGB"</span>)</span><br><span class="line">print(img_PIL)</span><br><span class="line"></span><br><span class="line">tran_compose = torchvision.transforms.Compose([torchvision.transforms.Resize((<span class="number">32</span>, <span class="number">32</span>)), torchvision.transforms.ToTensor()])</span><br><span class="line"></span><br><span class="line">img = tran_compose(img_PIL)</span><br><span class="line">print(img.shape)</span><br><span class="line"></span><br><span class="line">img = torch.reshape(img, (<span class="number">1</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>))</span><br><span class="line">print(img.shape)</span><br><span class="line"></span><br><span class="line">model = torch.load(<span class="string">"tudui_9.pth"</span>, map_location=torch.device(<span class="string">"cpu"</span>))</span><br><span class="line">print(model)</span><br><span class="line"></span><br><span class="line">model.eval()</span><br><span class="line"><span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    output = model(img)</span><br><span class="line">print(output)</span><br><span class="line"></span><br><span class="line">print(output.argmax(<span class="number">1</span>))</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>深度学习</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>rails</title>
    <url>/category/rails/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/controllers/application_controller.rb</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApplicationController</span> &lt; ActionController::Base</span></span><br><span class="line">  protect_from_forgery <span class="symbol">with:</span> <span class="symbol">:exception</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span></span><br><span class="line">    render <span class="symbol">html:</span> <span class="string">'Hello, World!'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># config/routes.rb</span></span><br><span class="line">Rails.application.routes.draw <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># For details on the DSL available within this file, see http://guides.rubyonrails.org/routing.html</span></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line">  root <span class="string">'application#hello'</span>  <span class="comment">#调用hello方法</span></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="数据库配置文件"><a href="#数据库配置文件" class="headerlink" title="数据库配置文件"></a>数据库配置文件</h3><figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># config/database.yml</span></span><br><span class="line"><span class="attr">default:</span> <span class="meta">&amp;default</span></span><br><span class="line">  <span class="attr">adapter:</span> <span class="string">sqlite3</span></span><br><span class="line">  <span class="attr">pool:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">5000</span></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*default</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">db/development.sqlite3</span></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*default</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">db/test.sqlite3</span></span><br><span class="line"><span class="attr">production:</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*default</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">db/production.sqlite3</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>username</code> 数据库用户名</li><li><code>password</code> 数据库密码，与用户相对应</li><li><code>host</code> 数据库所在主机地址</li><li><code>port</code> 数据库所在主机端口号</li></ul><h3 id="数据库操作-crud"><a href="#数据库操作-crud" class="headerlink" title="数据库操作(crud)"></a>数据库操作(crud)</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OtherDb</span> &lt; ActiveRecord::Base</span></span><br><span class="line">  <span class="keyword">self</span>.abstract_class = <span class="literal">true</span></span><br><span class="line">  establish_connection(<span class="string">"typeahead"</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">OtherDb.connection().select_values(<span class="string">"SELECT codername FROM coder WHERE codername = 'educoder'"</span>, <span class="symbol">:codername</span>)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/models/user.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ActiveRecord::Base</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">user = User.new</span><br><span class="line">user.name = <span class="string">'educoder'</span></span><br><span class="line">user.email = <span class="string">'educoder@educoder.net'</span></span><br><span class="line">user.save</span><br><span class="line"></span><br><span class="line">User.create(<span class="symbol">name:</span> <span class="string">'educoder'</span>, <span class="symbol">email:</span> <span class="string">'educoder@educoder.net'</span>)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> &lt;&lt; self <span class="comment"># 实现单例模式</span></span></span><br><span class="line">    <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">    <span class="comment">#*********begin*********#</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init_data</span></span></span><br><span class="line">      <span class="keyword">self</span>.create(<span class="symbol">name:</span> <span class="string">'jack'</span>, <span class="symbol">email:</span> <span class="string">'jack@educoder.net'</span>)</span><br><span class="line">      <span class="keyword">self</span>.create(<span class="symbol">name:</span> <span class="string">'david'</span>, <span class="symbol">email:</span> <span class="string">'david@educoder.net'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">destroy</span></span></span><br><span class="line">      <span class="keyword">self</span>.where(<span class="symbol">name:</span> <span class="string">'jack'</span>).first.destroy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update_email</span></span></span><br><span class="line">      new = <span class="keyword">self</span>.where(<span class="symbol">name:</span> <span class="string">'david'</span>).first</span><br><span class="line">      new.email = <span class="string">'test@test.cn'</span></span><br><span class="line">      new.save</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#********* end *********#</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>现在我们就要实现上面设定的 <code>User</code> 数据模型，还会为它创建 <code>Web</code> 界面。二者结合起来就是一个 <code>Users</code> 资源。</p></blockquote><h3 id="创建各种表"><a href="#创建各种表" class="headerlink" title="创建各种表"></a>创建各种表</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">rails generate scaffold User <span class="symbol">name:</span>string <span class="symbol">email:</span>string</span><br><span class="line">rails <span class="symbol">db:</span>migrate <span class="comment">#(迁移数据库，更新数据模型)在 Rails 5 之前的版本中，db:migrate 命令使用 rake 执行。</span></span><br><span class="line">bundle exec rake <span class="symbol">db:</span>migrate</span><br><span class="line">rake test    <span class="comment">#（运行自动化测试组件）</span></span><br></pre></td></tr></tbody></table></figure><h3 id="搭建User数据模型"><a href="#搭建User数据模型" class="headerlink" title="搭建User数据模型"></a>搭建User数据模型</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># config/routes.rb</span></span><br><span class="line">Rails.application.routes.draw <span class="keyword">do</span></span><br><span class="line">  <span class="comment"># resources 关键词将会产生该资源的所有路由，并映射到对应的控制器动作上。</span></span><br><span class="line">  resources <span class="symbol">:users</span></span><br><span class="line">  root <span class="string">'application#hello'</span>  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/controllers/users_controller.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsersController</span> &lt; ApplicationController</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></span><br><span class="line">    @users = User.all</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  ...</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/models/user.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ActiveRecord::Base</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 以 @ 开头的实例变量在视图中自动可用。视图与控制器动作的关系也是一一对应的，比如 index 控制器动作对应的视图就是 index.html.erb ：</span></span><br><span class="line"><span class="comment"># app/views/users/index.html.erb</span></span><br><span class="line">&lt;h1&gt;Listing users&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;table&gt;</span></span><br><span class="line"><span class="regexp">  &lt;thead&gt;</span></span><br><span class="line"><span class="regexp">    &lt;tr&gt;</span></span><br><span class="line"><span class="regexp">      &lt;th&gt;Name&lt;/th</span>&gt;</span><br><span class="line">      &lt;th&gt;Email&lt;<span class="regexp">/th&gt;</span></span><br><span class="line"><span class="regexp">      &lt;th colspan="3"&gt;&lt;/th</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/tr&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/thead</span>&gt;</span><br><span class="line">  &lt;% @users.each <span class="keyword">do</span> <span class="params">|user|</span> %&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;td&gt;&lt;%= user.name %&gt;&lt;<span class="regexp">/td&gt;</span></span><br><span class="line"><span class="regexp">      &lt;td&gt;&lt;%= user.email %&gt;&lt;/td</span>&gt;</span><br><span class="line">      &lt;td&gt;&lt;%= link_to <span class="string">'Show'</span>, user %&gt;&lt;<span class="regexp">/td&gt;</span></span><br><span class="line"><span class="regexp">      &lt;td&gt;&lt;%= link_to 'Edit', edit_user_path(user) %&gt;&lt;/td</span>&gt;</span><br><span class="line">      &lt;td&gt;&lt;%= link_to <span class="string">'Destroy'</span>, user, <span class="symbol">method:</span> <span class="symbol">:delete</span>,</span><br><span class="line"><span class="symbol">data:</span> { <span class="symbol">confirm:</span> <span class="string">'Are you sure?'</span> } %&gt;&lt;<span class="regexp">/td&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/tr</span>&gt;</span><br><span class="line">  &lt;% <span class="keyword">end</span> %&gt;</span><br><span class="line">&lt;<span class="regexp">/table&gt;</span></span><br><span class="line"><span class="regexp">&lt;br&gt;</span></span><br><span class="line"><span class="regexp">&lt;%= link_to 'New User', new_user_path %&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">validates <span class="symbol">:field_name</span>, <span class="symbol">length:</span> { <span class="symbol">maximum:</span> <span class="number">10</span> },</span><br><span class="line">                       <span class="symbol">presence:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/models/user.rb</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line">  has_many <span class="symbol">:microposts</span></span><br><span class="line">  validates <span class="symbol">:name</span>, <span class="symbol">presence:</span> <span class="literal">true</span>    <span class="comment"># :name 是对写入数据库的变量的限制</span></span><br><span class="line">  validates <span class="symbol">:email</span>, <span class="symbol">presence:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/models/micropost.rb</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Micropost</span> &lt; ApplicationRecord</span></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line">  belongs_to <span class="symbol">:user</span></span><br><span class="line">  validates <span class="symbol">:content</span> , <span class="symbol">length:</span> { <span class="symbol">maximum:</span> <span class="number">140</span>} ,</span><br><span class="line">                       <span class="symbol">presence:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="静态页面"><a href="#静态页面" class="headerlink" title="静态页面"></a>静态页面</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">rails generate controller StaticPages home help</span><br><span class="line">rails destroy  controller StaticPages home help  <span class="comment"># 撤销generate</span></span><br></pre></td></tr></tbody></table></figure><p>上述命令中参数解释如下：</p><ul><li><code>controller</code> 是指定生成控制器</li><li><code>StaticPages</code> 是需要创建的控制器名</li><li><code>home</code>，<code>help</code> 是需要创建的控制器动作名</li></ul><h3 id="控制器和视图"><a href="#控制器和视图" class="headerlink" title="控制器和视图"></a>控制器和视图</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># config/routes.rb            路由</span></span><br><span class="line">Rails.application.routes.draw <span class="keyword">do</span></span><br><span class="line">  get <span class="string">'static_pages/home'</span></span><br><span class="line">  get <span class="string">'static_pages/help'</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/controllers/static_pages_controller.rb           控制器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticPages</span> &lt; ApplicationController</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">home</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">help</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/views/static_pages/home.html.erb   视图文件</span></span><br><span class="line">&lt;h1&gt;StaticPages<span class="comment">#home&lt;/h1&gt;</span></span><br><span class="line">&lt;p&gt;Find me <span class="keyword">in</span> app/views/static_pages/home.html.erb&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    </span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># app/views</span><span class="regexp">/layouts/application</span>.html.erb   布局文件</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Step1&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;%= csrf_meta_tags %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/head</span>&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;%= <span class="keyword">yield</span> %&gt;</span><br><span class="line">  &lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/html</span>&gt;</span><br></pre></td></tr></tbody></table></figure><ul><li><p>TDD：测试驱动开发，先编写单元测试用例代码，测试代码确定需要编写什么功能代码。</p></li><li><p>集成测试（测试模型，视图和控制器结合在一起时的行为）</p></li></ul><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># test/controllers/static_pages_controller_test.rb</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'test_helper'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticPagesControllerTest</span> &lt; ActionDispatch::IntegrationTest</span></span><br><span class="line">  test <span class="string">"should get home"</span> <span class="keyword">do</span></span><br><span class="line">    get static_pages_home_url</span><br><span class="line">    assert_response <span class="symbol">:success</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  test <span class="string">"should get help"</span> <span class="keyword">do</span></span><br><span class="line">    get static_pages_help_url</span><br><span class="line">    assert_response <span class="symbol">:success</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>&lt;% ... %&gt;</code> 只执行其中的 Ruby 代码</li><li><code>&lt;%= ... %&gt;</code> 不但执行其中的代码，还将执行的结果插入模板中</li><li><code>&lt;% provide(:title, "Home") %&gt;</code> 就将 <code>"Home"</code> 字符串作为一个代码块赋给 <code>:title</code></li><li><code>&lt;%= yield(:title) %&gt;</code> 这样的代码块调用就可以获取到 <code>"Home"</code> 字符串</li><li>assert_select ‘title’, ‘TitleName’</li><li>rails test</li></ul><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 编写辅助方法 :一般将视图中的大段的逻辑判断语句，复杂的功能代码，实时计算放在此处实现</span></span><br><span class="line"><span class="comment"># app/helpers/static_pages_helper.rb</span></span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">StaticPagesHelper</span></span></span><br><span class="line">  <span class="comment"># 返回当前页面的名称</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">full_title</span><span class="params">(page_name = <span class="string">""</span>)</span></span></span><br><span class="line">    base_name = <span class="string">"Educoder"</span></span><br><span class="line">    <span class="comment"># 判断字符串是否为空</span></span><br><span class="line">    <span class="keyword">if</span> page_name.empty?</span><br><span class="line">      base_name</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="string">"<span class="subst">#{page_name}</span> | <span class="subst">#{base_name}</span>"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/views/static_pages/home.html.erb</span></span><br><span class="line">&lt;%= full_title(<span class="string">"Welcome"</span>) %&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="TDD驱动的动态内容开发"><a href="#TDD驱动的动态内容开发" class="headerlink" title="TDD驱动的动态内容开发"></a>TDD驱动的动态内容开发</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># test/controllers/static_pages_controller_test.rb</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'test_helper'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticPagesControllerTest</span> &lt; ActionDispatch::IntegrationTest</span></span><br><span class="line">  test <span class="string">"should get home"</span> <span class="keyword">do</span></span><br><span class="line">    get static_pages_home_url</span><br><span class="line">    assert_response <span class="symbol">:success</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  test <span class="string">"should get help"</span> <span class="keyword">do</span></span><br><span class="line">    get static_pages_help_url</span><br><span class="line">    assert_response <span class="symbol">:success</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line"> </span><br><span class="line">  test <span class="string">"should get home title"</span> <span class="keyword">do</span></span><br><span class="line">    get static_pages_home_url</span><br><span class="line">    assert_select <span class="string">'title'</span> , <span class="string">'Home | Educoder'</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  test <span class="string">"should get help title"</span> <span class="keyword">do</span></span><br><span class="line">    get static_pages_help_url</span><br><span class="line">    assert_select <span class="string">'title'</span> , <span class="string">'Help | Educoder'</span>  </span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/views/static_pages/home.html.erb</span></span><br><span class="line">&lt;title&gt;&lt;%= title(<span class="string">"Home"</span>) %&gt;&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">&lt;p&gt;这是 Educoder 的一个实训, 更多实训请访问 &lt;a href="https:/</span><span class="regexp">/www.educoder.net"&gt;Educoder&lt;/a</span>&gt;&lt;<span class="regexp">/p&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="完善布局"><a href="#完善布局" class="headerlink" title="完善布局"></a>完善布局</h3><h4 id="视图调用局部视图"><a href="#视图调用局部视图" class="headerlink" title="视图调用局部视图"></a>视图调用局部视图</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/views/shared/_partial.html.erb</span></span><br><span class="line">&lt;%= render <span class="string">"shared/header"</span> %&gt;</span><br><span class="line">&lt;h1&gt;Home&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;p&gt;Welcome!&lt;/p</span>&gt;</span><br><span class="line">...</span><br><span class="line">&lt;%= render <span class="string">"shared/footer"</span> %&gt;</span><br></pre></td></tr></tbody></table></figure><h4 id="局部视图调用局部布局"><a href="#局部视图调用局部布局" class="headerlink" title="局部视图调用局部布局"></a>局部视图调用局部布局</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">&lt;%= render <span class="symbol">partial:</span> <span class="string">"header"</span>, <span class="symbol">layout:</span> <span class="string">"darkbar"</span> %&gt;</span><br><span class="line"><span class="comment"># 这行代码会使用 _darkbar.html.erb 局部布局文件渲染局部视图 _header.html.erb</span></span><br></pre></td></tr></tbody></table></figure><h4 id="局部视图变量"><a href="#局部视图变量" class="headerlink" title="局部视图变量"></a>局部视图变量</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/views/static_pages/home.html.erb</span></span><br><span class="line"><span class="comment"># 传递本地变量</span></span><br><span class="line">&lt;h1&gt;Home&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">&lt;%= render partial: "header", locals: {current_page: `home`} %&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># app/views</span><span class="regexp">/static_pages/</span>_header.html.erb</span><br><span class="line"><span class="comment"># 使用</span></span><br><span class="line">&lt;p&gt;<span class="symbol">current_page:</span> &lt;%= current_page %&gt;&lt;<span class="regexp">/p&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>app/assets</code> 存放当前应用的静态资源文件</li><li><code>lib/assets</code> 存放自行开发的代码库使用的静态资源文件</li><li><code>vendor/assets</code> 存放第三方代码库使用的静态资源文件</li></ul><h4 id="Asset-Pipeline"><a href="#Asset-Pipeline" class="headerlink" title="Asset Pipeline"></a>Asset Pipeline</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 清单文件</span></span><br><span class="line"><span class="comment"># 上述两行 CSS 注释将 app/assets/stylesheets 目录中的所有 CSS 文件（包括子目录中的文件）和 application.css 文件都引入应用的 CSS 文件。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/assets/stylesheets/application.css</span></span><br><span class="line">/*</span><br><span class="line"> ...</span><br><span class="line"> *= require_tree .</span><br><span class="line"> *= require_self</span><br><span class="line"> *<span class="regexp">/</span></span><br></pre></td></tr></tbody></table></figure><h4 id="链接及具名路由"><a href="#链接及具名路由" class="headerlink" title="链接及具名路由"></a>链接及具名路由</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># config/routes.rb</span></span><br><span class="line">root <span class="string">'static_pages#home'</span></span><br><span class="line">get  <span class="string">'/help'</span>,    <span class="symbol">to:</span> <span class="string">'static_pages#help'</span></span><br><span class="line">get  <span class="string">'/about'</span>,   <span class="symbol">to:</span> <span class="string">'static_pages#about'</span></span><br><span class="line">get  <span class="string">'/contact'</span>, <span class="symbol">to:</span> <span class="string">'static_pages#contact'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%= link_to <span class="string">"Home"</span>, root_path %&gt;</span><br><span class="line"><span class="comment"># 其解释出的 HTML 语句为 &lt;a href="/"&gt;Home&lt;/a&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="集成测试"><a href="#集成测试" class="headerlink" title="集成测试"></a>集成测试</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">rails generate integration_test site</span><br><span class="line">	exists  test/integration/</span><br><span class="line">    create  test/integration/site_test.rb</span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th>代码</th><th>匹配的 HTML</th></tr></thead><tbody><tr><td><code>assert_select "div"</code></td><td><code>&lt;div&gt;foobar&lt;/div&gt;</code></td></tr><tr><td><code>assert_select "div", "foobar"</code></td><td><code>&lt;div&gt;foobar&lt;/div&gt;</code></td></tr><tr><td><code>assert_select "div.nav"</code></td><td><code>&lt;div class="nav"&gt;foobar&lt;/div&gt;</code></td></tr><tr><td><code>assert_select "div#profile"</code></td><td><code>&lt;div id="profile"&gt;foobar&lt;/div&gt;</code></td></tr><tr><td><code>assert_select "div[name=yo]"</code></td><td><code>&lt;div name="yo"&gt;hey&lt;/div&gt;</code></td></tr><tr><td><code>assert_select "a[href=?]", ’/’, count: 1</code></td><td><code>&lt;a href="/"&gt;foo&lt;/a&gt;</code></td></tr><tr><td><code>assert_select "a[href=?]", ’/’, text: "foo"</code></td><td><code>&lt;a href="/"&gt;foo&lt;/a&gt;</code></td></tr></tbody></table><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/views/static_pages/home.html.erb</span></span><br><span class="line">&lt;div class="container"&gt;</span><br><span class="line">  &lt;nav&gt;</span><br><span class="line">    &lt;ul class="nav navbar-nav navbar-right"&gt;</span><br><span class="line">      &lt;li&gt;&lt;%= link_to <span class="string">"Home"</span>, root_path %&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;li&gt;&lt;%= link_to "Help", help_path %&gt;&lt;/li</span>&gt;</span><br><span class="line">      &lt;li&gt;&lt;%= link_to <span class="string">"About"</span>,about_path %&gt;&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">      &lt;li&gt;&lt;%= link_to "Contact",contact_path %&gt;&lt;/li</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/nav</span>&gt;</span><br><span class="line">  &lt;%= render <span class="string">"footer"</span> %&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># config/routes</span>.rb        </span><br><span class="line">Rails.application.routes.draw <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">  root <span class="string">'static_pages#home'</span></span><br><span class="line">  get  <span class="string">'/help'</span>,    <span class="symbol">to:</span> <span class="string">'static_pages#help'</span></span><br><span class="line">  get  <span class="string">'/about'</span>,   <span class="symbol">to:</span> <span class="string">'static_pages#about'</span></span><br><span class="line">  get  <span class="string">'/contact'</span>, <span class="symbol">to:</span> <span class="string">'static_pages#contact'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="手动搭建用户模型"><a href="#手动搭建用户模型" class="headerlink" title="手动搭建用户模型"></a>手动搭建用户模型</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># db/migrate/20180705105750_create_users.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateUsers</span> &lt; ActiveRecord::Migration[5.0]</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><br><span class="line">    create_table <span class="symbol">:users</span> <span class="keyword">do</span> <span class="params">|t|</span></span><br><span class="line">      <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">      <span class="comment">#*********begin*********#</span></span><br><span class="line">      t.string <span class="symbol">:uid</span></span><br><span class="line">      <span class="comment">#********* end *********#</span></span><br><span class="line">      t.string <span class="symbol">:name</span></span><br><span class="line">      t.string <span class="symbol">:email</span></span><br><span class="line"></span><br><span class="line">      t.timestamps</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/models/user.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line">  <span class="keyword">self</span>.primary_key = <span class="string">"uid"</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> &lt;&lt; self</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update_all_email</span></span></span><br><span class="line">      <span class="keyword">self</span>.update_all(<span class="symbol">email:</span> <span class="string">'educoder@educoder.net'</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delete_all_admin_user</span></span></span><br><span class="line">      <span class="keyword">self</span>.delete_all(<span class="symbol">name:</span> <span class="string">'admin'</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><ul><li>数据验证发生在这些数据库操作执行之前,这样就可以避免把无效的数据存入数据库。</li></ul><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 有效性测试</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  validates <span class="symbol">:name</span>, <span class="symbol">presence:</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">User.create(<span class="symbol">name:</span> <span class="string">"David"</span>).valid? <span class="comment"># =&gt; true</span></span><br><span class="line">User.create(<span class="symbol">name:</span> <span class="literal">nil</span>).valid? <span class="comment"># =&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 长度验证</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  validates <span class="symbol">:name</span>, <span class="symbol">length:</span> { <span class="symbol">minimum:</span> <span class="number">2</span>, <span class="symbol">maximum:</span> <span class="number">500</span> }</span><br><span class="line">  validates <span class="symbol">:password</span>, <span class="symbol">length:</span> { <span class="symbol">in:</span> <span class="number">6</span>..<span class="number">20</span> }</span><br><span class="line">  validates <span class="symbol">:phone_number</span>, <span class="symbol">length:</span> { <span class="symbol">is:</span> <span class="number">11</span> }</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式验证</span></span><br><span class="line">validates <span class="symbol">:email</span>, <span class="symbol">format:</span> { <span class="symbol">with:</span> /&lt;regular expression&gt;<span class="regexp">/ }</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"># 唯一性验证</span></span><br><span class="line"><span class="regexp">class User &lt; ApplicationRecord</span></span><br><span class="line"><span class="regexp">  validates :email, uniqueness: true</span></span><br><span class="line"><span class="regexp">end</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>为 <code>email</code> 列加上<strong>索引（<code>index</code>）</strong>可以解决这个问题。我们可以把数据库索引看成是书籍的目录，通过“目录”就可以快速的查找数据库记录。</p></blockquote><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># db/migrate/[timestamp]_add_index_to_users_email.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddIndexToUsersEmail</span> &lt; ActiveRecord::Migration[5.0]</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><br><span class="line">    add_index <span class="symbol">:users</span>, <span class="symbol">:email</span>, <span class="symbol">unique:</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">validates <span class="symbol">:name</span>, <span class="symbol">uniqueness:</span> { <span class="symbol">case_sensitive:</span> <span class="literal">false</span>, <span class="symbol">scope:</span> <span class="symbol">:year</span> }</span><br></pre></td></tr></tbody></table></figure><ul><li><code>case_sensitive</code>，大小写是否敏感，默认值为 <code>true</code>，本例中值为 <code>false</code>，则在验证时不区分大小写</li><li><code>scope</code>，检查唯一性时使用一个或多个属性，本例则会使用 <code>name</code> 和 <code>year</code> 属性值作为联合唯一约束来限定记录的唯一性。</li></ul><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  validates <span class="symbol">:card_number</span>, <span class="symbol">presence:</span> <span class="literal">true</span>, <span class="symbol">if:</span> <span class="symbol">:is_adult?</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">is_adult?</span></span></span><br><span class="line">    age.to_i &gt;= <span class="number">18</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  with_options <span class="symbol">if:</span> <span class="symbol">:is_admin?</span> <span class="keyword">do</span> <span class="params">|admin|</span></span><br><span class="line">    admin.validates <span class="symbol">:password</span>, <span class="symbol">length:</span> { <span class="symbol">minimum:</span> <span class="number">10</span> }</span><br><span class="line">    admin.validates <span class="symbol">:email</span>, <span class="symbol">presence:</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># db/migrate/[timestamp]_add_password_digest_to_users.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddPasswordDigestToUsers</span> &lt; ActiveRecord::Migration[5.0]</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></span><br><span class="line">    add_column <span class="symbol">:users</span>, <span class="symbol">:password_digest</span>, <span class="symbol">:string</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment"># 手动添加 password_digest 属性</span></span><br><span class="line">rails generate migration add_password_digest_to_users <span class="symbol">password_digest:</span>string</span><br><span class="line"></span><br><span class="line">user.authenticate(<span class="string">"test_passwd"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># app/models/user.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> &lt; ApplicationRecord</span></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line">  has_secure_password</span><br><span class="line">  validates <span class="symbol">:password</span>, <span class="symbol">presence:</span> <span class="literal">true</span></span><br><span class="line">  validates <span class="symbol">:password_confirmation</span>, <span class="symbol">presence:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line">  validates <span class="symbol">:name</span>, <span class="symbol">presence:</span> <span class="literal">true</span>, <span class="symbol">length:</span> { <span class="symbol">minimum:</span> <span class="number">2</span>, <span class="symbol">maximum:</span> <span class="number">50</span> }</span><br><span class="line">  validates <span class="symbol">:email</span>, <span class="symbol">presence:</span> <span class="literal">true</span>, <span class="symbol">format:</span> {</span><br><span class="line">    <span class="symbol">with:</span> /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i, <span class="symbol">message:</span> <span class="string">"Email Format Invalid"</span></span><br><span class="line">  }, <span class="symbol">uniqueness:</span> { <span class="symbol">case_sensitive:</span> <span class="literal">false</span> }</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><ul><li>在数据库表 <code>users</code> 中的 <code>password_digest</code> 列存储安全的密码哈希值</li><li>获得一对<strong>虚拟属性</strong>，<code>password</code> 和 <code>password_confirmation</code>，而且创建用户对象时，会自行对这两个虚拟属性执行存在性验证和匹配验证（一致性验证）</li><li>获得 <code>authenticate</code> 方法，如果密码正确，则返回对应的用户对象，否则返回 <code>false</code></li></ul><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">image_tag 方法用于返回 HTML 图像标签。</span><br><span class="line">image_tag(gravatar_url, <span class="symbol">alt:</span> <span class="string">"AltInfos"</span>, <span class="class"><span class="keyword">class</span>: "<span class="title">AClass</span>")</span></span><br><span class="line"></span><br><span class="line">image_path</span><br><span class="line">image_url</span><br></pre></td></tr></tbody></table></figure><h4 id="效率评测辅助方法-测时间"><a href="#效率评测辅助方法-测时间" class="headerlink" title="效率评测辅助方法:测时间"></a>效率评测辅助方法:测时间</h4><figure class="highlight erb"><table><tbody><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> benchmark <span class="string">"Process data files"</span> <span class="keyword">do</span> </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> expensive_files_operation </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">end</span> </span><span class="xml"><span class="tag">%&gt;</span></span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># app/controllers/users_controller.rb</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsersController</span> &lt; ApplicationController</span></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span></span><br><span class="line">    @user = User.find(params[<span class="symbol">:id</span>])</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># app/views/users/show.html.erb</span></span><br><span class="line">&lt;% provide(<span class="symbol">:title</span>, @user.name) %&gt;</span><br><span class="line">&lt;div class="row"&gt;</span><br><span class="line">  &lt;aside class="col-md-4"&gt;</span><br><span class="line">    &lt;section class="user_info"&gt;</span><br><span class="line">      &lt;h1&gt;</span><br><span class="line">        &lt;%= gravatar_for(@user) %&gt;</span><br><span class="line">        &lt;%= @user.name %&gt;</span><br><span class="line">      &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/section</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/aside&gt;</span></span><br><span class="line"><span class="regexp">&lt;/div</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># app/views/layouts/application.html.erb</span></span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;&lt;%= <span class="keyword">yield</span>(<span class="symbol">:title</span>) %&gt;&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;%= csrf_meta_tags %&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/head</span>&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;%= <span class="keyword">yield</span> %&gt;</span><br><span class="line">    &lt;%= debug(params) <span class="keyword">if</span> Rails.env.development? %&gt;</span><br><span class="line">  &lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/html</span>&gt;</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line"><span class="comment"># app/helpers/users_helper.rb</span></span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">UsersHelper</span></span></span><br><span class="line">  <span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line">  <span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">gravatar_for</span><span class="params">(user)</span></span></span><br><span class="line">    hash_value = Digest::MD5::hexdigest(user.email.downcase)</span><br><span class="line">    gravatar_url = <span class="string">'https://secure.gravatar.com/avatar/'</span> + hash_value</span><br><span class="line">    image_tag(gravatar_url, <span class="symbol">alt:</span> user.name, <span class="class"><span class="keyword">class</span>: "<span class="title">gravatar</span>")</span></span><br><span class="line">    </span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">#********* end *********#</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>ruby</category>
      </categories>
      <tags>
        <tag>rails</tag>
      </tags>
  </entry>
  <entry>
    <title>ruby笔记</title>
    <url>/category/ruby%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 我是注释 （单行注释）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">=begin</span></span><br><span class="line"><span class="comment">我是注释。</span></span><br><span class="line"><span class="comment">我也是注释。（多行注释）</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="方法：方法名应以小写字母开头"><a href="#方法：方法名应以小写字母开头" class="headerlink" title="方法：方法名应以小写字母开头"></a>方法：方法名应以小写字母开头</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say_hello</span><span class="params">(name=<span class="string">'World'</span>)</span></span></span><br><span class="line">	puts <span class="string">"Hello, <span class="subst">#{name}</span>!"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sample</span> <span class="params">(*test)</span></span></span><br><span class="line">	puts <span class="string">"参数个数为 <span class="subst">#{test.length}</span>"</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">&gt; sample <span class="string">"John"</span>, <span class="string">"22"</span>, <span class="string">"M"</span></span><br><span class="line">&gt; sample <span class="string">"Anna"</span>, <span class="string">"24"</span>, <span class="string">"F"</span>, <span class="string">"MBP"</span></span><br></pre></td></tr></tbody></table></figure><h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function1</span></span></span><br><span class="line">  a = <span class="number">100</span></span><br><span class="line">  b = <span class="number">500</span></span><br><span class="line">  <span class="keyword">return</span> a, b</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">$global_variable = <span class="string">'Educoder'</span>    <span class="comment">#$和名字合体了</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say_hello</span></span></span><br><span class="line">  puts <span class="string">"Hello, <span class="subst">#{$global_variable}</span>!"</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">say_goodbye</span></span></span><br><span class="line">  puts <span class="string">"Goodbye, <span class="subst">#{$global_variable}</span>!"</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">say_hello</span><br><span class="line">say_goodbye</span><br></pre></td></tr></tbody></table></figure><h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">常量以大写字母开头，常量不能定义在方法内。</span><br></pre></td></tr></tbody></table></figure><h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><figure class="highlight ini"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">str1</span> = gets  <span class="comment">#接收终端输入</span></span><br></pre></td></tr></tbody></table></figure><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/ruby</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># gets 方法是 Ruby 中用于接收终端输入的方法</span></span><br><span class="line"><span class="comment"># 在此行代码中我们接收了终端输入的字符串，并将其赋值给 str 变量</span></span><br><span class="line"><span class="comment"># 请勿修改此处代码</span></span><br><span class="line">str1 = gets</span><br><span class="line">str2 = gets</span><br><span class="line"><span class="comment"># ******END******</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按序完成如下功能</span></span><br><span class="line"><span class="comment"># 针对 str1 做如下操作：</span></span><br><span class="line"><span class="comment">#   1. 去除掉 str1 前后的空格，换行符，回车符</span></span><br><span class="line"><span class="comment">#   2. 删除掉 str1 中所有!(英文半角感叹号)</span></span><br><span class="line"><span class="comment">#   3. 将 str1 转换为全小写</span></span><br><span class="line"><span class="comment"># 针对 str2 做如下操作：</span></span><br><span class="line"><span class="comment">#   1. 将 str2 翻转</span></span><br><span class="line"><span class="comment">#   2. 将 str2 转换为整型数据</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># *********以下是输出功能，请按序输出*********</span></span><br><span class="line"><span class="comment"># 1. 输出字符串 str1</span></span><br><span class="line"><span class="comment"># 2. 输出字符串 str2</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line">str1 = str1.strip</span><br><span class="line">str1 = str1.delete(<span class="string">"!"</span>)</span><br><span class="line">str1 = str1.downcase</span><br><span class="line"></span><br><span class="line">str2 = str2.reverse</span><br><span class="line">str2 = str2.to_i</span><br><span class="line"></span><br><span class="line">puts str1</span><br><span class="line">puts str2</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/ruby</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 本实训输入为两个数字，分别存储于 start_index 和 end_index</span></span><br><span class="line"><span class="comment"># start_index &lt; end_index</span></span><br><span class="line"><span class="comment"># 以下代码的所有变量均可在你的代码块中使用</span></span><br><span class="line"><span class="comment"># 以下代码产生这两个数字之间所有整数的一个数组 arr</span></span><br><span class="line"><span class="comment"># 请勿修改此处代码</span></span><br><span class="line">start_index = gets.to_i</span><br><span class="line">end_index   = gets.to_i</span><br><span class="line"></span><br><span class="line">arr = (start_index..end_index).to_a</span><br><span class="line"><span class="comment"># ******END******</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在此处对上面的数组 arr 按序进行如下操作：</span></span><br><span class="line"><span class="comment"># 1. 判断数组是否为空 并 !!输出返回值!!</span></span><br><span class="line"><span class="comment"># 2. 在数组的末尾增加 原数组最大值 + 1 的值</span></span><br><span class="line"><span class="comment"># 3. 在数组索引(index)为2的位置增加 数字100</span></span><br><span class="line"><span class="comment"># 4. 对数组进行排序</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># *********以下是输出功能，请按序输出*********</span></span><br><span class="line"><span class="comment"># 5. 输出数组</span></span><br><span class="line"><span class="comment">#    输出: 使用连接符 英文逗号(,) 连接数组形成的字符串</span></span><br><span class="line"><span class="comment"># 6. 输出数组中元素值为100的个数</span></span><br><span class="line"><span class="comment"># 7. 输出数组的长度</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line">puts arr.empty?</span><br><span class="line">arr = arr.push(end_index+<span class="number">1</span>)</span><br><span class="line">arr = arr.insert(<span class="number">2</span>,<span class="number">100</span>)</span><br><span class="line">arr = arr.sort</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">puts arr.join(<span class="string">','</span>)</span><br><span class="line">puts arr.count(<span class="number">100</span>)</span><br><span class="line">puts arr.count</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="哈希"><a href="#哈希" class="headerlink" title="哈希"></a>哈希</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/ruby</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 评级参考：</span></span><br><span class="line"><span class="comment"># - excellent 优</span></span><br><span class="line"><span class="comment"># - good 良</span></span><br><span class="line"><span class="comment"># - fair 中</span></span><br><span class="line"><span class="comment"># - poor 差</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># 请在此处创建一个哈希，其键名包含上面所有的评级</span></span><br><span class="line"><span class="comment"># 由于每一类评级可能包含多个书籍，值全为空数组</span></span><br><span class="line"><span class="comment"># 请使用推荐的方式（Symbol法）创建哈希</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line">book_comments = { <span class="symbol">excellent:</span> [], <span class="symbol">good:</span> [],</span><br><span class="line">                  <span class="symbol">fair:</span> [], <span class="symbol">poor:</span> [] }</span><br><span class="line"><span class="comment">#********* end *********#</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 此处为程序输入数据部分</span></span><br><span class="line"><span class="comment"># 输入的数据 book* 代表的是书名，comment* 代表的是评级</span></span><br><span class="line"><span class="comment"># 当变量后缀数字相同时，是一组书名与评级数据</span></span><br><span class="line"><span class="comment"># to_sym 方法是将字符串转换为符号类型的方法</span></span><br><span class="line"><span class="comment"># 请勿修改此处代码</span></span><br><span class="line">book1 = gets.strip</span><br><span class="line">comment1 = gets.strip.to_sym</span><br><span class="line">book2 = gets.strip</span><br><span class="line">comment2 = gets.strip.to_sym</span><br><span class="line">book3 = gets.strip</span><br><span class="line">comment3 = gets.strip.to_sym</span><br><span class="line"><span class="comment"># ******END******</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在此处完成如下操作：</span></span><br><span class="line"><span class="comment"># 1. 录入所有的书籍评价数据至你所创建的哈希中</span></span><br><span class="line"><span class="comment"># 2. 找出所有评级为良的书</span></span><br><span class="line"><span class="comment">#    1）将这些书计数并 !!输出!!</span></span><br><span class="line"><span class="comment">#    2）并将其书名使用连接符英文逗号(,)连接成字符串后 !!输出!!</span></span><br><span class="line"><span class="comment"># 3. 找出所有评级为差的书</span></span><br><span class="line"><span class="comment">#    1）将这些书计数并 !!输出!!</span></span><br><span class="line"><span class="comment">#    2）并将其书名使用连接符英文逗号(,)连接成字符串后 !!输出!!</span></span><br><span class="line"><span class="comment"># 4. 将哈希中所有的书名使用连接符英文逗号(,)连接成字符串后 !!输出!!</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line">book_comments[comment1].push(book1)</span><br><span class="line">book_comments[comment2].push(book2)</span><br><span class="line">book_comments[comment3].push(book3)</span><br><span class="line"><span class="comment">#store是插入新键值对</span></span><br><span class="line"></span><br><span class="line">puts book_comments[<span class="symbol">:good</span>].count</span><br><span class="line">puts book_comments[<span class="symbol">:good</span>].join(<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line">puts book_comments[<span class="symbol">:poor</span>].count</span><br><span class="line">puts book_comments[<span class="symbol">:poor</span>].join(<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line">puts book_comments.values.join(<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="块"><a href="#块" class="headerlink" title="块"></a>块</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 块只是括号 {} 之间或do和end之间的代码块。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">call_block</span></span></span><br><span class="line">    <span class="keyword">yield</span>(<span class="string">"hello"</span>, <span class="number">99</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">call_block {<span class="params">|str, num|</span> puts <span class="string">"<span class="subst">#{str}</span>,<span class="subst">#{num}</span>"</span>}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">arr.each { <span class="params">|num|</span> puts num }</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">languages = [<span class="string">'Ruby'</span>, <span class="string">'Javascript'</span>, <span class="string">'Java'</span>]</span><br><span class="line">languages.each_with_index <span class="keyword">do</span> <span class="params">|lang, index|</span></span><br><span class="line">    puts <span class="string">"<span class="subst">#{index}</span>, I love <span class="subst">#{lang}</span>!"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">b = a.collect{ <span class="params">|x|</span> x * <span class="number">2</span> }</span><br><span class="line">puts b.join(<span class="string">','</span>)</span><br></pre></td></tr></tbody></table></figure><h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">print <span class="string">"请输入起始数字："</span></span><br><span class="line">from = gets.to_i</span><br><span class="line">print <span class="string">"请输入结束数字："</span></span><br><span class="line">to   = gets.to_i</span><br><span class="line"></span><br><span class="line">puts <span class="string">"-"</span>*<span class="number">11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line"><span class="comment"># 可能需要使用到的数据结构：</span></span><br><span class="line"><span class="comment">#     1. Range（范围）</span></span><br><span class="line"><span class="comment">#     2. Array（数组）</span></span><br><span class="line"><span class="comment"># 请选择合适的数据结构</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line">arr = (from..to).to_a</span><br><span class="line">arr.each{<span class="params">|num|</span> puts num}</span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">num = <span class="number">5</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= num  <span class="keyword">do</span></span><br><span class="line">  puts(<span class="string">"我们爬了<span class="subst">#{i}</span>层楼"</span> )</span><br><span class="line">  i = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  puts(<span class="string">"在循环语句中 i = <span class="subst">#{i}</span>"</span> )</span><br><span class="line">  i = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span> <span class="keyword">while</span> i &lt; num</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">x = [<span class="string">"红"</span>, <span class="string">"绿"</span>, <span class="string">"蓝"</span>, <span class="string">"黄"</span>, <span class="string">'五颜六色'</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> x <span class="keyword">do</span></span><br><span class="line">  puts i</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">num = <span class="number">5</span></span><br><span class="line"><span class="keyword">until</span> i &gt; num  <span class="keyword">do</span>           <span class="comment">#until和while功能正好相反</span></span><br><span class="line">  puts(<span class="string">"我们爬了<span class="subst">#{i}</span>层楼"</span> )</span><br><span class="line">  i = i + <span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> x &gt; <span class="number">2</span></span><br><span class="line">  puts <span class="string">"x 大于 2"</span></span><br><span class="line"><span class="keyword">elsif</span> x &lt;= <span class="number">2</span> <span class="keyword">and</span> x != <span class="number">0</span></span><br><span class="line">  puts <span class="string">"x 是 1"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  puts <span class="string">"无法得知 x 的值"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">price = <span class="number">85</span></span><br><span class="line"><span class="keyword">case</span> price</span><br><span class="line"><span class="keyword">when</span> <span class="number">0</span>..<span class="number">10</span></span><br><span class="line">  puts <span class="string">"便宜"</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">11</span>..<span class="number">50</span></span><br><span class="line">  puts <span class="string">"普通"</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">51</span>..<span class="number">100</span></span><br><span class="line">  puts <span class="string">"稍贵"</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">101</span>...<span class="number">1000</span></span><br><span class="line">  puts <span class="string">"贵"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  puts <span class="string">"很贵"</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#break,next</span></span><br></pre></td></tr></tbody></table></figure><h3 id="类"><a href="#类" class="headerlink" title="类:"></a>类:</h3><blockquote><p>@实例变量:多个实例各个变量相互独立</p><p>@@类变量以 @@ 开头，且必须初始化后才能在方法定义中使用，多个实例共享这一类变量。</p></blockquote><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span></span><br><span class="line">    puts <span class="string">"hello"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">test = Test.new</span><br><span class="line">test.hello</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">class_method1</span></span></span><br><span class="line">    puts <span class="string">"hello1"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Test.class_method1</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(name)</span></span></span><br><span class="line">    @name = name</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">says</span></span></span><br><span class="line">    puts <span class="string">"I am father"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> &lt; Father</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(name)</span></span></span><br><span class="line">    @name = <span class="string">"son_<span class="subst">#{name}</span>"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">says</span></span></span><br><span class="line">    puts <span class="string">"I am son. name: <span class="subst">#{@name}</span>"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">son = Son.new(<span class="string">"Jack"</span>)</span><br><span class="line">son.says       <span class="comment">#=&gt; I am son. name: son_Jack</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">puts <span class="string">"请输入正方形的边长："</span></span><br><span class="line">$square_length = gets.chomp.to_i</span><br><span class="line">puts <span class="string">"-"</span> * <span class="number">20</span></span><br><span class="line"></span><br><span class="line">$len = $square_length</span><br><span class="line">$wid = $square_length</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span></span></span><br><span class="line">  @@length = $len</span><br><span class="line">  @@width  = $wid</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">self</span>.<span class="title">area</span></span></span><br><span class="line">    puts @@length * @@width</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下面按要求完成功能</span></span><br><span class="line"><span class="comment"># 请选择适当的实现方法</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> &lt; Rectangle</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#puts "#{$len},#{$wid}"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Rectangle.area</span></span><br><span class="line">Square.area</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><blockquote><p>模块不能被实例化</p><p>模块不能被继承</p><ul><li>模块方法<ul><li>可以直接通过模块名调用</li></ul></li><li>实例方法<ul><li><code>include</code> 关键词，将模块的所有实例方法“变”成类的实例方法，通过对象访问</li><li><code>extend</code> 关键词，将模块的所有实例方法“变”成类的类方法，通过类访问</li></ul></li></ul></blockquote><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">TestModule</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">module_function_say_hello</span></span></span><br><span class="line">    puts <span class="string">"Hello! I'm Module Function!"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">instance_function_say_hello</span></span></span><br><span class="line">    puts <span class="string">"hello! I'm instance function!"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment"># 将方法定义为模块方法</span></span><br><span class="line">  module_function <span class="symbol">:module_function_say_hello</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用模块方法</span></span><br><span class="line">TestModule.module_function_say_hello</span><br><span class="line"><span class="comment"># 使用模块名调用模块的实例方法，产生 NoMethodError 错误</span></span><br><span class="line">TestModule.instance_function_say_hello   <span class="comment">#error</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestClass</span></span></span><br><span class="line">  <span class="comment"># 在类 TestClass 中引入模块 TestModule</span></span><br><span class="line">  <span class="keyword">include</span> TestModule</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">test_object = TestClass.new</span><br><span class="line"><span class="comment"># 调用模块的实例方法（类的成员方法）</span></span><br><span class="line">puts test_object.instance_function_say_hello</span><br><span class="line"><span class="comment"># 使用对象调用模块方法，产生 非法访问 错误</span></span><br><span class="line">test_object.module_function_say_hello  <span class="comment">#error</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在上一段代码定义的 TestModule 基础上继续</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestClass2</span></span></span><br><span class="line">  extend TestModule</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">TestClass2.instance_function_say_hello</span><br><span class="line"> <span class="comment">#=&gt; hello! I'm instance function!</span></span><br><span class="line">TestClass2.module_function_say_hello <span class="comment">#error</span></span><br><span class="line"> <span class="comment">#=&gt; NoMethodError: private method `module_function_say_hello' called for TestClass2:Class</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p><code>Mix-in</code> 扩展功能引入了很多多重继承的优点。</p></blockquote><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">puts <span class="string">"你的名字是："</span></span><br><span class="line">you_name = gets.chomp.to_s</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下面按要求完成功能</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Hello</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say_hello</span></span></span><br><span class="line">    puts <span class="string">"Hello, My name is Educoder"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">module</span> <span class="title">Bye</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say_bye</span><span class="params">(you_name)</span></span></span><br><span class="line">    puts <span class="string">"Bye, <span class="subst">#{you_name}</span>"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Robot</span></span></span><br><span class="line">  <span class="keyword">include</span> Hello</span><br><span class="line">  <span class="keyword">include</span> Bye</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">r = Robot.new</span><br><span class="line">r.say_hello</span><br><span class="line">r.say_bye(you_name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="文件操作与交互"><a href="#文件操作与交互" class="headerlink" title="文件操作与交互"></a>文件操作与交互</h3><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">gets  </span><br><span class="line"><span class="built_in">puts</span></span><br><span class="line">p</span><br><span class="line">putc  #输出字符串第一个字符 </span><br><span class="line"><span class="built_in">printf</span> #格式和c语言的<span class="built_in">printf</span>一样</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">file_input = gets.chomp.to_s</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line">f = File.new(<span class="string">"step2/testfile"</span>,<span class="string">"a+"</span>)</span><br><span class="line">lines = f.readlines</span><br><span class="line">puts lines[<span class="number">0</span>]</span><br><span class="line">puts lines[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">f.write(file_input)</span><br><span class="line">puts file_input</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br><span class="line"></span><br><span class="line">f.close</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">dir_name = gets.chomp.to_s</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line">now_path = Dir.pwd</span><br><span class="line">new_dir_path = now_path + <span class="string">"/"</span> + dir_name</span><br><span class="line"></span><br><span class="line">Dir.mkdir(new_dir_path, <span class="number">755</span>)</span><br><span class="line"></span><br><span class="line">puts Dir.entries(now_path).sort_by(&amp;<span class="symbol">:length</span>).join(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">Dir.rmdir(new_dir_path)</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#异常通常是由外部问题（如硬件错误、输入错误）所导致的</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  a = gets.chomp.to_i</span><br><span class="line">  raise ArgumentError <span class="keyword">if</span> a == <span class="number">0</span></span><br><span class="line"><span class="keyword">rescue</span> TypeError</span><br><span class="line">  puts <span class="string">"I can't handle this type value!"</span></span><br><span class="line"><span class="keyword">rescue</span> ArgumentError</span><br><span class="line">  puts <span class="string">"I can't handle the data you provide!"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  puts <span class="string">"I don't know what's wrong with it!"</span></span><br><span class="line"><span class="keyword">ensure</span>  <span class="comment">#不管有无异常，一定会执行该代码块</span></span><br><span class="line">  puts <span class="string">"I'm Finished!"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th>异常类</th><th>常见原因</th><th>如何抛出</th></tr></thead><tbody><tr><td><code>Exception</code></td><td>异常类的顶部类</td><td>—</td></tr><tr><td><code>StandardError</code></td><td>大多数标准错误的父类</td><td>—</td></tr><tr><td><code>RuntimeError</code></td><td><code>raise</code> 抛出的默认异常</td><td><code>raise</code></td></tr><tr><td><code>NoMethodError</code></td><td>程序找不到对应的方法，方法未定义/无权限访问</td><td><code>a = Object.new</code> <code>a.fake_method</code></td></tr><tr><td><code>NameError</code></td><td>解释器碰到一个不能解析为变量或方法名的标识符</td><td><code>a = not_define_value</code></td></tr><tr><td><code>IOError</code></td><td>读关闭的流，写只读的流，或类似的操作</td><td><code>STDIN.puts("不能写入")</code></td></tr><tr><td><code>Errno::error</code></td><td>与文件IO相关的一类错误</td><td><code>File.open(-10)</code></td></tr><tr><td><code>TypeError</code></td><td>方法接受到它不能处理的参数类型</td><td><code>a = 3 + "abc"</code></td></tr><tr><td><code>ArgumentError</code></td><td>传递参数的<strong>数目</strong>出错</td><td><code>def o(x) end</code> <code>o(1,2,3)</code></td></tr></tbody></table><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 引入 'open-uri' 包</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'open-uri'</span></span><br><span class="line">tries = <span class="number">0</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  tries += <span class="number">1</span></span><br><span class="line">  <span class="comment"># open 方法用于打开该网址</span></span><br><span class="line">  open(<span class="string">"http://www.example.com/"</span>)</span><br><span class="line"><span class="keyword">rescue</span> OpenURI::HTTPError =&gt; e</span><br><span class="line">  puts e.message</span><br><span class="line">  <span class="keyword">if</span> (tries &lt; <span class="number">4</span>)</span><br><span class="line">    <span class="comment"># ** 是乘方的运算符</span></span><br><span class="line">    sleep(<span class="number">2</span> ** tries)</span><br><span class="line">    <span class="keyword">retry</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">'logger'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divide</span><span class="params">(numerator, denominator)</span></span></span><br><span class="line">  logger = Logger.new(<span class="string">'divide.log'</span>, <span class="string">'monthly'</span>)</span><br><span class="line">  logger.debug(<span class="string">"Numerator: <span class="subst">#{numerator}</span>, denominator <span class="subst">#{denominator}</span>"</span>)</span><br><span class="line">  <span class="keyword">begin</span></span><br><span class="line">    result = numerator / denominator</span><br><span class="line">  <span class="keyword">rescue</span> Exception =&gt; e</span><br><span class="line">    logger.error <span class="string">"Error in division!: <span class="subst">#{e}</span>"</span></span><br><span class="line">    result = <span class="literal">nil</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">divide(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">divide(<span class="number">10</span>, <span class="number">0</span>)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">'logger'</span></span><br><span class="line">input_value = gets.chomp</span><br><span class="line">now_path = Dir.pwd</span><br><span class="line">logger = Logger.new(now_path+<span class="string">'/'</span>+<span class="string">'str_handle.log'</span>)</span><br><span class="line">logger.formatter = proc { <span class="params">|severity, datetime, progname, msg|</span></span><br><span class="line">  <span class="string">"<span class="subst">#{msg}</span>\n"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在上一小节的基础上</span></span><br><span class="line"><span class="comment"># 在下面完成要求的功能</span></span><br><span class="line"><span class="comment"># 可能使用到的方法：</span></span><br><span class="line"><span class="comment">#   字符串长度：str.length</span></span><br><span class="line"><span class="comment">#   字符串清空：str.clear</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line">len = input_value.length</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    raise ArgumentError <span class="keyword">if</span> len &lt; <span class="number">5</span> <span class="params">||</span> len &gt; <span class="number">20</span></span><br><span class="line"><span class="keyword">rescue</span> ArgumentError </span><br><span class="line">    <span class="keyword">if</span> len &lt; <span class="number">5</span> </span><br><span class="line">        logger.error <span class="string">"Too Short!"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> len &gt; <span class="number">20</span> </span><br><span class="line">        logger.error <span class="string">"Too Long!"</span> </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br><span class="line"></span><br><span class="line">puts <span class="string">"Test - "</span> * <span class="number">8</span></span><br><span class="line">log_file = File.new(now_path+<span class="string">'/'</span>+<span class="string">'str_handle.log'</span>, <span class="string">"r"</span>)</span><br><span class="line">log_file.readlines[<span class="number">1</span>..-<span class="number">1</span>].each <span class="keyword">do</span> <span class="params">|log_line|</span></span><br><span class="line">  puts log_line</span><br><span class="line">  puts <span class="string">"--------------------"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">require</span> <span class="string">'logger'</span></span><br><span class="line">input_value = gets.chomp</span><br><span class="line">now_path = Dir.pwd</span><br><span class="line">logger = Logger.new(now_path+<span class="string">'/'</span>+<span class="string">'str_handle.log'</span>)</span><br><span class="line">logger.formatter = proc { <span class="params">|severity, datetime, progname, msg|</span></span><br><span class="line">  <span class="string">"<span class="subst">#{msg}</span>\n"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StrHandler</span></span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">valid_str_length</span><span class="params">(string = <span class="string">""</span>)</span></span></span><br><span class="line">    <span class="keyword">if</span> string.length &lt; <span class="number">5</span></span><br><span class="line">      raise ArgumentError, <span class="string">"Too Short!"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> string.length &gt; <span class="number">20</span></span><br><span class="line">      raise ArgumentError, <span class="string">"Too Long!"</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在上一小节的基础上</span></span><br><span class="line"><span class="comment"># 在下面完成要求的功能</span></span><br><span class="line"><span class="comment"># 可能使用到的方法：</span></span><br><span class="line"><span class="comment">#   字符串长度：str.length</span></span><br><span class="line"><span class="comment">#   字符串清空：str.clear</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Connection</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(c)</span></span></span><br><span class="line">        @strHandler  = c</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(logger,input_value)</span></span></span><br><span class="line">        @strHandler.valid_str_length(input_value)</span><br><span class="line">    <span class="keyword">rescue</span> ArgumentError =&gt; e</span><br><span class="line">        exception = translate_exception(e,e.message)</span><br><span class="line">        exception.set_backtrace e.backtrace</span><br><span class="line">        logger.error exception.message</span><br><span class="line">        <span class="comment">#puts exception.message</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">translate_exception</span><span class="params">(e, message)</span></span></span><br><span class="line">        <span class="comment"># 覆盖原异常类</span></span><br><span class="line">        message = <span class="string">"String NotValid: <span class="subst">#{message}</span>"</span></span><br><span class="line">        <span class="comment">#puts message</span></span><br><span class="line">        StatementInvalidError.new(message)</span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StatementInvalidError</span> &lt; StandardError</span></span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">conn = Connection.new(StrHandler.new)</span><br><span class="line">conn.log(logger,input_value)</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br><span class="line"></span><br><span class="line">puts <span class="string">"Test - "</span> * <span class="number">8</span></span><br><span class="line">log_file = File.new(now_path+<span class="string">'/'</span>+<span class="string">'str_handle.log'</span>, <span class="string">"r"</span>)</span><br><span class="line">log_file.readlines[<span class="number">1</span>..-<span class="number">1</span>].each <span class="keyword">do</span> <span class="params">|log_line|</span></span><br><span class="line">  puts log_line</span><br><span class="line">  puts <span class="string">"--------------------"</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><h3 id="ruby语言特性"><a href="#ruby语言特性" class="headerlink" title="ruby语言特性"></a>ruby语言特性</h3><h4 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">rectangle_len = gets.chomp.to_i</span><br><span class="line">rectangle_wid = gets.chomp.to_i</span><br><span class="line">triangle_bottom = gets.chomp.to_i</span><br><span class="line">triangle_high = gets.chomp.to_i</span><br><span class="line">puts <span class="string">"-"</span> * <span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(rectangle_len,rectangle_wid)</span></span></span><br><span class="line">        @rectangle_len = rectangle_len</span><br><span class="line">        @rectangle_wid = rectangle_wid</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">comp_area</span></span></span><br><span class="line">        <span class="keyword">return</span> @rectangle_len * @rectangle_wid </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>  </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rriangle</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(triangle_bottom,triangle_high)</span></span></span><br><span class="line">        @triangle_bottom = triangle_bottom</span><br><span class="line">        @triangle_high = triangle_high</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">comp_area</span></span></span><br><span class="line">        <span class="keyword">return</span> @triangle_bottom * @triangle_high / <span class="number">2.0</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_area</span><span class="params">(duck)</span></span></span><br><span class="line">    puts duck.comp_area</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">print_area(Rectangle.new(rectangle_len,rectangle_wid))</span><br><span class="line">print_area(Rriangle.new(triangle_bottom,triangle_high))</span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h4 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C1</span></span></span><br><span class="line">  <span class="keyword">attr_reader</span> <span class="symbol">:department</span></span><br><span class="line">  <span class="keyword">attr_writer</span> <span class="symbol">:name</span></span><br><span class="line">  <span class="keyword">attr_accessor</span> <span class="symbol">:sex</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(id, name, department, sex)</span></span></span><br><span class="line">    @iid = id</span><br><span class="line">    @name = name</span><br><span class="line">    @department = department</span><br><span class="line">    @sex = sex</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(breed)</span></span></span><br><span class="line">      @breed = breed</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">#限制实例变量在外部只可读,如果要写，就要在类内部定义方法</span></span><br><span class="line">    <span class="keyword">attr_reader</span> <span class="symbol">:breed</span>, <span class="symbol">:name</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name=</span><span class="params">(nm)</span></span></span><br><span class="line">      @name = nm</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  new_dog = Dog.new(<span class="string">'Doberman'</span>)</span><br><span class="line">  new_dog.name = <span class="string">'Benzy'</span></span><br><span class="line">  puts new_dog.name</span><br><span class="line">  puts new_dog.breed</span><br></pre></td></tr></tbody></table></figure><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">stud_iid_1  = gets.chomp.to_i</span><br><span class="line">stud_name_1 = gets.chomp</span><br><span class="line">stud_iid_2  = gets.chomp.to_i</span><br><span class="line">stud_name_2 = gets.chomp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请在下面完成要求的功能</span></span><br><span class="line"><span class="comment">#*********begin*********#</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line">    <span class="keyword">attr_reader</span> <span class="symbol">:iid</span> , <span class="symbol">:name</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">iid=</span><span class="params">(iid)</span></span></span><br><span class="line">        @iid = iid</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">name=</span><span class="params">(name)</span></span></span><br><span class="line">        @name = name</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">stu1 = Student.new</span><br><span class="line">stu2 = Student.new</span><br><span class="line">stu1.iid = stud_iid_1</span><br><span class="line">stu1.name = stud_name_1</span><br><span class="line">stu2.iid = stud_iid_2</span><br><span class="line">stu2.name = stud_name_2</span><br><span class="line"></span><br><span class="line">puts <span class="string">"IID: <span class="subst">#{stu1.iid}</span>, Name: <span class="subst">#{stu1.name}</span>"</span></span><br><span class="line">puts <span class="string">"IID: <span class="subst">#{stu2.iid}</span>, Name: <span class="subst">#{stu2.name}</span>"</span></span><br><span class="line"><span class="comment">#IID: 1, Name: David</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#********* end *********#</span></span><br></pre></td></tr></tbody></table></figure><h4 id="可变对象与不可变对象"><a href="#可变对象与不可变对象" class="headerlink" title="可变对象与不可变对象"></a>可变对象与不可变对象</h4><figure class="highlight ruby"><table><tbody><tr><td class="code"><pre><span class="line">a.freeze  <span class="comment">#冻结a对象</span></span><br><span class="line">puts a.frozen? <span class="comment">#返回true/false</span></span><br><span class="line">sort/sort!   <span class="comment">#不创建一个新对象，而是直接替换原始对象</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>ruby</category>
      </categories>
      <tags>
        <tag>ruby</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu上传文件到gitee</title>
    <url>/category/ubuntu%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0gitee/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>从ubuntu上传代码到仓库gitee，github同理</p></blockquote><a id="more"></a><h2 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h2><h3 id="1-安装git"><a href="#1-安装git" class="headerlink" title="1. 安装git"></a>1. 安装git</h3><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install git</span><br></pre></td></tr></tbody></table></figure><h3 id="2-配置公钥"><a href="#2-配置公钥" class="headerlink" title="2. 配置公钥"></a>2. 配置公钥</h3><h3 id="在-ssh文件夹下，生成一对公密钥，id-rsa-pub是公钥，可以放心地告诉任何人。"><a href="#在-ssh文件夹下，生成一对公密钥，id-rsa-pub是公钥，可以放心地告诉任何人。" class="headerlink" title="在.ssh文件夹下，生成一对公密钥，id_rsa.pub是公钥，可以放心地告诉任何人。"></a>在.ssh文件夹下，生成一对公密钥，id_rsa.pub是公钥，可以放心地告诉任何人。</h3><ul><li>在gitee/github个人主页添加公钥</li><li>在linux系统设置用户名和邮箱</li></ul><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail@example.com"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"你的名字或昵称"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"你的邮箱"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看配置信息</span></span><br><span class="line">git<span class="built_in"> config </span>--list</span><br><span class="line"></span><br><span class="line"><span class="comment">#重置</span></span><br><span class="line">git<span class="built_in"> config </span>--unset --global user.name</span><br><span class="line">git<span class="built_in"> config </span>--unset --global user.email</span><br></pre></td></tr></tbody></table></figure><h2 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h2><h3 id="3-初始化为本地仓库或者想要在已有的项目中提交代码"><a href="#3-初始化为本地仓库或者想要在已有的项目中提交代码" class="headerlink" title="3. 初始化为本地仓库或者想要在已有的项目中提交代码"></a>3. 初始化为本地仓库或者想要在已有的项目中提交代码</h3><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line">进入想上传代码的文件夹内  git init</span><br><span class="line"><span class="keyword">or</span>:</span><br><span class="line">git <span class="keyword">clone</span> <span class="title">克隆的ssh</span>链接</span><br></pre></td></tr></tbody></table></figure><h3 id="4-切换分支后，再修改文件"><a href="#4-切换分支后，再修改文件" class="headerlink" title="4. 切换分支后，再修改文件"></a>4. 切换分支后，再修改文件</h3><figure class="highlight properties"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">git</span> <span class="string">branch lipengchen</span></span><br><span class="line"><span class="attr">git</span> <span class="string">checkout lipengchen</span></span><br><span class="line"><span class="attr">git</span> <span class="string">status</span></span><br></pre></td></tr></tbody></table></figure><h3 id="5-在想要上传代码的文件夹下"><a href="#5-在想要上传代码的文件夹下" class="headerlink" title="5. 在想要上传代码的文件夹下"></a>5. 在想要上传代码的文件夹下</h3><figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="bash"> .                        //上传当前文件夹下所有文件</span></span><br><span class="line">or:</span><br><span class="line">git <span class="keyword">add</span><span class="bash">  文件名</span></span><br></pre></td></tr></tbody></table></figure><h3 id="6-提交"><a href="#6-提交" class="headerlink" title="6. 提交"></a>6. 提交</h3><figure class="highlight maxima"><table><tbody><tr><td class="code"><pre><span class="line">git commit -m <span class="string">"信息备注，例如 几月几号  方便日后查看"</span></span><br><span class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> master               //或者其他提示语句、开始上传文件至Gitee</span><br><span class="line">git <span class="built_in">push</span> --set-upstream <span class="built_in">origin</span> lipengchen</span><br></pre></td></tr></tbody></table></figure><h3 id="7-pull-request-and-merge"><a href="#7-pull-request-and-merge" class="headerlink" title="7. pull request and merge"></a>7. pull request and merge</h3><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>其他</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>gitee</tag>
      </tags>
  </entry>
  <entry>
    <title>linux学习总结</title>
    <url>/category/linux%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="linux系统分层结构"><a href="#linux系统分层结构" class="headerlink" title="linux系统分层结构"></a>linux系统分层结构</h3><figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line">应用程序</span><br><span class="line"><span class="keyword">shell</span><span class="bash"> 命令解释器</span></span><br><span class="line">公用函数库：封装系统调用</span><br><span class="line">系统调用：内核提供给外部的接口</span><br><span class="line">内核</span><br></pre></td></tr></tbody></table></figure><h3><a href="#" class="headerlink"></a></h3><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>vscode ssh免密登录</title>
    <url>/category/vscode%20ssh%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="在linux下生成公钥和密钥（在没有-ssh文件夹的时候才生成）"><a href="#在linux下生成公钥和密钥（在没有-ssh文件夹的时候才生成）" class="headerlink" title="在linux下生成公钥和密钥（在没有.ssh文件夹的时候才生成）"></a>在linux下生成公钥和密钥（在没有.ssh文件夹的时候才生成）</h3><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">ssh-keygen -t rsa</span></span><br></pre></td></tr></tbody></table></figure><h3 id="在windows生成公钥和密钥：C-Users-lenovo-ssh"><a href="#在windows生成公钥和密钥：C-Users-lenovo-ssh" class="headerlink" title="在windows生成公钥和密钥：C:\Users\lenovo.ssh"></a>在windows生成公钥和密钥：C:\Users\lenovo.ssh</h3><figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">cmd</span></span><br><span class="line"><span class="bash">ssh-keygen -t rsa -C <span class="string">"xx@qq.com(换成你的邮箱)"</span></span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>id_rsa</code>为私钥</li><li><code>id_rsa.pub</code>为公钥</li><li>win下的vscode想ssh访问linux，就要把公钥的内容追加到linux上的.ssh文件夹下的<em>authorized_keys</em>中，authorized_keys不存在则手动创建</li></ul><h3 id="如果为用户权限的话，则需要加上这几句（root权限不需要）"><a href="#如果为用户权限的话，则需要加上这几句（root权限不需要）" class="headerlink" title="如果为用户权限的话，则需要加上这几句（root权限不需要）"></a>如果为用户权限的话，则需要加上这几句（root权限不需要）</h3><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">chmod <span class="number">600</span> authorized_keys</span><br><span class="line">chmod <span class="number">700</span> ~/.ssh</span><br></pre></td></tr></tbody></table></figure><h3 id="vscode-config-检测win放到linux的公钥与自己的密钥是否匹配"><a href="#vscode-config-检测win放到linux的公钥与自己的密钥是否匹配" class="headerlink" title="vscode config:检测win放到linux的公钥与自己的密钥是否匹配"></a>vscode config:检测win放到linux的公钥与自己的密钥是否匹配</h3><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">Host cfhy</span><br><span class="line">    HostName 192.168.19.131</span><br><span class="line">   <span class="built_in"> User </span>cfhy</span><br><span class="line">    IdentityFile <span class="string">"C:\Users\lenovo\.ssh\id_rsa"</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>经验</category>
      </categories>
      <tags>
        <tag>ssh</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>列表和表单</title>
    <url>/category/%E5%88%97%E8%A1%A8%E5%92%8C%E8%A1%A8%E5%8D%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了ul、ol列表，常见的表单input、label、textarea和select，最后引出了form表单域来存放以上表单控件</p></blockquote><a id="more"></a><h2 id="1-列表标签"><a href="#1-列表标签" class="headerlink" title="1. 列表标签"></a>1. 列表标签</h2><ul><li>列表的自由度比表格高</li></ul><h3 id="1-1-无序列表ul（unordered-list）"><a href="#1-1-无序列表ul（unordered-list）" class="headerlink" title="1.1 无序列表ul（unordered list）"></a>1.1 无序列表ul（unordered list）</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>注意：</strong></p><ul><li>ul标签只能嵌套li标签,而不能嵌套其他标签</li><li>li标签是一个容器，可以容纳所有元素</li></ul><h3 id="1-2-有序列表ol（ordered-list）"><a href="#1-2-有序列表ol（ordered-list）" class="headerlink" title="1.2 有序列表ol（ordered list）"></a>1.2 有序列表ol（ordered list）</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="1-3-自定义列表"><a href="#1-3-自定义列表" class="headerlink" title="1.3 自定义列表"></a>1.3 自定义列表</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词1<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释3<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词2<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释3<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="2-表单标签"><a href="#2-表单标签" class="headerlink" title="2. 表单标签"></a>2. 表单标签</h2><ul><li>一个完整的表单通常由表单控件、提示信息、表单域3个部分构成<ul><li>表单控件：是一些具体的表单功能项，如单行文本输入框、密码输入框、复选框、提交按钮、重置按钮等</li><li>提示信息：包括一些说明性文字，提示用户怎么填写操作和填写</li><li>表单域：相当于一个容器，容纳表单控件和提示信息。告诉将数据传到服务器的方法和表单数据处理程序的url。如果不定义表单域，用户填写的数据将无法送至服务器</li></ul></li></ul><h3 id="2-1-input控件"><a href="#2-1-input控件" class="headerlink" title="2.1 input控件"></a>2.1 input控件</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"属性值"</span> <span class="attr">value</span>=<span class="string">"你好"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="几种常见属性："><a href="#几种常见属性：" class="headerlink" title="几种常见属性："></a>几种常见属性：</h4><h4 id="1-type属性"><a href="#1-type属性" class="headerlink" title="1. type属性"></a>1. type属性</h4><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span></span><br><span class="line">密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"passward"</span> /&gt;</span></span><br><span class="line">单选按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">复选按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span></span><br><span class="line">普通按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> /&gt;</span></span><br><span class="line">提交按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">重置按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> /&gt;</span></span><br><span class="line">图像形式按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"image"</span> /&gt;</span></span><br><span class="line">文件域：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/type属性.png"><h4 id="2-value属性"><a href="#2-value属性" class="headerlink" title="2. value属性"></a>2. value属性</h4><ul><li>表单默认显示的文本</li></ul><h4 id="3-name属性"><a href="#3-name属性" class="headerlink" title="3. name属性"></a>3. name属性</h4><ul><li>name用于区分不同的表单</li><li>radio如果是一组，给它们命名相同的name，可以多选一</li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">男<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span></span><br><span class="line">女<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>checkbox如果是一组，给它们命名相同的name，可以多选</li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">睡觉<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span> </span><br><span class="line">游戏<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span></span><br><span class="line">篮球<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span></span><br><span class="line">足球<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="4-checked属性"><a href="#4-checked属性" class="headerlink" title="4. checked属性"></a>4. checked属性</h4><ul><li><p>默认选中状态，常见于单选按钮和复选框</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line">男<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span></span><br><span class="line">女<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="2-2-label标签"><a href="#2-2-label标签" class="headerlink" title="2.2 label标签"></a>2.2 label标签</h3><p><code>绑定元素</code>：当点击label标签里的文本时，光标自动定位到表单中</p><ol><li>第一种方法(也是最常用的)</li></ol><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"yhm"</span>&gt;</span> 用户名： <span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"yhm"</span> /&gt;</span>        设置id和锚点定位相似</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>第二种方法</li></ol><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span> 用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span> <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-3-textarea控件（文本域）"><a href="#2-3-textarea控件（文本域）" class="headerlink" title="2.3 textarea控件（文本域）"></a>2.3 textarea控件（文本域）</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th align="center">表单</th><th align="center">名称</th><th align="center">区别</th><th align="center">默认值显示</th><th align="center">用于场景</th></tr></thead><tbody><tr><td align="center">intput type=”text”</td><td align="center">文本框</td><td align="center">只能显示一行文本</td><td align="center">单标签，通过value显示默认值</td><td align="center">用户名、昵称、密码等</td></tr><tr><td align="center">textarea</td><td align="center">文本域</td><td align="center">能显示多行文本</td><td align="center">双标签，默认值写在标签中间</td><td align="center">留言板</td></tr></tbody></table><h3 id="2-4-select下拉列表"><a href="#2-4-select下拉列表" class="headerlink" title="2.4 select下拉列表"></a>2.4 select下拉列表</h3><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span>        option标签中设置属性selected为selected表示默认选中状态</span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>缺点：</strong></p><ul><li>在不同浏览器中可能显示不同</li><li>样式不能改</li></ul><h2 id="3-form表单域"><a href="#3-form表单域" class="headerlink" title="3. form表单域"></a>3. form表单域</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"get/post"</span> <span class="attr">name</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    各种表单控件</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th align="center">属性</th><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">action</td><td align="center">url地址</td><td align="center">确定表单数据提交的url地址</td></tr><tr><td align="center">method</td><td align="center">get/post</td><td align="center">确定表单数据的提交方式</td></tr><tr><td align="center">name</td><td align="center">名称</td><td align="center">确定表单名称，以区分同一个页面中的多个表单</td></tr></tbody></table><h2 id="4-查文档"><a href="#4-查文档" class="headerlink" title="4. 查文档"></a>4. 查文档</h2><p>W3C：<a href="http://www.w3school.com.cn/" target="_blank" rel="noopener">http://www.w3school.com.cn/</a></p><p>MDN：<a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/</a></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html02</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>列表和表单</tag>
      </tags>
  </entry>
  <entry>
    <title>王道训练营C/C++方向基础60题</title>
    <url>/category/wd%E5%9F%BA%E7%A1%8060%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><blockquote><p>王道c++基础60题逐题题解</p></blockquote><a id="more"></a><h3 id="1-有一个函数如下："><a href="#1-有一个函数如下：" class="headerlink" title="1.有一个函数如下："></a>1.有一个函数如下：</h3><blockquote><p>有一个函数如下：<br>x (x&lt;5)<br>y = x+6 (5&lt;=x&lt;15)<br>x-6 (x&gt;=15)</p></blockquote><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x){</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">5</span>) <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;=<span class="number">5</span>&amp;&amp;x&lt;<span class="number">15</span>) <span class="built_in">cout</span>&lt;&lt;(x+<span class="number">6</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;=<span class="number">15</span>) <span class="built_in">cout</span>&lt;&lt;(x<span class="number">-6</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-输入一个小写字母，将其转换为大写字母。"><a href="#2-输入一个小写字母，将其转换为大写字母。" class="headerlink" title="2. 输入一个小写字母，将其转换为大写字母。"></a>2. 输入一个小写字母，将其转换为大写字母。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">char</span> x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;(<span class="keyword">char</span>)(x<span class="number">-32</span>)&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//小写字母和大写字母相差32，最后注意要强制类型转换一下</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-求一个3×3-矩阵主对角线元素之和"><a href="#3-求一个3×3-矩阵主对角线元素之和" class="headerlink" title="3. 求一个3×3 矩阵主对角线元素之和"></a>3. 求一个3×3 矩阵主对角线元素之和</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">3</span>]={{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>},{<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>},{<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>}},sum=<span class="number">0</span>;  <span class="comment">//主要熟悉二维数组的初始化</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">       sum+=a[i][i];</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="4-求100～999-之间的水仙花数。所谓水仙花数，是指一个3-位数，它的每位数字的立方之和等于该数。例如，因为153-1-5-3，所以153-为水仙花数。"><a href="#4-求100～999-之间的水仙花数。所谓水仙花数，是指一个3-位数，它的每位数字的立方之和等于该数。例如，因为153-1-5-3，所以153-为水仙花数。" class="headerlink" title="4. 求100～999 之间的水仙花数。所谓水仙花数，是指一个3 位数，它的每位数字的立方之和等于该数。例如，因为153=1+5+3，所以153 为水仙花数。"></a>4. 求100～999 之间的水仙花数。所谓水仙花数，是指一个3 位数，它的每位数字的立方之和等于该数。例如，因为153=1+5+3，所以153 为水仙花数。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a,j;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">100</span>;i&lt;<span class="number">1000</span>;i++){   <span class="comment">//i不动，把i赋给j，对j处理，</span></span><br><span class="line">        j=i;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span>{</span><br><span class="line">            a=j%<span class="number">10</span>;</span><br><span class="line">            sum+=a*a*a;</span><br><span class="line">            j/=<span class="number">10</span>;</span><br><span class="line">        }<span class="keyword">while</span>(j);</span><br><span class="line">        <span class="keyword">if</span>(i==sum) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"是水仙花数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="5-输入百分制成绩，并把它转换成五级分制"><a href="#5-输入百分制成绩，并把它转换成五级分制" class="headerlink" title="5. 输入百分制成绩，并把它转换成五级分制"></a>5. 输入百分制成绩，并把它转换成五级分制</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/分数表.png"><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">    <span class="keyword">switch</span>(x/<span class="number">10</span>){  </span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"合格"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"中等"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"良好"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">9</span>:                             <span class="comment">//9和10是一类</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">10</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"优秀"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="6-使用非递归的方法实现斐波拉契数列"><a href="#6-使用非递归的方法实现斐波拉契数列" class="headerlink" title="6.使用非递归的方法实现斐波拉契数列"></a>6.使用非递归的方法实现斐波拉契数列</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fib</span><span class="params">(<span class="keyword">long</span> n)</span></span>{</span><br><span class="line">    <span class="keyword">long</span> *a = <span class="keyword">new</span> <span class="keyword">long</span>[n+<span class="number">1</span>];  <span class="comment">//对于不确定大小的数组，我们采用动态数组的方法来还创建</span></span><br><span class="line">    a[<span class="number">0</span>]=<span class="number">1</span>,a[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> i=<span class="number">2</span>;i&lt;=n;i++){</span><br><span class="line">        a[i]=a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>];</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a[n]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">long</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    fib(n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="7-编写一个程序，将一个数组中的值按逆序重新存放。例如-原来顺序为8-6-5-4-1。要求改为1-4-5-6-8。"><a href="#7-编写一个程序，将一个数组中的值按逆序重新存放。例如-原来顺序为8-6-5-4-1。要求改为1-4-5-6-8。" class="headerlink" title="7.编写一个程序，将一个数组中的值按逆序重新存放。例如,原来顺序为8,6,5,4,1。要求改为1,4,5,6,8。"></a>7.编写一个程序，将一个数组中的值按逆序重新存放。例如,原来顺序为8,6,5,4,1。要求改为1,4,5,6,8。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resort</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n/<span class="number">2</span>;i++)    <span class="comment">//逆序时，交换次序不需要考虑总数的奇偶情况，可统一处理</span></span><br><span class="line">            swap(a[i],a[n<span class="number">-1</span>-i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++){</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    }</span><br><span class="line">    resort(a,n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="8-编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。"><a href="#8-编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。" class="headerlink" title="8. 编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。"></a>8. 编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(a+b&gt;c&amp;&amp;a+c&gt;b&amp;&amp;b+c&gt;a)   <span class="comment">//关键代码，三角形判定和三角形面积公式</span></span><br><span class="line">{</span><br><span class="line">p=(a+b+c)/<span class="number">2</span>;</span><br><span class="line">v=<span class="built_in">sqrt</span>(p*(p-a)*(p-b)*(p-c));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="9-从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。"><a href="#9-从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。" class="headerlink" title="9. 从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。"></a>9. 从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> x,<span class="built_in">min</span>=<span class="number">10000</span>,<span class="built_in">max</span>=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x){</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="built_in">min</span>) <span class="built_in">min</span>=x;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;<span class="built_in">max</span>) <span class="built_in">max</span>=x;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"最高成绩："</span>&lt;&lt;<span class="built_in">max</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="string">"最低成绩"</span>&lt;&lt;<span class="built_in">min</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="10-编写函数将化氏温度转换为摄氏温度，公式为C-（F-32）-5-9；并在主函数中调用。"><a href="#10-编写函数将化氏温度转换为摄氏温度，公式为C-（F-32）-5-9；并在主函数中调用。" class="headerlink" title="10. 编写函数将化氏温度转换为摄氏温度，公式为C=（F-32）*5/9；并在主函数中调用。"></a>10. 编写函数将化氏温度转换为摄氏温度，公式为C=（F-32）*5/9；并在主函数中调用。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">double</span> f)</span></span>{</span><br><span class="line">    <span class="keyword">return</span> (f<span class="number">-32</span>)*<span class="number">5</span>/<span class="number">9</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">double</span> f,c;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;f;</span><br><span class="line">    c=compute(f);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;c;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="11-输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12-1-2-2-3"><a href="#11-输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12-1-2-2-3" class="headerlink" title="11. 输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12=1* 2 * 2 * 3"></a>11. 输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12=1* 2 * 2 * 3</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"=1"</span>;</span><br><span class="line">    y=x;                       <span class="comment">//y不动，把x赋给y，对x进行处理</span></span><br><span class="line">    <span class="keyword">if</span>(x&gt;=<span class="number">2</span>){</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;y;i++)</span><br><span class="line">            <span class="keyword">while</span>(!(x%i)){</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"*"</span>&lt;&lt;i;</span><br><span class="line">                x/=i;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="12-N-个整数从小到大排列，输入一个新数插入其中，使N-1-个整数仍然有序。"><a href="#12-N-个整数从小到大排列，输入一个新数插入其中，使N-1-个整数仍然有序。" class="headerlink" title="12. N 个整数从小到大排列，输入一个新数插入其中，使N+1 个整数仍然有序。"></a>12. N 个整数从小到大排列，输入一个新数插入其中，使N+1 个整数仍然有序。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{   </span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];   <span class="comment">//创建“大一个”的数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"输入一个要插入的新数："</span>;</span><br><span class="line">    <span class="keyword">int</span> x,pos;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(a[n<span class="number">-1</span>]&lt;x) pos=n;  <span class="comment">//如果插入的数最大，就不用移动其他元素了，需要特殊处理</span></span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)  <span class="comment">//找出插入的位置pos</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(a[i]&lt;x) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span>{</span><br><span class="line">                pos=i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=n<span class="number">-1</span>;j&gt;=pos;j--) <span class="comment">//后移元素，并赋值给插入位置的元素</span></span><br><span class="line">    {</span><br><span class="line">        a[j+<span class="number">1</span>]=a[j];</span><br><span class="line">    }</span><br><span class="line">    a[pos]=x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="13-在100～200-之间找出满足用3-除余2，用5-除余3-和用7-除余2-的所有整数。"><a href="#13-在100～200-之间找出满足用3-除余2，用5-除余3-和用7-除余2-的所有整数。" class="headerlink" title="13.在100～200 之间找出满足用3 除余2，用5 除余3 和用7 除余2 的所有整数。"></a>13.在100～200 之间找出满足用3 除余2，用5 除余3 和用7 除余2 的所有整数。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">100</span>;i&lt;<span class="number">201</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">int</span> j=i;</span><br><span class="line">        <span class="keyword">if</span>((j%<span class="number">3</span>==<span class="number">2</span>)&amp;&amp;(j%<span class="number">5</span>==<span class="number">3</span>)&amp;&amp;(j%<span class="number">7</span>==<span class="number">2</span>)) <span class="built_in">cout</span>&lt;&lt;j&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="14-输入10-个同学的成绩，统计80-分以上和不及格的人数，并输出平均值。"><a href="#14-输入10-个同学的成绩，统计80-分以上和不及格的人数，并输出平均值。" class="headerlink" title="14. 输入10 个同学的成绩，统计80 分以上和不及格的人数，并输出平均值。"></a>14. 输入10 个同学的成绩，统计80 分以上和不及格的人数，并输出平均值。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> countNumber=<span class="number">0</span>,failNumber=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">        <span class="keyword">if</span>(a[i]&gt;<span class="number">80</span>) countNumber++;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;<span class="number">60</span>) failNumber++;</span><br><span class="line">        sum+=a[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span> average = sum/<span class="number">10</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"80以上总数："</span>&lt;&lt;countNumber&lt;&lt;<span class="string">"不及格："</span>&lt;&lt;failNumber&lt;&lt;<span class="string">"平均成绩："</span>&lt;&lt;average&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="15-编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26-个英文字母。"><a href="#15-编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26-个英文字母。" class="headerlink" title="15. 编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26 个英文字母。"></a>15. 编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26 个英文字母。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">char</span> x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x){</span><br><span class="line">        <span class="keyword">if</span>(x&gt;=<span class="string">'a'</span>&amp;&amp;x&lt;=<span class="string">'z'</span>) <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"是小写字母"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x&gt;=<span class="string">'A'</span>&amp;&amp;x&lt;=<span class="string">'Z'</span>) <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"是大写字母"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"不是26个英文字母"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="16-编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。"><a href="#16-编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。" class="headerlink" title="16. 编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。"></a>16. 编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.14  <span class="comment">//宏定义后不用加分号</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">double</span> r,h;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;r&gt;&gt;h)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">double</span> s=PI*r*r;</span><br><span class="line">        <span class="keyword">double</span> v=s*h;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"底面积："</span>&lt;&lt;s&lt;&lt;<span class="string">"体积为："</span>&lt;&lt;v&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="17-输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。"><a href="#17-输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。" class="headerlink" title="17. 输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。"></a>17. 输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,s)){</span><br><span class="line">        <span class="keyword">int</span> letterNumber=<span class="number">0</span>,kongNumber=<span class="number">0</span>,digitNumber=<span class="number">0</span>,othersNumber=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>((s[i]&gt;=<span class="string">'a'</span>&amp;&amp;s[i]&lt;=<span class="string">'z'</span>)||(s[i]&gt;=<span class="string">'A'</span>&amp;&amp;s[i]&lt;=<span class="string">'Z'</span>)) letterNumber++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">' '</span>) kongNumber++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>) digitNumber++;</span><br><span class="line">            <span class="keyword">else</span> othersNumber++;</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"英文字母个数："</span>&lt;&lt;letterNumber&lt;&lt;<span class="string">"空格个数："</span>&lt;&lt;kongNumber&lt;&lt;<span class="string">"数字个数："</span>&lt;&lt;digitNumber&lt;&lt;<span class="string">"其他字符个数："</span>&lt;&lt;othersNumber&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> letterNumber=<span class="number">0</span>,kongNumber=<span class="number">0</span>,digitNumber=<span class="number">0</span>,othersNumber=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((c=getchar())!=<span class="string">'\n'</span>){  <span class="comment">//getchar为空判定</span></span><br><span class="line">        <span class="keyword">if</span>((c&gt;=<span class="string">'a'</span>&amp;&amp;c&lt;=<span class="string">'z'</span>)||(c&gt;=<span class="string">'A'</span>&amp;&amp;c&lt;=<span class="string">'Z'</span>)) letterNumber++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">' '</span>) kongNumber++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c&gt;=<span class="string">'0'</span>&amp;&amp;c&lt;=<span class="string">'9'</span>) digitNumber++;</span><br><span class="line">        <span class="keyword">else</span> othersNumber++;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"英文字母个数："</span>&lt;&lt;letterNumber&lt;&lt;<span class="string">"空格个数："</span>&lt;&lt;kongNumber&lt;&lt;<span class="string">"数字个数："</span>&lt;&lt;digitNumber&lt;&lt;<span class="string">"其他字符个数："</span>&lt;&lt;othersNumber&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="18-编写程序-形成如下矩阵-并输出。"><a href="#18-编写程序-形成如下矩阵-并输出。" class="headerlink" title="18.编写程序,形成如下矩阵,并输出。"></a>18.编写程序,形成如下矩阵,并输出。</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/矩阵.png"><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)</span><br><span class="line">        {</span><br><span class="line">            a[i][j]=<span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(j&lt;=i)</span><br><span class="line">                a[i][j]=i+<span class="number">1</span>-j;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;a[i][j]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="19-用递归函数完成以下运算："><a href="#19-用递归函数完成以下运算：" class="headerlink" title="19. 用递归函数完成以下运算："></a>19. 用递归函数完成以下运算：</h3><blockquote><p>sum(n)=12+22+…+n2<br>函数的原型如下：<br>long sum(int n);<br>该函数完成12+22+…+n2 的运算，并返回运算结果，其中n&gt;0。<br>提示：你可以使用递归表达式：sum(n)=sum(n-1)+n2</p></blockquote><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">//基线条件</span></span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">return</span> sum(n<span class="number">-1</span>)+n*n;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n){</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;sum(n);</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="20-编写一个程序，将整数转换成字符串：void-itoa-int-char"><a href="#20-编写一个程序，将整数转换成字符串：void-itoa-int-char" class="headerlink" title="20.编写一个程序，将整数转换成字符串：void itoa(int,char);"></a>20.编写一个程序，将整数转换成字符串：void itoa(int,char);</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n){</span><br><span class="line">        <span class="built_in">string</span> s=<span class="string">""</span>;</span><br><span class="line">        <span class="keyword">do</span>{</span><br><span class="line">          <span class="keyword">int</span> a= n%<span class="number">10</span>;                <span class="comment">//回顾下知识点：  </span></span><br><span class="line">          s+=(a+<span class="string">'0'</span>);                 <span class="comment">//求各位数用do-while</span></span><br><span class="line">          n/=<span class="number">10</span>;                      <span class="comment">//小写字母=（char）大写字母+32</span></span><br><span class="line">        }<span class="keyword">while</span>(n);                    <span class="comment">//char数= int数+'0'  其中'0'是48</span></span><br><span class="line">        reverse(s.<span class="built_in">begin</span>(),s.<span class="built_in">end</span>());   <span class="comment">//reverse函数可以反转string字符串</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;s&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="21-编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004-年12-月31-日23-时59-分59-秒，则输出2005-年1-月1-日0-时0-分0秒。"><a href="#21-编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004-年12-月31-日23-时59-分59-秒，则输出2005-年1-月1-日0-时0-分0秒。" class="headerlink" title="21. 编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004 年12 月31 日23 时59 分59 秒，则输出2005 年1 月1 日0 时0 分0秒。"></a>21. 编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004 年12 月31 日23 时59 分59 秒，则输出2005 年1 月1 日0 时0 分0秒。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">NextTime</span><span class="params">(<span class="keyword">int</span> year,<span class="keyword">int</span> month,<span class="keyword">int</span> date,<span class="keyword">int</span> hour,<span class="keyword">int</span> minute,<span class="keyword">int</span> second)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> Days=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//首先判断输入日期格式是否正确</span></span><br><span class="line">    <span class="keyword">if</span>(year&lt;<span class="number">0</span>||month&lt;<span class="number">1</span>||month&gt;<span class="number">12</span>||date&lt;<span class="number">1</span>||date&gt;<span class="number">31</span>||hour&lt;<span class="number">0</span>||hour&gt;<span class="number">23</span>||minute&lt;<span class="number">0</span>||minute&gt;<span class="number">59</span>||second&lt;<span class="number">0</span>||second&gt;<span class="number">59</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"格式输入错误!!!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    second+=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(second==<span class="number">60</span>)</span><br><span class="line">    {</span><br><span class="line">        second=<span class="number">0</span>;</span><br><span class="line">        minute+=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(minute==<span class="number">60</span>)</span><br><span class="line">        {</span><br><span class="line">            minute=<span class="number">0</span>;</span><br><span class="line">            hour+=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(hour==<span class="number">24</span>)</span><br><span class="line">            {</span><br><span class="line">                hour=<span class="number">0</span>;</span><br><span class="line">                date+=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">switch</span>(month)</span><br><span class="line">                {</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">                    Days=<span class="number">31</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="keyword">if</span>(year%<span class="number">400</span>==<span class="number">0</span>||year%<span class="number">100</span>!=<span class="number">0</span>&amp;&amp;year%<span class="number">4</span>==<span class="number">0</span>)</span><br><span class="line">                    {</span><br><span class="line">                        Days=<span class="number">29</span>;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="keyword">else</span>{</span><br><span class="line">                        Days=<span class="number">28</span>;</span><br><span class="line">                    }</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    Days=<span class="number">30</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span>(date&gt;Days)</span><br><span class="line">                {</span><br><span class="line">                    date=<span class="number">1</span>;</span><br><span class="line">                    month+=<span class="number">1</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span>(month&gt;<span class="number">12</span>)</span><br><span class="line">                {</span><br><span class="line">                    month=<span class="number">1</span>;</span><br><span class="line">                    year+=<span class="number">1</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"下一秒是"</span>&lt;&lt;year&lt;&lt;<span class="string">"年"</span>&lt;&lt;month&lt;&lt;<span class="string">"月"</span>&lt;&lt;date&lt;&lt;<span class="string">"日"</span>&lt;&lt;hour&lt;&lt;<span class="string">"时"</span>&lt;&lt;minute&lt;&lt;<span class="string">"分"</span>&lt;&lt;second&lt;&lt;<span class="string">"秒"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">     <span class="keyword">int</span> YEAR,MONTH,DATE,HOUR,MINUTE,SECOND;</span><br><span class="line">     <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入年份&amp;月份&amp;天数&amp;小时&amp;分钟&amp;秒数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">     <span class="built_in">cin</span>&gt;&gt;YEAR&gt;&gt;MONTH&gt;&gt;DATE&gt;&gt;HOUR&gt;&gt;MINUTE&gt;&gt;SECOND;</span><br><span class="line">     <span class="built_in">cout</span>&lt;&lt;<span class="string">"您输入的是"</span>&lt;&lt;YEAR&lt;&lt;<span class="string">"年"</span>&lt;&lt;MONTH&lt;&lt;<span class="string">"月"</span>&lt;&lt;DATE&lt;&lt;<span class="string">"日"</span>&lt;&lt;HOUR&lt;&lt;<span class="string">"时"</span>&lt;&lt;MINUTE&lt;&lt;<span class="string">"分"</span>&lt;&lt;SECOND&lt;&lt;<span class="string">"秒"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">     NextTime(YEAR,MONTH,DATE,HOUR,MINUTE,SECOND);</span><br><span class="line">     system(<span class="string">"pause"</span>);</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="22-编写一个程序，交换两个数，不用第三块儿内存"><a href="#22-编写一个程序，交换两个数，不用第三块儿内存" class="headerlink" title="22.编写一个程序，交换两个数，不用第三块儿内存"></a>22.编写一个程序，交换两个数，不用第三块儿内存</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y){</span><br><span class="line">        x=x+y;       <span class="comment">//关键代码</span></span><br><span class="line">        y=x-y;</span><br><span class="line">        x=x-y;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">" "</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="23-有一段文本，统计其中的单词数。"><a href="#23-有一段文本，统计其中的单词数。" class="headerlink" title="23.有一段文本，统计其中的单词数。"></a>23.有一段文本，统计其中的单词数。</h3><blockquote><p>例如：</p><p>As a technology , “HailStorm” is so new that it is still only known by<br>its code name.<br>注意：单词间的间隔不一定是一个空格。</p></blockquote><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> number=<span class="number">0</span>,flag=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(((c=getchar())!=<span class="string">'\n'</span>)){   <span class="comment">//c=getchar()一定要打括号</span></span><br><span class="line">        <span class="keyword">if</span>((c&gt;=<span class="string">'a'</span>&amp;&amp;c&lt;=<span class="string">'z'</span>)||(c&gt;=<span class="string">'A'</span>&amp;&amp;c&lt;=<span class="string">'Z'</span>)){</span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="literal">false</span>){</span><br><span class="line">                flag=<span class="literal">true</span>;</span><br><span class="line">                number++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> flag=<span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;number&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="24-国际象棋有8×8-格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8-个皇后，并使它们互相无法威胁到彼此。"><a href="#24-国际象棋有8×8-格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8-个皇后，并使它们互相无法威胁到彼此。" class="headerlink" title="24. 国际象棋有8×8 格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8 个皇后，并使它们互相无法威胁到彼此。"></a>24. 国际象棋有8×8 格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8 个皇后，并使它们互相无法威胁到彼此。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n=<span class="number">8</span>,total=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *c=<span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_ok</span><span class="params">(<span class="keyword">int</span> row)</span></span>{</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n&amp;&amp;i!=row;i++){</span><br><span class="line">        <span class="keyword">if</span>(c[row]==c[i]||row-c[row]==i-c[i]||row+c[row]==i+c[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">queen</span><span class="params">(<span class="keyword">int</span> row)</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(row==n) total++;</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>;col&lt;n;col++){</span><br><span class="line">            c[row]=col;</span><br><span class="line">            <span class="keyword">if</span>(is_ok(row))</span><br><span class="line">                queen(row+<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    queen(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"八皇后的解有"</span>&lt;&lt;total&lt;&lt;<span class="string">"种"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="25-有一字符串a，内容为：My-name-is-Li-jilin-，另有字符串b，内容为：Mr-Zhang-Haoling-is-very-happy-写一函数，将字符串b-中从第5-个到第17个字符复制到字符串a-中，取代字符串a-中第12-个字符以后的字符。输出新的字符串。"><a href="#25-有一字符串a，内容为：My-name-is-Li-jilin-，另有字符串b，内容为：Mr-Zhang-Haoling-is-very-happy-写一函数，将字符串b-中从第5-个到第17个字符复制到字符串a-中，取代字符串a-中第12-个字符以后的字符。输出新的字符串。" class="headerlink" title="25.有一字符串a，内容为：My name is Li jilin.，另有字符串b，内容为：Mr. Zhang Haoling is very happy.写一函数，将字符串b 中从第5 个到第17个字符复制到字符串a 中，取代字符串a 中第12 个字符以后的字符。输出新的字符串。"></a>25.有一字符串a，内容为：My name is Li jilin.，另有字符串b，内容为：Mr. Zhang Haoling is very happy.写一函数，将字符串b 中从第5 个到第17个字符复制到字符串a 中，取代字符串a 中第12 个字符以后的字符。输出新的字符串。</h3><figure class="highlight autoit"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line">using namespace std<span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> main()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">string</span> s1 = <span class="string">"My name is Li jilin"</span>,s2 = <span class="string">"Mr. Zhang Haoling is very happy."</span><span class="comment">;</span></span><br><span class="line">    <span class="built_in">string</span> str<span class="comment">;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">4</span><span class="comment">;i&lt;17;i++)</span></span><br><span class="line">    {</span><br><span class="line">        str+=s2[i]<span class="comment">;</span></span><br><span class="line">    }</span><br><span class="line">    //replace(被替换序子串的开始位置pos，被替换序子串的长度len,用以替换的子串str)</span><br><span class="line">    s1.replace(<span class="number">11</span>,<span class="number">-1</span>,str)<span class="comment">;</span></span><br><span class="line">    cout&lt;&lt;s1&lt;&lt;endl<span class="comment">;</span></span><br><span class="line">    system(<span class="string">"pause"</span>)<span class="comment">;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span><span class="comment">;</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="26-有一分数序列：1-2-1-4-1-6-1-8……，用函数调用的方法，求此数列前20项的和。"><a href="#26-有一分数序列：1-2-1-4-1-6-1-8……，用函数调用的方法，求此数列前20项的和。" class="headerlink" title="26.有一分数序列：1/2,1/4,1/6,1/8……，用函数调用的方法，求此数列前20项的和。"></a>26.有一分数序列：1/2,1/4,1/6,1/8……，用函数调用的方法，求此数列前20项的和。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">double</span> sum=<span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">20</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        sum+=<span class="number">1.0</span>/(<span class="number">2.0</span>*i);  <span class="comment">//double运算时数建议都写成小数</span></span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="27-已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。"><a href="#27-已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。" class="headerlink" title="27. 已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。"></a>27. 已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; l;   <span class="comment">//初始化单链表</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x){</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        l.push_back(x);  <span class="comment">//在list末尾插入x</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:l) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"&gt;"</span>;   <span class="comment">//迭代器循环输出list</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"输入要删除的元素："</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;y;</span><br><span class="line">    <span class="keyword">auto</span> <span class="built_in">begin</span> = l.<span class="built_in">begin</span>();  </span><br><span class="line">    <span class="keyword">auto</span> <span class="built_in">end</span> = l.<span class="built_in">end</span>();</span><br><span class="line">    <span class="keyword">for</span>(;<span class="built_in">begin</span>!=<span class="built_in">end</span>;<span class="built_in">begin</span>++){   <span class="comment">//迭代器循环查找元素</span></span><br><span class="line">        <span class="keyword">if</span>(*<span class="built_in">begin</span>==y){</span><br><span class="line">            l.<span class="built_in">remove</span>(y);   <span class="comment">//可不用查找，直接删除元素y</span></span><br><span class="line">            <span class="keyword">break</span>;         <span class="comment">//l.insert(begin,y) ：将y插入begin之前</span></span><br><span class="line">        }</span><br><span class="line">            </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:l) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"&gt;"</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="28-用冒泡法对10-个整数排序。"><a href="#28-用冒泡法对10-个整数排序。" class="headerlink" title="28.用冒泡法对10 个整数排序。"></a>28.用冒泡法对10 个整数排序。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)               <span class="comment">//冒泡排序关键代码</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">9</span>-i;j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(a[j]&gt;a[j+<span class="number">1</span>]) </span><br><span class="line">                swap(a[j],a[j+<span class="number">1</span>]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="29-有一个16-位的整数，每4-位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101-0101-1011-0111（十进制为36）"><a href="#29-有一个16-位的整数，每4-位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101-0101-1011-0111（十进制为36）" class="headerlink" title="29.有一个16 位的整数，每4 位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101+0101+1011+0111（十进制为36）"></a>29.有一个16 位的整数，每4 位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101+0101+1011+0111（十进制为36）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">	<span class="keyword">int</span> c=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(n){</span><br><span class="line">		c+=n&amp;<span class="number">15</span>;  <span class="comment">//4位和1111与</span></span><br><span class="line">		n&gt;&gt;=<span class="number">4</span>;  <span class="comment">//n右移四位</span></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> c;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;sum(n);</span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="30-设编号为1，2，…-n-的n-个人围坐一圈，约定编号为k（1-lt-k-lt-n）的人从1-开始报数，数到m-的那个人出列，它的下一位又从1-开始报数，数到m-的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。"><a href="#30-设编号为1，2，…-n-的n-个人围坐一圈，约定编号为k（1-lt-k-lt-n）的人从1-开始报数，数到m-的那个人出列，它的下一位又从1-开始报数，数到m-的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。" class="headerlink" title="30. 设编号为1，2，… n 的n 个人围坐一圈，约定编号为k（1<=k<=n）的人从1 开始报数，数到m 的那个人出列，它的下一位又从1 开始报数，数到m 的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。"></a>30. 设编号为1，2，… n 的n 个人围坐一圈，约定编号为k（1&lt;=k&lt;=n）的人从1 开始报数，数到m 的那个人出列，它的下一位又从1 开始报数，数到m 的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"> <span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> n,k,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k&gt;&gt;m){</span><br><span class="line">        <span class="keyword">if</span>(n%m==<span class="number">0</span>){              <span class="comment">//不能输出所有元素</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"不存在约瑟夫环"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(((k+m*i<span class="number">-1</span>)%n==<span class="number">0</span>)) <span class="built_in">cout</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;   <span class="comment">//模为0，则输出n</span></span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;(k+m*i<span class="number">-1</span>)%n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="31-声明一个类String，其数据成员为char-head-100-，构造函数String（char-Head）实现head-的初始化，成员函数void-reverse（）实现head-内字符串的逆序存放，成员函数void-print-实现head-内字符串的输出。"><a href="#31-声明一个类String，其数据成员为char-head-100-，构造函数String（char-Head）实现head-的初始化，成员函数void-reverse（）实现head-内字符串的逆序存放，成员函数void-print-实现head-内字符串的输出。" class="headerlink" title="31.声明一个类String，其数据成员为char head[100]，构造函数String（char*Head）实现head 的初始化，成员函数void reverse（）实现head 内字符串的逆序存放，成员函数void print()实现head 内字符串的输出。"></a>31.声明一个类String，其数据成员为char head[100]，构造函数String（char*Head）实现head 的初始化，成员函数void reverse（）实现head 内字符串的逆序存放，成员函数void print()实现head 内字符串的输出。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//定义一个String类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span>{</span>   </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="keyword">String</span>(<span class="keyword">char</span>*);  <span class="comment">//构造函数</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Reverse</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">char</span> head[<span class="number">100</span>];  <span class="comment">//成员变量</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">char</span>* Head){</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> *p=Head;  <span class="comment">//定义新的指针</span></span><br><span class="line">    <span class="keyword">while</span>((*p)!=<span class="string">'\0'</span>){</span><br><span class="line">        head[i++]=*p;</span><br><span class="line">        p++;</span><br><span class="line">    }</span><br><span class="line">    head[i]=<span class="string">'\0'</span>;   <span class="comment">//最后别忘了，是以'\0'结尾</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">String::Reverse</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">char</span> h[<span class="number">100</span>],*p=head;</span><br><span class="line">    <span class="keyword">while</span>((*p)!=<span class="string">'\0'</span>){</span><br><span class="line">        p++;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((*p)!=head[<span class="number">0</span>]){</span><br><span class="line">        p--;</span><br><span class="line">        h[i++]=*p;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    h[i]=<span class="string">'\0'</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;h[i]!=<span class="string">'\0'</span>;i++)  </span><br><span class="line">    {</span><br><span class="line">        head[i]=h[i];</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">String::Print</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">char</span>* p=head;</span><br><span class="line">    <span class="keyword">for</span>(;(*p)!=<span class="string">'\0'</span>;p++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;*p&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">char</span> *Head =(<span class="keyword">char</span>*) <span class="string">"abcd"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">s</span><span class="params">(Head)</span></span>;  <span class="comment">//类实例化</span></span><br><span class="line">    s.Print();</span><br><span class="line">    s.Reverse();</span><br><span class="line">    s.Print();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><h3 id="32-定义盒子Box-类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。"><a href="#32-定义盒子Box-类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。" class="headerlink" title="32.定义盒子Box 类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。"></a>32.定义盒子Box 类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Box(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);   <span class="comment">//不用定义形参</span></span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">v</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> x,y,z;</span><br><span class="line">};</span><br><span class="line">Box::Box(<span class="keyword">double</span> X,<span class="keyword">double</span> Y,<span class="keyword">double</span> Z){</span><br><span class="line">    x=X;</span><br><span class="line">    y=Y;</span><br><span class="line">    z=Z;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Box::v</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> (x*y*z);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Box::s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*(x*y+x*z+y*z);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">Box <span class="title">B</span><span class="params">(<span class="number">5.0</span>,<span class="number">6.0</span>,<span class="number">7.0</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;B.v()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;B.s()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="33-声明一个Tree（树）类，有成员ages-树龄-成员函数grow-int-years-用以对ages-加上years，showAge-用以显示tree-对象的ages-值。在主函数中定义Tree-类对象，并调用成员函数（自行指定实参数据）。"><a href="#33-声明一个Tree（树）类，有成员ages-树龄-成员函数grow-int-years-用以对ages-加上years，showAge-用以显示tree-对象的ages-值。在主函数中定义Tree-类对象，并调用成员函数（自行指定实参数据）。" class="headerlink" title="33.声明一个Tree（树）类，有成员ages(树龄),成员函数grow(int years)用以对ages 加上years，showAge()用以显示tree 对象的ages 值。在主函数中定义Tree 类对象，并调用成员函数（自行指定实参数据）。"></a>33.声明一个Tree（树）类，有成员ages(树龄),成员函数grow(int years)用以对ages 加上years，showAge()用以显示tree 对象的ages 值。在主函数中定义Tree 类对象，并调用成员函数（自行指定实参数据）。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tree</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Tree(<span class="keyword">int</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">showAge</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">};</span><br><span class="line">Tree::Tree(<span class="keyword">int</span> year){</span><br><span class="line">    age=year;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tree::grow</span><span class="params">(<span class="keyword">int</span> year)</span></span>{</span><br><span class="line">    age+=year;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tree::showAge</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;age&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">Tree <span class="title">tree</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line">    tree.showAge();</span><br><span class="line">    tree.grow(<span class="number">10</span>);</span><br><span class="line">    tree.showAge();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="34-有一个学生类Student-包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级："><a href="#34-有一个学生类Student-包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级：" class="headerlink" title="34.有一个学生类Student,包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级："></a>34.有一个学生类Student,包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级：</h3><blockquote><p>(1) 大于等于90：优；<br>(2) 80<del>90：良；<br>(3) 70</del>79：中；<br>(4) 60~69：及格；<br>(5) 小于60：不及格。</p></blockquote><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Student(<span class="built_in">string</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">getGrade</span><span class="params">(Student&amp;)</span></span>;  <span class="comment">//友元函数不属于某一个类，形参是对象，可以访问私有成员</span></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="built_in">string</span> name;</span><br><span class="line">        <span class="keyword">double</span> grade;</span><br><span class="line">};</span><br><span class="line">Student::Student(<span class="built_in">string</span> n,<span class="keyword">double</span> g){</span><br><span class="line">    name=n;</span><br><span class="line">    grade=g;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getGrade</span><span class="params">(Student &amp;s)</span></span>{</span><br><span class="line">    <span class="keyword">switch</span> (<span class="keyword">int</span>(s.grade/<span class="number">10.0</span>))    <span class="comment">//case都是int型，所以要强制类型转换下</span></span><br><span class="line">    {</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"不及格"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;  <span class="comment">//case下不用加括号</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"及格"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"中"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"良"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>: </span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"优秀"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Student s1("陈励鹏",98),s2("李晨",100);</span><br><span class="line">    getGrade(s1);           <span class="comment">//s1.name不可访问</span></span><br><span class="line">    getGrade(s2);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="35-定义一个复数类，用友元函数实现对双目运算符“-”的运算符重载，使其适用于复数运算。"><a href="#35-定义一个复数类，用友元函数实现对双目运算符“-”的运算符重载，使其适用于复数运算。" class="headerlink" title="35.定义一个复数类，用友元函数实现对双目运算符“+”的运算符重载，使其适用于复数运算。"></a>35.定义一个复数类，用友元函数实现对双目运算符“+”的运算符重载，使其适用于复数运算。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Complex();</span><br><span class="line">        Complex(<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp;);</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getreal</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getimag</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> real,imag;</span><br><span class="line">};</span><br><span class="line">Complex::Complex(){</span><br><span class="line">    <span class="keyword">this</span>-&gt;real=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Complex::Complex(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y){  <span class="comment">//构造函数重载</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;real = _x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag = _y;</span><br><span class="line">}</span><br><span class="line">Complex Complex::<span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp; c){   <span class="comment">//运算符重载</span></span><br><span class="line">    Complex n;  <span class="comment">//创建新对象，后返回</span></span><br><span class="line">    n.real = <span class="keyword">this</span>-&gt;real+c.real;</span><br><span class="line">    n.imag = <span class="keyword">this</span>-&gt;imag+c.imag;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getreal</span><span class="params">()</span></span>{  <span class="comment">//私有成员只有通过成员函数取，不能直接取</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;real;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getimag</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;imag;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Complex c1(10,5),c2(4,4);</span><br><span class="line">    Complex c3=c1+c2;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;c3.getreal()&lt;&lt;<span class="string">" "</span>&lt;&lt;c3.getimag();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//友元函数实现版</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;                  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Complex();</span><br><span class="line">        Complex(<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="keyword">friend</span> Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp;,<span class="keyword">const</span> Complex&amp;); <span class="comment">//友元函数用不了this</span></span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getreal</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getimag</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> real,imag;</span><br><span class="line">};</span><br><span class="line">Complex::Complex(){</span><br><span class="line">    <span class="keyword">this</span>-&gt;real=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Complex::Complex(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y){</span><br><span class="line">    <span class="keyword">this</span>-&gt;real = _x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag = _y;</span><br><span class="line">}</span><br><span class="line">Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp; z1,<span class="keyword">const</span> Complex&amp; z2){</span><br><span class="line">    Complex n;</span><br><span class="line">    n.real = z1.real+z2.real;</span><br><span class="line">    n.imag = z1.imag+z2.imag;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getreal</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;real;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getimag</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;imag;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Complex c1(10,5),c2(4,4);</span><br><span class="line">    Complex c3=c1+c2;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;c3.getreal()&lt;&lt;<span class="string">" "</span>&lt;&lt;c3.getimag();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="36-有一个Time-类，包含数据成员minute-分-和sec-秒-，模拟秒表，每次走一秒，满60-秒进一分钟，此时秒又从0-开始算。要求输出分和秒的值。（提示：重载单目运算符-）。"><a href="#36-有一个Time-类，包含数据成员minute-分-和sec-秒-，模拟秒表，每次走一秒，满60-秒进一分钟，此时秒又从0-开始算。要求输出分和秒的值。（提示：重载单目运算符-）。" class="headerlink" title="36. 有一个Time 类，包含数据成员minute(分)和sec(秒)，模拟秒表，每次走一秒，满60 秒进一分钟，此时秒又从0 开始算。要求输出分和秒的值。（提示：重载单目运算符++）。"></a>36. 有一个Time 类，包含数据成员minute(分)和sec(秒)，模拟秒表，每次走一秒，满60 秒进一分钟，此时秒又从0 开始算。要求输出分和秒的值。（提示：重载单目运算符++）。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Time</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Time();</span><br><span class="line">    Time(<span class="keyword">int</span>, <span class="keyword">int</span>);</span><br><span class="line">    Time <span class="keyword">operator</span>++(<span class="keyword">int</span>); <span class="comment">//带参数的是后置 t++</span></span><br><span class="line">    <span class="comment">//Time operator++();  //不带参数的是前置 ++t</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> minute;</span><br><span class="line">    <span class="keyword">int</span> second;</span><br><span class="line">};</span><br><span class="line">Time::Time()</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">this</span>-&gt;minute = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;second = <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line">Time::Time(<span class="keyword">int</span> _m, <span class="keyword">int</span> _s)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">this</span>-&gt;minute = _m;</span><br><span class="line">    <span class="keyword">this</span>-&gt;second = _s;</span><br><span class="line">}</span><br><span class="line">Time Time::<span class="keyword">operator</span>++(<span class="keyword">int</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;second &lt; <span class="number">59</span>)    <span class="comment">//也可以新建一个对象Time temp(*this)</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;second++;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;second == <span class="number">59</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">this</span>-&gt;second = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;minute++;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Time::display</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;minute&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="keyword">this</span>-&gt;second&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">Time <span class="title">t</span><span class="params">(<span class="number">20</span>, <span class="number">59</span>)</span></span>;</span><br><span class="line">    t.<span class="built_in">display</span>();</span><br><span class="line">    Time t1=t++;</span><br><span class="line">    t1.<span class="built_in">display</span>();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="37-设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“-”，以实现求两个三角形对象的面积之和。"><a href="#37-设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“-”，以实现求两个三角形对象的面积之和。" class="headerlink" title="37.设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“+”，以实现求两个三角形对象的面积之和。"></a>37.设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“+”，以实现求两个三角形对象的面积之和。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Triangle</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Triangle();</span><br><span class="line">        Triangle(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="keyword">double</span> <span class="keyword">operator</span>+(Triangle&amp;);</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> a,b,c;</span><br><span class="line">};</span><br><span class="line">Triangle::Triangle(){</span><br><span class="line">   <span class="keyword">this</span>-&gt;a = <span class="number">0</span>; </span><br><span class="line">   <span class="keyword">this</span>-&gt;b = <span class="number">0</span>; </span><br><span class="line">   <span class="keyword">this</span>-&gt;c = <span class="number">0</span>; </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Triangle::Triangle(<span class="keyword">double</span> _a,<span class="keyword">double</span> _b,<span class="keyword">double</span> _c){</span><br><span class="line">   <span class="keyword">this</span>-&gt;a = _a; </span><br><span class="line">   <span class="keyword">this</span>-&gt;b = _b; </span><br><span class="line">   <span class="keyword">this</span>-&gt;c = _c; </span><br><span class="line">}</span><br><span class="line"><span class="keyword">double</span> Triangle::<span class="keyword">operator</span>+(Triangle&amp; t){</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>-&gt;s()+t.s();</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Triangle::s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">double</span> p=(<span class="keyword">this</span>-&gt;a+<span class="keyword">this</span>-&gt;b+<span class="keyword">this</span>-&gt;c)/<span class="number">2.0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>(p*(p-<span class="keyword">this</span>-&gt;a)*(p-<span class="keyword">this</span>-&gt;b)*(p-<span class="keyword">this</span>-&gt;c));</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Triangle t1(10,20,15),t2(5,10,13);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;t1+t2;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="38-使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。"><a href="#38-使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。" class="headerlink" title="38. 使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。"></a>38. 使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;  <span class="comment">//模板</span></span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(T temp1,T tmep2)</span></span>{</span><br><span class="line">    <span class="keyword">return</span> (temp1+tmep2);</span><br><span class="line">} </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum(a,b)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">double</span> x,y;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum(x,y)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="39-定义一个抽象类Shape-用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。"><a href="#39-定义一个抽象类Shape-用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。" class="headerlink" title="39. 定义一个抽象类Shape 用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。"></a>39. 定义一个抽象类Shape 用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.14</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Shape();</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>=<span class="number">0</span>;  <span class="comment">//纯虚函数</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        <span class="keyword">double</span> s;      </span><br><span class="line">};</span><br><span class="line">Shape::Shape(){</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Shape::display</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;s&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span><span class="keyword">public</span> Shape{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Rectangle(<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> a,b;</span><br><span class="line">};</span><br><span class="line">Rectangle::Rectangle(<span class="keyword">double</span> _a,<span class="keyword">double</span> _b){</span><br><span class="line">    <span class="keyword">this</span>-&gt;a=_a;</span><br><span class="line">    <span class="keyword">this</span>-&gt;b=_b;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Rectangle::compute_s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="keyword">this</span>-&gt;a*<span class="keyword">this</span>-&gt;b;</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trapezium</span>:</span><span class="keyword">public</span> Shape{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Trapezium(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> x,y,h;    </span><br><span class="line">};</span><br><span class="line">Trapezium::Trapezium(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y,<span class="keyword">double</span> _h){</span><br><span class="line">    <span class="keyword">this</span>-&gt;x=_x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;y=_y;</span><br><span class="line">    <span class="keyword">this</span>-&gt;h=_h;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Trapezium::compute_s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=(<span class="keyword">this</span>-&gt;x+<span class="keyword">this</span>-&gt;y)*h/<span class="number">2.0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Roundness</span>:</span><span class="keyword">public</span> Shape{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Roundness(<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> r;    </span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Roundness::Roundness(<span class="keyword">double</span> _r){</span><br><span class="line">    <span class="keyword">this</span>-&gt;r=_r;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Roundness::compute_s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=PI*<span class="keyword">this</span>-&gt;r*<span class="keyword">this</span>-&gt;r;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Shape *shape =<span class="keyword">new</span> Rectangle(<span class="number">10.0</span>,<span class="number">5.0</span>); <span class="comment">//两种方式创建，通过基类指针调用子类的函数（如下）</span></span><br><span class="line">    shape-&gt;compute_s();</span><br><span class="line">    shape-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">Trapezium <span class="title">tra</span><span class="params">(<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>)</span></span>;</span><br><span class="line">    shape=&amp;tra;</span><br><span class="line">    shape-&gt;compute_s();</span><br><span class="line">    shape-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">Roundness <span class="title">rou</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    shape=&amp;rou;</span><br><span class="line">    shape-&gt;compute_s();</span><br><span class="line">    shape-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="40-定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。"><a href="#40-定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。" class="headerlink" title="40.定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。"></a>40.定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Counter(<span class="keyword">int</span>);</span><br><span class="line">        Counter <span class="keyword">operator</span>++(<span class="keyword">int</span>);  <span class="comment">//后置</span></span><br><span class="line">        Counter <span class="keyword">operator</span>--(<span class="keyword">int</span>);  <span class="comment">//同上</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">    </span><br><span class="line">};</span><br><span class="line">Counter::Counter(<span class="keyword">int</span> a){</span><br><span class="line">    <span class="keyword">this</span>-&gt;i=a;</span><br><span class="line">}</span><br><span class="line">Counter Counter::<span class="keyword">operator</span>++(<span class="keyword">int</span>){</span><br><span class="line">    <span class="keyword">this</span>-&gt;i++;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Counter Counter::<span class="keyword">operator</span>--(<span class="keyword">int</span>){</span><br><span class="line">    <span class="keyword">this</span>-&gt;i--;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Counter::display</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Counter c1(2),c2(3);</span><br><span class="line">    c1--;</span><br><span class="line">    c1.<span class="built_in">display</span>(); <span class="comment">//1</span></span><br><span class="line">    c2++;</span><br><span class="line">    c2.<span class="built_in">display</span>();  <span class="comment">//4</span></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="41-声明一个哺乳动物Mammal-类，再由此派生出狗Dog-类，二者都定义speak-成员函数，基类中定义为虚函数。声明一个Dog-类的对象，调用speak-函数，观察运行结果。"><a href="#41-声明一个哺乳动物Mammal-类，再由此派生出狗Dog-类，二者都定义speak-成员函数，基类中定义为虚函数。声明一个Dog-类的对象，调用speak-函数，观察运行结果。" class="headerlink" title="41.声明一个哺乳动物Mammal 类，再由此派生出狗Dog 类，二者都定义speak( )成员函数，基类中定义为虚函数。声明一个Dog 类的对象，调用speak()函数，观察运行结果。"></a>41.声明一个哺乳动物Mammal 类，再由此派生出狗Dog 类，二者都定义speak( )成员函数，基类中定义为虚函数。声明一个Dog 类的对象，调用speak()函数，观察运行结果。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mammal</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Mammal(){}</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>{</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"Mammal"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        }</span><br><span class="line">};</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span><span class="keyword">public</span> Mammal{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Dog(){}</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>{</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"Dog"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        }</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Dog d;  <span class="comment">//无参数，则无括号</span></span><br><span class="line">    d.speak();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="42-编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求："><a href="#42-编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求：" class="headerlink" title="42.编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求："></a>42.编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求：</h3><pre><code>a) 抽象出一个基类Base；
b) 在其中说明一个虚函数用来求面积；
c) 利用派生类定义“三角形、正方形、圆形”；
d) 编写主函数并测试。</code></pre><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.14</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>{</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Base();</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>=<span class="number">0</span>;  <span class="comment">//纯虚函数</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        <span class="keyword">double</span> s;      </span><br><span class="line">};</span><br><span class="line">Base::Base(){</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Base::display</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;s&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Triangle</span>:</span><span class="keyword">public</span> Base{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Triangle(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> a,b,c;</span><br><span class="line">};</span><br><span class="line">Triangle::Triangle(<span class="keyword">double</span> _a,<span class="keyword">double</span> _b,<span class="keyword">double</span> _c){</span><br><span class="line">    <span class="keyword">this</span>-&gt;a=_a;</span><br><span class="line">    <span class="keyword">this</span>-&gt;b=_b;</span><br><span class="line">    <span class="keyword">this</span>-&gt;c=_c;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Triangle::compute_s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">double</span> p=(a+b+c)/<span class="number">2.0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=p*(p-<span class="keyword">this</span>-&gt;a)*(p-<span class="keyword">this</span>-&gt;b)*(p-<span class="keyword">this</span>-&gt;c);</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span>:</span><span class="keyword">public</span> Base{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Square(<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> x;    </span><br><span class="line">};</span><br><span class="line">Square::Square(<span class="keyword">double</span> _x){</span><br><span class="line">    <span class="keyword">this</span>-&gt;x=_x;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Square::compute_s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="keyword">this</span>-&gt;x*<span class="keyword">this</span>-&gt;x;</span><br><span class="line">}</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Roundness</span>:</span><span class="keyword">public</span> Base{</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Roundness(<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> r;    </span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Roundness::Roundness(<span class="keyword">double</span> _r){</span><br><span class="line">    <span class="keyword">this</span>-&gt;r=_r;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Roundness::compute_s</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=PI*<span class="keyword">this</span>-&gt;r*<span class="keyword">this</span>-&gt;r;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Base *b1=<span class="keyword">new</span> Triangle(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">    b1-&gt;compute_s();</span><br><span class="line">    b1-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    Base *b2=<span class="keyword">new</span> Square(<span class="number">3</span>);</span><br><span class="line">    b2-&gt;compute_s();</span><br><span class="line">    b2-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    Base *b3=<span class="keyword">new</span> Roundness(<span class="number">3</span>);</span><br><span class="line">    b3-&gt;compute_s();</span><br><span class="line">    b3-&gt;<span class="built_in">display</span>();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="43-编写一段程序，从标准输入中一次读入一整行，存入std-string-中，然后修改该程序，使其一次读入一个词。（练习3-2）"><a href="#43-编写一段程序，从标准输入中一次读入一整行，存入std-string-中，然后修改该程序，使其一次读入一个词。（练习3-2）" class="headerlink" title="43. 编写一段程序，从标准输入中一次读入一整行，存入std::string 中，然后修改该程序，使其一次读入一个词。（练习3.2）"></a>43. 编写一段程序，从标准输入中一次读入一整行，存入std::string 中，然后修改该程序，使其一次读入一个词。（练习3.2）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="comment">// while(getline(cin,str)){</span></span><br><span class="line">    <span class="comment">//     cout&lt;&lt;str&lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;str){</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="44-请说明std-string-类的输入运算符和getline-函数分别是如何处理空白字符的。（练习3-3）"><a href="#44-请说明std-string-类的输入运算符和getline-函数分别是如何处理空白字符的。（练习3-3）" class="headerlink" title="44. 请说明std::string 类的输入运算符和getline 函数分别是如何处理空白字符的。（练习3.3）"></a>44. 请说明std::string 类的输入运算符和getline 函数分别是如何处理空白字符的。（练习3.3）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//cin扫描到空白字符停止</span></span><br><span class="line">    <span class="comment">//getline可以读入空白字符，如空格</span></span><br><span class="line">    <span class="built_in">string</span> str=<span class="string">""</span>,s;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;s){</span><br><span class="line">        <span class="keyword">if</span>(s==<span class="string">"\n"</span>) <span class="keyword">break</span>;</span><br><span class="line">        str+=s;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="45-编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3-5）"><a href="#45-编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3-5）" class="headerlink" title="45. 编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3.5）"></a>45. 编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3.5）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> str=<span class="string">""</span>,s;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,s)){</span><br><span class="line">        <span class="keyword">if</span>(str==<span class="string">""</span>) str+=s;</span><br><span class="line">        <span class="keyword">else</span> str=str+<span class="string">' '</span>+s;</span><br><span class="line">        <span class="comment">//str+=s;</span></span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="46-编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3-10）"><a href="#46-编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3-10）" class="headerlink" title="46.编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3.10）"></a>46.编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3.10）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,s)){</span><br><span class="line">        <span class="built_in">string</span> row=<span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">ispunct</span>(s[i])) row+=s[i];</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;row&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="47-编写一段程序，创建一个含有10-个整数的vector-对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector-对象的内容，检验程序是否正确。（练习3-23）"><a href="#47-编写一段程序，创建一个含有10-个整数的vector-对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector-对象的内容，检验程序是否正确。（练习3-23）" class="headerlink" title="47.编写一段程序，创建一个含有10 个整数的vector 对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector 对象的内容，检验程序是否正确。（练习3.23）"></a>47.编写一段程序，创建一个含有10 个整数的vector 对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector 对象的内容，检验程序是否正确。（练习3.23）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v</span>;   <span class="comment">//只是声明，需要对比的是vector&lt;int&gt; v(10)是初始化10个0</span></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="comment">// for(auto i:v)   //vector初始化不能用cin，而应该push_back</span></span><br><span class="line">    <span class="comment">// {</span></span><br><span class="line">    <span class="comment">//     cin&gt;&gt;i;</span></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        v.push_back(n);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// for(auto i:v)</span></span><br><span class="line">    <span class="comment">//     i*=2;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)   <span class="comment">//如上for(auto i:v) i*=2不行</span></span><br><span class="line">    {</span><br><span class="line">        v[i]*=<span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:v)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="48-编写一段程序，比较两个std-string-对象。再编写一段程序，比较两个C风格字符串的内容。（练习3-39）"><a href="#48-编写一段程序，比较两个std-string-对象。再编写一段程序，比较两个C风格字符串的内容。（练习3-39）" class="headerlink" title="48.编写一段程序，比较两个std::string 对象。再编写一段程序，比较两个C风格字符串的内容。（练习3.39）"></a>48.编写一段程序，比较两个std::string 对象。再编写一段程序，比较两个C风格字符串的内容。（练习3.39）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> str1=<span class="string">"hello world"</span>,str2=<span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">if</span>(str1==str2) <span class="built_in">cout</span>&lt;&lt;<span class="string">"相等"</span>&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//string可以直接判等</span></span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"不相等"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> c1[]=<span class="string">"hello world"</span>,c2[]=<span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(c1,c2)) <span class="built_in">cout</span>&lt;&lt;<span class="string">"不相等"</span>&lt;&lt;<span class="built_in">endl</span>;   <span class="comment">//strcmp相等返回0，小于返回负数，大于返回正数</span></span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"相等"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="49-对于下面的程序任务，vector、deque-和list-哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9-1）"><a href="#49-对于下面的程序任务，vector、deque-和list-哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9-1）" class="headerlink" title="49. 对于下面的程序任务，vector、deque 和list 哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9.1）"></a>49. 对于下面的程序任务，vector、deque 和list 哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9.1）</h3><blockquote><p>(1) 读取固定数量的单词，将他们按字典序插入到容器中。<br>(2) 读取未知数量的单词，总是将新单词插入到末尾。删除操作在头部进行。<br>(3) 从一个文件读取未知数量的整数。将这些数排序，然后将他们打印到标准输出。</p></blockquote><figure class="highlight lsl"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span><span class="type">list</span> 插入位置不固定，且不随机访问</span><br><span class="line"><span class="number">2.</span>deque 前出后进</span><br><span class="line"><span class="number">3.</span><span class="type">vector</span> 排序，需要随机访问</span><br></pre></td></tr></tbody></table></figure><h3 id="50-对6-种创建和初始化vector-对象的方法，每一种都给出一个实例。解释每个vector-包含什么值。（练习9-11）"><a href="#50-对6-种创建和初始化vector-对象的方法，每一种都给出一个实例。解释每个vector-包含什么值。（练习9-11）" class="headerlink" title="50.对6 种创建和初始化vector 对象的方法，每一种都给出一个实例。解释每个vector 包含什么值。（练习9.11）"></a>50.对6 种创建和初始化vector 对象的方法，每一种都给出一个实例。解释每个vector 包含什么值。（练习9.11）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec1;  <span class="comment">//定义但不初始化</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec2={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>};</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">vec3</span><span class="params">(<span class="number">3</span>)</span></span>; <span class="comment">//3个int类型的0</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">vec4</span><span class="params">(vec1)</span></span>;  <span class="comment">//拷贝初始化1</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">vec5</span><span class="params">(<span class="number">5</span>,<span class="number">3</span>)</span></span>;  <span class="comment">//5个int类型的3</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">8</span>] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>}; <span class="comment">//普通数组   </span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v</span><span class="params">(a+<span class="number">1</span>, a+<span class="number">6</span>)</span></span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:v) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>; <span class="comment">////2,3,4,5,6</span></span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="51-如何从一个list-lt-int-gt-初始化一个vector-lt-double-gt-从一个vector-lt-int-gt-又该如何创建？编写代码验证你的答案。（练习9-13）"><a href="#51-如何从一个list-lt-int-gt-初始化一个vector-lt-double-gt-从一个vector-lt-int-gt-又该如何创建？编写代码验证你的答案。（练习9-13）" class="headerlink" title="51.如何从一个list< int > 初始化一个vector< double >?从一个vector< int >又该如何创建？编写代码验证你的答案。（练习9.13）"></a>51.如何从一个list&lt; int &gt; 初始化一个vector&lt; double &gt;?从一个vector&lt; int &gt;又该如何创建？编写代码验证你的答案。（练习9.13）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>};  <span class="comment">//也可一个一个push_back</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; <span class="title">vec1</span><span class="params">(<span class="built_in">list</span>.<span class="built_in">begin</span>(),<span class="built_in">list</span>.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:vec1) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; basic_vec={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>};</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; <span class="title">vec2</span><span class="params">(basic_vec.<span class="built_in">begin</span>(),basic_vec.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:vec2) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="52-编写程序，将一个list-中的char-指针（指向C-风格字符串）元素赋值给一个vector-中的string。（练习9-14）"><a href="#52-编写程序，将一个list-中的char-指针（指向C-风格字符串）元素赋值给一个vector-中的string。（练习9-14）" class="headerlink" title="52. 编写程序，将一个list 中的char*指针（指向C 风格字符串）元素赋值给一个vector 中的string。（练习9.14）"></a>52. 编写程序，将一个list 中的char*指针（指向C 风格字符串）元素赋值给一个vector 中的string。（练习9.14）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">char</span> *&gt;l={<span class="string">"hello"</span>,<span class="string">"world"</span>};</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">v</span><span class="params">(l.<span class="built_in">begin</span>(),l.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:v) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="53-编写程序，从标准输入读取string-序列，存入一个deque-中。编写一个循环，用迭代器打印deque-中的元素。（练习9-18）"><a href="#53-编写程序，从标准输入读取string-序列，存入一个deque-中。编写一个循环，用迭代器打印deque-中的元素。（练习9-18）" class="headerlink" title="53.编写程序，从标准输入读取string 序列，存入一个deque 中。编写一个循环，用迭代器打印deque 中的元素。（练习9.18）"></a>53.编写程序，从标准输入读取string 序列，存入一个deque 中。编写一个循环，用迭代器打印deque 中的元素。（练习9.18）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="built_in">string</span>&gt; d;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;str){  <span class="comment">//或者getline(cin,str)，都是ctrl+z结束</span></span><br><span class="line">        d.push_back(str);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">auto</span> dbegin=d.<span class="built_in">begin</span>();        <span class="comment">//或者 for(auto i:d) cout&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">auto</span> dend=d.<span class="built_in">end</span>();</span><br><span class="line">    <span class="keyword">for</span>(;dbegin!=dend;dbegin++){</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;*dbegin&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="54-编写程序，从一个list-lt-int-gt-拷贝元素到两个deque-中，其中值为偶数的所有元素都拷贝到一个deque-中，而奇数元素都拷贝到另一个deque-中。（9-20）"><a href="#54-编写程序，从一个list-lt-int-gt-拷贝元素到两个deque-中，其中值为偶数的所有元素都拷贝到一个deque-中，而奇数元素都拷贝到另一个deque-中。（9-20）" class="headerlink" title="54.编写程序，从一个list< int >拷贝元素到两个deque 中，其中值为偶数的所有元素都拷贝到一个deque 中，而奇数元素都拷贝到另一个deque 中。（9.20）"></a>54.编写程序，从一个list&lt; int &gt;拷贝元素到两个deque 中，其中值为偶数的所有元素都拷贝到一个deque 中，而奇数元素都拷贝到另一个deque 中。（9.20）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; l={<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>};</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; odd; <span class="comment">//奇数</span></span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; even; <span class="comment">//偶数</span></span><br><span class="line">    <span class="keyword">auto</span> lbegin=l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">auto</span> lend=l.<span class="built_in">end</span>();</span><br><span class="line">    <span class="keyword">for</span>(;lbegin!=lend;lbegin++){</span><br><span class="line">        <span class="keyword">if</span>(*lbegin%<span class="number">2</span>==<span class="number">1</span>) odd.push_back(*lbegin);</span><br><span class="line">        <span class="keyword">else</span> even.push_back(*lbegin);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:odd) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:even) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="55-假定你希望每次读取一个字符存入一个std-string-中，而且知道最少需要读取100-个字符，应该如何提高程序的性能？（9-42）"><a href="#55-假定你希望每次读取一个字符存入一个std-string-中，而且知道最少需要读取100-个字符，应该如何提高程序的性能？（9-42）" class="headerlink" title="55. 假定你希望每次读取一个字符存入一个std::string 中，而且知道最少需要读取100 个字符，应该如何提高程序的性能？（9.42）"></a>55. 假定你希望每次读取一个字符存入一个std::string 中，而且知道最少需要读取100 个字符，应该如何提高程序的性能？（9.42）</h3><figure class="highlight mizar"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">reserve</span>一下，提前预分配内存空间，提高运算性能</span><br></pre></td></tr></tbody></table></figure><h3 id="56-编写一个函数，接受一个表示名字的std-string-参数和两个分别表示前缀（如“Mr-”或“Ms-”）和后缀（如“Jr-”“III”）的字符串。使用迭代器insert-和append-函数将前缀和后缀加到给定的名字中，生成新的string-并返回。（9-45）"><a href="#56-编写一个函数，接受一个表示名字的std-string-参数和两个分别表示前缀（如“Mr-”或“Ms-”）和后缀（如“Jr-”“III”）的字符串。使用迭代器insert-和append-函数将前缀和后缀加到给定的名字中，生成新的string-并返回。（9-45）" class="headerlink" title="56.编写一个函数，接受一个表示名字的std::string 参数和两个分别表示前缀（如“Mr.”或“Ms.”）和后缀（如“Jr.”“III”）的字符串。使用迭代器insert 和append 函数将前缀和后缀加到给定的名字中，生成新的string 并返回。（9.45）"></a>56.编写一个函数，接受一个表示名字的std::string 参数和两个分别表示前缀（如“Mr.”或“Ms.”）和后缀（如“Jr.”“III”）的字符串。使用迭代器insert 和append 函数将前缀和后缀加到给定的名字中，生成新的string 并返回。（9.45）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">add</span><span class="params">(<span class="built_in">string</span> s,<span class="built_in">string</span> prefix,<span class="built_in">string</span> postfix)</span></span>{</span><br><span class="line">	s.insert(<span class="number">0</span>,prefix);</span><br><span class="line">	s.append(postfix);</span><br><span class="line">	<span class="keyword">return</span> s;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="built_in">string</span> s=<span class="string">"lichen"</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;add(s,<span class="string">"Ms."</span>,<span class="string">"lll"</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="57-定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11-7）"><a href="#57-定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11-7）" class="headerlink" title="57.定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11.7）"></a>57.定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11.7）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; families;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_family</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; family)</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(families.<span class="built_in">find</span>(family)==families.<span class="built_in">end</span>()) <span class="comment">//查找families里是否存在key值(key-value)，如果存在就返回key对应的迭代器，否则返回尾后迭代器end()</span></span><br><span class="line">        families[family]=<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;(); <span class="comment">//添加新家庭</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_child</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; family,<span class="keyword">const</span> <span class="built_in">string</span>&amp; child)</span></span>{</span><br><span class="line">    families[family].push_back(child);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    </span><br><span class="line">    add_family(<span class="string">"陈"</span>);</span><br><span class="line">    add_child(<span class="string">"陈"</span>,<span class="string">"李晨"</span>);</span><br><span class="line">    add_child(<span class="string">"陈"</span>,<span class="string">"儿砸"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:families){</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;i.first&lt;&lt;<span class="string">"家有孩子："</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> j:i.second){</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;j&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="58-编写一个程序，在一个vector-而不是一个set-中保存不重复的单词。使用set-的优点是什么？（练习11-8）"><a href="#58-编写一个程序，在一个vector-而不是一个set-中保存不重复的单词。使用set-的优点是什么？（练习11-8）" class="headerlink" title="58.编写一个程序，在一个vector 而不是一个set 中保存不重复的单词。使用set 的优点是什么？（练习11.8）"></a>58.编写一个程序，在一个vector 而不是一个set 中保存不重复的单词。使用set 的优点是什么？（练习11.8）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; dic;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,str)){</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">find</span>(dic.<span class="built_in">begin</span>(),dic.<span class="built_in">end</span>(),str)==dic.<span class="built_in">end</span>())  <span class="comment">//注意vector find与57题map find的区别</span></span><br><span class="line">            dic.push_back(str);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:dic) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="59-可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11-26）"><a href="#59-可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11-26）" class="headerlink" title="59.可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11.26）"></a>59.可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11.26）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; dic={{<span class="string">"陈"</span>,<span class="number">90</span>},{<span class="string">"李"</span>,<span class="number">100</span>}};</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;dic[<span class="string">"陈"</span>]&lt;&lt;<span class="string">" "</span>&lt;&lt;dic[<span class="string">"李"</span>]&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//对下标操作，即是根据key来操作；下标操作返回的是key对应的value值</span></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="60-用冒泡法对10-个整数排序。（用STL-的vector-容器实现）"><a href="#60-用冒泡法对10-个整数排序。（用STL-的vector-容器实现）" class="headerlink" title="60. 用冒泡法对10 个整数排序。（用STL 的vector 容器实现）"></a>60. 用冒泡法对10 个整数排序。（用STL 的vector 容器实现）</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec={<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">10</span>};</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;<span class="number">10</span>-i;j++)  <span class="comment">//j都在前</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(vec[j]&gt;vec[j+<span class="number">1</span>])</span><br><span class="line">                swap(vec[j],vec[j+<span class="number">1</span>]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:vec) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>刷题</category>
        <category>王道训练营</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>创建音乐和歌单</title>
    <url>/category/%E5%88%9B%E5%BB%BA%E9%9F%B3%E4%B9%90%E5%92%8C%E6%AD%8C%E5%8D%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>在文章需要的地方，插入自己喜欢的音乐吧!<span class="github-emoji" style="display:inline;vertical-align:middle;color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f424.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f424.png?v8">🐤</span></p></blockquote><a id="more"></a><h2 id="1-进入网易云音乐（网页版）点击"><a href="#1-进入网易云音乐（网页版）点击" class="headerlink" title="1. 进入网易云音乐（网页版）点击"></a>1. 进入网易云音乐（网页版）<a href="https://music.163.com/" target="_blank" rel="noopener">点击</a></h2><ul><li>获取音乐id</li></ul><h2 id="2-获取网易云音乐url"><a href="#2-获取网易云音乐url" class="headerlink" title="2. 获取网易云音乐url"></a>2. 获取网易云音乐url</h2><p>将id替换到下面链接里</p><figure class="highlight awk"><table><tbody><tr><td class="code"><pre><span class="line">http:<span class="regexp">//mu</span>sic.<span class="number">163</span>.com<span class="regexp">/song/m</span>edia<span class="regexp">/outer/u</span>rl?id=<span class="number">461080452</span>.mp3</span><br></pre></td></tr></tbody></table></figure><h2 id="3-获取音乐封面-点击"><a href="#3-获取音乐封面-点击" class="headerlink" title="3. 获取音乐封面 点击"></a>3. 获取音乐封面 <a href="https://dev.yii2.cc/cover" target="_blank" rel="noopener">点击</a></h2><ul><li>放在blog/source/media 文件夹里</li><li>博客文章当前路径是在blog/source/</li></ul><h2 id="4-创建音乐外链"><a href="#4-创建音乐外链" class="headerlink" title="4. 创建音乐外链"></a>4. 创建音乐外链</h2><figure class="highlight gcode"><table><tbody><tr><td class="code"><pre><span class="line">{<span class="meta">%</span> aplayer <span class="string">"五月雨"</span> <span class="string">"高梨康治"</span> <span class="string">"http://m10.music.126.net/20200409153934/619d54dcd5398a74d8536875729c05ad/ymusic/d741/ca68/da8c/f6110877fc505a5c4c9a2a1de92a9dc1.mp3"</span> <span class="string">"/media/wyy.jpg"</span> <span class="meta">%</span>}</span><br></pre></td></tr></tbody></table></figure><p><strong>注意</strong>：<code>直接写</code>，不像这里一样写在代码块里</p><p>或者还有一种方式：<a href="http://music.aitao456.com/?name=%E4%BA%94%E6%9C%88%E9%9B%A8&amp;type=netease" target="_blank" rel="noopener">点击</a></p><h2 id="5-创建音乐歌单"><a href="#5-创建音乐歌单" class="headerlink" title="5. 创建音乐歌单"></a>5. 创建音乐歌单</h2><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{% aplayerlist %}{<span class="string">"narrow"</span>: <span class="literal">false</span>,<span class="string">"autoplay"</span>: <span class="literal">true</span>,<span class="string">"showlrc"</span>: <span class="number">3</span>,<span class="string">"mode"</span>: <span class="string">"random"</span>,<span class="string">"music"</span>: [{<span class="string">"title"</span>: <span class="string">"五月雨"</span>,<span class="string">"author"</span>: <span class="string">"高梨康治"</span>,<span class="string">"url"</span>: <span class="string">"http://m10.music.126.net/20200409153934/619d54dcd5398a74d8536875729c05ad/ymusic/d741/ca68/da8c/f6110877fc505a5c4c9a2a1de92a9dc1.mp3"</span>,<span class="string">"pic"</span>: <span class="string">"/media/wyy.jpg"</span>},{<span class="string">"title"</span>: <span class="string">"认真地老去"</span>,<span class="string">"author"</span>: <span class="string">"张希&nbsp;/&nbsp;曹方"</span>,<span class="string">"url"</span>: <span class="string">"http://music.163.com/song/media/outer/url?id=461080452.mp3"</span>,<span class="string">"pic"</span>: <span class="string">"/media/rzdlq.jpg"</span>}]}{% endaplayerlist %}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>next</tag>
      </tags>
  </entry>
  <entry>
    <title>回溯算法</title>
    <url>/category/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><a id="more"></a><h2 id="回溯法"><a href="#回溯法" class="headerlink" title="回溯法"></a>回溯法</h2><ul><li>组合</li><li>切割</li><li>子集</li><li>排序</li><li>棋盘</li></ul><figure class="highlight isbl"><table><tbody><tr><td class="code"><pre><span class="line"><span class="variable">void</span> <span class="function"><span class="title">backtracking</span>(参数)</span></span><br><span class="line">{</span><br><span class="line">	<span class="function"><span class="title">if</span>(终止条件)  <span class="comment">//这里的终止条件一般是i&gt;n/j&gt;等</span></span></span><br><span class="line"><span class="function">	{</span></span><br><span class="line"><span class="function">		收集结果</span></span><br><span class="line"><span class="function">		<span class="variable">return</span>;</span></span><br><span class="line"><span class="function">	}	</span></span><br><span class="line"><span class="function">	<span class="title">for</span>(集合元素)</span></span><br><span class="line">	{</span><br><span class="line">		处理节点</span><br><span class="line">		递归函数</span><br><span class="line">		回溯操作</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>回溯</tag>
      </tags>
  </entry>
  <entry>
    <title>项目1-学生管理系统</title>
    <url>/category/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="main-h"><a href="#main-h" class="headerlink" title="main.h"></a>main.h</h3><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXKEY 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> gender;</span><br><span class="line">	<span class="keyword">double</span> score1;</span><br><span class="line">	<span class="keyword">double</span> score2;</span><br><span class="line">	<span class="keyword">double</span> score3;</span><br><span class="line">	<span class="keyword">char</span> address[<span class="number">20</span>];</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student_s</span>* <span class="title">next1</span>;</span></span><br><span class="line"></span><br><span class="line">}Student_t, * pStudent_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">User_s</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">char</span> user_name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> pwd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> <span class="class"><span class="keyword">class</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">User_s</span>* <span class="title">next2</span>;</span></span><br><span class="line">}User_t, * pUser_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">char</span>* key)</span><span class="comment">//元素是一个字符串</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> h = <span class="number">0</span>, g;</span><br><span class="line">	<span class="keyword">while</span> (*key)</span><br><span class="line">	{</span><br><span class="line">		h = (h &lt;&lt; <span class="number">4</span>) + *key++;</span><br><span class="line">		g = h &amp; <span class="number">0xf0000000</span>;</span><br><span class="line">		<span class="keyword">if</span> (g)</span><br><span class="line">			h ^= g &gt;&gt; <span class="number">24</span>;</span><br><span class="line">		h &amp;= ~g;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> h % MAXKEY;<span class="comment">//范围从0~MAXKEY-1</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">searchStu</span><span class="params">(pStudent_t p1Head)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pStudent_t p1 = p1Head;</span><br><span class="line">	<span class="keyword">while</span> (p1)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, p1-&gt;no_name, p1-&gt;name, p1-&gt;gender, p1-&gt;score1, p1-&gt;score2, p1-&gt;score3, p1-&gt;address);</span><br><span class="line">		p1 = p1-&gt;next1;</span><br><span class="line">	}</span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">searchAccount</span><span class="params">(pUser_t p2Head)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	pUser_t p2 = p2Head;</span><br><span class="line">	<span class="keyword">while</span> (p2)</span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd,p2-&gt;class);</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">	}</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">searchByName</span><span class="params">(<span class="keyword">char</span> name[], pStudent_t hashTable1[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> index = hash(name);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, hashTable1[index]-&gt;no_name, hashTable1[index]-&gt;name, hashTable1[index]-&gt;gender, hashTable1[index]-&gt;score1, hashTable1[index]-&gt;score2, hashTable1[index]-&gt;score3, hashTable1[index]-&gt;address);</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addStudentInfo</span><span class="params">(pStudent_t* p1Head, pStudent_t* p1Tail, <span class="keyword">char</span> str1[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>], name[<span class="number">20</span>], gender, address[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">double</span> score1, score2, score3;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入要添加学生的学号，姓名，性别，分数1，分数2，分数3，家庭住址：\n"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s%s %c%lf%lf%lf%s"</span>, no_name, name, &amp;gender, &amp;score1, &amp;score2, &amp;score3, address);</span><br><span class="line">	pStudent_t pNew = (pStudent_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Student_t));</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;no_name, no_name);</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;name, name);</span><br><span class="line">	pNew-&gt;gender = gender;</span><br><span class="line">	pNew-&gt;score1 = score1;</span><br><span class="line">	pNew-&gt;score2 = score2;</span><br><span class="line">	pNew-&gt;score3 = score3;</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;address, address);</span><br><span class="line">	<span class="keyword">if</span> (*p1Tail == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*p1Head = pNew;</span><br><span class="line">		*p1Tail = pNew;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*p1Tail)-&gt;next1 = pNew;</span><br><span class="line">		*p1Tail = (*p1Tail)-&gt;next1;</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	FILE* fp1 = fopen(str1, <span class="string">"w"</span>);</span><br><span class="line">	pStudent_t p1 = *p1Head;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp1, <span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, p1-&gt;no_name, p1-&gt;name, p1-&gt;gender, p1-&gt;score1, p1-&gt;score2, p1-&gt;score3, p1-&gt;address))</span><br><span class="line">	{</span><br><span class="line">		p1 = p1-&gt;next1;</span><br><span class="line">		<span class="keyword">if</span> (p1 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">		</span><br><span class="line">	fclose(fp1);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"添加学生信息成功"</span>);</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addUserInfo</span><span class="params">(pUser_t* p2Head, pUser_t* p2Tail, <span class="keyword">char</span> str2[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> user_name[<span class="number">20</span>], pwd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> <span class="class"><span class="keyword">class</span>;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入要添加用户的用户名，密码，权限等级：\n"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s%s%d"</span>, user_name,pwd, &amp;class);</span><br><span class="line">	pUser_t pNew = (pUser_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(User_t));</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;user_name, user_name);</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;pwd, pwd);</span><br><span class="line">	pNew-&gt;<span class="class"><span class="keyword">class</span> = <span class="title">class</span>;</span></span><br><span class="line">	<span class="keyword">if</span> (p2Tail == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		*p2Head = pNew;</span><br><span class="line">		*p2Tail = pNew;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		(*p2Tail)-&gt;next2 = pNew;</span><br><span class="line">		*p2Tail = (*p2Tail)-&gt;next2;</span><br><span class="line">	}</span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"w"</span>);</span><br><span class="line">	pUser_t p2 = *p2Head;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp2,<span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd, p2-&gt;class))</span><br><span class="line">	{</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (p2 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	fclose(fp2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"添加用户信息成功"</span>);</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteStudentInfo</span><span class="params">(pStudent_t* p1Head, pStudent_t* p1Tail, <span class="keyword">char</span> str1[],<span class="keyword">char</span> name[],pStudent_t hashTable1[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> index=hash(name);</span><br><span class="line">	<span class="keyword">if</span> (hashTable1[index])</span><br><span class="line">	{</span><br><span class="line">		pStudent_t pre = *p1Head,cur=pre-&gt;next1;</span><br><span class="line">		<span class="keyword">if</span> (pre == hashTable1[index])</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)</span><br><span class="line">			{</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">				*p1Head = <span class="literal">NULL</span>;</span><br><span class="line">				*p1Tail = <span class="literal">NULL</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			{</span><br><span class="line">				(*p1Head) = (*p1Head)-&gt;next1;</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (cur)</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (cur == hashTable1[index])</span><br><span class="line">				{</span><br><span class="line">					pre-&gt;next1 = cur-&gt;next1;</span><br><span class="line">					<span class="built_in">free</span>(cur);</span><br><span class="line">					cur = <span class="literal">NULL</span>; <span class="comment">//避免悬空指针</span></span><br><span class="line">					<span class="keyword">break</span>; </span><br><span class="line">				}</span><br><span class="line">				pre = cur;</span><br><span class="line">				cur = cur-&gt;next1;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"不存在该学生，请重新输入："</span>);</span><br><span class="line">		system(<span class="string">"cls"</span>);</span><br><span class="line">		<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"请输入要删除学生的名字："</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">		deleteStudentInfo(p1Head, p1Tail, str1, n, hashTable1);</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	FILE* fp1 = fopen(str1, <span class="string">"w"</span>);</span><br><span class="line">	pStudent_t p1 = *p1Head;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp1, <span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, p1-&gt;no_name, p1-&gt;name, p1-&gt;gender, p1-&gt;score1, p1-&gt;score2, p1-&gt;score3, p1-&gt;address))</span><br><span class="line">	{</span><br><span class="line">		p1 = p1-&gt;next1;</span><br><span class="line">		<span class="keyword">if</span> (p1 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	fclose(fp1);</span><br><span class="line">	</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteUserInfo</span><span class="params">(pUser_t* p2Head, pUser_t* p2Tail, <span class="keyword">char</span> str2[], <span class="keyword">char</span> name[], pUser_t hashTable2[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> index = hash(name);</span><br><span class="line">	<span class="keyword">if</span>(hashTable2[index])</span><br><span class="line">	{</span><br><span class="line">		pUser_t pre = *p2Head, cur = pre-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (pre == hashTable2[index])</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)</span><br><span class="line">			{</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">				*p2Head = <span class="literal">NULL</span>;</span><br><span class="line">				*p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			{</span><br><span class="line">				(*p2Head) = (*p2Head)-&gt;next2;</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (cur)</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (cur == hashTable2[index])</span><br><span class="line">				{</span><br><span class="line">					pre-&gt;next2 = cur-&gt;next2;</span><br><span class="line">					<span class="built_in">free</span>(cur);</span><br><span class="line">					cur = <span class="literal">NULL</span>; <span class="comment">//避免悬空指针</span></span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				}</span><br><span class="line">				pre = cur;</span><br><span class="line">				cur = cur-&gt;next2;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"不存在该学生，请重新输入："</span>);</span><br><span class="line">		system(<span class="string">"cls"</span>);</span><br><span class="line">		<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"请输入要删除用户的名字："</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">		deleteStudentInfo(p2Head, p2Tail, str2, n, hashTable2);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"w"</span>);</span><br><span class="line">	pUser_t p2 = *p2Head;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp2, <span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd, p2-&gt;class))</span><br><span class="line">	{</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (p2 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">	fclose(fp2);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updatePwd</span><span class="params">(pUser_t* p2Head, pUser_t* p2Tail, <span class="keyword">char</span> str2[], pUser_t hashTable2[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入用户名："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">	<span class="keyword">int</span> index = hash(n);</span><br><span class="line">	<span class="keyword">if</span> (hashTable2[index])</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"请输入要修改的密码："</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">		<span class="built_in">strcpy</span>(hashTable2[index]-&gt;pwd, name);</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"不存在用户名，请重新输入："</span>);</span><br><span class="line">		system(<span class="string">"cls"</span>);</span><br><span class="line">		updatePwd(p2Head, p2Tail, str2, hashTable2);</span><br><span class="line">	}</span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"w"</span>);</span><br><span class="line">	pUser_t p2 = *p2Head;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp2, <span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd, p2-&gt;class))</span><br><span class="line">	{</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (p2 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">	fclose(fp2);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h3><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"main.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXKEY 1000</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	FILE* fp = fopen(argv[<span class="number">1</span>], <span class="string">"r"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">char</span> str1[<span class="number">20</span>], str2[<span class="number">20</span>];</span><br><span class="line">	<span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, str1);</span><br><span class="line">	<span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, str2);</span><br><span class="line">	FILE* fp1 = fopen(str1, <span class="string">"r+"</span>);</span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"r+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp1 == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">	{</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//读入stu_info</span></span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>], name[<span class="number">20</span>], gender, address[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">double</span> score1, score2, score3;</span><br><span class="line">	<span class="keyword">int</span> stu_num = <span class="number">0</span>;</span><br><span class="line">	pStudent_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>, stu_arr[<span class="number">20</span>], hashTable1[MAXKEY] = { <span class="number">0</span> };</span><br><span class="line">	<span class="keyword">while</span> ((<span class="built_in">fscanf</span>(fp1, <span class="string">"%s%s %c%lf%lf%lf%s"</span>, no_name, name, &amp;gender, &amp;score1, &amp;score2, &amp;score3, address)) != EOF)</span><br><span class="line">	{</span><br><span class="line">		pStudent_t pNew = (pStudent_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Student_t));</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;no_name, no_name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;name, name);</span><br><span class="line">		pNew-&gt;gender = gender;</span><br><span class="line">		pNew-&gt;score1 = score1;</span><br><span class="line">		pNew-&gt;score2 = score2;</span><br><span class="line">		pNew-&gt;score3 = score3;</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;address, address);</span><br><span class="line">		stu_arr[stu_num] = pNew; </span><br><span class="line">		<span class="keyword">int</span> index = hash(pNew-&gt;name);</span><br><span class="line">		hashTable1[index] = stu_arr[stu_num++];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (p1Tail == <span class="literal">NULL</span>)</span><br><span class="line">		{</span><br><span class="line">			p1Head = pNew;</span><br><span class="line">			p1Tail = pNew;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			p1Tail-&gt;next1 = pNew;</span><br><span class="line">			p1Tail = p1Tail-&gt;next1;</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//读入stu_account</span></span><br><span class="line">	<span class="keyword">char</span> user_name[<span class="number">20</span>], pwd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> <span class="class"><span class="keyword">class</span>, <span class="title">account_num</span> = 0;</span></span><br><span class="line">	pUser_t p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>, account_arr[<span class="number">20</span>], hashTable2[MAXKEY] = { <span class="number">0</span> };</span><br><span class="line">	<span class="keyword">while</span> ((<span class="built_in">fscanf</span>(fp2, <span class="string">"%s%s%d"</span>, user_name, pwd, &amp;class)) != EOF)</span><br><span class="line">	{</span><br><span class="line">		pUser_t pNew = (pUser_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(User_t));</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;user_name, user_name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;pwd, pwd);</span><br><span class="line">		pNew-&gt;<span class="class"><span class="keyword">class</span> = <span class="title">class</span>;</span></span><br><span class="line">		account_arr[account_num] = pNew;</span><br><span class="line">		<span class="keyword">int</span> index = hash(pNew-&gt;user_name);</span><br><span class="line">		hashTable2[index] = account_arr[account_num++];</span><br><span class="line">		<span class="keyword">if</span> (p2Tail == <span class="literal">NULL</span>)</span><br><span class="line">		{</span><br><span class="line">			p2Head = pNew;</span><br><span class="line">			p2Tail = pNew;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			p2Tail-&gt;next2 = pNew;</span><br><span class="line">			p2Tail = p2Tail-&gt;next2;</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">//用户登录</span></span><br><span class="line">	<span class="keyword">int</span> pclass;</span><br><span class="line">	<span class="keyword">char</span> input_name[<span class="number">20</span>], pawd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">printf</span>(<span class="string">"用户名:"</span>), <span class="built_in">scanf</span>(<span class="string">"%s"</span>, input_name) != EOF)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> index = hash(input_name);</span><br><span class="line">		<span class="keyword">if</span> (hashTable2[index])</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (<span class="built_in">printf</span>(<span class="string">"密码："</span>), <span class="built_in">scanf</span>(<span class="string">"%s"</span>, pawd) != EOF)</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">strcmp</span>(hashTable2[index]-&gt;pwd, pawd) == <span class="number">0</span>)</span><br><span class="line">				{</span><br><span class="line"></span><br><span class="line">					<span class="keyword">while</span> (system(<span class="string">"cls"</span>), <span class="built_in">printf</span>(<span class="string">"您已登录成功,请选择权限等级："</span>), <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;pclass) != EOF)  <span class="comment">//权限不能高于自己，怎么跳出多重循环</span></span><br><span class="line">					{</span><br><span class="line">						<span class="keyword">if</span> (hashTable2[index]-&gt;class == <span class="number">2</span> &amp;&amp; pclass == <span class="number">1</span>)</span><br><span class="line">						{</span><br><span class="line">							<span class="built_in">printf</span>(<span class="string">"无法获取权限。\n"</span>);</span><br><span class="line">							system(<span class="string">"pause"</span>);</span><br><span class="line">							<span class="keyword">continue</span>;</span><br><span class="line">						}</span><br><span class="line">						<span class="keyword">goto</span> label;</span><br><span class="line">					}</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				{</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"密码输入错误请重新输入。\n"</span>);</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		{</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"不存在该用户，请重新输入。"</span>);</span><br><span class="line">			system(<span class="string">"pause\n"</span>);</span><br><span class="line">			system(<span class="string">"cls"</span>);</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> no;</span><br><span class="line">label: </span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (pclass == <span class="number">2</span>)</span><br><span class="line">		{</span><br><span class="line">			system(<span class="string">"cls"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"请选择功能：\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"1.查询所有学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"2.通过姓名查询学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"3.退出\n"</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;no);</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">1</span>) searchStu(p1Head);</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">2</span>)</span><br><span class="line">				{</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要查询学生的姓名："</span>);</span><br><span class="line">					<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">					searchByName(name, hashTable1);</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">3</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (pclass == <span class="number">1</span>)</span><br><span class="line">		{</span><br><span class="line">			system(<span class="string">"cls"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"请选择功能：\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"1.查询所有学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"2.查询所有用户信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"3.通过姓名查询学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"4.添加学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"5.添加用户信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"6.删除学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"7.删除用户信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"8.修改用户登录密码\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"9.退出\n"</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;no);</span><br><span class="line">			{</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">1</span>) searchStu(p1Head);</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">2</span>) searchAccount(p2Head);</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">3</span>)</span><br><span class="line">				{</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要查询学生的姓名："</span>);</span><br><span class="line">					<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">					searchByName(name, hashTable1);</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">4</span>)</span><br><span class="line">				{</span><br><span class="line">					<span class="keyword">if</span> (fp1 == <span class="literal">NULL</span>)</span><br><span class="line">					{</span><br><span class="line">						fp1 = fopen(str1, <span class="string">"r+"</span>);</span><br><span class="line">					}</span><br><span class="line">					fclose(fp1);</span><br><span class="line">					addStudentInfo(&amp;p1Head, &amp;p1Tail, str1);</span><br><span class="line">				}</span><br><span class="line">					</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">5</span>)</span><br><span class="line">				{</span><br><span class="line">					<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">					{</span><br><span class="line">						fp2 = fopen(str2, <span class="string">"r+"</span>);</span><br><span class="line">					}</span><br><span class="line">					fclose(fp2);</span><br><span class="line">					addUserInfo(&amp;p2Head, &amp;p2Tail, str2);</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">6</span>)</span><br><span class="line">				{</span><br><span class="line">					<span class="keyword">if</span> (fp1 == <span class="literal">NULL</span>)</span><br><span class="line">					{</span><br><span class="line">						fp1 = fopen(str1, <span class="string">"r+"</span>);</span><br><span class="line">					}</span><br><span class="line">					fclose(fp1);</span><br><span class="line">					<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要删除学生的名字："</span>);</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>,n);</span><br><span class="line">					deleteStudentInfo(&amp;p1Head, &amp;p1Tail, str1,n, hashTable1);</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"删除成功\n"</span>);</span><br><span class="line">					system(<span class="string">"pause\n"</span>);</span><br><span class="line">				}</span><br><span class="line">					</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">7</span>)</span><br><span class="line">				{</span><br><span class="line">					<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">					{</span><br><span class="line">						fp2 = fopen(str2, <span class="string">"r+"</span>);</span><br><span class="line">					}</span><br><span class="line">					fclose(fp2);</span><br><span class="line">					<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要删除用户的名字："</span>);</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">					deleteUserInfo(&amp;p2Head, &amp;p2Tail, str2, n, hashTable2);</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"删除成功。\n"</span>);</span><br><span class="line">					system(<span class="string">"pause\n"</span>);</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">8</span>)</span><br><span class="line">				{</span><br><span class="line">					updatePwd(&amp;p2Head, &amp;p2Tail,str2, hashTable2);</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"更改成功。\n"</span>);</span><br><span class="line">					system(<span class="string">"pause\n"</span>);</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">9</span>)</span><br><span class="line">				{</span><br><span class="line">					<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">				}</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
      </tags>
  </entry>
  <entry>
    <title>家用针灸教程</title>
    <url>/category/%E5%AE%B6%E7%94%A8%E9%92%88%E7%81%B8%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="艾灸注意事项"><a href="#艾灸注意事项" class="headerlink" title="艾灸注意事项"></a>艾灸注意事项</h3><ul><li>饭后半小时别灸，晚上10点后别灸，大汗，剧烈运动，失血气血亏虚别灸</li><li>灸前后喝杯水</li><li>灸的时候最好不要开空调，可以开高点但不能对着吹</li><li>灸后半小时不要碰水（洗手等）</li><li>可以哪里疼痒灸哪里</li><li>先背后前，先上后下，可灸一个穴位，可灸几个穴位同时，灸完按一按揉一揉防止阳气散开起到补的作用</li><li>对称位置要两边一起灸</li></ul><h3 id="艾灸大致顺序"><a href="#艾灸大致顺序" class="headerlink" title="艾灸大致顺序"></a>艾灸大致顺序</h3><h4 id="寸——-gt-长度"><a href="#寸——-gt-长度" class="headerlink" title="寸——>长度"></a>寸——&gt;长度</h4><ol><li><p>同身寸：用在四肢和经络之间</p><ol><li>一寸：中指</li></ol><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/3HrzIs6V1xKQh4p.png" alt="image.png" style="zoom:50%"><ol start="2"><li>二寸：三只手指宽</li><li>三寸：四只手指宽</li></ol></li><li><p>均等法：腹部和胸部</p></li></ol><h4 id="可以让艾气通过耳朵，很舒服，但是都要防止烫伤，觉得烫就调小点"><a href="#可以让艾气通过耳朵，很舒服，但是都要防止烫伤，觉得烫就调小点" class="headerlink" title="可以让艾气通过耳朵，很舒服，但是都要防止烫伤，觉得烫就调小点"></a>可以让艾气通过耳朵，很舒服，但是都要防止烫伤，觉得烫就调小点</h4><h4 id="提高记忆力，防止老年痴呆"><a href="#提高记忆力，防止老年痴呆" class="headerlink" title="提高记忆力，防止老年痴呆"></a>提高记忆力，防止老年痴呆</h4><ul><li><p>神庭：在头部，当前发际正中直上0.5寸。</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/Mv7QLX5YWhwZGkO.png" alt="image.png" style="zoom:50%"></li><li><p>中泉：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/9iZcAtGRzf237uN.png" alt="image.png" style="zoom:33%"></li></ul><h4 id="背部"><a href="#背部" class="headerlink" title="背部"></a>背部</h4><ul><li><p>肝俞穴，第九椎下筋缩穴外1.5寸</p><ul><li>取坐位，两肩胛骨下角水平线与脊柱相交所在的雄体为第 7 胸椎，向下数 2 个椎体（第 9 胸椎）</li></ul></li><li><p>脾俞：第十一椎下脊中穴外1.5寸，四肢，肌肉，水肿，风湿都可用。</p></li><li><p>肾俞：第十四椎下命门外1.5寸</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/1oaeG8JpMNbE2qH.png" alt="image.png" style="zoom:67%"></li><li><p>命门：肚脐眼（神阙）正后面</p></li><li><p>八髎：</p><ul><li>腰骶部疾病、下腰痛、坐骨神经痛、下肢痿痹、小便不利、月经不调、小腹胀痛、盆腔炎等病症。</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/NdaL4CwUXDgypZF.png" alt="image.png" style="zoom:80%"></li></ul><h4 id="前部"><a href="#前部" class="headerlink" title="前部"></a>前部</h4><ul><li><p>中脘：脾胃消化，内分泌</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/pRI3oV1vAgK9dUH.jpg" alt="473afd2e386f745bb1ccab1b8dc09ae.jpg" style="zoom:50%"></li><li><p>神阙：肚脐眼，胃凉，中风肠炎肠鸣都可以。</p></li><li><p>关元：关元气降下去累积的地方是生精所在，可治宫寒痛经淤血，心脏病等等。很重要</p><ul><li>从脐下开始，沿中线向下触摸，碰到的第1个坚硬的部分就是耻骨联合的上缘</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/21/nAJqTmseYFlZOWu.jpg" alt="f900281323f311411540d5ff537c606.jpg" style="zoom:25%"></li><li><p>血海：在大腿内侧，可以治疗膝关节的肿痛，可以补益气血，对月经有一定的调整的作用，对皮肤病有协助的治疗作用。</p><ul><li><p>皮肤病：合谷，曲池，筑宾，血海</p></li><li><p>百虫窝穴是经外奇穴，有缓解治疗皮肤瘙痒症、荨麻疹、膝关节病等作用</p></li><li><p>两寸：三指</p></li></ul></li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/v695PWBFXgJf2bS.png" alt="image.png"></p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/jaBXkfHMtsLRZhq.png" alt="image.png" style="zoom:50%"><ul><li><p>曲泉：在大腿内侧，肝气郁滞，阴部瘙痒</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/ypwAIRdGY6QMsnr.png" alt="image.png"></p></li><li><p>足三里：内分泌</p><ul><li>先找到犊鼻，在外膝眼位置凹陷处</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/Gvi2uZSsKMFyEUC.jpg" alt="ed69b05a670683ae45eca6548c2e968.jpg" style="zoom:33%"><ul><li><p>下3寸，也就是足三里</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/vP4dJoLwX5mfCOG.png" alt="image.png" style="zoom:80%"></li></ul></li></ul><ul><li>三阴交：内分泌</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://img0.baidu.com/it/u=2767472800,3001328860&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=463&amp;h=282" alt="img"></p><ul><li><p>涌泉：内分泌，上热下寒（喜冷吃了肚子不舒服）</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/DFZyXjpSLYPf1K4.jpg" alt="ebf753da5829a108acbe6b10e3eebc5.jpg" style="zoom:50%"></li></ul><ul><li>隐白：月经滴漏不止可用。</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/vsO5FyaiopmNQl9.png" alt="image.png" style="zoom:25%"><ul><li><p>三毛：治疗失眠多梦恶梦。</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/2WxYK5tPN9iLaqo.png" alt="image.png" style="zoom:33%"></li></ul><h3 id="便秘"><a href="#便秘" class="headerlink" title="便秘"></a>便秘</h3><ul><li><p>支沟</p></li><li><p>照海</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/cTWk5AN4nzvoPKp.png" alt="image.png" style="zoom:33%"></li></ul><h3 id="耳鸣"><a href="#耳鸣" class="headerlink" title="耳鸣"></a>耳鸣</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/ZIaEruoXVsS3iQ2.png" alt="image.png" style="zoom:33%"><p>肾俞：</p><p>志室：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/ngXvmdtbuk3I7pG.png" alt="image.png" style="zoom:50%"><p>京门：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/OUobiAkyEl7Mr9V.png" alt="image.png"></p><p>复溜：复溜位于小腿内侧，太溪穴直上2寸</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/5t1BaFvxU6XMYEg.png" alt="image.png" style="zoom:50%"><h3 id="感冒退烧"><a href="#感冒退烧" class="headerlink" title="感冒退烧"></a>感冒退烧</h3><ul><li><p>小儿：推天河水</p><ul><li>男左女右</li><li>开天河：手指按到外关穴，揉一揉个两三下，然后推到四指末梢，中指往前推能揉下劳宫穴，可以做个100多次，最后记得间使穴一揉，天河水散掉</li><li>外关穴：手背2寸，3横指</li><li>间使穴:手腕内侧3寸，4横指</li></ul></li><li><p>成人：大椎穴点刺放血或刮痧板刮</p><ul><li><p>大椎穴：正坐脊柱凸起骨头最高点下面</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/wlOSuRMzkC37dnG.png" alt="image.png" style="zoom:50%"></li><li><p>少商商阳点刺放血，挤出来</p><ul><li><p>少商：退烧，扁桃体发炎</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/LryiHw6gSW8mVhx.png" alt="image.png" style="zoom:50%"></li><li><p>商阳：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/XNCf5FoQSJ69mLM.png" alt="image.png" style="zoom:50%"></li></ul></li></ul></li></ul><h3 id="酒"><a href="#酒" class="headerlink" title="酒"></a>酒</h3><ul><li>喝酒应酬前喝一包，酒属湿热，龙胆泻肝丸走肝经，看配方，黄芩栀子去热，龙胆草去湿热，车前子利尿，喝酒前来包，战斗力开挂倍增，尽量保护肝免受损伤。</li><li>解酒穴：点刺放血，耳垂正中央，女孩子打耳洞的地方。</li></ul><h3 id="家用急救"><a href="#家用急救" class="headerlink" title="家用急救"></a>家用急救</h3><ol><li><p>针人中0.3-0.5寸。或用指甲按掐。不可灸</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/BUsYpaJioj5K1x2.png" alt="image.png" style="zoom:50%"></li><li><p>十宣放血（手指和脚趾的尖端，距指甲游离緣0.1寸）</p></li><li><p>扎涌泉穴</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/DmKjAYPMyqVlSoL.jpg" alt="052e718b534f14c7ff4864a20024976.jpg" style="zoom:50%"></li><li><p>百会放血</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/13/4zrZtwnUuOiQJIp.png" alt="image.png"></p></li><li><p>心脏病篇：不需要补泻，一扎下去就可以了</p><ul><li><p>1.关元：直刺0.5-1寸；可灸</p></li><li><p>2.巨阙：直刺0.5-1寸；可灸</p><ul><li><p>巨阙位置：中庭和神阙之间是中脘，中庭和中脘之间是巨阙</p></li><li><p>中庭：胸肋骨交于中庭，剑突下面是鸠尾</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/UFSykshTOAw3WCZ.jpg" alt="7631aaf9e17d0541dd5ce8046861117.jpg" style="zoom:33%"></li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/mykNUcHM4zSxj73.png" alt="image.png" style="zoom:67%"></li><li><p>3.天突：斜刺0.5-1寸；可灸</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/k7pcbHqwa3RuYhd.jpg" alt="407afbeaf3bed0b3cba4cb0fd12825c.jpg" style="zoom:33%"><p>方向：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/nhp7gIVe5k4qDTU.png" alt="image.png" style="zoom:25%"></li><li><p>4.厉兑：</p></li></ul></li></ol><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/Q8ZxBgrvSR5tjbn.png" alt="image.png" style="zoom:33%"><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>中医</category>
      </categories>
      <tags>
        <tag>中医</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建博客步骤</title>
    <url>/category/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%AD%A5%E9%AA%A4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><ol><li>下载node.js和hexo</li></ol><figure class="highlight cmake"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>创建blog文件夹</li></ol><figure class="highlight properties"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">hexo</span> <span class="string">init</span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">s</span></span><br></pre></td></tr></tbody></table></figure><ol start="3"><li>blog文件夹下，下载next主题</li></ol><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br><span class="line">npm i hexo-renderer-swig</span><br><span class="line">npm install babel-plugin-transform-<span class="built_in">remove</span>-strict-<span class="keyword">mode</span> -D</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <tags>
        <tag>博客</tag>
      </tags>
  </entry>
  <entry>
    <title>心理健康笔记</title>
    <url>/category/%E5%BF%83%E7%90%86%E5%81%A5%E5%BA%B7%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h2 id="静坐三分钟"><a href="#静坐三分钟" class="headerlink" title="静坐三分钟"></a>静坐三分钟</h2><ul><li>舌头稍微卷，微笑，放松呼吸，注意力集中在脑袋上方/鼻子/肚子</li><li>我的感受：静坐后，轻松舒服，脑袋空空</li></ul><h2 id="呼吸训练"><a href="#呼吸训练" class="headerlink" title="呼吸训练"></a>呼吸训练</h2><p>走三步吸气，走三步呼气，后走六步，走十二步，一次递增</p><h2 id="外五行祛病术"><a href="#外五行祛病术" class="headerlink" title="外五行祛病术"></a>外五行祛病术</h2><h3 id="阴阳和合"><a href="#阴阳和合" class="headerlink" title="阴阳和合"></a>阴阳和合</h3><ul><li>太阴经—-&gt; 平衡</li><li>站立，放松手掌对着，吸气感受手掌间能量外压，呼气感受手掌间能量内缩</li><li>有助于胃，胰腺，颈椎，预防糖尿病</li></ul><h3 id="伸筋拔脉"><a href="#伸筋拔脉" class="headerlink" title="伸筋拔脉"></a>伸筋拔脉</h3><ul><li>可自行排出毒素（老师说曾经他老师被眼镜蛇咬了，去医院只能截肢，自己回家按这个方法运气把毒逼出来）</li></ul><h2 id="内五行祛病术"><a href="#内五行祛病术" class="headerlink" title="内五行祛病术"></a>内五行祛病术</h2><ul><li>五脏按摩 —下次讲</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <tags>
        <tag>中医</tag>
      </tags>
  </entry>
  <entry>
    <title>板栗看板用法</title>
    <url>/category/%E6%9D%BF%E6%A0%97%E7%9C%8B%E6%9D%BF%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="1、任务计划池"><a href="#1、任务计划池" class="headerlink" title="1、任务计划池"></a>1、任务计划池</h3><ul><li>任何需要做的事，灵光一现的idea（只和工作任务有关），只要有想法都可以丢进去</li><li>备忘录作用</li></ul><h3 id="2、任务就绪池"><a href="#2、任务就绪池" class="headerlink" title="2、任务就绪池"></a>2、任务就绪池</h3><ul><li>从计划池中拖过来，现在需要做任务</li></ul><h3 id="3、任务执行池"><a href="#3、任务执行池" class="headerlink" title="3、任务执行池"></a>3、任务执行池</h3><ul><li>从就绪池中拖过来，现在正在执行的任务</li><li>执行池的每个任务执行后，把它拖到验收池</li></ul><h3 id="4、任务验收池"><a href="#4、任务验收池" class="headerlink" title="4、任务验收池"></a>4、任务验收池</h3><ul><li>从执行池中拖过来</li><li>方便之后追踪，复盘，和回味</li></ul><h3 id="5、任务完成池"><a href="#5、任务完成池" class="headerlink" title="5、任务完成池"></a>5、任务完成池</h3><ul><li>从验收池中拖过来</li><li>标志着这个任务的完整完成，并添加实际完成日期</li></ul><h3 id="6、任务阻塞池"><a href="#6、任务阻塞池" class="headerlink" title="6、任务阻塞池"></a>6、任务阻塞池</h3><ul><li>专门存放那些阻塞时间比较长，或者是一些历史遗留任务</li><li>共同特点是难以在一两天之内完成，持续时间比较久，一直在阻塞着</li><li>一般是看书任务啊，学习任务，用于自我提高之类的</li></ul><h3 id="7、任务酱油池"><a href="#7、任务酱油池" class="headerlink" title="7、任务酱油池"></a>7、任务酱油池</h3><ul><li>边边角角，零碎，不固定的任务放到这个池子里</li><li>打酱油的时间</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>时间管理</category>
      </categories>
  </entry>
  <entry>
    <title>果壳课程评价</title>
    <url>/category/%E6%9E%9C%E5%A3%B3%E8%AF%BE%E7%A8%8B%E8%AF%84%E4%BB%B7/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="课程评价"><a href="#课程评价" class="headerlink" title="课程评价"></a>课程评价</h3><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 课程评估</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'required'</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;x.length;i++){</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">109</span> &amp;&amp; i % <span class="number">5</span> == <span class="number">0</span>){</span><br><span class="line">        x[i].checked=<span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">x[<span class="number">110</span>].textContent=<span class="string">"在课堂上可以学到很多有用的东西，老师讲的很清晰，让我受益匪浅！"</span>;</span><br><span class="line">x[<span class="number">111</span>].textContent=<span class="string">"课堂互动再多一点，必要的时候可以停一下，与学生互动要增多！"</span>;</span><br><span class="line">x[<span class="number">112</span>].textContent=<span class="string">"每周可以花费大概4个小时，不固定，有时多有时少。"</span>;</span><br><span class="line">x[<span class="number">113</span>].textContent=<span class="string">"很有兴趣，喜欢这个学科和领域，想进行更深入的了解。"</span>;</span><br><span class="line">x[<span class="number">114</span>].textContent=<span class="string">"保持全勤，从未旷课、早退和迟到。回答问题挺积极。"</span>;</span><br><span class="line">x[<span class="number">115</span>].checked=<span class="literal">true</span>;</span><br><span class="line">x[<span class="number">121</span>].checked=<span class="literal">true</span>;</span><br><span class="line">x[<span class="number">124</span>].checked=<span class="literal">true</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="教师评价"><a href="#教师评价" class="headerlink" title="教师评价"></a>教师评价</h3><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 教师评估</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'required'</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;x.length;i++){</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">105</span> &amp;&amp; i % <span class="number">5</span> == <span class="number">0</span>){</span><br><span class="line">        x[i].checked=<span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">x[<span class="number">105</span>].textContent=<span class="string">"最喜欢老师上课讲各种与课堂相关的趣事，老师上课认真，思路清晰。"</span>;</span><br><span class="line">x[<span class="number">106</span>].textContent=<span class="string">"课堂互动再多一点，必要的时候可以停一下，与学生互动要增多！"</span>;</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>js</category>
      </categories>
  </entry>
  <entry>
    <title>爬虫作业1</title>
    <url>/category/%E7%88%AC%E8%99%AB%E4%BD%9C%E4%B8%9A1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><p>1、URILIB+正则表达式<br><a href="https://www.ucas.ac.cn/site/37" target="_blank" rel="noopener">Ucas网站</a>邮箱、电话号码的爬取</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">url = <span class="string">'https://www.ucas.ac.cn/site/37'</span></span><br><span class="line"></span><br><span class="line">req = urllib.request.Request(url=url, method=<span class="string">'GET'</span>)</span><br><span class="line"></span><br><span class="line">data = urllib.request.urlopen(req).read().decode(<span class="string">"utf-8"</span>, <span class="string">"ignore"</span>)</span><br><span class="line"></span><br><span class="line">pat1 = <span class="string">'&lt;p&gt;Email：(.*?)&lt;/p&gt;'</span></span><br><span class="line">pat2 = <span class="string">'&lt;p&gt;联系电话： (.*?)&lt;/p&gt;'</span>  <span class="comment"># 要匹配的东西加()</span></span><br><span class="line"></span><br><span class="line">Email = re.compile(pat1).findall(data)</span><br><span class="line">call = re.compile(pat2).findall(data)</span><br><span class="line"><span class="comment"># print(Email)</span></span><br><span class="line"><span class="comment"># print(call)</span></span><br><span class="line"></span><br><span class="line">f1 = open(<span class="string">"1.txt"</span>, <span class="string">"w"</span>)</span><br><span class="line">f1.write(<span class="string">"Email："</span>+Email[<span class="number">0</span>]+<span class="string">"\ncall："</span>+call[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">f1=open("1.txt","w")</span></span><br><span class="line"><span class="string">for i in range(len(call)):</span></span><br><span class="line"><span class="string">    f1.write("Email："+Email[0]+"\ncall："+call[0]+"\n")</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">f1.close()</span><br></pre></td></tr></tbody></table></figure><p>2、从<a href="http://jhsjk.people.cn/" target="_blank" rel="noopener">人民网</a>上抓取最新栏目中的文章：<br>要求完成的：文章的标题、链接和来源</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://jhsjk.people.cn/'</span></span><br><span class="line">headers = {</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36'</span>}</span><br><span class="line"></span><br><span class="line">req = urllib.request.Request(url=url, headers=headers, method=<span class="string">'GET'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = urllib.request.urlopen(req).read().decode(<span class="string">"utf-8"</span>, <span class="string">"ignore"</span>)</span><br><span class="line"></span><br><span class="line">pat = <span class="string">'&lt;li&gt;&lt;a href="(.*?)" target="_blank"&gt;&lt;span&gt;(.*?)&lt;/span&gt;&lt;i&gt; 来源：(.*?)&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;'</span></span><br><span class="line"></span><br><span class="line">xx = re.compile(pat).findall(data)</span><br><span class="line"><span class="comment"># print(xx)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建workbook和sheet对象</span></span><br><span class="line">workbook = xlwt.Workbook()</span><br><span class="line">sheet1 = workbook.add_sheet(<span class="string">'sheet1'</span>, cell_overwrite_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化excel样式</span></span><br><span class="line">style = xlwt.XFStyle()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为样式创建字体</span></span><br><span class="line">font = xlwt.Font()</span><br><span class="line">font.name = <span class="string">'Times New Roman'</span></span><br><span class="line">font.bold = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置样式的字体</span></span><br><span class="line">style.font = font</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在sheet1表的第1行设置字段名称并写入数据</span></span><br><span class="line">sheet1.write(<span class="number">0</span>, <span class="number">0</span>, <span class="string">"序号"</span>, style)</span><br><span class="line">sheet1.write(<span class="number">0</span>, <span class="number">1</span>, <span class="string">"文章的标题"</span>, style)</span><br><span class="line">sheet1.write(<span class="number">0</span>, <span class="number">2</span>, <span class="string">"链接"</span>, style)</span><br><span class="line">sheet1.write(<span class="number">0</span>, <span class="number">3</span>, <span class="string">"来源"</span>, style)</span><br><span class="line"></span><br><span class="line">a = <span class="number">0</span>  <span class="comment"># 定义行号初始值</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xx:</span><br><span class="line">    <span class="comment"># print(str(a+1),i[0])</span></span><br><span class="line">    sheet1.write(a+<span class="number">1</span>, <span class="number">0</span>, a+<span class="number">1</span>, style)  <span class="comment"># 在第a+1行第1列写入序号</span></span><br><span class="line">    sheet1.write(a+<span class="number">1</span>, <span class="number">1</span>, i[<span class="number">1</span>], style)  <span class="comment"># 在第a+1行第2列写入文章的标题</span></span><br><span class="line">    sheet1.write(a+<span class="number">1</span>, <span class="number">2</span>, <span class="string">"http://jhsjk.people.cn/"</span> +</span><br><span class="line">                 str(i[<span class="number">0</span>]), style)  <span class="comment"># 在第a+1行第3列写入链接</span></span><br><span class="line">    sheet1.write(a+<span class="number">1</span>, <span class="number">3</span>, i[<span class="number">2</span>], style)  <span class="comment"># 在第a+1行第4列写入来源</span></span><br><span class="line">    a += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> a == a:  <span class="comment"># 判断XX列表是否遍历结束，并在sheet1表尾行写入在售数量求和的值</span></span><br><span class="line">        t1 = datetime.datetime.now().strftime(<span class="string">"%Y%m%d%H%M%S"</span>)</span><br><span class="line"></span><br><span class="line">workbook.save(<span class="string">"人民网最新栏目"</span>+str(t1)+<span class="string">".xls"</span>)  <span class="comment"># 保存该excel文件,有同名文件时无法直接覆盖</span></span><br></pre></td></tr></tbody></table></figure><p>3、<a href="https://list.jd.com/list.html?tid=1014398&amp;page=1" target="_blank" rel="noopener">Jd网站手机</a>图片的爬取</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">url = <span class="string">'https://list.jd.com/list.html?tid=1014398&amp;page=1'</span></span><br><span class="line">headers = {</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36'</span>}</span><br><span class="line"></span><br><span class="line">req = urllib.request.Request(url=url, headers=headers, method=<span class="string">'GET'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = urllib.request.urlopen(req).read().decode(<span class="string">"utf-8"</span>, <span class="string">"ignore"</span>)</span><br><span class="line"></span><br><span class="line">pat = <span class="string">'&lt;img width="220" height="220" data-img="1" data-lazy-img="(.*?)" /&gt;'</span></span><br><span class="line"></span><br><span class="line">xx = re.compile(pat).findall(data)</span><br><span class="line"><span class="comment"># print(xx)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(xx)):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(<span class="string">"第"</span>+str(i)+<span class="string">"次爬取"</span>)</span><br><span class="line">        thisurl = xx[i]</span><br><span class="line"></span><br><span class="line">        dir = os.path.abspath(<span class="string">'./call_img/'</span>)</span><br><span class="line">        work_path = os.path.join(dir, str(i)+<span class="string">'.jpg'</span>)</span><br><span class="line">        <span class="comment"># print(work_path)</span></span><br><span class="line"></span><br><span class="line">        urllib.request.urlretrieve(<span class="string">'https:'</span>+thisurl, work_path)</span><br><span class="line">        print(<span class="string">"-------成功-------"</span>)</span><br><span class="line">    <span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">if</span> hasattr(e, <span class="string">"code"</span>):</span><br><span class="line">            print(e.code)</span><br><span class="line">        <span class="keyword">if</span> hasattr(e, <span class="string">"reason"</span>):</span><br><span class="line">            print(e.reason)</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>爬虫</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>爬虫作业2</title>
    <url>/category/%E7%88%AC%E8%99%AB%E4%BD%9C%E4%B8%9A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><p>1、从<a href="https://www.ucas.ac.cn/" target="_blank" rel="noopener">ucas网站</a>上抓取：学校概况、组织机构等名称，包括该名称下的目录名称。</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">headers = {</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.92 Safari/537.36'</span>}</span><br><span class="line">url=<span class="string">"https://www.ucas.ac.cn/"</span></span><br><span class="line"></span><br><span class="line">req=urllib.request.Request(url=url,headers=headers) </span><br><span class="line">file=urllib.request.urlopen(req).read().decode(<span class="string">"utf-8"</span>, <span class="string">"ignore"</span>)</span><br><span class="line"></span><br><span class="line">html = etree.HTML(file) </span><br><span class="line"><span class="comment">#print(html)</span></span><br><span class="line">rows1 = html.xpath(<span class="string">'//li[@class="mainlevel"]/a/text()'</span>)</span><br><span class="line">rows2 = html.xpath(<span class="string">'//li[@class="mainlevel"]/ul'</span>)</span><br><span class="line">print(rows1)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"\n\n"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建workbook和sheet对象</span></span><br><span class="line">workbook = xlwt.Workbook()</span><br><span class="line">sheet1 = workbook.add_sheet(<span class="string">'sheet1'</span>, cell_overwrite_ok=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化excel样式</span></span><br><span class="line">style = xlwt.XFStyle()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为样式创建字体</span></span><br><span class="line">font = xlwt.Font()</span><br><span class="line">font.name = <span class="string">'Times New Roman'</span></span><br><span class="line">font.bold = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置样式的字体</span></span><br><span class="line">style.font = font</span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span> <span class="comment">#表示列</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> rows2:</span><br><span class="line">    <span class="comment">#print(row.string)</span></span><br><span class="line">    sheet1.write(<span class="number">0</span>,i,rows1[i],style)</span><br><span class="line">    j = <span class="number">0</span> <span class="comment">#表示行</span></span><br><span class="line">    title = row.xpath(<span class="string">'./li/a/text()'</span>)  <span class="comment"># ./*/a/text()</span></span><br><span class="line">    <span class="keyword">if</span> rows1[i] == <span class="string">"信息公开"</span>:</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        sheet1.write(<span class="number">0</span>,i,rows1[i],style)</span><br><span class="line">        <span class="keyword">for</span> sec_title <span class="keyword">in</span> title:</span><br><span class="line">            sheet1.write(j+<span class="number">1</span>,i,sec_title,style)</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> sec_title <span class="keyword">in</span> title:</span><br><span class="line">            sheet1.write(j+<span class="number">1</span>,i,sec_title,style)</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    print(<span class="string">"\n\n"</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">workbook.save(<span class="string">"目录名称"</span>+str(datetime.datetime.now().strftime(<span class="string">"%Y%m%d%H%M%S"</span>))+<span class="string">".xls"</span>)  <span class="comment"># 保存该excel文件,有同名文件时无法直接覆盖</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#这种方式比我自己的方式简便易懂</span></span><br><span class="line">rows = content.xpath(<span class="string">'//*[@id="nav"]'</span>)     <span class="comment"># 选择所有id名称为menu的标签</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> rows:</span><br><span class="line">   situation = row.xpath(<span class="string">'li[1]/a/text()  |  li[1]/ul/li/a/text()'</span>)</span><br><span class="line">   organation = row.xpath(<span class="string">'li[2]/a/text()  |  li[2]/ul/li/a/text()'</span>)</span><br><span class="line">   faculty = row.xpath(<span class="string">'li[3]/a/text()  |  li[3]/ul/li/a/text()'</span>) <span class="comment"># faculy能力</span></span><br><span class="line">   education = row.xpath(<span class="string">'li[4]/a/text()  |  li[4]/ul/li/a/text()'</span>)</span><br><span class="line">   research = row.xpath(<span class="string">'li[5]/a/text()  |  li[5]/ul/li/a/text()'</span>)</span><br><span class="line">   employment = row.xpath(<span class="string">'li[6]/a/text()  |  li[6]/ul/li/a/text()'</span>)</span><br><span class="line">   information = row.xpath(<span class="string">'li[7]/a/text()  |  li[7]/ul/li/a/text()'</span>)</span><br><span class="line">   life = row.xpath(<span class="string">'li[8]/a/text()  |  li[8]/ul/li/a/text()'</span>)</span><br></pre></td></tr></tbody></table></figure><p>2、人民邮电出版社推荐书下载<br>要求抓取：每个学科下的推荐书，书名以及价格<br>使用： requests<br>结果保存到数据库中</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> mysql.connector</span><br><span class="line"></span><br><span class="line">db = mysql.connector.connect(<span class="comment"># 打开数据库</span></span><br><span class="line">        host=<span class="string">"localhost"</span>,</span><br><span class="line">        user=<span class="string">"root"</span>,</span><br><span class="line">        password=<span class="string">"123456"</span>,</span><br><span class="line">        database=<span class="string">"py_spider"</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">headers = {</span><br><span class="line">        <span class="string">'Connection'</span>: <span class="string">'Keep-Alive'</span>,</span><br><span class="line">        <span class="string">'User-Agent'</span> : <span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36'</span></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">url1 = <span class="string">'https://www.ptpress.com.cn/bookinfo/getFirstParent'</span></span><br><span class="line">resp = requests.get(url1,headers=headers)<span class="comment">#,headers = headers,verify=False).content.decode()</span></span><br><span class="line"><span class="comment">#提取标题。</span></span><br><span class="line">resp.encoding = <span class="string">"utf-8"</span></span><br><span class="line"></span><br><span class="line">pat = <span class="string">'{"tagId":"(.*?)","tagName":"(.*?)"}'</span></span><br><span class="line"></span><br><span class="line">classifier = re.compile(pat).findall(resp.text)</span><br><span class="line">print(classifier)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> each_classifier <span class="keyword">in</span> classifier:</span><br><span class="line">    url2 = <span class="string">'https://www.ptpress.com.cn/hotBook/getHotBookList?parentTagId='</span>+each_classifier[<span class="number">0</span>]+<span class="string">'&amp;rows=18&amp;page=1'</span></span><br><span class="line">    <span class="comment">#print(url2)</span></span><br><span class="line">    resp = requests.get(url2,headers=headers)</span><br><span class="line">    resp.encoding = <span class="string">"utf-8"</span></span><br><span class="line">    <span class="comment">#print(resp.text)</span></span><br><span class="line">    pat = <span class="string">'"price":(.*?),"discountPrice":"(.*?)","bookDiscount":".*?","bookName":"(.*?)"'</span></span><br><span class="line">    book = re.compile(pat).findall(resp.text)</span><br><span class="line">    <span class="comment">#print(book)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> each_book <span class="keyword">in</span> book:</span><br><span class="line">        cur = db.cursor()  <span class="comment"># 创建游标</span></span><br><span class="line">        sql = <span class="string">'insert ignore into book(class,name, price, discountPrice) values("%s", "%s","%f", %f)'</span> % (each_classifier[<span class="number">1</span>], each_book[<span class="number">2</span>], float(each_book[<span class="number">0</span>]),float(each_book[<span class="number">1</span>]))</span><br><span class="line">        cur.execute(sql)<span class="comment"># 执行sql语句</span></span><br><span class="line">        db.commit()<span class="comment"># 提交到数据库执行</span></span><br><span class="line">        <span class="comment">##break #只爬取一个种类</span></span><br><span class="line">cur.close()</span><br><span class="line">db.close()</span><br></pre></td></tr></tbody></table></figure><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">driver.switch_to.frame()</span><br><span class="line">小括号里面填iframe标签的<span class="built_in">id</span>，或<span class="built_in">name</span>值</span><br><span class="line">如果没有<span class="built_in">id</span>，或者<span class="built_in">name</span>，我们可以先定位到iframe标签，再切换到frame</span><br><span class="line"><span class="comment"># 根据标签名切换</span></span><br><span class="line">iframe = driver.find_element_by_tag_name(<span class="string">"iframe"</span>)</span><br><span class="line">driver.switch_to.frame(iframe)</span><br><span class="line"></span><br><span class="line">当然我们也可以通过其他页面元素定位的方式。</span><br><span class="line">页面元素定位的<span class="number">8</span>种方式：</span><br><span class="line">find_element_by_id</span><br><span class="line">find_element_by_name</span><br><span class="line">find_element_by_xpath</span><br><span class="line">find_element_by_link_text</span><br><span class="line">find_element_by_partial_link_text</span><br><span class="line">find_element_by_tag_name</span><br><span class="line">find_element_by_class_name</span><br><span class="line">find_element_by_css_selector</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>爬虫</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>爬虫作业3</title>
    <url>/category/%E7%88%AC%E8%99%AB%E4%BD%9C%E4%B8%9A3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><p>1、淘宝网站登录<br>使用：requests和cookies</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">headers = {<span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.82 Safari/537.36'</span>}</span><br><span class="line">cookies = {<span class="string">'Cookie'</span>:<span class="string">'t=bb886aeef3565cf86716e0141514a57c; _bl_uid=7sk46tXIyU41t23XR0Ch416eI1t6; thw=cn; xlly_s=1; _tb_token_=eebe3178ee561; _m_h5_tk=1ea651ba7d5638d7abd54e7d78f867cc_1632808966265; _m_h5_tk_enc=f1c8ff24fad6aeafe3cceff352b79e2a; cookie2=1d42fac19deeb0204c4d172435245ace; XSRF-TOKEN=fe567d31-abcb-49a4-8104-2dd157b520fd; _samesite_flag_=true; sgcookie=E1006xIBuEkJ5k/6ThEka9DJr6ZDNyTFphR+J5VFHUlIomrvYMhDeqbsAI3KO87zTq+UmqBqtN/GeO5J0a4kzA5txLav1zfGfDMTXOr/OaUFuD8=; mt=ci=0_0; tracknick=; cna=KC/QGW1PRkACASRwuavbbyxV; isg=BDg4VzdrrckjBcFSWDMNsifcCebKoZwrnkyte3KphHMmjdh3GrFsu06vQYU9xlQD; l=eBE-6bklgRcbUzpyBOfanurza77OSIRYYuPzaNbMiOCPO6fB5sC1W6e2KyL6C3GVh6DpR3kQee-kBeYBqQOSnxvtIosM_Ckmn; tfstk=cI25BNjmWUY5S3feUus28WCd9Qkdw9pjmK04VWTP9cYKLV1m7dusfimWlKhtc'</span>}</span><br><span class="line">url = <span class="string">'https://login.taobao.com/member/login.jhtml'</span></span><br><span class="line">resp = requests.get(url, cookies = cookies, headers = headers)</span><br><span class="line"></span><br><span class="line">print(resp.text)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">resp.text返回的是Unicode型的数据。 </span></span><br><span class="line"><span class="string">使用resp.content返回的是bytes型的数据。 </span></span><br><span class="line"><span class="string">也就是说，如果你想取文本，可以通过r.text。 </span></span><br><span class="line"><span class="string">如果想取图片，文件，则可以通过r.content。</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></tbody></table></figure><p>2、使用scrapy自动登录<a href="http://sep.ucas.ac.cn/" target="_blank" rel="noopener">学校信息门户网站</a></p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> Request, FormRequest</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UcasLoginSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">	header = {<span class="string">"User-Agent"</span>:<span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.163 Safari/535.1"</span>}</span><br><span class="line">    name = <span class="string">'ucas_login'</span>    <span class="comment">#爬虫名称</span></span><br><span class="line">    allowed_domains = [<span class="string">'https://sep.ucas.ac.cn/'</span>]  <span class="comment">#爬虫允许爬取的域的范围</span></span><br><span class="line">    start_urls = [<span class="string">'https://sep.ucas.ac.cn'</span>]  <span class="comment">#第一次启动时的url地址，每次的请求都在调度器中进行排队</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">#第一次会默认调取该方法中的请求</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_requests</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># 首先,爬一次登录页,然后调用回调函数parse()</span></span><br><span class="line">        <span class="keyword">return</span> [Request(<span class="string">"https://sep.ucas.ac.cn"</span>,callback = self.parse,meta={<span class="string">"cookiejar"</span>:<span class="number">1</span>})]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">next</span><span class="params">(self,response)</span>:</span></span><br><span class="line">        print(response.body)  <span class="comment">#打印相应文件的body标签下的内容</span></span><br><span class="line">        print(<span class="string">"successful"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 每次Request返回的Response文件都会调用parse（解析）进行处理</span></span><br><span class="line">    <span class="comment"># 运行爬虫后，名为 parse() 的方法将会被自动调用</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line">        <span class="comment"># 设置要发送的post信息</span></span><br><span class="line">        data = {</span><br><span class="line">            <span class="string">'userName'</span>: <span class="string">'********'</span>,  </span><br><span class="line">            <span class="string">'pwd'</span>: <span class="string">'********'</span>,  </span><br><span class="line">            <span class="string">'sb'</span>: <span class="string">'sb'</span></span><br><span class="line">        }</span><br><span class="line">        print(<span class="string">"登入中..."</span>)</span><br><span class="line">        <span class="keyword">return</span> FormRequest(</span><br><span class="line">            url=<span class="string">'https://sep.ucas.ac.cn/slogin'</span>,</span><br><span class="line">            method=<span class="string">'post'</span>,</span><br><span class="line">            formdata=data,</span><br><span class="line">            meta={<span class="string">'cookiejar'</span>: response.meta[<span class="string">'cookiejar'</span>]},</span><br><span class="line">            <span class="comment"># 如果需要多次提交表单，且url一样，那么就必须加此参数dont_filter，防止被当成重复网页过滤掉了</span></span><br><span class="line">            dont_filter=<span class="literal">True</span>,</span><br><span class="line">            callback=self.next</span><br><span class="line">        )</span><br></pre></td></tr></tbody></table></figure><p>3、使用Scrapy爬取<a href="https://www.ucas.ac.cn/site/26" target="_blank" rel="noopener">学校网站教学科研的新闻</a><br>要求爬取：新闻的标题、链接和日期<br>分别使用：基本爬虫和自动爬虫</p><h4 id="基本爬虫（只爬了1-3页，太多了）"><a href="#基本爬虫（只爬了1-3页，太多了）" class="headerlink" title="基本爬虫（只爬了1-3页，太多了）"></a>基本爬虫（只爬了1-3页，太多了）</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">scrapy startproject teach_and_research</span><br><span class="line">然后可以到最里面的文件夹</span><br><span class="line">scrapy genspider ucas ucas.ac.cn</span><br><span class="line"></span><br><span class="line"><span class="comment">#ucas.py</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> teach_and_research.items <span class="keyword">import</span> TeachAndResearchItem</span><br><span class="line"></span><br><span class="line"><span class="comment">#多页抓取，需要使用Request</span></span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> Request</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UcasSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    name = <span class="string">'ucas'</span></span><br><span class="line">    allowed_domains = [<span class="string">'ucas.ac.cn'</span>]</span><br><span class="line">    start_urls = [<span class="string">'https://www.ucas.ac.cn/site/26'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line">        data = response.xpath(<span class="string">'//div[@class="sc_q"]/p'</span>)</span><br><span class="line">        <span class="keyword">for</span> each_data <span class="keyword">in</span> data:</span><br><span class="line">            item = TeachAndResearchItem()</span><br><span class="line">            item[<span class="string">'title'</span>] = each_data.xpath(<span class="string">'./a/text()'</span>).extract()</span><br><span class="line">            item[<span class="string">'addr'</span>] = each_data.xpath(<span class="string">'./a/@href'</span>).extract()</span><br><span class="line">            item[<span class="string">'date'</span>] = each_data.xpath(<span class="string">'./span/text()'</span>).extract()</span><br><span class="line">            <span class="keyword">yield</span> item</span><br><span class="line">            <span class="comment">#多页抓取的一种方法</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">4</span>):   <span class="comment">#多页</span></span><br><span class="line">            url = <span class="string">"https://www.ucas.ac.cn/site/26?pn="</span>+str(i)</span><br><span class="line">            <span class="keyword">yield</span> Request(url, callback = self.parse)</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="comment">#items.py</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TeachAndResearchItem</span><span class="params">(scrapy.Item)</span>:</span></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    <span class="comment"># name = scrapy.Field()</span></span><br><span class="line">    title = scrapy.Field()</span><br><span class="line">    addr = scrapy.Field()</span><br><span class="line">    date = scrapy.Field()</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#pipelines.py</span></span><br><span class="line"><span class="keyword">import</span> mysql.connector</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TeachAndResearchPipeline</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span><span class="params">(self, item, spider)</span>:</span></span><br><span class="line">        conn = mysql.connector.connect(<span class="comment"># 打开数据库</span></span><br><span class="line">        host=<span class="string">"localhost"</span>,</span><br><span class="line">        user=<span class="string">"root"</span>,</span><br><span class="line">        password=<span class="string">"123456"</span>,</span><br><span class="line">        database=<span class="string">"py_spider"</span></span><br><span class="line">    )</span><br><span class="line">        cur = conn.cursor()  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(item[<span class="string">"title"</span>])): </span><br><span class="line">            title = item[<span class="string">"title"</span>][i]  </span><br><span class="line">            addr = item[<span class="string">"addr"</span>][i]</span><br><span class="line">            date = item[<span class="string">"date"</span>][i]</span><br><span class="line">            sql = <span class="string">'insert ignore into ucas_news(title,addr,date) values("%s","%s","%s")'</span> % (title,addr,date)</span><br><span class="line">           <span class="comment"># sql = 'insert ignore into book(class,name, price, discountPrice) values("%s", "%s","%f", %f)' % (each_classifier[1], each_book[2], float(each_book[0]),float(each_book[1]))</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                cur.execute(sql)</span><br><span class="line">                conn.commit()  <span class="comment"># 提交</span></span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                conn.rollback()  <span class="comment"># 错误回滚</span></span><br><span class="line">        </span><br><span class="line">        cur.close()</span><br><span class="line">        conn.close()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">#只要取消下面这条注释，让它生效</span></span><br><span class="line">ITEM_PIPELINES = {</span><br><span class="line">   <span class="string">'teach_and_research.pipelines.TeachAndResearchPipeline'</span>: <span class="number">300</span>,</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="自动爬虫（除了爬虫程序ucas-py不一样，其他一样）"><a href="#自动爬虫（除了爬虫程序ucas-py不一样，其他一样）" class="headerlink" title="自动爬虫（除了爬虫程序ucas.py不一样，其他一样）"></a>自动爬虫（除了爬虫程序ucas.py不一样，其他一样）</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#ucas.py</span></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> teach_and_research.items <span class="keyword">import</span> TeachAndResearchItem</span><br><span class="line"><span class="keyword">from</span> scrapy.linkextractors <span class="keyword">import</span> LinkExtractor  <span class="comment">#自动爬虫</span></span><br><span class="line"><span class="keyword">from</span> scrapy.spiders <span class="keyword">import</span> CrawlSpider, Rule</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UcasSpider</span><span class="params">(CrawlSpider)</span>:</span></span><br><span class="line">    name = <span class="string">'ucas'</span></span><br><span class="line">    allowed_domains = [<span class="string">'ucas.ac.cn'</span>]</span><br><span class="line">    start_urls = [<span class="string">'https://www.ucas.ac.cn/site/26'</span>]</span><br><span class="line">            </span><br><span class="line">    rules = (</span><br><span class="line">        Rule(LinkExtractor(allow=<span class="string">r'pn=\d+'</span>), callback=<span class="string">'parse_item'</span>, follow=<span class="literal">True</span>),</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_item</span><span class="params">(self, response)</span>:</span></span><br><span class="line"></span><br><span class="line">        data = response.xpath(<span class="string">'//div[@class="sc_q"]/p'</span>)</span><br><span class="line">        <span class="keyword">for</span> each_data <span class="keyword">in</span> data:</span><br><span class="line">            item = TeachAndResearchItem()</span><br><span class="line">            item[<span class="string">'title'</span>] = each_data.xpath(<span class="string">'./a/text()'</span>).extract()</span><br><span class="line">            item[<span class="string">'addr'</span>] = each_data.xpath(<span class="string">'./a/@href'</span>).extract()</span><br><span class="line">            item[<span class="string">'date'</span>] = each_data.xpath(<span class="string">'./span/text()'</span>).extract()</span><br><span class="line">            <span class="keyword">yield</span> item</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>爬虫</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>爬虫作业4</title>
    <url>/category/%E7%88%AC%E8%99%AB%E4%BD%9C%E4%B8%9A4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><p>1、改进例子程序：4-5-使用集合的交并计算相似性-2.py<br>要求：通过标点符号将文章分成多个句子，然后再使用该例子程序的方法。</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_ngram_list</span><span class="params">(input_list, ngram_num)</span>:</span></span><br><span class="line">    ngram_list = []</span><br><span class="line">    <span class="keyword">if</span> len(input_list) &lt;= ngram_num:</span><br><span class="line">        ngram_list.append(input_list)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> tmp <span class="keyword">in</span> zip(*[input_list[i:] <span class="keyword">for</span> i <span class="keyword">in</span> range(ngram_num)]):</span><br><span class="line">            tmp = <span class="string">""</span>.join(tmp)</span><br><span class="line">            ngram_list.append(tmp)</span><br><span class="line">    <span class="keyword">return</span> ngram_list</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 对比的文档我</span></span><br><span class="line">stop_words = {<span class="string">":"</span>, <span class="string">"的"</span>, <span class="string">"，"</span>, <span class="string">"”"</span>,<span class="string">"。"</span>}</span><br><span class="line">doc1 = <span class="string">"。。。我去吃饭。不去吃饭"</span></span><br><span class="line">doc2 = <span class="string">"我去吃饭。不去理发"</span></span><br><span class="line">doc1_temp = <span class="string">""</span></span><br><span class="line">doc2_temp = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">doc1_set = set()</span><br><span class="line">doc2_set = set()</span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">j = <span class="number">0</span></span><br><span class="line">flag1 = <span class="number">0</span>  <span class="comment">#flag=1判断前面的字符串加好了没</span></span><br><span class="line">flag2 = <span class="number">0</span>  <span class="comment">#flag=1判断前面的字符串加好了没</span></span><br><span class="line">ngram_num = <span class="number">3</span>  <span class="comment">#int(input("切分长度："))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#跳过前面的停用词</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(doc1)):</span><br><span class="line">    <span class="keyword">if</span> doc1[i] <span class="keyword">not</span> <span class="keyword">in</span> stop_words:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">while</span> i &lt; len(doc1):</span><br><span class="line">    <span class="keyword">if</span> doc1[i] <span class="keyword">not</span> <span class="keyword">in</span> stop_words:</span><br><span class="line">        doc1_temp += doc1[i]</span><br><span class="line">        flag1 = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> flag1 == <span class="number">1</span>:</span><br><span class="line">            wordslist1 = create_ngram_list(doc1_temp, ngram_num) <span class="comment"># 列表形式</span></span><br><span class="line">            <span class="comment">#print(wordslist1)</span></span><br><span class="line">            doc1_set |= set(wordslist1)</span><br><span class="line">            doc1_temp = <span class="string">""</span></span><br><span class="line">            flag1 = <span class="number">0</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> doc1[i<span class="number">-1</span>] <span class="keyword">not</span> <span class="keyword">in</span> stop_words <span class="keyword">and</span> flag1 == <span class="number">1</span>:</span><br><span class="line">    wordslist1 = create_ngram_list(doc1_temp, ngram_num) <span class="comment"># 列表形式</span></span><br><span class="line">    <span class="comment">#print(wordslist1)</span></span><br><span class="line">    doc1_set |= set(wordslist1)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment">#跳过前面的停用词</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(doc2)):</span><br><span class="line">    <span class="keyword">if</span> doc2[j] <span class="keyword">not</span> <span class="keyword">in</span> stop_words:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    j += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">while</span> j &lt; len(doc2):</span><br><span class="line">    <span class="keyword">if</span> doc2[j] <span class="keyword">not</span> <span class="keyword">in</span> stop_words:</span><br><span class="line">        doc2_temp += doc2[j]</span><br><span class="line">        flag2 = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> flag2 == <span class="number">1</span>:</span><br><span class="line">            wordslist2 = create_ngram_list(doc2_temp, ngram_num) <span class="comment"># 列表形式</span></span><br><span class="line">            print(wordslist2)</span><br><span class="line">            doc2_set |= set(wordslist2)</span><br><span class="line">            doc2_temp = <span class="string">""</span></span><br><span class="line">            flag2 = <span class="number">0</span></span><br><span class="line">    j += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> doc2[j<span class="number">-1</span>] <span class="keyword">not</span> <span class="keyword">in</span> stop_words <span class="keyword">and</span> flag2 == <span class="number">1</span>:</span><br><span class="line">    wordslist2 = create_ngram_list(doc2_temp, ngram_num) <span class="comment"># 列表形式</span></span><br><span class="line">    <span class="comment">#print(wordslist2)</span></span><br><span class="line">    doc2_set |= set(wordslist2)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">print(doc1_set)</span><br><span class="line">print(doc2_set)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"集合交："</span>,(doc1_set &amp; doc2_set))</span><br><span class="line">print(<span class="string">"集合并："</span>,(doc1_set | doc2_set))</span><br><span class="line"></span><br><span class="line">similar12 = len(doc1_set &amp; doc2_set) / len(doc1_set | doc2_set)</span><br><span class="line">print(<span class="string">"{:.2f}"</span>.format(similar12))</span><br></pre></td></tr></tbody></table></figure><p>2、根据<a href="https://www.ucas.ac.cn/site/26" target="_blank" rel="noopener">国科大教学科研网站</a>的内容，查找和关键字（比如“国科大、课题组，研究、计算机学院”）最接近的网页，输出网页的题目和链接。</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> jieba.analyse</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># dir = os.path.abspath('./download_html/')</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#def extract_href(href):</span></span><br><span class="line"><span class="comment">#    </span></span><br><span class="line"><span class="comment">#    work_path = os.path.join(dir, str(i)+'.')</span></span><br><span class="line"><span class="comment">#    </span></span><br><span class="line">init_set = {<span class="string">"国科大"</span>,<span class="string">"课题组"</span>,<span class="string">"研究"</span>,<span class="string">"计算机学院"</span>}</span><br><span class="line"><span class="comment">#print(type(init_set))</span></span><br><span class="line">max_var = <span class="number">0</span></span><br><span class="line">max_href = <span class="string">""</span></span><br><span class="line">max_title = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">headers = {</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36'</span>}</span><br><span class="line"></span><br><span class="line"><span class="comment">#爬取1-29页</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">30</span>):</span><br><span class="line">    url=<span class="string">"https://www.ucas.ac.cn/site/26?pn="</span> + str(i)</span><br><span class="line">    req=urllib.request.Request(url=url,headers=headers) </span><br><span class="line">    file=urllib.request.urlopen(req).read().decode(<span class="string">"utf-8"</span>, <span class="string">"ignore"</span>)</span><br><span class="line">    response = etree.HTML(file) </span><br><span class="line">    rows = response.xpath(<span class="string">'//div[@class="sc_q"]/p'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> rows:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># 找到每个链接和标题</span></span><br><span class="line">            href = row.xpath(<span class="string">'./a/@href'</span>)[<span class="number">0</span>]</span><br><span class="line">            title = row.xpath(<span class="string">'./a/@title'</span>)[<span class="number">0</span>]</span><br><span class="line">            print(title,<span class="string">" "</span>,href,<span class="string">"\n"</span>)</span><br><span class="line">        </span><br><span class="line">            <span class="comment"># 提取链接网址内容</span></span><br><span class="line">            url = href</span><br><span class="line">        </span><br><span class="line">            req=urllib.request.Request(url=url,headers=headers) </span><br><span class="line">        </span><br><span class="line">            file=urllib.request.urlopen(req).read().decode(<span class="string">"utf-8"</span>, <span class="string">"ignore"</span>)</span><br><span class="line">        </span><br><span class="line">            pat = <span class="string">'&lt;span style=".*?"&gt;(.*?)&lt;/span&gt;'</span></span><br><span class="line">            xx = re.compile(pat).findall(file)</span><br><span class="line">        </span><br><span class="line">            <span class="comment"># 提取关键词</span></span><br><span class="line">            keywords = jieba.analyse.textrank(<span class="string">" "</span>.join(xx), topK=<span class="number">20</span>, allowPOS=(<span class="string">'n'</span>, <span class="string">'vn'</span>, <span class="string">'v'</span>))</span><br><span class="line">            keywords_set = set(keywords)</span><br><span class="line">        </span><br><span class="line">            <span class="comment">#print(keywords_set)</span></span><br><span class="line">            print(<span class="string">"集合交："</span>,(init_set &amp; keywords_set))</span><br><span class="line">            print(<span class="string">"集合并："</span>,(init_set | keywords_set))</span><br><span class="line"></span><br><span class="line">            similar12 = len(init_set &amp; keywords_set) / len(init_set | keywords_set)</span><br><span class="line">            print(<span class="string">"{:.2f}"</span>.format(similar12))</span><br><span class="line">            print(<span class="string">"\n\n"</span>)</span><br><span class="line">            <span class="comment"># 得到最大分数的就最相似的，存入字典</span></span><br><span class="line">            <span class="keyword">if</span> similar12 &gt; max_var:</span><br><span class="line">                max_var = similar12</span><br><span class="line">                max_href = href</span><br><span class="line">                max_title = title</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">            </span><br><span class="line">print(<span class="string">"最相似标题和链接分别为："</span>,max_title,<span class="string">"  "</span>,max_href)</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>爬虫</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>牛客网</title>
    <url>/category/%E7%89%9B%E5%AE%A2%E7%BD%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>刷题</category>
        <category>牛客网</category>
      </categories>
      <tags>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>穴位</title>
    <url>/category/%E7%A9%B4%E4%BD%8D/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​</p><p>​<a id="more"></a></p><h3 id="太冲-："><a href="#太冲-：" class="headerlink" title="太冲 ："></a>太冲 ：</h3><ul><li>肝经，肝郁化火，睡不着</li><li>直刺0.5-0.8</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/04/Ucm6q5DFlgGXIsJ.png" alt="image.png"></p><h3 id="中封：凹陷处"><a href="#中封：凹陷处" class="headerlink" title="中封：凹陷处"></a>中封：凹陷处</h3><ul><li>肝经，肝郁化火，睡不着</li><li>直刺0.5-0.8</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/04/CsYdLA1BEoXicMy.jpg" alt="3fd4d4dec73bc770758f0fe0724d31c.jpg"></p><h3 id="行间："><a href="#行间：" class="headerlink" title="行间："></a>行间：</h3><ul><li>肝经，肝郁化火，睡不着</li><li>斜向下刺0.5-1,30度角</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/04/eWzsuwS9rdCmvRM.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/04/t9S3h2KLqOx8FVe.png" alt="image.png"></p><h3 id="内关："><a href="#内关：" class="headerlink" title="内关："></a>内关：</h3><ul><li><p>晕车/止吐：告诉自己我不要吐，三次</p></li><li><p>催吐：告诉自己快吐，三次</p></li><li><p>心经，心火旺</p></li><li><p>直刺0.5-1</p></li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/04/zG1RyldFLT2qf9E.png" alt="image.png"></p><h3 id="太白"><a href="#太白" class="headerlink" title="太白"></a>太白</h3><ul><li>脾经</li><li>立夏养脾祛湿</li><li>直刺0.5-1</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/05/CGm7dLMsNceq1a4.jpg" alt="1735d08d42ab13e6afdb82eed0922b9.jpg" style="zoom:67%"><h3 id="合谷"><a href="#合谷" class="headerlink" title="合谷"></a>合谷</h3><ul><li>手阳明大肠经</li><li>手轻握拳，直刺0.5-1</li><li>各种痛</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/qzYCFmJlAKNcdUv.png" alt="image.png"></p><h3 id="按摩手法"><a href="#按摩手法" class="headerlink" title="按摩手法"></a>按摩手法</h3><h4 id="八邪"><a href="#八邪" class="headerlink" title="八邪"></a>八邪</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/NcB2Fgpv14DbLEr.png" alt="image.png"></p><h4 id="带脉：绕着神阙（肚脐眼）一圈"><a href="#带脉：绕着神阙（肚脐眼）一圈" class="headerlink" title="带脉：绕着神阙（肚脐眼）一圈"></a>带脉：绕着神阙（肚脐眼）一圈</h4><h4 id="肝经"><a href="#肝经" class="headerlink" title="肝经"></a>肝经</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/mYnE9lsRtkwN7Bz.png" alt="image.png"></p><h4 id="胆经"><a href="#胆经" class="headerlink" title="胆经"></a>胆经</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/fsZlx3oDTBjUnLa.png" alt="image.png"></p><h3 id="足三里"><a href="#足三里" class="headerlink" title="足三里"></a>足三里</h3><ul><li>先找到犊鼻，在外膝眼位置凹陷处</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/Gvi2uZSsKMFyEUC.jpg" alt="ed69b05a670683ae45eca6548c2e968.jpg" style="zoom:33%"><ul><li><p>下3寸，也就是足三里</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/07/vP4dJoLwX5mfCOG.png" alt="image.png" style="zoom:50%"></li></ul><h4 id="三阴交"><a href="#三阴交" class="headerlink" title="三阴交"></a>三阴交</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://img0.baidu.com/it/u=2767472800,3001328860&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=463&amp;h=282" alt="img"></p><h4 id="关元"><a href="#关元" class="headerlink" title="关元"></a>关元</h4><ul><li><p>从脐下开始，沿中线向下触摸，碰到的第1个坚硬的部分就是耻骨联合的上缘</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/21/nAJqTmseYFlZOWu.jpg" alt="f900281323f311411540d5ff537c606.jpg"></p></li></ul><h4 id="中脘"><a href="#中脘" class="headerlink" title="中脘"></a>中脘</h4><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/pRI3oV1vAgK9dUH.jpg" alt="473afd2e386f745bb1ccab1b8dc09ae.jpg" style="zoom:50%"><h4 id="涌泉"><a href="#涌泉" class="headerlink" title="涌泉"></a>涌泉</h4><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/DFZyXjpSLYPf1K4.jpg" alt="ebf753da5829a108acbe6b10e3eebc5.jpg" style="zoom:50%"><h4 id="肝俞"><a href="#肝俞" class="headerlink" title="肝俞"></a>肝俞</h4><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/25/UezymdEN6LQ3Gba.jpg" alt="cdf1abab6e9c2cc5275aef6ac58785c.jpg" style="zoom:50%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/25/UXpCAqBzDrRhTxY.png" alt="image.png" style="zoom:33%"><h4 id="肝气郁结"><a href="#肝气郁结" class="headerlink" title="肝气郁结"></a>肝气郁结</h4><ul><li><p>《天韵五行乐》</p></li><li><p>地筋：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/25/RJtVwXpckZirl1F.png" alt="image.png" style="zoom:33%"></li><li><p>玉枕：后发际正中直上2.5寸，旁开1.3寸，约平枕外粗隆上缘的凹陷处。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/25/Cy9qJAMEIvHT86c.png" alt="image.png"></p></li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/25/mQoRl3sYA7IEO6F.png" alt="image.png"></p><h3 id="推天河水"><a href="#推天河水" class="headerlink" title="推天河水"></a>推天河水</h3><p>男左女右</p><p>开天河：手指按到外关穴，揉一揉个两三下，然后推到四指末梢，中指往前推能揉下劳宫穴</p><p>间使穴一揉，天河水散掉</p><h3 id="外关穴"><a href="#外关穴" class="headerlink" title="外关穴"></a>外关穴</h3><p>手背2寸，3横指</p><h3 id="间使穴"><a href="#间使穴" class="headerlink" title="间使穴"></a>间使穴</h3><p>手腕内侧3寸，4横指</p><h3 id="长强穴"><a href="#长强穴" class="headerlink" title="长强穴"></a>长强穴</h3><ul><li>尾骨和肛门的中点</li></ul><h3 id="福留穴"><a href="#福留穴" class="headerlink" title="福留穴"></a>福留穴</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/06/19/48RuVszEigfcxIQ.png" alt="image.png"></p><h3 id="天突"><a href="#天突" class="headerlink" title="天突"></a>天突</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:\Users\cfhy\AppData\Roaming\Typora\typora-user-images\image-20220619202223054.png" alt="image-20220619202223054" style="zoom:50%"><h3 id="云门"><a href="#云门" class="headerlink" title="云门"></a>云门</h3><ul><li>正坐位，用手叉腰，当锁骨外端下缘出现的三角形凹窝的中点处</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/06/19/msOS8k9RZQfbz5p.png" alt="image.png" style="zoom:50%"><h3 id="中府"><a href="#中府" class="headerlink" title="中府"></a>中府</h3><ul><li>云门下一寸，按压有酸胀感</li></ul><p>​ <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/06/19/32DOTrxoWzjVEuk.png" alt="image.png"></p><h2 id="肝火旺，入睡难：肩井穴、太冲穴以及太溪穴。"><a href="#肝火旺，入睡难：肩井穴、太冲穴以及太溪穴。" class="headerlink" title="肝火旺，入睡难：肩井穴、太冲穴以及太溪穴。"></a>肝火旺，入睡难：肩井穴、太冲穴以及太溪穴。</h2><h3 id="耳鸣"><a href="#耳鸣" class="headerlink" title="耳鸣"></a>耳鸣</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/ZIaEruoXVsS3iQ2.png" alt="image.png" style="zoom:33%"><p>肾俞：</p><p>志室：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/ngXvmdtbuk3I7pG.png" alt="image.png" style="zoom:50%"><p>京门：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/OUobiAkyEl7Mr9V.png" alt="image.png"></p><p>复溜：复溜位于小腿内侧，太溪穴直上2寸</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/07/14/5t1BaFvxU6XMYEg.png" alt="image.png" style="zoom:50%"><p>肠关：小大便急，找不到厕所需要拖延时间/腹疼，手腕上三寸</p><ul><li><p>腹疼别按这个，很容易催吐了</p></li><li><p>意念：想三次，告诉自己要忍住</p></li></ul><p>肝关：肝脏疼，肠关上三寸</p><p>心关：心脏病，肝关上三寸</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/08/18/vfxSPs54nVtap3F.png" alt="image.png" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/08/18/lCWHbmqnjxdgOGQ.png" alt="image.png" style="zoom:50%"><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>中医</category>
      </categories>
      <tags>
        <tag>中医</tag>
      </tags>
  </entry>
  <entry>
    <title>深度学习4个实验</title>
    <url>/category/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A04%E4%B8%AA%E5%AE%9E%E9%AA%8C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="mnist手写数字识别"><a href="#mnist手写数字识别" class="headerlink" title="mnist手写数字识别"></a>mnist手写数字识别</h3><h4 id="model-py"><a href="#model-py" class="headerlink" title="model.py"></a>model.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> Conv2d, MaxPool2d, Flatten, Linear, Sequential, ReLU, Dropout, Softmax</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model1</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">1</span>, <span class="number">32</span>, <span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">3136</span>, <span class="number">128</span>),</span><br><span class="line">            Linear(<span class="number">128</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment">#LeNet5</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model2</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">1</span>, <span class="number">6</span>, <span class="number">5</span>, padding=<span class="number">2</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">            Conv2d(<span class="number">6</span>, <span class="number">16</span>, <span class="number">5</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Linear(<span class="number">400</span>, <span class="number">120</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            Linear(<span class="number">120</span>, <span class="number">84</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            Linear(<span class="number">84</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment">#dropout</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model3</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, padding=<span class="number">2</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">            Dropout(<span class="number">0.8</span>),</span><br><span class="line"></span><br><span class="line">            Conv2d(<span class="number">6</span>, <span class="number">16</span>, <span class="number">5</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>),</span><br><span class="line">            Dropout(<span class="number">0.8</span>),</span><br><span class="line"></span><br><span class="line">            Flatten(),</span><br><span class="line">            Dropout(<span class="number">0.8</span>),</span><br><span class="line"></span><br><span class="line">            Linear(<span class="number">400</span>, <span class="number">120</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line"></span><br><span class="line">            Linear(<span class="number">120</span>, <span class="number">84</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            Dropout(<span class="number">0.5</span>),</span><br><span class="line"></span><br><span class="line">            Linear(<span class="number">84</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model4</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.model1 = Sequential(</span><br><span class="line">            Conv2d(<span class="number">1</span>, <span class="number">32</span>, <span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">            Dropout(<span class="number">0.8</span>),</span><br><span class="line"></span><br><span class="line">            Conv2d(<span class="number">32</span>, <span class="number">64</span>, <span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">            Dropout(<span class="number">0.8</span>),</span><br><span class="line"></span><br><span class="line">            Conv2d(<span class="number">64</span>, <span class="number">128</span>, <span class="number">3</span>, padding=<span class="number">1</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            MaxPool2d(<span class="number">2</span>, <span class="number">2</span>),</span><br><span class="line">            Flatten(),</span><br><span class="line">            Dropout(<span class="number">0.8</span>),</span><br><span class="line"></span><br><span class="line">            Linear(<span class="number">1152</span>, <span class="number">625</span>),</span><br><span class="line">            ReLU(),</span><br><span class="line">            Dropout(<span class="number">0.5</span>),</span><br><span class="line"></span><br><span class="line">            Linear(<span class="number">625</span>, <span class="number">10</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model1(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    model = Model4()</span><br><span class="line">    input = torch.ones(<span class="number">64</span>, <span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>)</span><br><span class="line">    output = model(input)</span><br><span class="line">    print(output.shape)</span><br></pre></td></tr></tbody></table></figure><h4 id="train-py"><a href="#train-py" class="headerlink" title="train.py"></a>train.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">from</span> model <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment">#网络模型、数据(输入、标注)、损失函数 可以用.cuda()----&gt;使用gpu加速</span></span><br><span class="line"><span class="comment">#训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#定义训练的设备</span></span><br><span class="line"><span class="comment">#device = torch.device("cpu")</span></span><br><span class="line">device = torch.device(<span class="string">"cuda"</span>)</span><br><span class="line"></span><br><span class="line">transfrom = transforms.Compose([transforms.ToTensor(),</span><br><span class="line">                                transforms.Normalize([<span class="number">0.5</span>, ], [<span class="number">0.5</span>, ])])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 准备数据集</span></span><br><span class="line">train_set = torchvision.datasets.MNIST(<span class="string">"../mnist_dataset"</span>, train=<span class="literal">True</span>, transform=transfrom,</span><br><span class="line">                                       download=<span class="literal">True</span>)</span><br><span class="line">test_set = torchvision.datasets.MNIST(<span class="string">"../mnist_dataset"</span>, train=<span class="literal">False</span>, transform=transfrom,</span><br><span class="line">                                        download=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 长度</span></span><br><span class="line">train_len = len(train_set)</span><br><span class="line">test_len = len(test_set)</span><br><span class="line">print(<span class="string">"训练集的长度：{}"</span>.format(train_len))</span><br><span class="line">print(<span class="string">"测试集的长度：{}"</span>.format(test_len))</span><br><span class="line"></span><br><span class="line"><span class="comment">#利用DataLoader加载数据集</span></span><br><span class="line">train_dataloader = DataLoader(train_set, batch_size=<span class="number">64</span>)</span><br><span class="line">test_dataloader = DataLoader(test_set, batch_size=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#搭建模型</span></span><br><span class="line">model = Model4()</span><br><span class="line">model = model.to(device)</span><br><span class="line"></span><br><span class="line"><span class="comment"># #加载已训练的模型</span></span><br><span class="line"><span class="comment"># model = torch.load("mnist_model4_0.9942.pth")      #to-do</span></span><br><span class="line"><span class="comment"># #print(model)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#损失函数</span></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">loss_fn = loss_fn.to(device)</span><br><span class="line"></span><br><span class="line"><span class="comment">#优化器</span></span><br><span class="line"><span class="comment">#learning_rate = 0.01</span></span><br><span class="line"><span class="comment">#1e-2 = 1*(10)^(-2)</span></span><br><span class="line">learning_rate = <span class="number">1e-4</span>  <span class="comment">#to-do</span></span><br><span class="line">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置训练网络的一些参数</span></span><br><span class="line"><span class="comment">#记录训练的次数</span></span><br><span class="line">total_train_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录测试的次数</span></span><br><span class="line">total_test_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录训练的轮数</span></span><br><span class="line">epoch = <span class="number">300</span>  <span class="comment"># to-do</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加tensorboard</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"../log_train"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#训练步骤开始</span></span><br><span class="line">start_time = time.time()</span><br><span class="line">model.train()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line">    print(<span class="string">"-------------第{}轮训练开始-------------"</span>.format(i+<span class="number">1</span>))</span><br><span class="line">    total_train_true_num = <span class="number">0</span></span><br><span class="line">    <span class="comment">#训练步骤开始</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> train_dataloader:</span><br><span class="line">        imgs, targets = data</span><br><span class="line">        imgs = imgs.to(device)</span><br><span class="line">        <span class="comment">#print(imgs.shape)</span></span><br><span class="line">        targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">        outputs = model(imgs)</span><br><span class="line">        <span class="comment">#print(outputs.shape)</span></span><br><span class="line"></span><br><span class="line">        loss = loss_fn(outputs, targets)</span><br><span class="line"></span><br><span class="line">        train_true_num = (outputs.argmax(<span class="number">1</span>) == targets).sum()</span><br><span class="line">        total_train_true_num += train_true_num</span><br><span class="line"></span><br><span class="line">        <span class="comment">#优化器优化模型</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> total_train_step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            end_time = time.time()</span><br><span class="line">            print(end_time - start_time)</span><br><span class="line">            print(<span class="string">"训练次数：{}, loss：{}"</span>.format(total_train_step, loss.item()))</span><br><span class="line">            writer.add_scalar(<span class="string">"train_loss"</span>, loss.item(), total_train_step)</span><br><span class="line">        total_train_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    total_train_accuracy = total_train_true_num / train_len</span><br><span class="line"></span><br><span class="line">    <span class="comment">#测试步骤开始</span></span><br><span class="line">    model.eval()</span><br><span class="line">    total_test_loss = <span class="number">0</span></span><br><span class="line">    total_test_true_num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> test_dataloader:</span><br><span class="line">            imgs, targets = data</span><br><span class="line">            imgs = imgs.to(device)</span><br><span class="line">            targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">            outputs = model(imgs)</span><br><span class="line">            loss = loss_fn(outputs, targets)</span><br><span class="line">            total_test_loss += loss.item()</span><br><span class="line">            test_true_num = (outputs.argmax(<span class="number">1</span>)==targets).sum()</span><br><span class="line">            total_test_true_num += test_true_num</span><br><span class="line"></span><br><span class="line">    total_test_accuracy = total_test_true_num / test_len</span><br><span class="line">    print(<span class="string">"整个训练集上的正确率：{}，整个测试集上的loss：{}，整个测试集上的正确率：{}"</span>.format(total_train_accuracy, total_test_loss, total_test_accuracy))</span><br><span class="line">    writer.add_scalar(<span class="string">"test_loss"</span>, total_test_loss, total_test_step)</span><br><span class="line">    writer.add_scalar(<span class="string">"test_accuracy"</span>, total_test_accuracy, total_test_step)</span><br><span class="line">    total_test_step += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span>(total_train_accuracy == <span class="number">1.0</span> <span class="keyword">and</span> total_test_accuracy &gt; <span class="number">0.9940</span>):</span><br><span class="line">        torch.save(model, <span class="string">"mnist_model4_{}.pth"</span>.format(i))</span><br><span class="line">    <span class="comment">#torch.save(tudui.state_dict(), "tudui_{}.pth".format(i))</span></span><br><span class="line">    print(<span class="string">"模型已保存"</span>)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><h3 id="猫狗分类"><a href="#猫狗分类" class="headerlink" title="猫狗分类"></a>猫狗分类</h3><h4 id="get-data-py"><a href="#get-data-py" class="headerlink" title="get_data.py"></a>get_data.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">### 首先将图片分为猫狗图片</span></span><br><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#数据集目录</span></span><br><span class="line">path = <span class="string">"train and test"</span></span><br><span class="line"><span class="comment">#训练集目录</span></span><br><span class="line">train_path = os.path.join(path, <span class="string">"train"</span>)</span><br><span class="line"><span class="comment">#测试集目录</span></span><br><span class="line">test_path = os.path.join(path, <span class="string">"test"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将某类图片移动到该类的文件夹下</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">img_to_file</span><span class="params">(temp_path)</span>:</span></span><br><span class="line">    imgs_path = os.path.join(path, <span class="string">"*.jpg"</span>)</span><br><span class="line">    print(<span class="string">"共：{}张图片"</span>.format(len(glob.glob(imgs_path))))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#如果没有dog类和cat类文件夹，则新建</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(os.path.join(temp_path,<span class="string">"dog"</span>)):</span><br><span class="line">            os.makedirs(os.path.join(temp_path,<span class="string">"dog"</span>))</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(os.path.join(temp_path,<span class="string">"cat"</span>)):</span><br><span class="line">            os.makedirs(os.path.join(temp_path,<span class="string">"cat"</span>))</span><br><span class="line"></span><br><span class="line">    print(<span class="string">"=========开始移动图片============"</span>)</span><br><span class="line">    <span class="comment">#通过glob遍历到所有的.jpg文件</span></span><br><span class="line">    <span class="keyword">for</span> img_path <span class="keyword">in</span> glob.glob(imgs_path):</span><br><span class="line">        <span class="comment">#print(img_path)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#使用/划分 得到的是一个列表</span></span><br><span class="line">        img = img_path.strip(<span class="string">"\n"</span>).replace(<span class="string">"\\"</span>,<span class="string">"/"</span>).split(<span class="string">"/"</span>)</span><br><span class="line">        print(img)</span><br><span class="line">        <span class="comment">#将图片移动到指定的文件夹中</span></span><br><span class="line">        <span class="keyword">if</span> img[<span class="number">-1</span>].split(<span class="string">"."</span>)[<span class="number">0</span>] == <span class="string">"cat"</span>:</span><br><span class="line">            shutil.move(img_path, os.path.join(temp_path, <span class="string">"cat"</span>))</span><br><span class="line">        <span class="keyword">if</span> img[<span class="number">-1</span>].split(<span class="string">"."</span>)[<span class="number">0</span>] == <span class="string">"dog"</span>:</span><br><span class="line">            shutil.move(img_path, os.path.join(temp_path, <span class="string">"dog"</span>))</span><br><span class="line">    print(<span class="string">"=========移动图片完成============"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#然后从cat中和dog中分别抽取1250张，共2500张图片作为测试集</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">split_train_test</span><span class="params">(fileDir,tarDir)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(tarDir):</span><br><span class="line">            os.makedirs(tarDir)</span><br><span class="line"></span><br><span class="line">        pathDir = os.listdir(fileDir)    <span class="comment">#取图片的原始路径</span></span><br><span class="line">        filenumber=len(pathDir)</span><br><span class="line">        rate=<span class="number">0.1</span>    <span class="comment">#自定义抽取图片的比例，比方说12500张抽1250张，那就是0.1</span></span><br><span class="line">        picknumber=int(filenumber*rate) <span class="comment">#按照rate比例从文件夹中取一定数量图片</span></span><br><span class="line">        sample = random.sample(pathDir, picknumber)  <span class="comment">#随机选取picknumber数量的样本图片</span></span><br><span class="line">        <span class="comment">#print(sample)</span></span><br><span class="line"></span><br><span class="line">        print(<span class="string">"=========开始移动图片============"</span>)</span><br><span class="line">        <span class="keyword">for</span> name <span class="keyword">in</span> sample:</span><br><span class="line">                shutil.move(os.path.join(fileDir, name), tarDir)</span><br><span class="line">        print(<span class="string">"=========移动图片完成============"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># img_to_file(train_path) #划分cat和dog</span></span><br><span class="line"><span class="comment"># print("训练集猫共：{}张图片".format(len(glob.glob(os.path.join(train_path,"cat/*.jpg")))))</span></span><br><span class="line"><span class="comment"># print("训练集狗共：{}张图片".format(len(glob.glob(os.path.join(train_path,"dog/*.jpg")))))</span></span><br><span class="line"></span><br><span class="line">split_train_test(os.path.join(train_path,<span class="string">"cat"</span>), os.path.join(test_path,<span class="string">"cat"</span>))</span><br><span class="line">split_train_test(os.path.join(train_path,<span class="string">"dog"</span>), os.path.join(test_path,<span class="string">"dog"</span>))</span><br><span class="line">print(<span class="string">"测试集猫共：{}张图片"</span>.format(len(glob.glob(os.path.join(test_path,<span class="string">"cat/*.jpg"</span>)))))    <span class="comment">#从train中拿出1250张cat</span></span><br><span class="line">print(<span class="string">"测试集狗共：{}张图片"</span>.format(len(glob.glob(os.path.join(test_path,<span class="string">"dog/*.jpg"</span>)))))    <span class="comment">#从train中拿出1250张dog</span></span><br></pre></td></tr></tbody></table></figure><h4 id="train-py-1"><a href="#train-py-1" class="headerlink" title="train.py"></a>train.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"><span class="comment">#网络模型、数据(输入、标注)、损失函数 可以用.cuda()----&gt;使用gpu加速</span></span><br><span class="line"><span class="comment">#训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line">torch.manual_seed(<span class="number">0</span>)</span><br><span class="line">torch.cuda.manual_seed_all(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">torch.backends.cudnn.deterministic = <span class="literal">True</span></span><br><span class="line"><span class="comment">#torch.backends.cudnn.benchmark = False</span></span><br><span class="line">torch.backends.cudnn.benchmark = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train_path = <span class="string">"train and test/train"</span></span><br><span class="line">test_path = <span class="string">"train and test/test"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#定义训练的设备</span></span><br><span class="line"><span class="comment">#device = torch.device("cpu")</span></span><br><span class="line">device = torch.device(<span class="string">"cuda"</span>)</span><br><span class="line"></span><br><span class="line">transform = transforms.Compose([transforms.Resize(<span class="number">224</span>),</span><br><span class="line">                                transforms.CenterCrop(<span class="number">224</span>),</span><br><span class="line">                                transforms.ToTensor(),</span><br><span class="line">                                transforms.Normalize([<span class="number">0.5</span>, ], [<span class="number">0.5</span>, ])])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用torchvision.datasets.ImageFolder读取数据集指定train和test文件</span></span><br><span class="line">train_data = torchvision.datasets.ImageFolder(train_path, transform=transform)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">test_data = torchvision.datasets.ImageFolder(test_path, transform=transform)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(train_data.classes)  # 根据分的文件夹的名字来确定的类别</span></span><br><span class="line"><span class="comment"># print(train_data.class_to_idx)  # 按顺序为这些类别定义索引为0,1...</span></span><br><span class="line"><span class="comment"># print(train_data.imgs)  # 返回从所有文件夹中得到的图片的路径以及其类别</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(test_data.classes)  # 根据分的文件夹的名字来确定的类别</span></span><br><span class="line"><span class="comment"># print(test_data.class_to_idx)  # 按顺序为这些类别定义索引为0,1...</span></span><br><span class="line"><span class="comment"># print(test_data.imgs)  # 返回从所有文件夹中得到的图片的路径以及其类别</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 长度</span></span><br><span class="line">train_len = len(train_data)</span><br><span class="line">test_len = len(test_data)</span><br><span class="line">print(<span class="string">"训练集的长度：{}"</span>.format(train_len))</span><br><span class="line">print(<span class="string">"测试集的长度：{}"</span>.format(test_len))</span><br><span class="line"></span><br><span class="line"><span class="comment">#利用DataLoader加载数据集</span></span><br><span class="line">train_loader = DataLoader(train_data, batch_size=<span class="number">64</span>, shuffle=<span class="literal">True</span>)</span><br><span class="line">test_loader = DataLoader(test_data, batch_size=<span class="number">64</span>, shuffle=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># #搭建模型</span></span><br><span class="line"><span class="comment"># model =torchvision.models.resnet18(pretrained=True)</span></span><br><span class="line"><span class="comment"># #model.add_module("add_linear", nn.Linear(1000, 2))</span></span><br><span class="line"><span class="comment"># model.fc = nn.Linear(512, 2)</span></span><br><span class="line"><span class="comment"># model = model.to(device)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#加载已训练的模型</span></span><br><span class="line">model = torch.load(<span class="string">"resnet18_catdog_0.9896.pth"</span>)      <span class="comment">#to-do</span></span><br><span class="line"><span class="comment">#print(model)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#损失函数</span></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">loss_fn = loss_fn.to(device)</span><br><span class="line"></span><br><span class="line"><span class="comment">#优化器</span></span><br><span class="line"><span class="comment">#learning_rate = 0.01</span></span><br><span class="line"><span class="comment">#1e-2 = 1*(10)^(-2)</span></span><br><span class="line">learning_rate = <span class="number">1e-6</span>  <span class="comment">#to-do</span></span><br><span class="line">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置训练网络的一些参数</span></span><br><span class="line"><span class="comment">#记录训练的次数</span></span><br><span class="line">total_train_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录测试的次数</span></span><br><span class="line">total_test_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录训练的轮数</span></span><br><span class="line">epoch = <span class="number">300</span>  <span class="comment"># to-do</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加tensorboard</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"log_train"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line"><span class="comment">#训练步骤开始</span></span><br><span class="line">start_time = time.time()</span><br><span class="line">model.train()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(epoch):</span><br><span class="line">    print(<span class="string">"-------------第{}轮训练开始-------------"</span>.format(i+<span class="number">1</span>))</span><br><span class="line">    total_train_true_num = <span class="number">0</span></span><br><span class="line">    <span class="comment">#训练步骤开始</span></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> train_loader:</span><br><span class="line">        imgs, targets = data</span><br><span class="line">        imgs = imgs.to(device)</span><br><span class="line">        <span class="comment">#print(imgs.shape)</span></span><br><span class="line">        targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">        outputs = model(imgs)</span><br><span class="line">        <span class="comment">#print(outputs.shape)</span></span><br><span class="line"></span><br><span class="line">        loss = loss_fn(outputs, targets)</span><br><span class="line"></span><br><span class="line">        train_true_num = (outputs.argmax(<span class="number">1</span>) == targets).sum()</span><br><span class="line">        total_train_true_num += train_true_num</span><br><span class="line"></span><br><span class="line">        <span class="comment">#优化器优化模型</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> total_train_step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">            end_time = time.time()</span><br><span class="line">            print(end_time - start_time)</span><br><span class="line">            print(<span class="string">"训练次数：{}, loss：{}"</span>.format(total_train_step, loss.item()))</span><br><span class="line">            writer.add_scalar(<span class="string">"train_loss"</span>, loss.item(), total_train_step)</span><br><span class="line">        total_train_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    total_train_accuracy = total_train_true_num / train_len</span><br><span class="line"></span><br><span class="line">    <span class="comment">#测试步骤开始</span></span><br><span class="line">    model.eval()</span><br><span class="line">    total_test_loss = <span class="number">0</span></span><br><span class="line">    total_test_true_num = <span class="number">0</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> test_loader:</span><br><span class="line">            imgs, targets = data</span><br><span class="line">            imgs = imgs.to(device)</span><br><span class="line">            targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">            outputs = model(imgs)</span><br><span class="line">            loss = loss_fn(outputs, targets)</span><br><span class="line">            total_test_loss += loss.item()</span><br><span class="line">            test_true_num = (outputs.argmax(<span class="number">1</span>)==targets).sum()</span><br><span class="line">            total_test_true_num += test_true_num</span><br><span class="line"></span><br><span class="line">    total_test_accuracy = total_test_true_num / test_len</span><br><span class="line">    print(<span class="string">"整个训练集上的正确率：{}，整个测试集上的loss：{}，整个测试集上的正确率：{}"</span>.format(total_train_accuracy, total_test_loss, total_test_accuracy))</span><br><span class="line">    writer.add_scalar(<span class="string">"test_loss"</span>, total_test_loss, total_test_step)</span><br><span class="line">    writer.add_scalar(<span class="string">"test_accuracy"</span>, total_test_accuracy, total_test_step)</span><br><span class="line">    total_test_step += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span>(total_train_accuracy &gt; <span class="number">0.9999</span> <span class="keyword">and</span> total_test_accuracy &gt; <span class="number">0.9896</span>):</span><br><span class="line">        torch.save(model, <span class="string">"resnet18_catdog_{}.pth"</span>.format(i))</span><br><span class="line">    <span class="comment">#torch.save(tudui.state_dict(), "tudui_{}.pth".format(i))</span></span><br><span class="line">    print(<span class="string">"模型已保存"</span>)</span><br><span class="line"></span><br><span class="line">writer.close()</span><br></pre></td></tr></tbody></table></figure><h4 id="test-py"><a href="#test-py" class="headerlink" title="test.py"></a>test.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms</span><br><span class="line"></span><br><span class="line">imgs_name = os.listdir(<span class="string">"my_imgs"</span>)</span><br><span class="line"><span class="comment">#print(imgs_name)</span></span><br><span class="line"></span><br><span class="line">model = torch.load(<span class="string">"resnet18_catdog_0.9896.pth"</span>, map_location=torch.device(<span class="string">"cpu"</span>))</span><br><span class="line"><span class="comment">#print(model)</span></span><br><span class="line"></span><br><span class="line">transform = transforms.Compose([transforms.Resize(<span class="number">224</span>),</span><br><span class="line">                                transforms.CenterCrop(<span class="number">224</span>),</span><br><span class="line">                                transforms.ToTensor(),</span><br><span class="line">                                transforms.Normalize([<span class="number">0.5</span>, ], [<span class="number">0.5</span>, ])])</span><br><span class="line"></span><br><span class="line">model.eval()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(imgs_name)):</span><br><span class="line">    img_name = imgs_name[i]</span><br><span class="line">    img_path = os.path.join(<span class="string">"my_imgs"</span>, img_name)</span><br><span class="line"></span><br><span class="line">    img_PIL = Image.open(img_path)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 有的图片可能是四通道，所以必须要转换成rgb</span></span><br><span class="line">    img_PIL = img_PIL.convert(<span class="string">"RGB"</span>)</span><br><span class="line">    <span class="comment">#print(img_PIL)</span></span><br><span class="line"></span><br><span class="line">    img = transform(img_PIL)</span><br><span class="line">    <span class="comment">#print(img)</span></span><br><span class="line">    <span class="comment">#print(img.shape)</span></span><br><span class="line"></span><br><span class="line">    img = torch.reshape(img, (<span class="number">-1</span>, <span class="number">3</span>, <span class="number">224</span>, <span class="number">224</span>))</span><br><span class="line">    <span class="comment">#print(img.shape)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        output = model(img)</span><br><span class="line">    <span class="comment">#print(output)</span></span><br><span class="line">    <span class="keyword">if</span> output.argmax(<span class="number">1</span>).item() == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">"图片名称为：{}, 识别结果为：cat"</span>.format(img_name))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"图片名称为：{}, 识别结果为：dog"</span>.format(img_name))</span><br></pre></td></tr></tbody></table></figure><h3 id="自动写诗"><a href="#自动写诗" class="headerlink" title="自动写诗"></a>自动写诗</h3><h4 id="model-py-1"><a href="#model-py-1" class="headerlink" title="model,.py"></a>model,.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PoetryModel</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, vocab_size, embedding_dim, hidden_dim)</span>:</span></span><br><span class="line">        super(PoetryModel, self).__init__()</span><br><span class="line">        self.hidden_dim = hidden_dim</span><br><span class="line">        self.embedding = nn.Embedding(vocab_size, embedding_dim)</span><br><span class="line">        self.lstm = nn.LSTM(embedding_dim, self.hidden_dim, num_layers=<span class="number">3</span>)</span><br><span class="line">        self.classifier = nn.Sequential(</span><br><span class="line">            nn.Linear(self.hidden_dim, <span class="number">512</span>),</span><br><span class="line">            nn.ReLU(inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Linear(<span class="number">512</span>, <span class="number">2048</span>),</span><br><span class="line">            nn.ReLU(inplace=<span class="literal">True</span>),</span><br><span class="line">            nn.Linear(<span class="number">2048</span>, vocab_size)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, input, hidden=None)</span>:</span></span><br><span class="line">        seq_len, batch_size = input.size()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> hidden <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            h_0 = input.data.new(<span class="number">3</span>, batch_size, self.hidden_dim).fill_(<span class="number">0</span>).float()</span><br><span class="line">            c_0 = input.data.new(<span class="number">3</span>, batch_size, self.hidden_dim).fill_(<span class="number">0</span>).float()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            h_0, c_0 = hidden</span><br><span class="line"></span><br><span class="line">        embeds = self.embedding(input)</span><br><span class="line">        output, hidden = self.lstm(embeds, (h_0, c_0))</span><br><span class="line">        output = self.classifier(output.view(seq_len * batch_size, <span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> output, hidden</span><br></pre></td></tr></tbody></table></figure><h4 id="train-py-2"><a href="#train-py-2" class="headerlink" title="train.py"></a>train.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.optim <span class="keyword">as</span> optim</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> torch.optim.lr_scheduler <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> model <span class="keyword">import</span> PoetryModel</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义设备</span></span><br><span class="line">device = torch.device(<span class="string">"cuda"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读入预处理的数据</span></span><br><span class="line">datas = np.load(<span class="string">"./tang.npz"</span>, allow_pickle=<span class="literal">True</span>)</span><br><span class="line">data = datas[<span class="string">'data'</span>]</span><br><span class="line">ix2word = datas[<span class="string">'ix2word'</span>].item()</span><br><span class="line">word2ix = datas[<span class="string">'word2ix'</span>].item()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 转为torch.Tensor</span></span><br><span class="line">batch_size = <span class="number">16</span></span><br><span class="line">data = torch.from_numpy(data)</span><br><span class="line">train_loader = DataLoader(data, batch_size=batch_size, shuffle=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># # 配置模型，是否继续上一次的训练</span></span><br><span class="line"><span class="comment"># model = PoetryModel(len(word2ix), embedding_dim=128, hidden_dim=256)</span></span><br><span class="line"><span class="comment"># model = model.to(device)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># #加载已训练的模型</span></span><br><span class="line">model = torch.load(<span class="string">"poetry_model_1.5557.pth"</span>)</span><br><span class="line"><span class="comment"># print(model)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#损失函数</span></span><br><span class="line">loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">loss_fn = loss_fn.to(device)</span><br><span class="line"></span><br><span class="line"><span class="comment">#优化器</span></span><br><span class="line">learning_rate = <span class="number">5e-5</span></span><br><span class="line">optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate)</span><br><span class="line"><span class="comment"># optimizer = torch.optim.SGD(model.parameters(), lr=5e-3, momentum=0.9, weight_decay=5e-4)</span></span><br><span class="line">scheduler = StepLR(optimizer, step_size=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置训练网络的一些参数</span></span><br><span class="line"><span class="comment">#记录训练的次数</span></span><br><span class="line">total_train_step = <span class="number">0</span></span><br><span class="line"><span class="comment">#记录训练的轮数</span></span><br><span class="line">epoch = <span class="number">300</span>  <span class="comment"># to-do</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加tensorboard</span></span><br><span class="line">writer = SummaryWriter(<span class="string">"./log_train"</span>)</span><br><span class="line"></span><br><span class="line">train_losses = []</span><br><span class="line"><span class="comment">#训练步骤开始</span></span><br><span class="line">start_time = time.time()</span><br><span class="line">model.train()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, epoch+<span class="number">1</span>):</span><br><span class="line">    print(<span class="string">"-------------第{}轮训练开始-------------"</span>.format(i))</span><br><span class="line">    train_loss = <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> batch_idx, data <span class="keyword">in</span> enumerate(train_loader):</span><br><span class="line">        data = data.long().transpose(<span class="number">1</span>, <span class="number">0</span>).contiguous()</span><br><span class="line">        sentences, targets = data[:<span class="number">-1</span>, :], data[<span class="number">1</span>:, :]</span><br><span class="line">        sentences = sentences.to(device)</span><br><span class="line">        targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">        outputs, _ = model(sentences)</span><br><span class="line"></span><br><span class="line">        loss = loss_fn(outputs, targets.view(<span class="number">-1</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment">#优化器优化模型</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        train_loss += loss.item()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (batch_idx+<span class="number">1</span>) % <span class="number">200</span> == <span class="number">0</span>:  <span class="comment">#以每个epoch里的batch_idx为点</span></span><br><span class="line">            <span class="comment">#注意  len(train_loader.dataset)</span></span><br><span class="line">            <span class="comment">#     len(train_loader)</span></span><br><span class="line">            <span class="comment">#     len(data[1])</span></span><br><span class="line">            print(<span class="string">'[{}/{} ({:.0f}%)]\tloss: {:.6f}'</span>.format(</span><br><span class="line">                (batch_idx+<span class="number">1</span>) *batch_size, len(train_loader.dataset),</span><br><span class="line">                       <span class="number">100.</span> * (batch_idx+<span class="number">1</span>) / len(train_loader), loss.item()))</span><br><span class="line"></span><br><span class="line">        total_train_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    averge_train_loss = train_loss * batch_size / len(train_loader.dataset)</span><br><span class="line">    end_time = time.time()</span><br><span class="line">    print(<span class="string">"-------------第{}轮训练结束-------------"</span>.format(i))</span><br><span class="line">    print(<span class="string">"average loss：{} 距离开始过去时间：{}s"</span>.format(averge_train_loss, end_time - start_time))</span><br><span class="line">    writer.add_scalar(<span class="string">"average_loss"</span>, averge_train_loss, i)</span><br><span class="line">    scheduler.step()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (averge_train_loss &lt; <span class="number">1.56</span>):</span><br><span class="line">        torch.save(model, <span class="string">"poetry_model_{}.pth"</span>.format(i))</span><br><span class="line">        <span class="comment"># torch.save(tudui.state_dict(), "tudui_{}.pth".format(i))</span></span><br><span class="line">    print(<span class="string">"模型已保存"</span>)</span><br></pre></td></tr></tbody></table></figure><h4 id="test-py-1"><a href="#test-py-1" class="headerlink" title="test.py"></a>test.py</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> model <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(model, start_words, ix2word, word2ix, max_gen_len, prefix_words=None)</span>:</span></span><br><span class="line">    <span class="comment"># 读取唐诗的第一句</span></span><br><span class="line">    results = list(start_words)</span><br><span class="line">    start_word_len = len(start_words)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置第一个词为&lt;START&gt;</span></span><br><span class="line">    input = torch.Tensor([word2ix[<span class="string">'&lt;START&gt;'</span>]]).view(<span class="number">1</span>, <span class="number">1</span>).long()</span><br><span class="line">    input = input.to(device)</span><br><span class="line">    hidden = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> prefix_words:</span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> prefix_words:</span><br><span class="line">            output, hidden = model(input, hidden)</span><br><span class="line">            input = Variable(input.data.new([word2ix[word]])).view(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 生成唐诗</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(max_gen_len):</span><br><span class="line">        output, hidden = model(input, hidden)</span><br><span class="line">        <span class="comment"># 读取第一句</span></span><br><span class="line">        <span class="keyword">if</span> i &lt; start_word_len:</span><br><span class="line">            w = results[i]</span><br><span class="line">            input = input.data.new([word2ix[w]]).view(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 生成后面的句子</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            top_index = output.data[<span class="number">0</span>].topk(<span class="number">1</span>)[<span class="number">1</span>][<span class="number">0</span>].item()</span><br><span class="line">            w = ix2word[top_index]</span><br><span class="line">            results.append(w)</span><br><span class="line">            input = input.data.new([top_index]).view(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 结束标志</span></span><br><span class="line">        <span class="keyword">if</span> w == <span class="string">'&lt;EOP&gt;'</span>:</span><br><span class="line">            <span class="keyword">del</span> results[<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义设备</span></span><br><span class="line">    device = torch.device(<span class="string">"cuda"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)</span><br><span class="line"></span><br><span class="line">    datas = np.load(<span class="string">"./tang.npz"</span>, allow_pickle=<span class="literal">True</span>)</span><br><span class="line">    data = datas[<span class="string">'data'</span>]</span><br><span class="line">    ix2word = datas[<span class="string">'ix2word'</span>].item()</span><br><span class="line">    word2ix = datas[<span class="string">'word2ix'</span>].item()</span><br><span class="line"></span><br><span class="line">    model = torch.load(<span class="string">"poetry_model_1.5557.pth"</span>)</span><br><span class="line"></span><br><span class="line">    start_words = <span class="string">'瀚海阑干百丈冰'</span>  <span class="comment"># 唐诗的第一句</span></span><br><span class="line">    max_gen_len = <span class="number">64</span>  <span class="comment"># 生成唐诗的最长长度</span></span><br><span class="line"></span><br><span class="line">    prefix_words = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(model)</span></span><br><span class="line">    results = generate(model, start_words, ix2word, word2ix, max_gen_len, prefix_words)</span><br><span class="line">    poetry = <span class="string">''</span></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> results:</span><br><span class="line">        poetry += word</span><br><span class="line">        <span class="keyword">if</span> word == <span class="string">'。'</span> <span class="keyword">or</span> word == <span class="string">'!'</span>:</span><br><span class="line">            poetry += <span class="string">'\n'</span></span><br><span class="line"></span><br><span class="line">    print(poetry)</span><br></pre></td></tr></tbody></table></figure><h3 id="情感分类"><a href="#情感分类" class="headerlink" title="情感分类"></a>情感分类</h3><p>config.py</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> torch.utils.data <span class="keyword">as</span> Data</span><br><span class="line"></span><br><span class="line">Embedding_size = <span class="number">50</span></span><br><span class="line">Batch_Size = <span class="number">32</span></span><br><span class="line">Epoch = <span class="number">300</span></span><br><span class="line">Learning_rate = <span class="number">1e-4</span></span><br><span class="line">sequence_length = <span class="number">68</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#生成词频大于20的txt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_word_freq_txt</span><span class="params">(train_data)</span>:</span></span><br><span class="line">    comments_len = train_data.iloc[:, <span class="number">1</span>].apply(<span class="keyword">lambda</span> x: len(x.split()))</span><br><span class="line">    <span class="comment"># 每一条评论的词数个数。</span></span><br><span class="line">    <span class="comment"># print(comments_len)</span></span><br><span class="line"></span><br><span class="line">    train_data[<span class="string">"comments_len"</span>] = comments_len  <span class="comment"># 每条评论的长度</span></span><br><span class="line">    print(train_data[<span class="string">"comments_len"</span>].describe(percentiles=[<span class="number">.5</span>,<span class="number">.99</span>]))  <span class="comment">#本来是三分位的，这里自己选了两个</span></span><br><span class="line"></span><br><span class="line">    words = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(train_data)):  <span class="comment"># 遍历每个句子</span></span><br><span class="line">        com = train_data[<span class="string">"comment"</span>][i].split()  <span class="comment"># 把每个句子切分成单词</span></span><br><span class="line">        words = words + com</span><br><span class="line">    <span class="comment">#print(len(words))  # 一个列表，包含重复的单词</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#if os.path.exists("Dataset/word_freq.txt") == None:</span></span><br><span class="line">    <span class="comment"># 挑选出词频大于10的单词放到txt文件中 most_common中可以传参数代表,不带参数表示所有</span></span><br><span class="line">    Freq = <span class="number">30</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"Dataset/word_freq.txt"</span>, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> fout:</span><br><span class="line">        <span class="keyword">for</span> word, freq <span class="keyword">in</span> Counter(words).most_common():</span><br><span class="line">            <span class="keyword">if</span> freq &gt; Freq:</span><br><span class="line">                fout.write(word + <span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>  train_data</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_vocab</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 初始化vocab</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"Dataset/word_freq.txt"</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> fin:</span><br><span class="line">        vocab = [i.strip() <span class="keyword">for</span> i <span class="keyword">in</span> fin] <span class="comment">#换行间隔分割用strip</span></span><br><span class="line">    <span class="comment"># print(type(vocab))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 构造word2idx、idx2word</span></span><br><span class="line">    word2idx = {word: index <span class="keyword">for</span> index, word <span class="keyword">in</span> enumerate(vocab)}</span><br><span class="line">    idx2word = {index: word <span class="keyword">for</span> index, word <span class="keyword">in</span> enumerate(vocab)}  <span class="comment"># 没有想到列表竟然可以枚举。</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#print(vocab)  # 词典</span></span><br><span class="line">    <span class="comment"># print(len(vocab))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># idx = word2idx["一直"]</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># str1 = idx2word[104]</span></span><br><span class="line">    <span class="comment"># print(str1)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> vocab, word2idx, idx2word</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#对输入数据进行预处理,主要是对句子用索引表示且对句子进行截断与padding，将填充使用”把“来。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tokenizer</span><span class="params">(train_data, sequence_length, word2idx)</span>:</span></span><br><span class="line">    inputs = []</span><br><span class="line">    sentence_char = [i.split() <span class="keyword">for</span> i <span class="keyword">in</span> train_data[<span class="string">"comment"</span>]]  <span class="comment">#空格间隔分割用split</span></span><br><span class="line">    <span class="comment">#print(sentence_char)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将输入文本进行padding</span></span><br><span class="line">    <span class="keyword">for</span> index, i <span class="keyword">in</span> enumerate(sentence_char):</span><br><span class="line">        temp=[word2idx.get(j,<span class="number">46</span>) <span class="keyword">for</span> j <span class="keyword">in</span> i] <span class="comment">#表示如果词表中没有这个稀有词，无法获得，那么就默认返回pad_id。</span></span><br><span class="line">        <span class="comment">#print(temp)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(len(i)&lt;sequence_length):</span><br><span class="line">            <span class="comment">#应该padding。</span></span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(sequence_length-len(i)):</span><br><span class="line">                temp.append(<span class="number">46</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            temp = temp[:sequence_length]</span><br><span class="line">        inputs.append(temp)</span><br><span class="line">    <span class="keyword">return</span> inputs <span class="comment">#二维列表</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TextCNNDataSet</span><span class="params">(Data.Dataset)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, data_inputs, data_targets)</span>:</span></span><br><span class="line">        self.inputs = torch.LongTensor(data_inputs)</span><br><span class="line">        self.label = torch.LongTensor(data_targets)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, index)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.inputs[index], self.label[index]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.inputs)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">word2vec</span><span class="params">(x,w2v,idx2word)</span>:</span></span><br><span class="line">    <span class="comment">#x:batch_size,sequence_length</span></span><br><span class="line">    <span class="comment">#-》x:batch_size,sequence_length,embedding_size</span></span><br><span class="line">    <span class="comment">#x是以编号的形式来反映的，所以需要将其翻译一下。</span></span><br><span class="line">    x2v=np.ones((len(x),x.shape[<span class="number">1</span>],Embedding_size))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(x)):</span><br><span class="line"><span class="comment">#         seqtext=[idx2char[j.item()] for j in x[i]]</span></span><br><span class="line">        x2v[i]=w2v[[idx2word[j.item()] <span class="keyword">for</span> j <span class="keyword">in</span> x[i]]]</span><br><span class="line">        <span class="comment">#print(x2v[i].shape)</span></span><br><span class="line">    <span class="keyword">return</span> torch.tensor(x2v).to(torch.float32)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># f2 = open("Dataset/validation.txt", 'r', encoding='utf-8')</span></span><br><span class="line">    <span class="comment"># f3 = open("Dataset/sum.txt", 'a+', encoding='utf-8')</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># for i in f2:</span></span><br><span class="line">    <span class="comment">#     f3.write(i)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># f2.close()</span></span><br><span class="line">    <span class="comment"># f3.close()</span></span><br><span class="line"></span><br><span class="line">    train_data = pd.read_csv(<span class="string">"Dataset/sum.txt"</span>, names=[<span class="string">"label"</span>, <span class="string">"comment"</span>], sep=<span class="string">"\t"</span>)</span><br><span class="line">    generate_word_freq_txt(train_data)</span><br></pre></td></tr></tbody></table></figure><p>model.py</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> config <span class="keyword">import</span> Embedding_size, sequence_length</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Model</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super(Model, self).__init__()</span><br><span class="line">        self.model = nn.Sequential(  <span class="comment"># batch_size, 1,sequence_length, embedding_size</span></span><br><span class="line">            nn.Conv2d(<span class="number">1</span>, <span class="number">64</span>, (<span class="number">2</span>, Embedding_size)),  <span class="comment"># 卷积核大小为2*Embedding_size,默认当然是步长为1    # batch_size,10,seq_len-1,1</span></span><br><span class="line">            nn.ReLU(),  <span class="comment"># batch_size,10,seq_len-1,1</span></span><br><span class="line">            nn.MaxPool2d((sequence_length - <span class="number">1</span>, <span class="number">1</span>)),  <span class="comment"># batch_size,10,1,1########直接被maxpooliing了，从一个序列变成一个向量，表示将整个句子选出一个最关键的情感分类词来。</span></span><br><span class="line">            nn.Flatten(),   <span class="comment"># [batch_size, 10]</span></span><br><span class="line">            nn.Dropout(<span class="number">0.8</span>),</span><br><span class="line"></span><br><span class="line">            nn.Linear(<span class="number">64</span>, <span class="number">10</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Dropout(<span class="number">0.5</span>),</span><br><span class="line"></span><br><span class="line">            nn.Linear(<span class="number">10</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = self.model(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    model = Model()</span><br><span class="line">    input = torch.ones(<span class="number">64</span>, <span class="number">1</span>, <span class="number">68</span>, <span class="number">50</span>)</span><br><span class="line">    output = model(input)</span><br><span class="line">    print(output.shape)</span><br></pre></td></tr></tbody></table></figure><p>train.py</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> gensim.models <span class="keyword">import</span> keyedvectors</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> config <span class="keyword">import</span> TextCNNDataSet, generate_vocab, tokenizer, sequence_length, Learning_rate, Epoch, Batch_Size, \</span><br><span class="line">    word2vec</span><br><span class="line"><span class="keyword">from</span> model <span class="keyword">import</span> Model</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    np.random.seed(<span class="number">0</span>)</span><br><span class="line">    torch.manual_seed(<span class="number">0</span>)</span><br><span class="line">    torch.cuda.manual_seed_all(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    torch.backends.cudnn.deterministic = <span class="literal">True</span></span><br><span class="line">    <span class="comment"># torch.backends.cudnn.benchmark = False</span></span><br><span class="line">    torch.backends.cudnn.benchmark = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义设备</span></span><br><span class="line">    device = torch.device(<span class="string">"cuda"</span>)</span><br><span class="line"></span><br><span class="line">    train_data = pd.read_csv(<span class="string">"Dataset/train.txt"</span>, names=[<span class="string">"label"</span>, <span class="string">"comment"</span>], sep=<span class="string">"\t"</span>)</span><br><span class="line">    valid_data = pd.read_csv(<span class="string">"Dataset/validation.txt"</span>, names=[<span class="string">"label"</span>, <span class="string">"comment"</span>], sep=<span class="string">"\t"</span>)</span><br><span class="line">    train_len  = len(train_data)</span><br><span class="line">    <span class="comment">#print(train_len)</span></span><br><span class="line">    valid_len = len(valid_data)</span><br><span class="line">    <span class="comment"># print(len(train_data)) #多少条句子</span></span><br><span class="line">    <span class="comment"># print(train_data["comment"])</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># generate_word_freq_txt(train_data)</span></span><br><span class="line">    vocab, word2idx, idx2word = generate_vocab()</span><br><span class="line">    <span class="comment"># #print(vocab)</span></span><br><span class="line">    <span class="comment"># # idx = word2idx["把"]</span></span><br><span class="line">    <span class="comment"># # print(idx)</span></span><br><span class="line"></span><br><span class="line">    train_input = tokenizer(train_data, sequence_length, word2idx)</span><br><span class="line">    valid_input = tokenizer(valid_data, sequence_length, word2idx)</span><br><span class="line"></span><br><span class="line">    train_set = TextCNNDataSet(train_input,  list(train_data[<span class="string">"label"</span>]))</span><br><span class="line">    valid_set = TextCNNDataSet(valid_input, list(valid_data[<span class="string">"label"</span>]))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># test_size = int(len(data_input) * 0.05)</span></span><br><span class="line">    <span class="comment"># train_dataset, val_dataset, test_dataset = torch.utils.data.random_split(TextCNNDataSet,[train_size, val_size, test_size])</span></span><br><span class="line"></span><br><span class="line">    train_loader = DataLoader(train_set, batch_size=Batch_Size, shuffle=<span class="literal">True</span>)</span><br><span class="line">    valid_loader = DataLoader(valid_set, batch_size=Batch_Size, shuffle=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># TestDataLoader = Data.DataLoader(test_dataset, batch_size=batch_size, shuffle=True)</span></span><br><span class="line">    <span class="comment"># print(train_size)</span></span><br><span class="line"></span><br><span class="line">    w2v = keyedvectors.load_word2vec_format(<span class="string">"Dataset/wiki_word2vec_50.bin"</span>, binary=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment">#print(w2v[["的", "在"]])</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 用于补充无法转为词向量的词，随机分配。不然会报错。</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(vocab)):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            w2v[vocab[i]] = w2v[vocab[i]]</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            w2v[vocab[i]] = np.random.randn(<span class="number">50</span>, )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># # 搭建模型</span></span><br><span class="line">    <span class="comment"># model = Model()</span></span><br><span class="line">    <span class="comment"># model = model.to(device)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#加载已训练的模型</span></span><br><span class="line">    model = torch.load(<span class="string">"ec_model_0.8148.pth"</span>)      <span class="comment">#to-do</span></span><br><span class="line">    <span class="comment">#print(model)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 损失函数</span></span><br><span class="line">    loss_fn = nn.CrossEntropyLoss()</span><br><span class="line">    loss_fn = loss_fn.to(device)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 优化器</span></span><br><span class="line">    <span class="comment"># learning_rate = 0.01</span></span><br><span class="line">    <span class="comment"># 1e-2 = 1*(10)^(-2)</span></span><br><span class="line">    <span class="comment">#learning_rate = 1e-3  # to-do</span></span><br><span class="line">    optimizer = torch.optim.Adam(model.parameters(), lr=Learning_rate)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置训练网络的一些参数</span></span><br><span class="line">    <span class="comment"># 记录训练的次数</span></span><br><span class="line">    total_train_step = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 记录测试的次数</span></span><br><span class="line">    total_valid_step = <span class="number">0</span></span><br><span class="line">    <span class="comment"># 记录训练的轮数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 添加tensorboard</span></span><br><span class="line">    writer = SummaryWriter(<span class="string">"log_train"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 训练集每batch_size保存(batch_size的train_loss)，并输出到tensorboard</span></span><br><span class="line">    <span class="comment"># 测试集每一个epoch(也就是把测试集都过一遍)保存(总体的test_loss)、(total_test_accuracy)，并输出到tensorboard</span></span><br><span class="line">    <span class="comment"># 训练步骤开始</span></span><br><span class="line">    start_time = time.time()</span><br><span class="line">    model.train()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(Epoch):</span><br><span class="line">        print(<span class="string">"-------------第{}轮训练开始-------------"</span>.format(i + <span class="number">1</span>))</span><br><span class="line">        total_train_true_num = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 训练步骤开始</span></span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> train_loader:</span><br><span class="line">            inputs, targets = data</span><br><span class="line"></span><br><span class="line">            <span class="comment"># print(imgs.shape)</span></span><br><span class="line">            targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">            vec_inputs = word2vec(inputs,w2v,idx2word).unsqueeze(<span class="number">1</span>)</span><br><span class="line">            vec_inputs = vec_inputs.to(device)</span><br><span class="line">            <span class="comment">#print(vec_inputs.shape)</span></span><br><span class="line">            outputs = model(vec_inputs)</span><br><span class="line">            <span class="comment"># print(outputs.shape)</span></span><br><span class="line"></span><br><span class="line">            loss = loss_fn(outputs, targets)</span><br><span class="line"></span><br><span class="line">            train_true_num = (outputs.argmax(<span class="number">1</span>) == targets).sum()</span><br><span class="line">            total_train_true_num += train_true_num</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 优化器优化模型</span></span><br><span class="line">            optimizer.zero_grad()</span><br><span class="line">            loss.backward()</span><br><span class="line">            optimizer.step()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> total_train_step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">                end_time = time.time()</span><br><span class="line">                print(end_time - start_time)</span><br><span class="line">                print(<span class="string">"训练次数：{}, loss：{}"</span>.format(total_train_step, loss.item()))</span><br><span class="line">                writer.add_scalar(<span class="string">"train_loss"</span>, loss.item(), total_train_step)</span><br><span class="line">            total_train_step += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        total_train_accuracy = total_train_true_num / train_len</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 测试步骤开始</span></span><br><span class="line">        model.eval()</span><br><span class="line">        total_valid_loss = <span class="number">0</span></span><br><span class="line">        total_valid_true_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> data <span class="keyword">in</span> valid_loader:</span><br><span class="line">                inputs, targets = data</span><br><span class="line"></span><br><span class="line">                targets = targets.to(device)</span><br><span class="line"></span><br><span class="line">                vec_inputs = word2vec(inputs, w2v, idx2word).unsqueeze(<span class="number">1</span>)</span><br><span class="line">                vec_inputs = vec_inputs.to(device)</span><br><span class="line">                <span class="comment"># print(vec_inputs.shape)</span></span><br><span class="line">                outputs = model(vec_inputs)</span><br><span class="line"></span><br><span class="line">                loss = loss_fn(outputs, targets)</span><br><span class="line">                total_valid_loss += loss.item()</span><br><span class="line">                valid_true_num = (outputs.argmax(<span class="number">1</span>) == targets).sum()</span><br><span class="line">                total_valid_true_num += valid_true_num</span><br><span class="line"></span><br><span class="line">        total_valid_accuracy = total_valid_true_num / valid_len</span><br><span class="line">        print(<span class="string">"整个训练集上的正确率：{}，整个验证集上的loss：{}，整个验证集上的正确率：{}"</span>.format(total_train_accuracy, total_valid_loss,</span><br><span class="line">                                                                  total_valid_accuracy))</span><br><span class="line">        writer.add_scalar(<span class="string">"test_loss"</span>, total_valid_loss, total_valid_step)</span><br><span class="line">        writer.add_scalar(<span class="string">"test_accuracy"</span>, total_valid_accuracy, total_valid_step)</span><br><span class="line">        total_valid_step += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> (total_train_accuracy &gt; <span class="number">0.90</span> <span class="keyword">and</span> total_valid_accuracy &gt; <span class="number">0.81</span>):</span><br><span class="line">            torch.save(model, <span class="string">"ec_model_{}.pth"</span>.format(i))</span><br><span class="line">        <span class="comment"># torch.save(tudui.state_dict(), "tudui_{}.pth".format(i))</span></span><br><span class="line">        print(<span class="string">"模型已保存"</span>)</span><br><span class="line"></span><br><span class="line">    writer.close()</span><br></pre></td></tr></tbody></table></figure><p>test.py</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> gensim.models <span class="keyword">import</span> keyedvectors</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> torch.utils.tensorboard <span class="keyword">import</span> SummaryWriter</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> config <span class="keyword">import</span> TextCNNDataSet, generate_vocab, tokenizer, sequence_length, Learning_rate, Epoch, Batch_Size, \</span><br><span class="line">    word2vec</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> confusion_matrix,precision_score,recall_score,f1_score</span><br><span class="line"></span><br><span class="line">test_data = pd.read_csv(<span class="string">"Dataset/train.txt"</span>, names=[<span class="string">"label"</span>, <span class="string">"comment"</span>], sep=<span class="string">"\t"</span>)</span><br><span class="line">vocab, word2idx, idx2word = generate_vocab()</span><br><span class="line">test_input = tokenizer(test_data, sequence_length, word2idx)</span><br><span class="line">test_set = TextCNNDataSet(test_input,  list(test_data[<span class="string">"label"</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#print(type(test_set.label))</span></span><br><span class="line"></span><br><span class="line">w2v = keyedvectors.load_word2vec_format(<span class="string">"Dataset/wiki_word2vec_50.bin"</span>, binary=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment">#print(w2v[["的", "在"]])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用于补充无法转为词向量的词，随机分配。不然会报错。</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(vocab)):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        w2v[vocab[i]] = w2v[vocab[i]]</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        w2v[vocab[i]] = np.random.randn(<span class="number">50</span>, )</span><br><span class="line"></span><br><span class="line">device = torch.device(<span class="string">"cuda"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#加载已训练的模型</span></span><br><span class="line">model = torch.load(<span class="string">"ec_model_0.8122.pth"</span>, map_location=torch.device(<span class="string">"cpu"</span>))      <span class="comment">#to-do</span></span><br><span class="line"></span><br><span class="line">vec_inputs = word2vec(test_set.inputs,w2v,idx2word).unsqueeze(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">y_predict = model(vec_inputs)</span><br><span class="line">y_predict = y_predict.argmax(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">y = test_set.label.detach().numpy()</span><br><span class="line"></span><br><span class="line">y_predict  = y_predict.detach().numpy()</span><br><span class="line"></span><br><span class="line">confusion_matrix = confusion_matrix(y,y_predict) <span class="comment">#混淆矩阵</span></span><br><span class="line">precision_score = precision_score(y,y_predict)  <span class="comment">#准确率</span></span><br><span class="line">recall_score = recall_score(y,y_predict) <span class="comment">#召回率</span></span><br><span class="line">f1_score = f1_score(y,y_predict)  <span class="comment"># f1</span></span><br><span class="line">print(<span class="string">"准确率：{}\n召回率：{}\nf1：{}\n混淆矩阵：\n{}"</span>.format(precision_score,recall_score,f1_score,confusion_matrix))</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>深度学习</category>
      </categories>
      <tags>
        <tag>深度学习</tag>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title>算法第七章作业</title>
    <url>/category/%E7%AE%97%E6%B3%95%E7%AC%AC%E4%B8%83%E7%AB%A0%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><p>1.假设对称旅行商问题的邻接矩阵如图 1 所示, 试用优先队列式分枝限界算法给出最短环游。画出状态空间树的搜索图, 并说明搜索过程。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2021/11/14/3EFpu1AqwaJsCG5.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2021/11/17/aHw5QIPcAVqebF4.png" alt="image.png"></p><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//i为起点，j为终点</span></span><br><span class="line"><span class="comment">//w[i][j]表示i到j的距离</span></span><br><span class="line"><span class="comment">//w[i][j] = w[j][i]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, c_max, temp_sum_w = <span class="number">0</span>, sum_w = <span class="number">100000</span>, temp_sum_c = <span class="number">0</span>, sum_c;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;w(<span class="number">100</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">100</span>, <span class="number">0</span>));</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> w_sum;</span><br><span class="line">    <span class="keyword">int</span> opt_min_sum;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;work;</span><br><span class="line">};</span><br><span class="line"><span class="built_in">queue</span>&lt;node*&gt;q;</span><br><span class="line"><span class="keyword">void</span> ba</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt;= <span class="number">5</span>; j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w[i][j];</span><br><span class="line">            w[j][i] = w[i][j];</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">5</span>; j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; w[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    backtracking(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li><p>试写出 $0 / 1$ 背包问题的优先队列式分枝限界算法程序, 并找一个物品个 数至少是 16 的例子检验程序的运行情况。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2021/11/17/oOplI5rb2KNc8ZL.png" alt="image.png"></p></li></ol><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//w表示重量</span></span><br><span class="line"><span class="comment">//v表示价值</span></span><br><span class="line"><span class="comment">//vw存储单价</span></span><br><span class="line"><span class="comment">//low_bound表示价值函数的下界，如果得到的价值函数比下界小，那直接剪枝了</span></span><br><span class="line"><span class="comment">//b表示背包最大重量</span></span><br><span class="line"><span class="comment">//i表示放不放进背包，j表示正在考虑第j个物品</span></span><br><span class="line"><span class="comment">//work[j] = 1表示第j个物品放入背包</span></span><br><span class="line"><span class="comment">//best_plan存储最佳方案</span></span><br><span class="line"><span class="comment">//测试数据：</span></span><br><span class="line"><span class="comment">//20 200</span></span><br><span class="line"><span class="comment">//71 34 82 23 1 88 12 57 10 68 5 33 37 69 98 24 26 83 16 26</span></span><br><span class="line"><span class="comment">//26 59 30 19 66 85 94 8 3 44 5 1 41 82 76 1 12 81 73 32</span></span><br><span class="line"><span class="comment">//结果：</span></span><br><span class="line"><span class="comment">//0 1 0 0 1 0 1 0 0 0 1 0 1 1 0 0 0 0 1 1</span></span><br><span class="line"><span class="comment">//452</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line">    <span class="keyword">double</span> w;</span><br><span class="line">    <span class="keyword">double</span> v;</span><br><span class="line">    <span class="keyword">double</span> vw;</span><br><span class="line">}sort_vw;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">double</span> cost_func = <span class="number">0</span>,lower_bd = <span class="number">0</span>, b, temp_sum_w = <span class="number">0</span>, temp_sum_v = <span class="number">0</span>,sum_w;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;sort_vw&gt; <span class="title">sort_array</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">work</span><span class="params">(<span class="number">100</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">best_plan</span><span class="params">(<span class="number">100</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(sort_vw a, sort_vw b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> a.vw &gt; b.vw;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>{ </span><br><span class="line">    <span class="keyword">if</span> (temp_sum_w &gt; b)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (lower_bd != <span class="number">0</span> || j &gt; n)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (temp_sum_w &lt;= b &amp;&amp; cost_func &gt; lower_bd &amp;&amp; j &gt; n)  <span class="comment">//收集结果</span></span><br><span class="line">        {</span><br><span class="line">            lower_bd = cost_func;</span><br><span class="line">            sum_w = temp_sum_w;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">            {</span><br><span class="line">                best_plan[k] = work[k];</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cost_func &lt;= lower_bd)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)  <span class="comment">//i为 1表示放进去，0表示忽略</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">1</span>)  <span class="comment">//选择放入</span></span><br><span class="line">        {</span><br><span class="line">            work[j] = <span class="number">1</span>;</span><br><span class="line">            temp_sum_w += sort_array[j].w;</span><br><span class="line">            temp_sum_v += sort_array[j].v;</span><br><span class="line">            <span class="keyword">if</span> (b &gt; temp_sum_w)</span><br><span class="line">            {</span><br><span class="line">                cost_func = temp_sum_v + (b - temp_sum_w) * sort_array[j + <span class="number">1</span>].vw;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                cost_func = temp_sum_v;</span><br><span class="line">            }</span><br><span class="line">            backtracking(j + <span class="number">1</span>);</span><br><span class="line">            temp_sum_v -= sort_array[j].v;</span><br><span class="line">            temp_sum_w -= sort_array[j].w;</span><br><span class="line">            <span class="keyword">if</span> (b &gt; temp_sum_w)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">//cost_func -= sort_array[j].v + (b - temp_sum_w- sort_array[j].w) * sort_array[j + 1].vw - (b - temp_sum_w) * sort_array[j].vw;</span></span><br><span class="line">                cost_func = temp_sum_v + (b - temp_sum_w) * sort_array[j].vw;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="comment">//cost_func -= sort_array[j].v;</span></span><br><span class="line">                cost_func = temp_sum_v;</span><br><span class="line">            }</span><br><span class="line">            </span><br><span class="line">            work[j] = <span class="number">0</span>;</span><br><span class="line">        } </span><br><span class="line">        <span class="keyword">else</span>  <span class="comment">//选择不放入</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (b &gt; temp_sum_w)</span><br><span class="line">            {</span><br><span class="line">                cost_func = temp_sum_v + (b - temp_sum_w) * sort_array[j + <span class="number">1</span>].vw;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                cost_func = temp_sum_v;</span><br><span class="line">            }</span><br><span class="line">            backtracking(j + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (b &gt; temp_sum_w)</span><br><span class="line">            {</span><br><span class="line">                <span class="comment">//cost_func -= sort_array[j].v + (b - temp_sum_w- sort_array[j].w) * sort_array[j + 1].vw - (b - temp_sum_w) * sort_array[j].vw;</span></span><br><span class="line">                cost_func = temp_sum_v + (b - temp_sum_w) * sort_array[j].vw;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="comment">//cost_func -= sort_array[j].v;</span></span><br><span class="line">                cost_func = temp_sum_v;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请依次输入物品数和背包可容纳的最大重量："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; b;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请依次输入物品的重量："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        sort_array[i].index = i;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; sort_array[i].w;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请依次输入物品的价值："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; sort_array[i].v;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        sort_array[i].vw = sort_array[i].v / sort_array[i].w;</span><br><span class="line">    }</span><br><span class="line">    sort(sort_array.<span class="built_in">begin</span>()+<span class="number">1</span>, sort_array.<span class="built_in">begin</span>()+n+<span class="number">1</span>, compare);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    backtracking(<span class="number">1</span>);</span><br><span class="line">    work = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">100</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="comment">/*for (int i = 1; i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">    {</span></span><br><span class="line"><span class="comment">        cout &lt;&lt; best_plan[i] &lt;&lt; " ";</span></span><br><span class="line"><span class="comment">    }</span></span><br><span class="line"><span class="comment">    cout &lt;&lt; endl;*/</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (best_plan[i])</span><br><span class="line">        {</span><br><span class="line">            work[sort_array[i].index] = <span class="number">1</span>;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; work[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; lower_bd;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="3"><li>最佳调度问题 : 假设有 $n$ 个任务要由 $k$ 个可并行工作的机器来完成, 完成 任务 $i$ 需要的时间为 $t_{i}$ 。试设计一个分枝限界算法, 找出完成这 $n$ 个任务 的最佳调度, 使得完成全部任务的时间（从机器开始加工任务到最后停 机的时间）最短。</li></ol><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>算法第二章作业</title>
    <url>/category/%E7%AE%97%E6%B3%95%E7%AC%AC%E4%BA%8C%E7%AB%A0%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h2 id="习题-二"><a href="#习题-二" class="headerlink" title="习题 二"></a>习题 二</h2><h3 id="1-证明下列结论："><a href="#1-证明下列结论：" class="headerlink" title="1.证明下列结论："></a>1.证明下列结论：</h3><h4 id="1）在一个无向图中，如果每个顶点的度大于等于-2，则该图一定含有圈；"><a href="#1）在一个无向图中，如果每个顶点的度大于等于-2，则该图一定含有圈；" class="headerlink" title="1）在一个无向图中，如果每个顶点的度大于等于 2，则该图一定含有圈；"></a>1）在一个无向图中，如果每个顶点的度大于等于 2，则该图一定含有圈；</h4><ol><li>证明:设无向图最长的无重复顶点的迹 $P:V_{0}V_{1}…V_{k}$​​ 因为每个顶点的度大于等于2, 故存在与 $V_{1}$​​ 相异的点 $V^{\prime}$​​ 与 $V_{0}$​​ 相邻。 若 $V^{\prime} \notin P$​​, 则得到比 $P$​​ 更长的迹, 与P的取法矛盾。<br>因此, $V^{\prime} \in P$​​，因无重复顶点, 故存在圈 $V_{0} V_{1}… V_{0}$​​.</li></ol><h4 id="2）在一个有向图-D-中，如果每个顶点的出度都大于等于-1，则该图一定含有一个有向圈。"><a href="#2）在一个有向图-D-中，如果每个顶点的出度都大于等于-1，则该图一定含有一个有向圈。" class="headerlink" title="2）在一个有向图 D 中，如果每个顶点的出度都大于等于 1，则该图一定含有一个有向圈。"></a>2）在一个有向图 D 中，如果每个顶点的出度都大于等于 1，则该图一定含有一个有向圈。</h4><p>2) 证明:同（1）, 设有向图最长的无重复顶点的有向迹 $P:V_{0}V_{1}…V_{k}$ 因为每个顶点出度大于等于 1, 故存在 $V^{\prime}$ 为 $v^{k}$ 的出度连接点, 使得 $V_{k} V^{\prime}$ 成为一条有向边, 若 $V^{\prime} \notin P$, 则得到比 $P$ 更长的有向迹, 与P最长矛盾。 因此必有 $V \in P$, 从而该图一定含有有向圈。</p><h3 id="2-设-D-是至少有三个顶点的连通有向图。如果-D-中包含有向的-Euler-环游（即是通过-D-中每条有向边恰好一次的闭迹），则-D-中每一顶点的出度和入度相等。-反之，-如果-D-中每一顶点的出度与入度都等，-则-D-一定包含有向的-Euler环游。这两个结论是正确的吗？请说明理由。如果-G-是至少有三个顶点的无向图，则-G-包含-Euler-环游的条件是什么？"><a href="#2-设-D-是至少有三个顶点的连通有向图。如果-D-中包含有向的-Euler-环游（即是通过-D-中每条有向边恰好一次的闭迹），则-D-中每一顶点的出度和入度相等。-反之，-如果-D-中每一顶点的出度与入度都等，-则-D-一定包含有向的-Euler环游。这两个结论是正确的吗？请说明理由。如果-G-是至少有三个顶点的无向图，则-G-包含-Euler-环游的条件是什么？" class="headerlink" title="2.设 D 是至少有三个顶点的连通有向图。如果 D 中包含有向的 Euler 环游（即是通过 D 中每条有向边恰好一次的闭迹），则 D 中每一顶点的出度和入度相等。 反之， 如果 D 中每一顶点的出度与入度都等， 则 D 一定包含有向的 Euler环游。这两个结论是正确的吗？请说明理由。如果 G 是至少有三个顶点的无向图，则 G 包含 Euler 环游的条件是什么？"></a>2.设 D 是至少有三个顶点的连通有向图。如果 D 中包含有向的 Euler 环游（即是通过 D 中每条有向边恰好一次的闭迹），则 D 中每一顶点的出度和入度相等。 反之， 如果 D 中每一顶点的出度与入度都等， 则 D 一定包含有向的 Euler环游。这两个结论是正确的吗？请说明理由。如果 G 是至少有三个顶点的无向图，则 G 包含 Euler 环游的条件是什么？</h3><p>1.若图D中包含有向Euler环游，下证明每个页点的入度和出度相等。</p><p>2) 若图D中每个页点的入度和出度相等，则该图D包含Euler环游。证明如下。 对顶点个数进行归纳。假设顶点数 $|\mathrm{v}(\mathrm{D})|=\mathrm{k}$ 时结论成立, 则<br>当顶点数 $|v(D)|=k+1$ 时， 任取 $V \in v(D) .$ 设 $S={\lfloor$ 等。 故S和K中边数相等。记G=D-V.对G做如下操作:<br>任取S和K中各 条边e1、e2, 设在D中e1 v1v, e2 $w 2$, 则对G和S做如下操作 Euler环游，设为 $C_{\circ}$ 在G中从任一点出发沿C的对应边前行，每当遇到上述添加边v1-v2时，都用对应 的两条边e1， e2代替, 这样可以获得有向Euler环游。</p><p>3) G是至父有三个页点的无向图，则G包含Euler环游等价于G中无奇度页点。（即任意顾点的度为偶 o</p><h3 id="3．设-G-是具有-n-个顶点和-m-条边的无向图，如果-G-是连通的，而且满足-m-n-1-证明-G-是树。"><a href="#3．设-G-是具有-n-个顶点和-m-条边的无向图，如果-G-是连通的，而且满足-m-n-1-证明-G-是树。" class="headerlink" title="3．设 G 是具有 n 个顶点和 m 条边的无向图，如果 G 是连通的，而且满足 m= n-1,证明 G 是树。"></a>3．设 G 是具有 n 个顶点和 m 条边的无向图，如果 G 是连通的，而且满足 m= n-1,证明 G 是树。</h3><p>只要证明无圈就行了，假设G有圈，那么任意去掉一条边，G仍是连通的，但删一条边后，只有n-2条边，图变得不连通，所以假设不成立，所以无圈，是树</p><h3 id="5-下面的无向图以邻接链表存储，而且在关于每个顶点的链表中与该顶点相邻的顶点是按照字母顺序排列的。试以此图为例描述讲义中算法-DFNL-的执行过程。"><a href="#5-下面的无向图以邻接链表存储，而且在关于每个顶点的链表中与该顶点相邻的顶点是按照字母顺序排列的。试以此图为例描述讲义中算法-DFNL-的执行过程。" class="headerlink" title="5.下面的无向图以邻接链表存储，而且在关于每个顶点的链表中与该顶点相邻的顶点是按照字母顺序排列的。试以此图为例描述讲义中算法 DFNL 的执行过程。"></a>5.下面的无向图以邻接链表存储，而且在关于每个顶点的链表中与该顶点相邻的顶点是按照字母顺序排列的。试以此图为例描述讲义中算法 DFNL 的执行过程。</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5Clenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211002171822843.png" alt="image-20211002171822843"></p><p>num表示深度优先遍历的访问次序</p><table><thead><tr><th align="center"></th><th align="center">A</th><th align="center">B</th><th align="center">C</th><th align="center">D</th><th align="center">E</th><th align="center">F</th><th align="center">G</th></tr></thead><tbody><tr><td align="center">num</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td></tr></tbody></table><p>low表示每个顶点在不通过（dfs）父节点的情况下，能够返回的最早顶点的时间戳</p><table><thead><tr><th align="center"></th><th align="center">A</th><th align="center">B</th><th align="center">C</th><th align="center">D</th><th align="center">E</th><th align="center">F</th><th align="center">G</th></tr></thead><tbody><tr><td align="center">low</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">3</td><td align="center">1</td><td align="center">5</td><td align="center">1</td></tr></tbody></table><p>对于E顶点，num[E]=5,它存在一个儿子顶点F，low[F]=5,low[F]&gt;=num[E],即不通过E，F不能访问到祖先，所以E是割点</p><h3 id="6-对图的另一种检索方法是-D-Search。该方法与-BFS-的不同之处在于将队列换成栈，即下一个要检测的节点是最新加到未检测节点表的那个节点。"><a href="#6-对图的另一种检索方法是-D-Search。该方法与-BFS-的不同之处在于将队列换成栈，即下一个要检测的节点是最新加到未检测节点表的那个节点。" class="headerlink" title="6.对图的另一种检索方法是 D-Search。该方法与 BFS 的不同之处在于将队列换成栈，即下一个要检测的节点是最新加到未检测节点表的那个节点。"></a>6.对图的另一种检索方法是 D-Search。该方法与 BFS 的不同之处在于将队列换成栈，即下一个要检测的节点是最新加到未检测节点表的那个节点。</h3><p>1）写一个 D-Search 算法；<br>2）证明由节点 v 开始的 D-Search 能够访问 v 可到达的所有节点；<br>3）你的算法的时、空复杂度是什么？<br>1）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">stack</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode* left;</span><br><span class="line">    TreeNode* right;</span><br><span class="line">    TreeNode() : val(<span class="number">0</span>), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>) {}</span><br><span class="line">    TreeNode(<span class="keyword">int</span> x) : val(x), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>) {}</span><br><span class="line">    TreeNode(<span class="keyword">int</span> x, TreeNode* left, TreeNode* right) : val(x), left(left), right(right) {}</span><br><span class="line">};</span><br><span class="line"><span class="built_in">queue</span>&lt;TreeNode*&gt; q;</span><br><span class="line"><span class="built_in">stack</span>&lt;TreeNode*&gt; s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear_queue</span><span class="params">(<span class="built_in">queue</span>&lt;TreeNode*&gt;&amp; q)</span> </span>{</span><br><span class="line">    <span class="built_in">queue</span>&lt;TreeNode*&gt; empty;</span><br><span class="line">    swap(empty, q);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear_stack</span><span class="params">(<span class="built_in">stack</span>&lt;TreeNode*&gt;&amp; s)</span> </span>{</span><br><span class="line">    <span class="built_in">stack</span>&lt;TreeNode*&gt; empty;</span><br><span class="line">    swap(empty, s);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildBinaryTree</span><span class="params">(TreeNode** pRoot, <span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    TreeNode* pTreeNode = <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">    q.push(pTreeNode);</span><br><span class="line">    <span class="keyword">if</span> (*pRoot == <span class="literal">NULL</span>)</span><br><span class="line">    {</span><br><span class="line">        *pRoot = pTreeNode;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        TreeNode* curNode = q.front();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (curNode-&gt;left == <span class="literal">NULL</span>)</span><br><span class="line">            curNode-&gt;left = pTreeNode;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            curNode-&gt;right = pTreeNode;</span><br><span class="line">            q.pop();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//与 BFS 的不同之处在于将队列换成栈</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">D_SearchPrint</span><span class="params">(TreeNode* pRoot)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    s.push(pRoot);</span><br><span class="line">    <span class="keyword">while</span> (!s.empty())</span><br><span class="line">    {</span><br><span class="line">        TreeNode* pTreeNode = s.top();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; pTreeNode-&gt;val &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        s.pop();</span><br><span class="line">        <span class="keyword">if</span> (pTreeNode-&gt;left) s.push(pTreeNode-&gt;left);</span><br><span class="line">        <span class="keyword">if</span> (pTreeNode-&gt;right) s.push(pTreeNode-&gt;right);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    TreeNode* pRoot = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="comment">//循环后,层序建树成功了</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; val)</span><br><span class="line">    {</span><br><span class="line">        buildBinaryTree(&amp;pRoot, val);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    D_SearchPrint(pRoot); </span><br><span class="line"></span><br><span class="line">    clear_queue(q);</span><br><span class="line">    clear_stack(s);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2）证明: 除结点v外, 只有当结点w满足 $[w]=0$ 时才被压入栈中, 因此每 个结点至多有一次被压入栈中, 搜索不会出现重叠和死循环现象, 对于每 一个v可到达的节点, 要么直接被访问, 要么被压入栈中, 只有栈内节点 全部弹出被访问后, 搜索才会结束, 所以由结点v开始的D-Search能够访问 $v$ 可到达的所有结点。<br>3）除结点v外, 只有当结点w满足 $\mathrm{s}[\mathrm{w}]=0$ 时才被压入栈中, 因此每个结点 至多有一次被压入栈中。需要的栈 空间至多是 $v-1$; visited数组变量所需要 的空间为 $v$; 其余变量所用的空间为 $\mathrm{O}(1)$, 所以 $\mathrm{s}(v, \varepsilon)=\Theta(v)$ 。 如果使用邻接链表, for循坏要做d(u)次, 而while循环需要做v次, 又visited 、s和count的赋值都需要v次操作, 因而 $\mathrm{t}(v, \varepsilon)=\Theta(v+\varepsilon)$ 。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>算法第三章作业</title>
    <url>/category/%E7%AE%97%E6%B3%95%E7%AC%AC%E4%B8%89%E7%AB%A0%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="1-编写程序实现归并排序算法-MergeSortL-和快速排序算法-QuickSort"><a href="#1-编写程序实现归并排序算法-MergeSortL-和快速排序算法-QuickSort" class="headerlink" title="1. 编写程序实现归并排序算法 MergeSortL 和快速排序算法 QuickSort;"></a>1. 编写程序实现归并排序算法 MergeSortL 和快速排序算法 QuickSort;</h3><figure class="highlight c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) {int temp=x;x=y;y=temp;}</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (i = left, j = left; i &lt; right; i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (a[i] &lt; a[right]) <span class="comment">//i负责遍历每个元素，j负责小于基准元素的边界</span></span><br><span class="line">		{</span><br><span class="line">			SWAP(a[i], a[j]);</span><br><span class="line">			j++;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	SWAP(a[j], a[right]); <span class="comment">//每一趟后，有一个元素到最终位置</span></span><br><span class="line">	<span class="keyword">return</span> j;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (left &lt; right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> pivot = partition(a, left, right);</span><br><span class="line">		quickSort(a, left, pivot - <span class="number">1</span>);</span><br><span class="line">		quickSort(a, pivot + <span class="number">1</span>, right);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> mid, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> b[N];</span><br><span class="line">	<span class="keyword">int</span> i = left, j = mid + <span class="number">1</span>,k;</span><br><span class="line">	<span class="keyword">for</span> (k = left ; k &lt;= right ; k++)</span><br><span class="line">		b[k] = a[k];</span><br><span class="line">	<span class="keyword">for</span> (k = left ; i &lt;= mid &amp;&amp; j &lt;= right;)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span> (b[i] &lt; b[j]) a[k++] = b[i++];</span><br><span class="line">		<span class="keyword">else</span> a[k++] = b[j++];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">while</span>(i &lt;= mid) a[k++] = b[i++];</span><br><span class="line">	<span class="keyword">while</span> (j &lt;= right) a[k++] = b[j++];</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">if</span> (left &lt; right)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		mergeSort(a, left, mid);</span><br><span class="line">		mergeSort(a, mid + <span class="number">1</span>, right);</span><br><span class="line">		merge(a, left, mid, right);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	{</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">	mergeSort(a, <span class="number">0</span>, N - <span class="number">1</span>);</span><br><span class="line">	<span class="comment">//quickSort(a, 0, N - 1);</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>归并排序结果</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5Clenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211009211238554.png" alt="image-20211009211238554"></p><p>快速排序结果</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5Clenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20211009211324835.png" alt="image-20211009211324835"></p><h3 id="2-用长分别为-10000、-30000、-50000、-80000、-100000、-200000-的-6-个数组-可用机器随机产生-的排列来统计这两种算法的时间复杂性；"><a href="#2-用长分别为-10000、-30000、-50000、-80000、-100000、-200000-的-6-个数组-可用机器随机产生-的排列来统计这两种算法的时间复杂性；" class="headerlink" title="2. 用长分别为 10000、 30000、 50000、 80000、 100000、 200000 的 6 个数组(可用机器随机产生)的排列来统计这两种算法的时间复杂性；"></a>2. 用长分别为 10000、 30000、 50000、 80000、 100000、 200000 的 6 个数组(可用机器随机产生)的排列来统计这两种算法的时间复杂性；</h3><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">以上程序，设置N，M，统计时间</span><br><span class="line"><span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line">quickSort(a,<span class="number">0</span>,N<span class="number">-1</span>);    <span class="comment">//24s</span></span><br><span class="line">heapSort(a,N);	    <span class="comment">//13s</span></span><br><span class="line"><span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%llds"</span>, time_end - time_beg);</span><br></pre></td></tr></tbody></table></figure><p>归并排序</p><table><thead><tr><th align="center">N</th><th align="center">M</th><th align="center">时间</th></tr></thead><tbody><tr><td align="center">10000</td><td align="center">100</td><td align="center">0s</td></tr><tr><td align="center">30000</td><td align="center">300</td><td align="center">0s</td></tr><tr><td align="center">50000</td><td align="center">500</td><td align="center">0s</td></tr><tr><td align="center">80000</td><td align="center">800</td><td align="center">1s</td></tr><tr><td align="center">100000</td><td align="center">1000</td><td align="center">3s</td></tr><tr><td align="center">200000</td><td align="center">2000</td><td align="center">8s</td></tr></tbody></table><p>快速排序</p><table><thead><tr><th align="center">N</th><th align="center">M</th><th align="center">时间</th></tr></thead><tbody><tr><td align="center">10000</td><td align="center">100</td><td align="center">0s</td></tr><tr><td align="center">30000</td><td align="center">300</td><td align="center">0s</td></tr><tr><td align="center">50000</td><td align="center">500</td><td align="center">0s</td></tr><tr><td align="center">80000</td><td align="center">800</td><td align="center">0s</td></tr><tr><td align="center">100000</td><td align="center">1000</td><td align="center">0s</td></tr><tr><td align="center">200000</td><td align="center">2000</td><td align="center">0s</td></tr></tbody></table><p>虽然两种算法平均时间复杂度都是O(nlogn)，但是应用在多数据的情况下快速排序还是实际效果更好些</p><h3 id="3．讨论归并排序算法-MergeSort-的空间复杂性。"><a href="#3．讨论归并排序算法-MergeSort-的空间复杂性。" class="headerlink" title="3．讨论归并排序算法 MergeSort 的空间复杂性。"></a>3．讨论归并排序算法 MergeSort 的空间复杂性。</h3><figure class="highlight livecodeserver"><table><tbody><tr><td class="code"><pre><span class="line">在<span class="built_in">merge</span>函数中，需要临时保存<span class="keyword">a</span>数组，所以创建了b数组，并把<span class="keyword">a</span>数组的每个元素赋给b数组，花非O(n)</span><br></pre></td></tr></tbody></table></figure><h3 id="4．说明算法-PartSelect-的平均时间复杂性为O-n-。"><a href="#4．说明算法-PartSelect-的平均时间复杂性为O-n-。" class="headerlink" title="4．说明算法 PartSelect 的平均时间复杂性为O(n) 。"></a>4．说明算法 PartSelect 的平均时间复杂性为O(n) 。</h3><p>1)当 $n=$ 1时, 取 $C \geq R(1)$, 则保证 $c \geq C / 4$ 即可满足 $R(1) \leq C \leq 4 c$.<br>2)设对任意 $m&lt;n, R(m) \leq 4 c n$ 都成立, 且不妨设 $R(n)=\max <em>{k}\left(C</em>{A}^{k}(n)\right)=C_{A}^{k_{n}}(n)$,<br>$$<br>\begin{aligned}<br>R(n) &amp; \leq c n+\frac{1}{n}\left(R(n-1)+\ldots+R\left(n-k_{n}+1\right)\right)+\left(R\left(k_{n}\right)+R\left(k_{n}+1\right)+\ldots+R(n-1)\right) \<br>&amp; \leq c n+\frac{4 c}{n}\left((n-1)+\ldots+\left(n-k_{n}+1\right)\right)+\left(k_{n}+\ldots+(n-1)\right) \<br>&amp; \leq c n+\frac{4 c}{n}\left(\frac{\left(k_{n}-1\right)\left(2 n-k_{n}\right)}{2}+\frac{\left(n-k_{n}\right)\left(k_{n}+n-1\right)}{2}\right) \<br>&amp; \leq c n-\frac{4 c}{n}\left(k_{n}^{2}-(n+1) k_{n}-\frac{n^{2}-3 n}{2}\right) \leq c n-\frac{4 c}{n}\left(-\left(\frac{n+1}{2}\right)^{2}-\frac{n^{2}-3 n}{2}\right) \<br>&amp; \leq c n+c \frac{3 n^{2}-4 n+1}{n} \leq c n+c(3 n-3) \<br>&amp; \leq 4 c n<br>\end{aligned}<br>$$</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>算法第五章作业</title>
    <url>/category/%E7%AE%97%E6%B3%95%E7%AC%AC%E4%BA%94%E7%AB%A0%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="1-最大子段和问题-给定整数序列-a-1-a-2-cdots-a-n-求该序列形如-sum-k-i-j-a-k-的子段和的最大值"><a href="#1-最大子段和问题-给定整数序列-a-1-a-2-cdots-a-n-求该序列形如-sum-k-i-j-a-k-的子段和的最大值" class="headerlink" title="1.最大子段和问题: 给定整数序列 $a_{1}, a_{2}, \cdots, a_{n}$, 求该序列形如 $\sum_{k=i}^{j} a_{k}$ 的子段和的最大值:"></a>1.最大子段和问题: 给定整数序列 $a_{1}, a_{2}, \cdots, a_{n}$, 求该序列形如 $\sum_{k=i}^{j} a_{k}$ 的子段和的最大值:</h3><p>$\max \left{0, \max <em>{1 \leq i \leq j \leq n} \sum</em>{k=i}^{j} a_{k}\right}$</p><p>1）已知一个简单算法如下，试分析该算法的时间复杂性。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Maxsum</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> a,<span class="keyword">int</span>&amp; besti,<span class="keyword">int</span>&amp; bestj)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">int</span> suma = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;=n;j++)</span><br><span class="line">		{</span><br><span class="line">			suma + = a[j];</span><br><span class="line">			<span class="keyword">if</span>(suma &gt; sum)</span><br><span class="line">			{</span><br><span class="line">				sum = suma;</span><br><span class="line">				besti = i;</span><br><span class="line">				bestj = j;</span><br><span class="line">			}	</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>有两个for循环，可知时间复杂度为 $O\left(n^{2}\right)$</p><p>2）试用分治算法解最大子段和问题，并分析算法的时间复杂性。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MaxSubsequenceSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span>   </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (left == right)          <span class="comment">// 设置基准，即递归终止条件</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">array</span>[left];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> middle = (left + right) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> leftMaxSubsequenceSum = MaxSubsequenceSum(<span class="built_in">array</span>, left, middle);     <span class="comment">// 求左半部分最大子序列和</span></span><br><span class="line">    <span class="keyword">int</span> rightMaxSubsquenceSum = MaxSubsequenceSum(<span class="built_in">array</span>, middle + <span class="number">1</span>, right);    <span class="comment">// 求右半部分最大子序列和</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理左右边界问题：最大子序列跨越中间，包含左半部分最右一个数，同时包含右半部分最左一个数</span></span><br><span class="line">    <span class="keyword">int</span> maxLeftBorderSum = <span class="number">0</span>;   </span><br><span class="line">    <span class="keyword">int</span> maxRightBorderSum = <span class="number">0</span>;  </span><br><span class="line">    <span class="keyword">int</span> tempSum = <span class="number">0</span>;        <span class="comment">// 临时求和变量</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = middle;i &gt;= left;i--)</span><br><span class="line">    {</span><br><span class="line">        tempSum += <span class="built_in">array</span>[i];</span><br><span class="line">        <span class="keyword">if</span> (tempSum &gt; maxLeftBorderSum)</span><br><span class="line">            maxLeftBorderSum = tempSum;     <span class="comment">// 左边包含边界最大序列和</span></span><br><span class="line">    }</span><br><span class="line">    tempSum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = middle + <span class="number">1</span>;i &lt; right;i++)</span><br><span class="line">    {</span><br><span class="line">        tempSum += <span class="built_in">array</span>[i];</span><br><span class="line">        <span class="keyword">if</span> (tempSum &gt; maxRightBorderSum)</span><br><span class="line">            maxRightBorderSum = tempSum;    <span class="comment">// 右边包含边界最大序列和</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> maxBorderSum = maxRightBorderSum + maxLeftBorderSum;        <span class="comment">// 最大边界子序列和等于两部分边界之和</span></span><br><span class="line">    <span class="keyword">return</span> max3(leftMaxSubsquenceSum, maxBorderSum, rightMaxSubsquenceSum);         <span class="comment">// 返回三个部分的最大子序列和</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>该算法所需的计算时间 $\mathrm{T}(\mathrm{n})$ 满足典型的分治算汇递归分式 $\mathrm{T}(\mathrm{n})=2 \mathrm{~T}(\mathrm{n} / 2)+0(\mathrm{n})$, 分治算法的时间复杂度为 $\mathrm{O}(\mathrm{n} \operatorname{logn})$</li></ul><p>3）试说明最大子段和问题具有最优子结构性质, 并设计一个动态规划算法解最大子段和问题。分析算法的时间复杂度。（提示：令 $b(j)=\max <em>{1 \leq i \leq i \leq n} \sum</em>{k=i}^{j} a_{k}$, $j=1,2, \cdots, n)$</p><ul><li>若 $b(j-1)&gt;0, b(j)=b(j-1)+a_{j} \mathbf{;}$<br>若 $b(j-1) \leq 0, b(j)=a_{j} 。$</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MaxSubsequenceSum</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> A[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> tempSum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> maxSum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; n;j++)   <span class="comment">// 子问题后边界</span></span><br><span class="line">    {</span><br><span class="line">        tempSum = (tempSum + A[j]) &gt; A[j] ? (tempSum + A[j]) : A[j];</span><br><span class="line">        <span class="keyword">if</span> (tempSum &gt; maxSum)   <span class="comment">// 更新最大和</span></span><br><span class="line">            maxSum = tempSum;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> maxSum;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-双机调度问题-用两台处理机-mathrm-A-和-mathrm-B-处理-n-个作业。设第-mathrm-i-个作业交给-机器-mathrm-A-处理时所需要的时间是-a-i-若由机器-mathrm-B-来处理-则所需要的时间是-b-i-。-现在要求每个作业只能由一台机器处理-每台机器都不能同时处理两个作业。设-计一个动态规划算法-使得这两台机器处理完这-n-个作业的时间最短（从任何一-台机器开工到最后一台机器停工的总的时间-。以下面的例子说明你的算法"><a href="#2-双机调度问题-用两台处理机-mathrm-A-和-mathrm-B-处理-n-个作业。设第-mathrm-i-个作业交给-机器-mathrm-A-处理时所需要的时间是-a-i-若由机器-mathrm-B-来处理-则所需要的时间是-b-i-。-现在要求每个作业只能由一台机器处理-每台机器都不能同时处理两个作业。设-计一个动态规划算法-使得这两台机器处理完这-n-个作业的时间最短（从任何一-台机器开工到最后一台机器停工的总的时间-。以下面的例子说明你的算法" class="headerlink" title="2.(双机调度问题) 用两台处理机 $\mathrm{A}$ 和 $\mathrm{B}$ 处理 $n$ 个作业。设第 $\mathrm{i}$ 个作业交给 机器 $\mathrm{A}$ 处理时所需要的时间是 $a_{i}$, 若由机器 $\mathrm{B}$ 来处理, 则所需要的时间是 $b_{i}$ 。 现在要求每个作业只能由一台机器处理, 每台机器都不能同时处理两个作业。设 计一个动态规划算法, 使得这两台机器处理完这 $n$ 个作业的时间最短（从任何一 台机器开工到最后一台机器停工的总的时间)。以下面的例子说明你的算法:"></a>2.(双机调度问题) 用两台处理机 $\mathrm{A}$ 和 $\mathrm{B}$ 处理 $n$ 个作业。设第 $\mathrm{i}$ 个作业交给 机器 $\mathrm{A}$ 处理时所需要的时间是 $a_{i}$, 若由机器 $\mathrm{B}$ 来处理, 则所需要的时间是 $b_{i}$ 。 现在要求每个作业只能由一台机器处理, 每台机器都不能同时处理两个作业。设 计一个动态规划算法, 使得这两台机器处理完这 $n$ 个作业的时间最短（从任何一 台机器开工到最后一台机器停工的总的时间)。以下面的例子说明你的算法:</h3><p>$n=6,\left(a_{1}, a_{2}, a_{3}, a_{4}, a_{5}, a_{6}\right)=(2,5,7,10,5,2),\left(b_{1}, b_{2}, b_{3}, b_{4}, b_{5}, b_{6}\right)=(3,8,4,11,3,4)$</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> a &lt; b ? a : b;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">6</span>] = {<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">2</span>};</span><br><span class="line">    <span class="keyword">int</span> b[<span class="number">6</span>] = {<span class="number">3</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">4</span>};</span><br><span class="line">    <span class="keyword">int</span> sum_a = <span class="number">0</span>, sum_b = <span class="number">0</span>, T = <span class="number">0</span>, n = <span class="number">6</span>;</span><br><span class="line">	<span class="comment">//sum_a记录a机器完成任务的时间</span></span><br><span class="line">    <span class="comment">//sum_b记录b机器完成任务的时间</span></span><br><span class="line">    <span class="comment">//T为总时间</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        T = <span class="built_in">max</span>(T, <span class="built_in">min</span>(sum_a + a[i - <span class="number">1</span>], sum_b + b[i - <span class="number">1</span>]));</span><br><span class="line">        <span class="keyword">if</span> (sum_a + a[i - <span class="number">1</span>] &gt; sum_b + b[i - <span class="number">1</span>])</span><br><span class="line">        {</span><br><span class="line">            sum_b += b[i - <span class="number">1</span>];</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"任务"</span> &lt;&lt; i &lt;&lt; <span class="string">"分配给B做"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            sum_a += a[i - <span class="number">1</span>];</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"任务"</span> &lt;&lt; i &lt;&lt; <span class="string">"分配给A做"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"总时间是："</span> &lt;&lt; T &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-考虑下面特殊的整数线性规划问题"><a href="#3-考虑下面特殊的整数线性规划问题" class="headerlink" title="3.考虑下面特殊的整数线性规划问题"></a>3.考虑下面特殊的整数线性规划问题</h3><p>$$<br>\begin{aligned}<br>&amp;\max \sum_{i=1}^{n} c_{i} x_{i} \<br>&amp;\sum_{i=1}^{n} a_{i} x_{i} \leq b, \quad x_{i} \in{0,1,2}, 1 \leq i \leq n<br>\end{aligned}<br>$$<br>试设计一个解此问题的动态规划算法, 并分析算法的时间复杂度。</p><ul><li><p>可看成近似0/1背包问题，$c_{i}$为第i件商品的价值，$x_{i}$为取（0/1/2）次第i件商品，$a_{i}$为第i件商品的重量</p></li><li><p>然后将这个问题转换成0/1背包问题</p><p>$d p[i][j]=\left{\begin{array}{l}0 ,i=0或j=0 \ d p[i-1][j] ,a[i]&gt;j\ \max (d p[i-1][j], d p[i-1][j-a[i]+c[i]]) ,a[i]&lt;j&lt;2<em>a[i]\ \max (d p[i-1][j], d p[i-1][j-a[i]]+c[i], d p[i-1][j-2 a[i]]+2 c[i]),2</em>a[i]\leq j\leq b\end{array}\right.$</p></li><li><p>0/1背包算法的时间复杂度为$\mathrm{O}(\mathrm{bn} )$</p></li></ul><h3 id="4-可靠性设计-一个系统由-mathrm-n-级设备串联而成-为了增强可靠性-每级都可能并联了不止一台同样的设备。假设第-mathrm-i-级设备-mathrm-D-mathrm-i-用了-mathrm-m-mathrm-i-台-该级设备的可靠性是-mathrm-g-i-left-mathrm-m-mathrm-i-right-则这个系统的可靠性是-Pi-mathrm-g-i-left-mathrm-m-mathrm-i-right-。一般来说-mathrm-g-i-left-mathrm-m-mathrm-i-right-都是递增函数-所以每级用的设备越多系统的可靠性越高。但是设备都是有成本的-假定设备-mathrm-D-mathrm-i-的成本是-mathrm-c-mathrm-i-，设计该系统允许的投资不超过-mathrm-c-，那么，该如何设计该系统（即-各级采用多少设备）使得这个系统的可靠性最高。试设计一个动态规划算法求解-可靠性设计问题。"><a href="#4-可靠性设计-一个系统由-mathrm-n-级设备串联而成-为了增强可靠性-每级都可能并联了不止一台同样的设备。假设第-mathrm-i-级设备-mathrm-D-mathrm-i-用了-mathrm-m-mathrm-i-台-该级设备的可靠性是-mathrm-g-i-left-mathrm-m-mathrm-i-right-则这个系统的可靠性是-Pi-mathrm-g-i-left-mathrm-m-mathrm-i-right-。一般来说-mathrm-g-i-left-mathrm-m-mathrm-i-right-都是递增函数-所以每级用的设备越多系统的可靠性越高。但是设备都是有成本的-假定设备-mathrm-D-mathrm-i-的成本是-mathrm-c-mathrm-i-，设计该系统允许的投资不超过-mathrm-c-，那么，该如何设计该系统（即-各级采用多少设备）使得这个系统的可靠性最高。试设计一个动态规划算法求解-可靠性设计问题。" class="headerlink" title="4.可靠性设计: 一个系统由 $\mathrm{n}$ 级设备串联而成, 为了增强可靠性, 每级都可能并联了不止一台同样的设备。假设第 $\mathrm{i}$ 级设备 $\mathrm{D}{\mathrm{i}}$ 用了 $\mathrm{m}{\mathrm{i}}$ 台, 该级设备的可靠性是 $\mathrm{g}{i}\left(\mathrm{~m}{\mathrm{i}}\right)$, 则这个系统的可靠性是 $\Pi \mathrm{g}{i}\left(\mathrm{~m}{\mathrm{i}}\right)$ 。一般来说 $\mathrm{g}{i}\left(\mathrm{~m}{\mathrm{i}}\right)$ 都是递增函数, 所以每级用的设备越多系统的可靠性越高。但是设备都是有成本的, 假定设备 $\mathrm{D}{\mathrm{i}}$ 的成本是 $\mathrm{c}{\mathrm{i}}$，设计该系统允许的投资不超过 $\mathrm{c}$，那么，该如何设计该系统（即 各级采用多少设备）使得这个系统的可靠性最高。试设计一个动态规划算法求解 可靠性设计问题。"></a>4.可靠性设计: 一个系统由 $\mathrm{n}$ 级设备串联而成, 为了增强可靠性, 每级都可能并联了不止一台同样的设备。假设第 $\mathrm{i}$ 级设备 $\mathrm{D}<em>{\mathrm{i}}$ 用了 $\mathrm{m}</em>{\mathrm{i}}$ 台, 该级设备的可靠性是 $\mathrm{g}<em>{i}\left(\mathrm{~m}</em>{\mathrm{i}}\right)$, 则这个系统的可靠性是 $\Pi \mathrm{g}<em>{i}\left(\mathrm{~m}</em>{\mathrm{i}}\right)$ 。一般来说 $\mathrm{g}<em>{i}\left(\mathrm{~m}</em>{\mathrm{i}}\right)$ 都是递增函数, 所以每级用的设备越多系统的可靠性越高。但是设备都是有成本的, 假定设备 $\mathrm{D}<em>{\mathrm{i}}$ 的成本是 $\mathrm{c}</em>{\mathrm{i}}$，设计该系统允许的投资不超过 $\mathrm{c}$，那么，该如何设计该系统（即 各级采用多少设备）使得这个系统的可靠性最高。试设计一个动态规划算法求解 可靠性设计问题。</h3><ul><li><p>问题可转化为:<br>目标:<br>$$<br>\max \left(\Pi_{i=1}^{n} \mathrm{<del>g}_{i}\left(\mathrm{</del>m}<em>{\mathrm{i}}\right)\right)<br>$$<br>约束条件:<br>$$<br>\sum</em>{i=1}^{n} m_{i} c_{i} \leq c<br>$$</p></li><li><p>${i}$表示第${i}$级，${j}$表示每格背包的容量,每一级至少有一个设备，先将这每一级的一个设备统计排除出来：$c_{sum}=\sum_{i=1}^{n} c_{i}$，然后可以转换成分组背包问题，每一级设备可以取0-n次</p></li></ul><p>$$<br>d p[i][j]=\left{\begin{array}{l}1 ,i=0或j=0 \ d p[i-1][j] ,c[i]&gt;j\ \max (d p[i-1][j], d p[i-1][j-k<em>c[i]]</em>\mathrm{g}<em>{i}\left(k+1\right)),k<em>c[i]&lt;j&lt;(k+1)</em>c[i],(k \geq 1) \ \max (d p[i-1][j], d p[i-1][j-(k+1)<em>c[i]]</em>\mathrm{g}</em>{i}\left(k+2\right)),(k+1)*c[i]&lt;j&lt;c_{sum},(k \geq 1) \end{array}\right.<br>$$</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>篮球笔记</title>
    <url>/category/%E7%AF%AE%E7%90%83/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="射球"><a href="#射球" class="headerlink" title="射球"></a>射球</h3><ul><li>新式不要90°，60°</li><li>三指投球，两指抓住球，手腕用力</li><li>放在头部这个位置，然后举上去，练习下腕<ul><li>不脱手</li><li>抛出去站在原地能接到球</li></ul></li><li>手腕要直，c字型</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/20/T7YFGSyI9gxqmJr.png" alt="image.png" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/20/4zbpn3cdCJMTW7q.png" alt="image.png" style="zoom:33%"><h3 id="运球"><a href="#运球" class="headerlink" title="运球"></a>运球</h3><h4 id="背后运球过人"><a href="#背后运球过人" class="headerlink" title="背后运球过人"></a>背后运球过人</h4><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/3mxWQGs9Ot7NZDe.png" alt="image.png" style="zoom:33%"><h4 id="后拉过人"><a href="#后拉过人" class="headerlink" title="后拉过人"></a>后拉过人</h4><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/SZJjIvXHAUxKycs.png" alt="image.png" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/tRxAYlIjPOSK2Tc.png" alt="image.png" style="zoom:33%"><h4 id="转身过人"><a href="#转身过人" class="headerlink" title="转身过人"></a>转身过人</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/dLUc2khKXG6lz7M.gif" alt="1"></p><h4 id="胯下运球过人"><a href="#胯下运球过人" class="headerlink" title="胯下运球过人"></a>胯下运球过人</h4><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/NDqI1vPi3lhYCt2.png" alt="image.png" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/tdKaAe6rGFhwCZx.png" alt="image.png" style="zoom:33%"><h4 id="cosover"><a href="#cosover" class="headerlink" title="cosover"></a>cosover</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/yiSpvVw8g6O5R9T.gif" alt="2"></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>运动</category>
      </categories>
      <tags>
        <tag>篮球</tag>
      </tags>
  </entry>
  <entry>
    <title>算法第六章作业</title>
    <url>/category/%E7%AE%97%E6%B3%95%E7%AC%AC%E5%85%AD%E7%AB%A0%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="2-工作分配问题。设有-n-件工作需要分配给-n-个人去完成。将工作-i-分配-给第-mathrm-j-个人完成所需要的费用为-mathrm-c-mathrm-ij-。-试设计一个算法-为每一个人分配一件不同的工作，并使总费用达到最小。"><a href="#2-工作分配问题。设有-n-件工作需要分配给-n-个人去完成。将工作-i-分配-给第-mathrm-j-个人完成所需要的费用为-mathrm-c-mathrm-ij-。-试设计一个算法-为每一个人分配一件不同的工作，并使总费用达到最小。" class="headerlink" title="2. 工作分配问题。设有 $n$ 件工作需要分配给 $n$ 个人去完成。将工作 $i$ 分配 给第 $\mathrm{j}$ 个人完成所需要的费用为 $\mathrm{c}_{\mathrm{ij}}$ 。 试设计一个算法, 为每一个人分配一件不同的工作，并使总费用达到最小。"></a>2. 工作分配问题。设有 $n$ 件工作需要分配给 $n$ 个人去完成。将工作 $i$ 分配 给第 $\mathrm{j}$ 个人完成所需要的费用为 $\mathrm{c}_{\mathrm{ij}}$ 。 试设计一个算法, 为每一个人分配一件不同的工作，并使总费用达到最小。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//i表示第i个人，j表示第j个任务,fee[i][j]表示第i个人完成第j个任务的费用。</span></span><br><span class="line"><span class="comment">//work[j] = i表示第j个任务分配给第i个人完成，若为0，则表示该任务现在还没有访问/分配</span></span><br><span class="line"><span class="comment">//best_plan保存最优分配情况</span></span><br><span class="line"><span class="comment">//temp_sum临时存储费用和</span></span><br><span class="line"><span class="comment">//sum存储最优费用和</span></span><br><span class="line"><span class="comment">//q存储所有方案，若多个方案费用和相同，则都存储</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt;&gt;q;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; <span class="title">fee</span><span class="params">(<span class="number">100</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">100</span>, <span class="number">0</span>))</span></span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;work(<span class="number">100</span>, <span class="number">0</span>), best_plan(<span class="number">100</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">int</span> temp_sum = <span class="number">0</span>, sum = <span class="number">1000000</span>, n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (i &gt; n || temp_sum &gt; sum) <span class="comment">//到了叶节点或在中间如果超过了sum，就回退到树的父节点</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (temp_sum &lt; sum)</span><br><span class="line">        {</span><br><span class="line">            sum = temp_sum;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">            {</span><br><span class="line">                best_plan[k] = work[k];</span><br><span class="line">            }</span><br><span class="line">            q = <span class="built_in">queue</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt;&gt;(); <span class="comment">//清空队列</span></span><br><span class="line">            q.push(best_plan);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (temp_sum == sum)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">            {</span><br><span class="line">                best_plan[k] = work[k];</span><br><span class="line">            }</span><br><span class="line">            q.push(best_plan);</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (work[j] == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            work[j] = i;</span><br><span class="line">            temp_sum += fee[i][j];</span><br><span class="line">            backtracking(i + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            temp_sum -= fee[i][j]; <span class="comment">//回溯</span></span><br><span class="line">            work[j] = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; fee[i][j];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    backtracking(<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"最小费用为："</span> &lt;&lt; sum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; q.size() &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">size</span> = q.<span class="built_in">size</span>();  <span class="comment">//存储队列大小，不然一边pop，size会变</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">size</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; i &lt;&lt; <span class="string">"种分配情况为："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (q.front()[j])</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; q.front()[j] &lt;&lt; <span class="string">"个人完成第"</span> &lt;&lt; j &lt;&lt; <span class="string">"个任务"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-最佳调度问题。假设有-mathrm-n-个任务要由-mathrm-k-个可并行工作的机器来完成。完成任务-mathrm-i-需要的时间为-mathrm-t-mathrm-i-circ-试设计一个算法找出完成这-mathrm-n-个任务的最佳调度-使得完成全部任务的结束时间最早。"><a href="#3-最佳调度问题。假设有-mathrm-n-个任务要由-mathrm-k-个可并行工作的机器来完成。完成任务-mathrm-i-需要的时间为-mathrm-t-mathrm-i-circ-试设计一个算法找出完成这-mathrm-n-个任务的最佳调度-使得完成全部任务的结束时间最早。" class="headerlink" title="3. 最佳调度问题。假设有 $\mathrm{n}$ 个任务要由 $\mathrm{k}$ 个可并行工作的机器来完成。完成任务 $\mathrm{i}$ 需要的时间为 $\mathrm{t}_{\mathrm{i} \circ}$ 试设计一个算法找出完成这 $\mathrm{n}$ 个任务的最佳调度, 使得完成全部任务的结束时间最早。"></a>3. 最佳调度问题。假设有 $\mathrm{n}$ 个任务要由 $\mathrm{k}$ 个可并行工作的机器来完成。完成任务 $\mathrm{i}$ 需要的时间为 $\mathrm{t}_{\mathrm{i} \circ}$ 试设计一个算法找出完成这 $\mathrm{n}$ 个任务的最佳调度, 使得完成全部任务的结束时间最早。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//t[j]表示机器完成第j个任务所需要的时间</span></span><br><span class="line"><span class="comment">//T表示完成总时间</span></span><br><span class="line"><span class="comment">//temp_T临时存储完成总时间</span></span><br><span class="line"><span class="comment">//each_sum_t表示每个机器的完成任务的时间</span></span><br><span class="line"><span class="comment">//work[j] = i表示第j个任务分配给第i个机器完成，若为0，则表示该任务现在还没有访问/分配</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;t(<span class="number">100</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;<span class="keyword">each_sum_t</span>(<span class="number">100</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;work(<span class="number">100</span>, <span class="number">0</span>), best_plan(<span class="number">100</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">int</span> n, k, T = <span class="number">100000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_max_t</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> <span class="keyword">max_t</span> = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (t[i] &gt; <span class="keyword">max_t</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">max_t</span> = t[i];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">max_t</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_max_each_sum_t</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> <span class="keyword">max_t</span> = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">each_sum_t</span>[i] &gt; <span class="keyword">max_t</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">max_t</span> = <span class="keyword">each_sum_t</span>[i];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">max_t</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> j)</span>  <span class="comment">//i表示第i个机器，j表示第j个任务</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> temp_T = <span class="keyword">find_max_each_sum_t</span>();</span><br><span class="line">    <span class="keyword">if</span> (j &gt; n || temp_T &gt; T)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (temp_T &lt; T)</span><br><span class="line">        {</span><br><span class="line">            T = temp_T;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">1</span>; c &lt;= n; c++)</span><br><span class="line">            {</span><br><span class="line">                best_plan[c] = work[c];</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (work[j] == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            work[j] = i;</span><br><span class="line">            <span class="keyword">each_sum_t</span>[i] += t[j];</span><br><span class="line">            backtracking(j + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">each_sum_t</span>[i] -= t[j];</span><br><span class="line">            work[j] = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入任务数：n和机器数：k"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请依次输入每个任务的时间："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; t[i];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (n &lt;= k)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">int</span> min_time = <span class="keyword">find_max_t</span>();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"当任务数小于等于机器数，完成全部任务的最短时间取决于所有任务中的最大时间："</span> &lt;&lt; min_time &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> <span class="comment">//n&gt;k时</span></span><br><span class="line">    {</span><br><span class="line">        backtracking(<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"总时间为："</span> &lt;&lt; T &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; best_plan[i] &lt;&lt; <span class="string">"个机器完成第"</span> &lt;&lt; i &lt;&lt; <span class="string">"个任务"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="5-最小重量机器设计问题。设某一机器由-n-个部件组成-每一种部件都可-以从-m-个不同的供应商处购得。设-w-i-j-是从供应商-j-处购得的部件-i-的重量-c-i-j-是相应的价格。试设计一个算法-给出总价格不超过-mathrm-c-的最小重量机器设计。"><a href="#5-最小重量机器设计问题。设某一机器由-n-个部件组成-每一种部件都可-以从-m-个不同的供应商处购得。设-w-i-j-是从供应商-j-处购得的部件-i-的重量-c-i-j-是相应的价格。试设计一个算法-给出总价格不超过-mathrm-c-的最小重量机器设计。" class="headerlink" title="5. 最小重量机器设计问题。设某一机器由 $n$ 个部件组成, 每一种部件都可 以从 $m$ 个不同的供应商处购得。设 $w_{i j}$ 是从供应商 $j$ 处购得的部件 $i$ 的重量, $c_{i j}$ 是相应的价格。试设计一个算法, 给出总价格不超过 $\mathrm{c}$ 的最小重量机器设计。"></a>5. 最小重量机器设计问题。设某一机器由 $n$ 个部件组成, 每一种部件都可 以从 $m$ 个不同的供应商处购得。设 $w_{i j}$ 是从供应商 $j$ 处购得的部件 $i$ 的重量, $c_{i j}$ 是相应的价格。试设计一个算法, 给出总价格不超过 $\mathrm{c}$ 的最小重量机器设计。</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//i表示第i个供应商，j表示第j个部件</span></span><br><span class="line"><span class="comment">//w[i][j]表示第i个供应商提供第j个部件的重量</span></span><br><span class="line"><span class="comment">//c[i][j]表示第i个供应商提供第j个部件的价格</span></span><br><span class="line"><span class="comment">//work[j] = i表示第j个部件由第i个供应商提供</span></span><br><span class="line"><span class="comment">//best_plan存储最佳方案</span></span><br><span class="line"><span class="comment">//q存储所有方案，若多个方案费用和相同，则都存储</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, c_max, temp_sum_w = <span class="number">0</span>, sum_w = <span class="number">100000</span>, temp_sum_c = <span class="number">0</span>, sum_c;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;w(<span class="number">100</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">100</span>, <span class="number">0</span>));</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;c(<span class="number">100</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">100</span>, <span class="number">0</span>));</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;work(<span class="number">100</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;best_plan(<span class="number">100</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt;&gt;q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span> (j &gt; n || temp_sum_c &gt; c_max || temp_sum_w &gt; sum_w)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (temp_sum_c &lt;= c_max)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (temp_sum_w &lt; sum_w)</span><br><span class="line">            {</span><br><span class="line">                sum_c = temp_sum_c;</span><br><span class="line">                sum_w = temp_sum_w;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">                {</span><br><span class="line">                    best_plan[k] = work[k];</span><br><span class="line">                }</span><br><span class="line">                q = <span class="built_in">queue</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt;&gt;(); <span class="comment">//清空队列</span></span><br><span class="line">                q.push(best_plan);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (temp_sum_w == sum_w)</span><br><span class="line">            {</span><br><span class="line">                sum_c = temp_sum_c;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">                {</span><br><span class="line">                    best_plan[k] = work[k];</span><br><span class="line">                }</span><br><span class="line">                q.push(best_plan);</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (work[j] == <span class="number">0</span>)</span><br><span class="line">        {</span><br><span class="line">            work[j] = i;   <span class="comment">//work后面也为0，所以需注意return位置</span></span><br><span class="line">            temp_sum_w += w[i][j];</span><br><span class="line">            temp_sum_c += c[i][j];</span><br><span class="line">            backtracking(j + <span class="number">1</span>);</span><br><span class="line">            temp_sum_c -= c[i][j];</span><br><span class="line">            temp_sum_w -= w[i][j];</span><br><span class="line">            work[j] = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入部件数：n,供应商数：m,最大价格和：c_max"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; c_max;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请依次输入第"</span> &lt;&lt; i &lt;&lt; <span class="string">"个供应商提供部件的重量："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w[i][j];</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"请依次输入第"</span> &lt;&lt; i &lt;&lt; <span class="string">"个供应商提供部件的价格："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; c[i][j];</span><br><span class="line"></span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    backtracking(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"总价格不超过"</span> &lt;&lt; c_max &lt;&lt; <span class="string">"时的总价格："</span> &lt;&lt; sum_c &lt;&lt; <span class="string">"此时最小重量为："</span> &lt;&lt; sum_w &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">size</span> = q.<span class="built_in">size</span>();  <span class="comment">//存储队列大小，不然一边pop，size会变</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">size</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; i &lt;&lt; <span class="string">"种分配情况为："</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (q.front()[j])</span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"第"</span> &lt;&lt; q.front()[j] &lt;&lt; <span class="string">"个供应商提供第"</span> &lt;&lt; j &lt;&lt; <span class="string">"个部件"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"-------------------------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>算法第四章作业</title>
    <url>/category/%E7%AE%97%E6%B3%95%E7%AC%AC%E5%9B%9B%E7%AB%A0%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="1-设有-n-个顾客同时等待一项服务。顾客-i-需要的服务时间为-t-i-1-leq-i-leq-n-。应该如何安排-n-个顾客的服务次序才能使总的等待时间达到最小？总的等待时间是各顾客等待服务的时间的总和。试给出你的做法的理由（证明）。"><a href="#1-设有-n-个顾客同时等待一项服务。顾客-i-需要的服务时间为-t-i-1-leq-i-leq-n-。应该如何安排-n-个顾客的服务次序才能使总的等待时间达到最小？总的等待时间是各顾客等待服务的时间的总和。试给出你的做法的理由（证明）。" class="headerlink" title="1. 设有 n 个顾客同时等待一项服务。顾客 i 需要的服务时间为$t_{i}, 1 \leq i \leq n$ 。应该如何安排 n 个顾客的服务次序才能使总的等待时间达到最小？总的等待时间是各顾客等待服务的时间的总和。试给出你的做法的理由（证明）。"></a>1. 设有 n 个顾客同时等待一项服务。顾客 i 需要的服务时间为$t_{i}, 1 \leq i \leq n$ 。应该如何安排 n 个顾客的服务次序才能使总的等待时间达到最小？总的等待时间是各顾客等待服务的时间的总和。试给出你的做法的理由（证明）。</h3><h4 id="策略："><a href="#策略：" class="headerlink" title="策略："></a>策略：</h4><ul><li>题目要求平均等待的时间最短，即时间越短应被计算次数越多，所以对服务时间最短的顾客先服务的贪心选择策略，做完第一次选择后，原问题T变成了需对n—1个顾客服务的新问题T’，规模一直缩小，符合贪心算法。</li></ul><h4 id="证明："><a href="#证明：" class="headerlink" title="证明："></a>证明：</h4><ul><li>按照服务时间递增的次序排序后，得到服务顾客的顺序为$\dot{J}<em>{1}, \dot{J}</em>{2}, \ldots, j_{n}$，$T=(n-1) t_{i_{1}}+(n-2) t_{j_{2}}+\Lambda+2 t_{j_{h-2}}+t_{i_{h-1}}$, 则在总等待时间 $\mathrm{T}$ 中 $t_{i 1}$ 的权重(n-1)最大, $t_{i 1}$最小。故让所需时间少的顾客先得到服务可以减少总等待时间。</li></ul><h3 id="2．-字符-a-h-出现的频率分布恰好是前-8-个-Fibonacci-数，它们的-Huffman编码是什么？将结果推广到-n-个字符的频率分布恰好是前-n-个-Fibonacci-数的情形。-Fibonacci-数的定义为：-F-0-1-F-1-1-F-n-F-n-2-mid-F-n-1-if-n-gt-1"><a href="#2．-字符-a-h-出现的频率分布恰好是前-8-个-Fibonacci-数，它们的-Huffman编码是什么？将结果推广到-n-个字符的频率分布恰好是前-n-个-Fibonacci-数的情形。-Fibonacci-数的定义为：-F-0-1-F-1-1-F-n-F-n-2-mid-F-n-1-if-n-gt-1" class="headerlink" title="2． 字符 a ~ h 出现的频率分布恰好是前 8 个 Fibonacci 数，它们的 Huffman编码是什么？将结果推广到 n 个字符的频率分布恰好是前 n 个 Fibonacci 数的情形。 Fibonacci 数的定义为： $F_{0}=1, F_{1}=1, F_{n}=F_{n-2} \mid+F_{n-1}$ if $n>1$"></a>2． 字符 a ~ h 出现的频率分布恰好是前 8 个 Fibonacci 数，它们的 Huffman编码是什么？将结果推广到 n 个字符的频率分布恰好是前 n 个 Fibonacci 数的情形。 Fibonacci 数的定义为： $F_{0}=1, F_{1}=1, F_{n}=F_{n-2} \mid+F_{n-1}$ if $n&gt;1$</h3><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2021/10/26/ltVLq7MdaQ5SbIr.png" alt="image.png"></p><ul><li>$\mathrm{a}$ 的编码为 : 1111111</li><li>b 的编码为 : 1111110</li><li>$c$ 的编码为 : 111110</li><li>$d$ 的编码为: 11110</li><li>$e$ 的编码为: 1110</li><li>f的编码为 : 110</li><li>$g$ 的编码为: 10</li><li>$\mathrm{h}$ 的编码为 : 0</li></ul><h4 id="推广到n个字符"><a href="#推广到n个字符" class="headerlink" title="推广到n个字符"></a>推广到n个字符</h4><ul><li>第一个字符：(n-1)个1</li><li>第二个字符：(n-2)个1，1个0</li><li>第三个字符：(n-3)个1，1个0</li><li>… …</li><li>第n-1个字符：10</li><li>第n个字符：0</li></ul><h3 id="3-设-p-1-p-2-cdots-p-n-是准备存放到长为-L-的磁带上的-mathrm-n-个程序-程序-p-i-需要的-带长为-a-i-。设-sum-i-1-n-a-i-gt-L-要求选取一个能放在带上的程序的最大子集合（即其中-含有最多个数的程序）-Q-。构造-Q-的一种贪心策略是按-a-i-的非降次序将程序计入-集合。"><a href="#3-设-p-1-p-2-cdots-p-n-是准备存放到长为-L-的磁带上的-mathrm-n-个程序-程序-p-i-需要的-带长为-a-i-。设-sum-i-1-n-a-i-gt-L-要求选取一个能放在带上的程序的最大子集合（即其中-含有最多个数的程序）-Q-。构造-Q-的一种贪心策略是按-a-i-的非降次序将程序计入-集合。" class="headerlink" title="3. 设 $p_{1}, p_{2}, \cdots, p_{n}$ 是准备存放到长为 $L$ 的磁带上的 $\mathrm{n}$ 个程序, 程序 $p_{i}$ 需要的 带长为 $a_{i}$ 。设 $\sum_{i=1}^{n} a_{i}>L$, 要求选取一个能放在带上的程序的最大子集合（即其中 含有最多个数的程序） $Q$ 。构造 $Q$ 的一种贪心策略是按 $a_{i}$ 的非降次序将程序计入 集合。"></a>3. 设 $p_{1}, p_{2}, \cdots, p_{n}$ 是准备存放到长为 $L$ 的磁带上的 $\mathrm{n}$ 个程序, 程序 $p_{i}$ 需要的 带长为 $a_{i}$ 。设 $\sum_{i=1}^{n} a_{i}&gt;L$, 要求选取一个能放在带上的程序的最大子集合（即其中 含有最多个数的程序） $Q$ 。构造 $Q$ 的一种贪心策略是按 $a_{i}$ 的非降次序将程序计入 集合。</h3><h4 id="1-证明这一策略总能找到最大子集-Q-使得-sum-p-i-in-Q-a-i-leq-L-。"><a href="#1-证明这一策略总能找到最大子集-Q-使得-sum-p-i-in-Q-a-i-leq-L-。" class="headerlink" title="1.证明这一策略总能找到最大子集 $Q$, 使得 $\sum_{p_{i} \in Q} a_{i} \leq L$ 。"></a>1.证明这一策略总能找到最大子集 $Q$, 使得 $\sum_{p_{i} \in Q} a_{i} \leq L$ 。</h4><ol><li><p>证明: 不妨设 $a_{1} \leq a_{2} \leq \ldots \leq a_{n}$, 若该贪心策略构造的子集合 $Q$ 为 $\left{a_{1}, a_{2}, …, a_{s}\right}$,<br>则 $s$ 满足 $\sum_{i=1}^{s} a_{i} \leq L, \sum_{i=1}^{s} a_{s}+a_{s+1}&gt;L_{\circ}$<br>要证明能找到最大子集, 只需说明 $s$ 为可包含的最多程序段数即可。<br>即证不存在多于 $s$ 个的程序集合 $\tilde{Q}=\left{a_{i_{1}}, a_{i_{2}}, …, a_{i_{k}}\right},(k&gt;s)$, 使得 $\sum_{D_{i} \in D} a_{i} \leq L$ 。</p><p>反证法, 假䏜存在多于 $s$ 个的程序集 $\widetilde{Q}=\left{a_{i_{1}}, a_{i_{2}}, …, a_{i_{k}}\right},(k&gt;s)$, 满足 $\sum_{j=1}^{k} a_{i_{j}} \leq L_{\circ}$<br>因为 $a_{1} \leq a_{2} \leq \ldots \leq a_{n}$ 非降序排列, 则 $a_{1}+a_{2}+… +a_{s}+…+a_{k} \leq a_{i_{1}}+a_{i_{2}}+…+a_{i_{k}} \leq L$.<br>因为 $k&gt;s$ 且为整数, 则其前 $s+1$ 项满足 $a_{1}+a_{2}+… +a_{s}+a_{s+1} \leq L_{\circ}$<br>这与贪心策略构告的子集和 $Q$ 中 $\mathrm{s}$ 满足的 $\sum_{i=1}^{s} a_{s}+a_{s+1}&gt;L$ 矛盾。故假设不成立, 得证。</p></li></ol><h4 id="2-设-Q-是使用上述贪心算法得到的子集合-磁带的利用率可以小到何种程度"><a href="#2-设-Q-是使用上述贪心算法得到的子集合-磁带的利用率可以小到何种程度" class="headerlink" title="2. 设 $Q$ 是使用上述贪心算法得到的子集合, 磁带的利用率可以小到何种程度?"></a>2. 设 $Q$ 是使用上述贪心算法得到的子集合, 磁带的利用率可以小到何种程度?</h4><p>2) 磁带的利用率为 $\sum_{D_{i} \in Q} a_{i} / L ;$; 甚至最小可为 0, 此时任意 $a_{i}&gt;L$ 或者 $\left.\sum_{D_{i} \in Q} a_{i} \ll&lt;L\right)$</p><h4 id="3-试说明-1-中提到的设计策略不一定得到使-sum-p-i-in-Q-a-i-L-取最大值的子集合。"><a href="#3-试说明-1-中提到的设计策略不一定得到使-sum-p-i-in-Q-a-i-L-取最大值的子集合。" class="headerlink" title="3. 试说明 1)中提到的设计策略不一定得到使 $\sum_{p_{i} \in Q} a_{i} / L$ 取最大值的子集合。"></a>3. 试说明 1)中提到的设计策略不一定得到使 $\sum_{p_{i} \in Q} a_{i} / L$ 取最大值的子集合。</h4><p>3)按照 1）的策略可以使磁带上的程序数量最多, 但程序的总长度不一定是最大 的, 假设 $\left{a_{1}, a_{2},…, a_{i}\right}$ 为 $\mathrm{Q}$ 的最大子集, 但是若用 $a_{i+1}$ 代替 $a_{i}$, 仍满足 $\sum_{k=1}^{i-1} a_{k}+a_{i+1}&lt;L$, 则 $\left{a_{1}, a_{2},…, a_{i-1}, a_{i+1}\right}$ 为总长度更优子集。</p><h3 id="4-写出-Huffman-编码的伪代码-并编程实现。"><a href="#4-写出-Huffman-编码的伪代码-并编程实现。" class="headerlink" title="4. 写出 Huffman 编码的伪代码, 并编程实现。"></a>4. 写出 Huffman 编码的伪代码, 并编程实现。</h3><p>$$<br>\begin{aligned}<br>&amp;\text { procedure Huffman }(f) \<br>&amp;\text { Input: An array } f[1 \ldots n] \text { of frequencies } \<br>&amp;\text { Output: An encoding tree with } n \text { leaves } \<br>&amp;\text { let } H \text { be a priority queue of integers, ordered by } f \<br>&amp;\text { for } i=1 \text { to } n: \text { insert }(H, i) \<br>&amp;\text { for } k=n+1 \text { to } 2 n-1: \<br>&amp;i=\text { deletemin }(H), \quad j=\text { deletemin }(H) \<br>&amp;\text { create a node numbered } k \text { with children } i, j \<br>&amp;f[k]=f[i]+f[j] \<br>&amp;\text { insert }(H, k)<br>\end{aligned}<br>$$</p><p>实现：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> {</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">char</span> c; <span class="comment">//表示字符</span></span><br><span class="line">    <span class="keyword">int</span> frequency; <span class="comment">//表示该字符出现的次数或频率</span></span><br><span class="line">    Node *left;</span><br><span class="line">    Node *right;</span><br><span class="line"> </span><br><span class="line">    Node(<span class="keyword">char</span> _c, <span class="keyword">int</span> f, Node *l = <span class="literal">NULL</span>, Node *r = <span class="literal">NULL</span>)</span><br><span class="line">      :c(_c), frequency(f), left(l), right(r) { }</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Node &amp;node) <span class="keyword">const</span> { <span class="comment">//重载&lt;运算法以至于在加入优先队列的时候决定如何处理结点位置</span></span><br><span class="line">      <span class="keyword">return</span> frequency &gt; node.frequency;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initNode</span><span class="params">(priority_queue&lt;Node&gt; &amp;q, <span class="keyword">int</span> nodeNum)</span> </span>{</span><br><span class="line">  <span class="keyword">char</span> c;</span><br><span class="line">  <span class="keyword">int</span> frequency;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nodeNum; i++) {</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"输入字符和结点出现的次数: "</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; c &gt;&gt; frequency;</span><br><span class="line">    <span class="function">Node <span class="title">node</span><span class="params">(c, frequency)</span></span>;</span><br><span class="line">    q.push(node);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showNode</span><span class="params">(priority_queue&lt;Node&gt; q)</span> </span>{</span><br><span class="line">  <span class="keyword">while</span> (!q.empty()) {</span><br><span class="line">    Node node = q.top(); q.pop();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; node.c &lt;&lt; <span class="string">", "</span> &lt;&lt; node.frequency &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="comment">//构造哈夫曼树</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">huffmanTree</span><span class="params">(priority_queue&lt;Node&gt; &amp;q)</span> </span>{</span><br><span class="line">  <span class="keyword">while</span> (q.<span class="built_in">size</span>() != <span class="number">1</span>) {</span><br><span class="line">    Node *left = <span class="keyword">new</span> Node(q.top()); q.pop();</span><br><span class="line">    Node *right = <span class="keyword">new</span> Node(q.top()); q.pop();</span><br><span class="line"> </span><br><span class="line">    <span class="function">Node <span class="title">node</span><span class="params">(<span class="string">'R'</span>, left-&gt;frequency + right-&gt;frequency, left, right)</span></span>;</span><br><span class="line">    q.push(node);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">// 打印哈夫曼编码</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">huffmanCode</span><span class="params">(Node *root, <span class="built_in">string</span> &amp;prefix, <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">string</span>&gt; &amp;result)</span> </span>{</span><br><span class="line">  <span class="built_in">string</span> m_prefix = prefix;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">if</span> (root-&gt;left == <span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//处理左子树</span></span><br><span class="line">  prefix += <span class="string">"0"</span>;</span><br><span class="line">  <span class="comment">//如果是叶子结点则输出,否则递归打印左子树</span></span><br><span class="line">  <span class="keyword">if</span> (root-&gt;left-&gt;left == <span class="literal">NULL</span>)</span><br><span class="line">    result[root-&gt;left-&gt;c] = prefix;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; root-&gt;left-&gt;c &lt;&lt; ": " &lt;&lt; prefix &lt;&lt; endl;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    huffmanCode(root-&gt;left, prefix, result);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//还原原来的路径,回溯</span></span><br><span class="line">  prefix = m_prefix;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//处理右子树</span></span><br><span class="line">  prefix += <span class="string">"1"</span>;</span><br><span class="line">  <span class="comment">//如果是叶子结点，则输出, 否则递归打印右子树</span></span><br><span class="line">  <span class="keyword">if</span> (root-&gt;right-&gt;right == <span class="literal">NULL</span>)</span><br><span class="line">    result[root-&gt;right-&gt;c] = prefix;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; root-&gt;right-&gt;c &lt;&lt; ": " &lt;&lt; prefix &lt;&lt; endl;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    huffmanCode(root-&gt;right, prefix, result);</span><br><span class="line"> </span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testResult</span><span class="params">(<span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">string</span>&gt; result)</span> </span>{</span><br><span class="line">  <span class="comment">//迭代map容器</span></span><br><span class="line">  <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">string</span>&gt;::const_iterator it = result.<span class="built_in">begin</span>();</span><br><span class="line">  <span class="keyword">while</span> (it != result.<span class="built_in">end</span>()) {</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="string">": "</span> &lt;&lt; it-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    ++it;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">  priority_queue&lt;Node&gt; q;</span><br><span class="line">  <span class="keyword">int</span> nodeNum;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//初始化字符信息</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"请输入结点个数: "</span>;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; nodeNum;</span><br><span class="line">  initNode(q, nodeNum);</span><br><span class="line">  <span class="comment">//showNode(q);</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">//构造哈夫曼树</span></span><br><span class="line">  huffmanTree(q);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//构造哈夫曼编码</span></span><br><span class="line">  Node root = q.top();</span><br><span class="line">  <span class="built_in">string</span> prefix = <span class="string">""</span>;</span><br><span class="line">  <span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="built_in">string</span>&gt; result;</span><br><span class="line">  huffmanCode(&amp;root, prefix, result);</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//检验结果是否正确</span></span><br><span class="line">  testResult(result);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="6-说明最优生成树问题具有拟阵结构，并给出赋值函数，解释-Prim-算法和Kruskal-算法都能求得最优解。"><a href="#6-说明最优生成树问题具有拟阵结构，并给出赋值函数，解释-Prim-算法和Kruskal-算法都能求得最优解。" class="headerlink" title="6.说明最优生成树问题具有拟阵结构，并给出赋值函数，解释 Prim 算法和Kruskal 算法都能求得最优解。"></a>6.说明最优生成树问题具有拟阵结构，并给出赋值函数，解释 Prim 算法和Kruskal 算法都能求得最优解。</h3><ul><li><p>假定 $M(L, S)$ 是一个加权拟阵, 加权函数 $w$ ，且 $L$ 已经按照权重单调递减顺序排序。令 $x$ 是 $L$ 中第一个满足 ${x}$ 独立的元素(如果存在)。如果存在这样的 $x$ ，那存在 $L$ 的一 个最优子集 $A$ 包含 $x$ 。</p><ul><li>证: 若假设 $A^{\prime}$ 是最优子集， $A$ 不是最优子集， $A^{\prime}$ 中 $x$ 换成 $y$ ，因为 $x$ 是降序排序 的第一个元素，所以 $w(x)&gt;w(y), A^{\prime}=A-x+y$ 。所以 $w\left(A^{\prime}\right)=w(A)-w(x)+w(y)&lt;w(A)$, 假设不成立，最优子集必定包含 $x$ 。</li><li>令 $M(L, S)$ 是一个加权拟阵, $x$ 是 $L$ 中第一个被上述算法选出的元素，则接下来寻找包 含 $x$ 的最大权重独立子集的问题1归结于寻找加权拟阵 $M\left(L^{\prime}, S^{\prime}\right)$ 的一个最大权重独立子集的<br>问题，其中满足 $L^{\prime}={y \in L:{x, y \in S}}, S^{\prime}={B \subset L-{x}: B \cup{x} \in S}$</li></ul></li><li><p>证: 若 $A$ 是 $M$ 的任意一个包含 $x$ 的最大权独立子集，则 $A^{\prime}=A-x$ 是 $M^{\prime}$ 的独立 子集 (传递性) ; 任意独立子集 $A^{\prime}$ 可生成独立子集 $A=A^{\prime} \cup{x}$ 。由于对两种情况均 有 $w(A)=w\left(A^{\prime}\right)+w(x)$,因此 $M$ 的包含 $x$ 的最大权子集必然生成 $M^{\prime}$ 的最大权子 集，反之依然。</p></li></ul><p>在图拟阵上, 定义吅权函数 $w^{\prime}(x)=w_{0}-w(x), w(x)$ 为边 $x$ 权值， $w_{0}=\max (w(x))+1, \quad w^{\prime}(x)&gt;0 。 w^{\prime}(x)$ 最大时 $w(x)$ 最小。<br>根据之前的算法, 我们得到的贪心是: 将边权从小到大排序，如果加入后当前边集仍然无环那么就加入它。<br>然后我们就发现把斜体字用并查集实现就和 Kruskal 完全一致，Kruskal和该拟阵贪心算法是等 价的，自然是正确的。同理可得Prim也是能求得最优解的。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>类和对象</title>
    <url>/category/%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h1><a id="more"></a><h2 id="1、面向对象的思想、定义格式、class与struct比较"><a href="#1、面向对象的思想、定义格式、class与struct比较" class="headerlink" title="1、面向对象的思想、定义格式、class与struct比较"></a>1、面向对象的思想、定义格式、class与struct比较</h2><h3 id="面向对象思想：三兄弟住店的例子-从面向过程与面向对象两个方面去理解，对象通过彼此之间的交互，状态发生改变"><a href="#面向对象思想：三兄弟住店的例子-从面向过程与面向对象两个方面去理解，对象通过彼此之间的交互，状态发生改变" class="headerlink" title="面向对象思想：三兄弟住店的例子,从面向过程与面向对象两个方面去理解，对象通过彼此之间的交互，状态发生改变"></a>面向对象思想：三兄弟住店的例子,从面向过程与面向对象两个方面去理解，对象通过彼此之间的交互，状态发生改变</h3><ul><li>类<br>数据成员(属性)<br>成员函数(操作/行为)</li></ul><h3 id="定义形式"><a href="#定义形式" class="headerlink" title="定义形式"></a>定义形式</h3><ul><li>class 类名{public: protected: private: };</li></ul><h3 id="类的实现"><a href="#类的实现" class="headerlink" title="类的实现"></a>类的实现</h3><ul><li>类的实现就是类的成员函数的实现</li></ul><h3 id="类的使用"><a href="#类的使用" class="headerlink" title="类的使用"></a>类的使用</h3><ul><li>通过类创建对象，然后调用类的成员函数</li></ul><h3 id="封装性的体现"><a href="#封装性的体现" class="headerlink" title="封装性的体现"></a>封装性的体现</h3><ul><li><p>在类外不能访问类的private数据成员与成员函数</p><ul><li>引申出类的内部</li></ul></li></ul><h3 id="class默认权限是私有的，struct默认权限是公有的，struct在C-中是做了扩展的"><a href="#class默认权限是私有的，struct默认权限是公有的，struct在C-中是做了扩展的" class="headerlink" title="class默认权限是私有的，struct默认权限是公有的，struct在C++中是做了扩展的"></a>class默认权限是私有的，struct默认权限是公有的，struct在C++中是做了扩展的</h3><h3 id="代码规范的讲解"><a href="#代码规范的讲解" class="headerlink" title="代码规范的讲解"></a>代码规范的讲解</h3><ul><li>public，private修饰区域，在代码中写的地方</li><li>成员函数、成员变量的写法</li><li>重要性</li></ul><h3 id="在类外部定义成员函数"><a href="#在类外部定义成员函数" class="headerlink" title="在类外部定义成员函数"></a>在类外部定义成员函数</h3><ul><li>形式：加类名与作用域限定符</li></ul><h3 id="头文件与实现文件分开，放在头文件与实现文件中进行编译"><a href="#头文件与实现文件分开，放在头文件与实现文件中进行编译" class="headerlink" title="头文件与实现文件分开，放在头文件与实现文件中进行编译"></a>头文件与实现文件分开，放在头文件与实现文件中进行编译</h3><ul><li>1、工程比较大，不可能就一个文件</li><li>2、在类内部实现的成员函数是inline函数</li></ul><h2 id="2、对象的创建与销毁"><a href="#2、对象的创建与销毁" class="headerlink" title="2、对象的创建与销毁"></a>2、对象的创建与销毁</h2><h3 id="对象的创建：构造函数"><a href="#对象的创建：构造函数" class="headerlink" title="对象的创建：构造函数"></a>对象的创建：构造函数</h3><ul><li>形式：函数名与类名相同，没有返回值，但是可以传参数，所以构造函数可以重载的</li><li>作用：完成数据成员的初始化</li><li>默认情况下，系统会提供一个默认(无参)的构造函数</li></ul><h3 id="初始化表达式"><a href="#初始化表达式" class="headerlink" title="初始化表达式"></a>初始化表达式</h3><ul><li>真正初始化数据成员的地方</li><li>数据成员的初始化顺序，只与数据声明的顺序有关，与其在初始化表达式中的顺序无关</li></ul><h3 id="对象的销毁：析构函数"><a href="#对象的销毁：析构函数" class="headerlink" title="对象的销毁：析构函数"></a>对象的销毁：析构函数</h3><ul><li><p>形式：函数名与类名相同，并带一个取反符号；没有返回值，没有参数，具有唯一性，不支持函数重载</p></li><li><p>作用：完成对象的销毁，执行清理任务，如：Computer堆内存的释放</p></li><li><p>默认情况，系统会自动提供析构函数，但是可能没有作用</p></li><li><p>使用：可以显示调用，但是不建议显示使用，可能造成释放后还在使用，转到Computer例子，继续使用打印函数看打印结果</p><ul><li>Computer带两个参数构造函数的参数解释_brand</li></ul></li><li><p>析构函数的调用时机，全局对象、栈对象、静态对象、堆对象</p></li></ul><h2 id="3、拷贝构造函数"><a href="#3、拷贝构造函数" class="headerlink" title="3、拷贝构造函数"></a>3、拷贝构造函数</h2><h3 id="形式：类名-const-类名-amp-rhs-，例如-Point-const-Point-amp-rhs"><a href="#形式：类名-const-类名-amp-rhs-，例如-Point-const-Point-amp-rhs" class="headerlink" title="形式：类名(const 类名 &amp;rhs)，例如:Point(const Point &amp;rhs)"></a>形式：类名(const 类名 &amp;rhs)，例如:Point(const Point &amp;rhs)</h3><h3 id="默认情况下编译器会自动提供一个"><a href="#默认情况下编译器会自动提供一个" class="headerlink" title="默认情况下编译器会自动提供一个"></a>默认情况下编译器会自动提供一个</h3><ul><li><p>浅拷贝</p><ul><li>Point例子，只有基本内置类型</li></ul></li><li><p>深拷贝</p><ul><li>Computer例子，内含指针</li></ul></li></ul><h3 id="调用时机三种"><a href="#调用时机三种" class="headerlink" title="调用时机三种"></a>调用时机三种</h3><ul><li><p>1、一个已经存在对象复制给一个新对象</p></li><li><p>2、行参和实参都是对象，形参与实参结合</p></li><li><p>3、函数返回值是对象，函数调用完成返回</p><ul><li>编译器优化g++ Point3.cpp -fno-elide-constructors</li></ul></li></ul><h3 id="提问：拷贝构造函数的引用与const可以去掉吗？"><a href="#提问：拷贝构造函数的引用与const可以去掉吗？" class="headerlink" title="提问：拷贝构造函数的引用与const可以去掉吗？"></a>提问：拷贝构造函数的引用与const可以去掉吗？</h3><ul><li><p>如果去掉引用符号，形参是对象，会无穷递归调用拷贝构造函数</p></li><li><p>const不能去掉，当传递右值(临时对象)，无法调用拷贝构造函数</p><ul><li><p>右值</p><ul><li><p>不能取地址</p><ul><li>临时对象</li><li>匿名对象</li><li>字面值常量</li></ul></li></ul></li><li><p>左值</p><ul><li>可以取地址</li></ul></li></ul></li></ul><h2 id="4、this指针"><a href="#4、this指针" class="headerlink" title="4、this指针"></a>4、this指针</h2><h3 id="本质：指向对象本身"><a href="#本质：指向对象本身" class="headerlink" title="本质：指向对象本身"></a>本质：指向对象本身</h3><h3 id="位置：隐藏在于每个非静态的成员函数的第一个参数处"><a href="#位置：隐藏在于每个非静态的成员函数的第一个参数处" class="headerlink" title="位置：隐藏在于每个非静态的成员函数的第一个参数处"></a>位置：隐藏在于每个非静态的成员函数的第一个参数处</h3><h3 id="形式：指针本身-指向-不能修改，是：指针常量-const"><a href="#形式：指针本身-指向-不能修改，是：指针常量-const" class="headerlink" title="形式：指针本身(指向)不能修改，是：指针常量 *const"></a>形式：指针本身(指向)不能修改，是：指针常量 *const</h3><h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><ul><li>例子:pt.print(&amp;pt)或者Point::print(&amp;pt)</li></ul><h2 id="5、赋值运算符函数"><a href="#5、赋值运算符函数" class="headerlink" title="5、赋值运算符函数"></a>5、赋值运算符函数</h2><h3 id="形式：类名-amp-operator-const-类名-amp-rhs-，例如：Point-amp-operator-const-Point-amp-rhs"><a href="#形式：类名-amp-operator-const-类名-amp-rhs-，例如：Point-amp-operator-const-Point-amp-rhs" class="headerlink" title="形式：类名 &amp; operator=(const 类名 &amp;rhs)，例如：Point &amp;operator=(const Point &amp;rhs)"></a>形式：类名 &amp; operator=(const 类名 &amp;rhs)，例如：Point &amp;operator=(const Point &amp;rhs)</h3><h3 id="默认情况下，编译器会提供一个赋值运算符函数"><a href="#默认情况下，编译器会提供一个赋值运算符函数" class="headerlink" title="默认情况下，编译器会提供一个赋值运算符函数"></a>默认情况下，编译器会提供一个赋值运算符函数</h3><h3 id="返回值类型"><a href="#返回值类型" class="headerlink" title="返回值类型"></a>返回值类型</h3><ul><li><p>返回值必须为引用，否则会符合拷贝构造函数的调用时机，增大开销，且执行完毕后左操作数是存在的</p></li><li><p>返回值不能为void</p><ul><li>连等pt1 = pt2 = pt3</li></ul></li></ul><h3 id="完整的实现形式"><a href="#完整的实现形式" class="headerlink" title="完整的实现形式"></a>完整的实现形式</h3><ul><li><p>“四部曲”</p><ul><li>自复制</li><li>释放左操作数</li><li>深拷贝(包含空间的申请)</li><li>返回*this</li></ul></li><li><p>注意左操作数与右操作数的提醒</p></li></ul><h2 id="6、特殊数据成员的初始化"><a href="#6、特殊数据成员的初始化" class="headerlink" title="6、特殊数据成员的初始化"></a>6、特殊数据成员的初始化</h2><h3 id="const成员"><a href="#const成员" class="headerlink" title="const成员"></a>const成员</h3><ul><li>只能在初始化表达式中进行，而且不能在构造函数等任何成员函数内部赋值</li></ul><h3 id="引用reference成员"><a href="#引用reference成员" class="headerlink" title="引用reference成员"></a>引用reference成员</h3><ul><li>只能在初始化表达式中进行初始化</li><li>引用成员占据一个指针空间大小</li></ul><h3 id="类对象成员"><a href="#类对象成员" class="headerlink" title="类对象成员"></a>类对象成员</h3><ul><li>自定义类型创建的对象作为另一个类的对象成员时，必须显示初始化</li></ul><h3 id="static成员"><a href="#static成员" class="headerlink" title="static成员"></a>static成员</h3><ul><li><p>必须在类外进行初始化，被类的所有对象所共享，如果有头文件与实现文件，需要时实现文件进行定义</p></li><li><p>不占类的空间，sizeof测试</p><ul><li>换成double</li><li>内存对齐，专题讲解</li></ul></li></ul><h2 id="7、特殊成员函数"><a href="#7、特殊成员函数" class="headerlink" title="7、特殊成员函数"></a>7、特殊成员函数</h2><h3 id="static成员函数"><a href="#static成员函数" class="headerlink" title="static成员函数"></a>static成员函数</h3><ul><li>静态成员函数没有隐含的this指针</li><li>只能调用静态数据成员与静态成员函数</li><li>如果非要在静态成员函数中访问非静态成员，可以传参</li><li>除了使用对象进行调用，还可以使用类名进行调用静态成员函数</li></ul><h3 id="const成员函数"><a href="#const成员函数" class="headerlink" title="const成员函数"></a>const成员函数</h3><ul><li>const成员函数的this指针类型 const 类名 * const this</li><li>与非const成员函数可以进行重载，且const成员函数不能修改数据成员</li><li>非const对象可以调用两种，但是默认调用非const成员函数</li><li>const对象只能调用const成员函数</li></ul><h2 id="8、对象组织"><a href="#8、对象组织" class="headerlink" title="8、对象组织"></a>8、对象组织</h2><h3 id="const对象"><a href="#const对象" class="headerlink" title="const对象"></a>const对象</h3><ul><li>只能调用const成员函数</li></ul><h3 id="指向对象指针"><a href="#指向对象指针" class="headerlink" title="指向对象指针"></a>指向对象指针</h3><h3 id="对象数组"><a href="#对象数组" class="headerlink" title="对象数组"></a>对象数组</h3><h3 id="堆对象"><a href="#堆对象" class="headerlink" title="堆对象"></a>堆对象</h3><ul><li>单个堆对象</li><li>堆对象数组</li></ul><h2 id="9、单例模式"><a href="#9、单例模式" class="headerlink" title="9、单例模式"></a>9、单例模式</h2><h3 id="要求：通过该类只能创建一个对象"><a href="#要求：通过该类只能创建一个对象" class="headerlink" title="要求：通过该类只能创建一个对象"></a>要求：通过该类只能创建一个对象</h3><ul><li>不能是栈对象</li><li>只能是堆对象，且在类内部</li></ul><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ul><li><p>只要出现全局对象的地方都可以使用单例模式</p></li><li><p>全局唯一的资源</p><ul><li>配置文件、网页库、字典库、日志系统写的日志对象</li></ul></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>经典话术结构</title>
    <url>/category/%E7%BB%8F%E5%85%B8%E8%AF%9D%E6%9C%AF%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="8c1597817990d89023eccec8f6665210b24b0bdc6f05f8f82ef2dc5a1c94d736">dc5294f86077a33d455e26d0204bd060f7929b55521ad4f9f68749362f9415cb6cd8dc4c1a131d508060392fed0667f451511d94dc96ffec7c5bb5ca659e5dfd3416a9d02ee5871fc26f39c65c286972100ce2a2d04d57b0c189337c3f3767f7df0c32fd2914586781c9b328f8f9474bd51c23ff4921d10a789c67496df61fafea00a804250dc05db3920ec71ab3672c481ed6cabe6ce5694a6bbdffbcbad0927dabc994432c0e2adf91fa23d159b15afcefd4db5ddef82a4b98a86b0394d2e8a02f864037e794d896112928dee737b0be1e4cc6b5593115c6d798d432a22d2d2cd5fb0fe908433e65144f7ff01f1f5ff80c646016fe939159eca7f9f08dc5ffd137442519dc7201a949c81b46bf9a52efc470db297edbef1870ff4ec392a7e1584b77eb89be8d00e41f3b922bb4c64dee95bd027181bd5e7f3fe684cfcad46777f5087dfc95a4abeb60677b5adbb532ba1b38000823a568cace1c2769a632954112c06b9646c1f6e2e5a64789a1bdb2314d15548e1e9f66100dc163ac1f8e67bd9e7b7a357a933a5a81f166c6991208693111c867cb9dcbd197ac9ccac8c80fd75348f73f435be99e31e9854d645a33a2c6f3105503a43816e2b7f609e62fae456543d1a7999454d4487d2a8326d60538e85fa1028f7b8c64bebd30c15ff7bf8b4c3410433b84b5e083270472602378575a7769e22514b861617d287df7eed3ee5ab5d78d0b68a13990ad75ee6182ecbf26635d2c302ebfe6e94db58a1054e098a8bb88f733258d700e27262586f8d3cbe3a02af6c0036f6ca196245b80cc68e2f6dbc958af6b876ec5499278ced1afb7f342e78661cbf11d6de1e823bf1567f4d63395d062854805c33b0e0be4f242cbf7c872e3941fd65657a84a0bd370c979f66c32a44d4d3e34265c0bc3d0c1c11f10d118812e68de26a27665870b4cf4a0dd4db99abb8c22addfeddd8db2933fe42b304571c5360b514d639fd72439d3db9226a6b074878bd2387f24f84e48099a3975bd7f8a39faa886b55f491bdb328e4558b82197de5c2500c179942b6c04948d1b93035077e57cedd0d5d63b44f8f5266fc36bb361aa9ff3e7aab3f9e9242e32866a8dd57e220060a4a9c5152539e9b43fd729afd7d9a426d5e7206ec67e9d352ea24264c18ae3e4889f72657e22859517a07b33893e697144f4209cd818168d80c4e493dfed973a33cf47cbd68823ae293abda84d7de354a76a275af5308b481f916aba3cddc095ccf027aceaf4abd945fd9e98f6b8b421324be3c26cb67cc41d5713d0d981d97af7d07d1ae1c6e69e8f932b84ece0445708c0ccb6805dbdefc59fb386e1e577d12fbfccdac60b3db6c718bd85f4578195f55ef2f187c9b3a41c98446389b68bccc7661bc2517d3552e7a6af67343996c037b048afdfd4f87e04f4eeb0b73c49373e4d9a456e18d6896cac698d169db106da5a802f041267657a76862d6a9b8f8215c92b27c6f3dcca280a8ef15ed4b2895dc0a7cd2a05d3bacd05daa4097a8c2af36c610b58a54096204662bd1e5f03b73f627ee24ded87787f693b3a0775a3d61d819b55580d8b6e7a15cb808dd6c7d67a968d5191871c82c42c2755b89f4413fb622baa10946c15383df4ca762a35d88b12a8657d2cb7ef3059eac0158a5bcc83893313bc13c947ce80b7066a2c16685c667017ab160b4a4cb432f5d2ab4df3160b1fc30ba89da86fa15177f33e901553e6f7b0087fd8538268c75dc87283e3acd66ac2918284efac5ccacd2552664c008c197c9fbcf5d54f0aab6bbd8bf7a02507fbb53a8543d91eda8fa75a6a1997917ffad66e2476faa7ea7216713602a666b4e754f949460a53f424391cb5a00e132b5fa65956a82a006567120bd7f2b728431260683b62f4b15ccfbf3aa37131b45dee9b41f195142b51c5d8b063e4c39d75afa5670beaa91279e0d694c7644ca67a505f2968317aa362a75aaba75ac713e90f639705eee366f667479ad9f1bd47abc935753f23362fe129ad8068f478fcfcdd657dec214cfc7ab3f7b91ac58741f20695401ffa5c096ddc67e53a2a44dfe1b259d8f611b46512f42d518a7caa9e97fcf0edcabf8b78e8b00e01b6f0f7bf08f5effd352153974731a09a2fec7014ce49f6454bb66ca208151fe177e5a6037badfa81bcfb13a5a0c3a22d2926ab2577c9ca607f6346012afdb5a73cec85b53bc6973352369d36fb6de08bf7fe6384e4cfc42006b94b97efae53cd8615eddc5b265d32291f4fcf820e6be975a75aa76e7f1fcaa5ca46a7e5856f13093c2b5f0bec2f0ce7e3910890f98b427ffbcd0bf71b463c6aa810bbf233a570515f154729fd5edc135694407d007e721aa8556b3383f7a8e31c06edd3030a8f065977769f1a6d715ca7c5e8d166fd1bf5ec03ad62f027e4770b41dce65d0f822e8673f88feb8617e7d98721b2f61e90ab6e91d4dafb1ee9b7323a996b69186d116e3016c17efecd09d01f4e0b6d3b46c610d08a5c1bbade5af9791e10079ab1e4f8109596ebac7b5f478bcaec11db9f2f474188c14aad9382625598c487bc415dc96b3dcdf0f4a3a47f195272a0cc75e9d64e1926d9fe56098054b21d20729ea80cbcf06ecea3a25bcacb71444c174eca693788bf46f9575d86b327a03650f7f269569ecba5f2ab59b1453803dae30ef6609a0d6cad2fe2588009025a6ff8dbd7fde93e044fc6e6d3dac624f13d4d1667150e989a5adaf52da45b0c0815947c8b42af8699b15e9d4f9656b94f6ea95dc737f1a438137143c5302f15513ffc02de3c6cf8b437ca1522e571c9dcf55a55b81113c3b7b4e1cc53cbfed01b676613390bfe1885a8209cce0f1ca3c03a4bbcc0615eee569a473789543056f5707fa27d52936fc21b6df5558243a3c71e4d860d464b8550a5ff999a77afd3bd838796b6901f762b2d586f9347dd029f1f4d07ca2b03b08ed8a2699dd36ee97ab72870fa03a14f3f471d2f5b289dd3bb29eac0ae51b834a7f013c7a64460dba32f70e140dbeb078658897f26a6586916ed3ab0701d2fbbb48865c4400403fea25ae2fb5492a021a7b986c42630cfd07958e1ac4882bc070de51c59a15dbbae4e801864d98713a1f9998925bcabc8432b47c2293014b380e5fef7eb8f0c2b12d666799fb0cf32bfc43cc766c0de69097c931b23240c44917e33209605e51f0e2ce9f35a7851c1512f98b9b880dd49d3d72eadd900f73f1f5add8c59ef4ff9bbb8f42f7b1c9e20bc324972e780269ae60836e8a0a6efb20c7c41adff962c17227528a4ca47f27d42219cedfde04d27ccba180e83f516c23344e53667d36d01df63ed82922a8f50907d26904d3d3b0ac097e853f2b02ec313167a7a95d149e9fa04185dcffb7a0d258f1dfe386a92f0438a65ae952100670c2d41d67a942233843603bd9f6f5361ffad9ee1de517817b76af810355ba1bb8a359299fa293f9084c514793302bee6a11d604bdbf433864f392f8fbb01f66bdf6226ef3b1ce0e1e9a8dc6231a910c2071484fb617d0e26efc01c9f4804f6e286a266b8c0001d8221eb900e8cdea21fa3e32f2cc35c03b02e782f598cf8a5805870394ecfaf8b962fdd2085022d70b1d93963b92410078c4f7d6db59ec4ba7a50b6fb15281b6eee2ead9afde72d56acd316ae33b51ab0f433a41dd6c938644dca7986400de51a3e4e642d7ca7ef96eed6e3d4e178e98d0e2e7c2ec25588858d9982b24769ed3f1083ac52b1e5c1b3112c860448fb8cda77fd068b6afdd4078536f63df0207cc39df7265ec4454bb9cd70d529c42249b6c7d43ab08112a315ed1f2059d3edc55ba6121fa60eaffb7de5d74ae83cefff8444fd34ff9c8bd4c4c10b572f2885ae43e301fdad6397c0d2146756a0f7087966de45d309eb06edd60916e8eb17a8a1ecbf6d9a161729ccd2d8f51d4f2ae025fefe0b328f7c5e50e70571812bfcf224436ba81ba8631c9015b3df297c5faa140b9223634b10c3c8b51de507d1370f33fbac70338255b8d26e599383af3591c76112b66a139695f56626e1ba6109d84d951dd9b665717806e671b298c19c2471ffa40916eb8f69103015301631b6291f3bfdc0b08710937f40131c5d16d4eb0310a00dc1d40268b7eea8f50bcda97421c45dff04405d169b639d3f503fcbf5a37f8bb241c56a3d44f1722772249aa0e1cb63026eb485c03cc32a724d0cbc9bc0b8b8c6763704c7ea7674f738e9f4c44dbddddf97a0b0777eebe86bf849c83780ef74289e83dc661ce5acf97007fbc5cfc165da27ed55fa5b413799354c8efe502e747649f1828b0724918b871bc8e876698e970639645afc65a110336aea85e32c12c59d35ac77eff69731a4adb3df8ce2ccf3e89fc88ff1109907958843eb3c282b66d92af4d061f704387355abf99e2d1aa331798bca25efaae0a62262eff2c1595c3e131bee7afb3f6424a473910dfab2bf4c574d8279d0de6fcd5d9aaa8b9b982882312462dfd5c990fa088fe4c25c57a7090904327cb04bd85be8d95e2d0a5c82e165a18fe7b56340cf10a7fa478cce0a4efe294e93c5dd3434e447a1476d2784b7ac5a567c00de14dc336bbca146575b0bcc2fdf19bbbaea13ed6d2ebe2731c7b2503ef168952666056fced6782366c4bb934b38b5fb05362903e363bf933ece9e11a82c00dee66e86cd85b2233697003a71a5cdbaea034b59d10da6757a79b6452c0c122c8071ea80f2f0c2c5ea5d3d4c6888d13e2df68d089fd2c0eb3be9c543410f43d7d40d0e272bb0b967b4c2d9bf13402ed037fd9aae43aa24ba7507380895258063ba06dc305d6b544ab07aedb76fc7a5f2b1ccb336fb34c23c603be7f2bb2a3eb3abc2ea74aba9669793f0ee32fdb10e5a922a2814080f5380fe6328b83eb87249cb0a1ccfb714773b1d32a57822a405e0b3fdb5c1520132212ae81108b98fe1499f9ee4cca0fe8f023b9b46670c7d4e50ebc792051cda4bf317635ad998495a3005982f705c7d25cef744a0210c02c56af0dc72d75501627910e4e1205c58a3aad8631eb514f605a77e9b5e349af186ef16a99c2abaf246ba4ed4d038167d9bb35c60b6bc62530a949355a9e44aad57f8e47300fd8fd6d8a67b5f82cf468de6a21d3d26f004c1d49268ae7d50b9ed6c47c671c1e299eaa13e15b52b3be189cd9f53ce3982732e348d9bbefb53435a45e92f81914f300230d274788cf6f562cd6119f37a457b03d00eba6da6889d71c483ba77e8d256eaf338024bf449757d3b5a7d296834ceddd350f5efdc210264d5e2042365f8545badead91df5707719bcfd15c3c1dd177795f80acc399e03666632f056104a6084d961b72ca5e6dcd8daaf081821175022c69999199d9764524fd3f064a5d1ab8458720f2a120f56e7a3f72b184a302abbebeaec4b1acde1094c73b53fda39d62ef3b7f8532a4e86f41cd097d7748f08b07813b2b35edf127d98bc76d7f0dd5da9ff0e0cbb3c71aa4385b30c42b12de6d3a8dc533153580880125e28f7447a672068c16ae84ae494228371c6f9b95e95cd9834c39ac78cb2d2dffddb725988680bf6e9629fa9747b03dc3ebbd65af69ea5617d38dc74a4ff799412aaf6c2b8aed30a0a130764bb4ec90151a816445145380abc8de335890b844bbb9ac7723585c37ad5d60bc7b47ad851ae35be5ea57f10234585ee8f6d83a3985d7eccfb55bb2bc2d7ae78d3b25c90c8fde7928553c1e6600621b1f9b73dbcb89644306117638f196511339f6ccd9cd7f50fcafe2bd572407c6f524cdab32fb0366b6bca35e8cce344f201cc414a604046d86e591e9e3ef9a394938610bcc3a1f36e1912ea193c459d0aec599cbc0695fb5c7a90eed20f0e4ad181f11ddf2c7d60806902853acc4f1aeb4dce2b50ed6eb3a161c86f643aaf491011327478807078344f4cf77572ec927deb3e91ccb991b549f9465ce27ed7173088dc915dff17d74a693df2d7952b9af8e4429f75462ccc973e89b6331a2979319565708cc2ee041aa86b9f572125dddfc93a543b296907f9dc555bf62cc34e255f51e450dcc69f08927445386da1569b8f827c66e2ce1980935252bdcb22a2</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>道理</category>
      </categories>
  </entry>
  <entry>
    <title>编译程序高级教程</title>
    <url>/category/%E7%BC%96%E8%AF%91%E7%A8%8B%E5%BA%8F%E9%AB%98%E7%BA%A7%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>编译程序高级教程</p></blockquote><a id="more"></a><h2 id="第二周"><a href="#第二周" class="headerlink" title="第二周"></a>第二周</h2><h3 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h3><ol><li><p>面向人的源语言—&gt;面向硬件的目标语言 的等价变换</p></li><li><p>语法：程序的构造规则</p></li><li><p>语义：各个语法成分的含义</p></li><li><p>编译相关工具：</p><pre><code>1. 程序开发环境：
     1. 结构编辑器：对输入进行分析
     2. 调试器</code></pre><ol start="2"><li>自动测试工具</li><li>静态检查器</li><li>动态检查</li></ol></li><li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/bc_1.png"></li><li><p>前端</p><ol><li>词法分析：源程序的字符流—-&gt;token流</li><li>语法分析：根据语法结构，token流—-&gt;语法树</li><li>语义分析：扫描语法树，分析语义的合法性 （静态语义检查，变量/函数）<ol><li>是否声明</li><li>类型是否匹配</li></ol></li></ol></li><li><p>中端 ：中间代码，三地址码SSA</p><ol><li>程序分析</li><li>代码优化</li></ol></li><li><p>后端：生成目标汇编代码</p><ol><li>指令的选择</li><li>特殊指令的调度</li><li>寄存器分配及优化</li></ol></li><li><p>程序总顺序：</p><figure class="highlight jboss-cli"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">.c</span> <span class="params">-----</span>&gt; <span class="string">.i</span>    预处理（导入头文件，宏定义替换）</span><br><span class="line"><span class="string">.i</span> <span class="params">-----</span>&gt; <span class="string">.s</span>    编译生成汇编代码<span class="string">.s</span></span><br><span class="line"><span class="string">.s</span> <span class="params">-----</span>&gt; <span class="string">.o</span>    汇编生成目标文件<span class="string">.o</span></span><br><span class="line"><span class="string">.o</span> <span class="params">-----</span>&gt; 可执行文件  链接<span class="string">.o</span>文件、库文件、引导代码</span><br></pre></td></tr></tbody></table></figure></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>上课笔记</category>
        <category>2021秋季</category>
      </categories>
      <tags>
        <tag>编译原理</tag>
      </tags>
  </entry>
  <entry>
    <title>编程刷题</title>
    <url>/category/%E7%BC%96%E7%A8%8B%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>本准备直接在leetcode上刷题的，咨询室友得知大部分公司面试时是直接在ide上写代码</p><p>leetcode可能只让你实现一个函数 or 方法（比如下面的第一个题实现单链表的反转），但在实际面试时却让你从头开始写（比如结构体单链表节点，自己构建单链表，然后才是实现反转）</p><p>因此，我们有必要自己在ide（比如vscode）上写一遍，记好笔记（比如：看到这题能马上想到实现思路），然后再在leetcode上提交 to pass 检验正确性</p></blockquote><p>​<a id="more"></a></p><h3 id="vscode快捷键"><a href="#vscode快捷键" class="headerlink" title="vscode快捷键"></a>vscode快捷键</h3><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">shift+<span class="literal">tab</span>删除多行缩进</span><br></pre></td></tr></tbody></table></figure><h3 id="腾讯高频题"><a href="#腾讯高频题" class="headerlink" title="腾讯高频题"></a>腾讯高频题</h3><p><strong><a href="https://leetcode-cn.com/problems/reverse-linked-list" target="_blank" rel="noopener">反转链表</a></strong></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> _val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* _<span class="title">next</span>;</span></span><br><span class="line">    Node() : _val(<span class="number">-1</span>), _next(<span class="literal">nullptr</span>){}</span><br><span class="line">    Node(<span class="keyword">int</span> data) :_val(data), _next(<span class="literal">nullptr</span>){}</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertHead</span><span class="params">(Node *L,<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node *pNew = <span class="keyword">new</span> Node(data);</span><br><span class="line">    pNew-&gt;_next = L-&gt;_next;</span><br><span class="line">    L-&gt;_next = pNew;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverseList</span><span class="params">(Node *L)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//空或者一个直接返回</span></span><br><span class="line">    <span class="keyword">if</span>(L-&gt;_next||L-&gt;_next-&gt;_next)</span><br><span class="line">    {</span><br><span class="line">        Node *pre = L-&gt;_next, *p = pre-&gt;_next, *cur;</span><br><span class="line">        pre-&gt;_next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">while</span>(p)</span><br><span class="line">        {</span><br><span class="line">            cur = p-&gt;_next;</span><br><span class="line">            p-&gt;_next = pre;</span><br><span class="line">            pre = p;</span><br><span class="line">            p = cur;</span><br><span class="line">        }</span><br><span class="line">        L-&gt;_next = pre;</span><br><span class="line">    </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Node *L = <span class="keyword">new</span> Node(<span class="number">-1</span>);  <span class="comment">//用堆存才能传过去</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;data)</span><br><span class="line">    {</span><br><span class="line">        insertHead(L, data);</span><br><span class="line">    }</span><br><span class="line">    reverseList(L);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters" target="_blank" rel="noopener">无重复字符的最长子串</a></strong></p><p>暴力法（不可取，但是实在想不出可以在当场面试的时候用）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"></span><br><span class="line"><span class="comment">//外层循环i记录每次的出发点</span></span><br><span class="line"><span class="comment">//内层循环j=i，开始偏移</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> max_len = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">char</span>,<span class="keyword">bool</span>&gt; number;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//外层循环i记录每次的出发点</span></span><br><span class="line">    <span class="comment">//内层循环j=i，开始偏移</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++) <span class="comment">//从i开始的字符串</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">int</span> epoch_max_len = <span class="number">0</span>;  <span class="comment">//长度：从i开始的字符串的最长的无重复字符串</span></span><br><span class="line">        number = {};</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;s.<span class="built_in">size</span>();j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(!number[s[j]])</span><br><span class="line">            {</span><br><span class="line">                number[s[j]] = <span class="literal">true</span>;</span><br><span class="line">                epoch_max_len++;</span><br><span class="line">                <span class="keyword">if</span>(epoch_max_len &gt; max_len)</span><br><span class="line">                {</span><br><span class="line">                    max_len =epoch_max_len;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> max_len;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span>  s = <span class="string">"pwwkew"</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lengthOfLongestSubstring(s);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>滑动窗口 + unordered_map(散列表)</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">max</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复习</span></span><br><span class="line"><span class="comment">//ascii码范围:0~127</span></span><br><span class="line"><span class="comment">//char数=int数+'0' (48)    </span></span><br><span class="line"><span class="comment">//小写字母=大写字母+32</span></span><br><span class="line"><span class="comment">//1. 滑动窗口每次右边j向后滑，s[j]就是新加进滑动窗口的字符</span></span><br><span class="line"><span class="comment">//2. 如果新加的字符与之前滑动窗口的“冲突”（&gt;1）,则左边i向右滑直到不再冲突</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>,<span class="keyword">int</span>&gt; m = {};</span><br><span class="line">    <span class="keyword">int</span> max_length = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1. 滑动窗口每次右边j向后滑，s[j]就是新加进滑动窗口的字符</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;s.<span class="built_in">size</span>();j++)</span><br><span class="line">    {</span><br><span class="line">        m[s[j]]++;</span><br><span class="line">        <span class="comment">//2. 如果新加的字符与之前滑动窗口的“冲突”（&gt;1）,则左边i向右滑直到不再冲突</span></span><br><span class="line">        <span class="keyword">while</span>(m[s[j]]&gt;<span class="number">1</span>)</span><br><span class="line">        {</span><br><span class="line">            m[s[i++]]--;</span><br><span class="line">        }</span><br><span class="line">        max_length = <span class="built_in">max</span>(max_length,j-i+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//max_length = max_length &gt; j-i+1 ? max_length : j-i+1;</span></span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> max_length;</span><br><span class="line">}</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span>  s = <span class="string">"pwwkew"</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lengthOfLongestSubstring(s);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong><a href="https://leetcode-cn.com/problems/lru-cache/" target="_blank" rel="noopener">LRU缓存</a></strong></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"></span><br><span class="line"><span class="comment">//segmentation fault有可能是没有delete释放内存</span></span><br><span class="line"><span class="comment">//单链表都要定义头结点，如果对尾也进行操作，则也要定义尾结点</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//结构体必须定义在前面，后面的函数才能用</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">    {</span></span><br><span class="line">        <span class="keyword">int</span> key,value;</span><br><span class="line">        ListNode *pre,*next;</span><br><span class="line">        ListNode(<span class="keyword">int</span> key,<span class="keyword">int</span> value) :key(key),value(value),pre(<span class="literal">nullptr</span>),next(<span class="literal">nullptr</span>){}</span><br><span class="line">    }*L, *R; <span class="comment">//定义了数据成员：头节点和尾节点</span></span><br><span class="line">    <span class="keyword">int</span> capacity;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,ListNode*&gt; hash;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    LRUCache(<span class="keyword">int</span> num)</span><br><span class="line">    {</span><br><span class="line">        L = <span class="keyword">new</span> ListNode(<span class="number">-1</span>,<span class="number">-1</span>);</span><br><span class="line">        R = <span class="keyword">new</span> ListNode(<span class="number">-1</span>,<span class="number">-1</span>);</span><br><span class="line">        L-&gt;next = R;</span><br><span class="line">        R-&gt;pre = L;</span><br><span class="line">        capacity = num;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(ListNode *p)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        p-&gt;next-&gt;pre = p-&gt;pre;</span><br><span class="line">        p-&gt;pre-&gt;next = p-&gt;next;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertHead</span><span class="params">(ListNode *p)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        p-&gt;next = L-&gt;next;</span><br><span class="line">        L-&gt;next-&gt;pre = p;</span><br><span class="line">        p-&gt;pre = L;</span><br><span class="line">        L-&gt;next = p;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//1. 如果关键字 key 存在于缓存中，则</span></span><br><span class="line">    <span class="comment">//   1.1 从双链表中断开</span></span><br><span class="line">    <span class="comment">//   1.2 放到双链表的最前面</span></span><br><span class="line">    <span class="comment">//   1.2 返回关键字的值， </span></span><br><span class="line">    <span class="comment">//2. 否则返回 -1 </span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span>(hash.count(key))</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">auto</span> p = hash[key];</span><br><span class="line">            <span class="built_in">remove</span>(p);</span><br><span class="line">            insertHead(p); <span class="comment">//因为有头节点，所以不用考虑很多</span></span><br><span class="line">            <span class="keyword">return</span> p-&gt;value;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1.如果关键字 key 已经存在，则变更其数据值 value,从双链表中断开,放到双链表的最前面</span></span><br><span class="line">    <span class="comment">//如果不存在，则向缓存中插入该组 key-value 。</span></span><br><span class="line">    <span class="comment">//如果插入操作导致关键字数量超过 capacity ，则应该 逐出 最久未使用的关键字。</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span>(hash.count(key))</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">auto</span> p = hash[key];</span><br><span class="line">            p-&gt;value = value;</span><br><span class="line">            <span class="built_in">remove</span>(p);</span><br><span class="line">            insertHead(p); <span class="comment">//因为有头节点，所以不用考虑很多</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            ListNode *pNew = (ListNode*)<span class="keyword">new</span> ListNode(key,value);</span><br><span class="line">            insertHead(pNew);</span><br><span class="line">            hash[key] = pNew;</span><br><span class="line">            <span class="keyword">if</span>(hash.<span class="built_in">size</span>() &gt; capacity)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">auto</span> p = R-&gt;pre;</span><br><span class="line">                hash.erase(p-&gt;key);</span><br><span class="line">                <span class="built_in">remove</span>(p);</span><br><span class="line">                <span class="keyword">delete</span>(p);</span><br><span class="line">                </span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    LRUCache *lRUCache = <span class="keyword">new</span> LRUCache(<span class="number">2</span>);</span><br><span class="line">    lRUCache-&gt;<span class="built_in">put</span>(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 缓存是 {1=1}</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">put</span>(<span class="number">2</span>, <span class="number">2</span>); <span class="comment">// 缓存是 {1=1, 2=2}</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">get</span>(<span class="number">1</span>);    <span class="comment">// 返回 1</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">put</span>(<span class="number">3</span>, <span class="number">3</span>); <span class="comment">// 该操作会使得关键字 2 作废，缓存是 {1=1, 3=3}</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">get</span>(<span class="number">2</span>);    <span class="comment">// 返回 -1 (未找到)</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">put</span>(<span class="number">4</span>, <span class="number">4</span>); <span class="comment">// 该操作会使得关键字 1 作废，缓存是 {4=4, 3=3}</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">get</span>(<span class="number">1</span>);    <span class="comment">// 返回 -1 (未找到)</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">get</span>(<span class="number">3</span>);    <span class="comment">// 返回 3</span></span><br><span class="line">    lRUCache-&gt;<span class="built_in">get</span>(<span class="number">4</span>);    <span class="comment">// 返回 4</span></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><a href="https://leetcode-cn.com/problems/sort-an-array/" target="_blank" rel="noopener">排序数组</a></p><p>leetcode上时间上超了，要随机取基准，避免worst case情况</p><p>leetcode上宏定义少用，因为会减慢速度</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">int</span> pivot = nums[left];</span><br><span class="line">        <span class="keyword">while</span>(left&lt;right)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">while</span>(left&lt;right &amp;&amp; nums[right]&gt;=pivot) right--;</span><br><span class="line">            nums[left] = nums[right];</span><br><span class="line">            <span class="keyword">while</span>(left&lt;right &amp;&amp; nums[left]&lt;=pivot) left++;</span><br><span class="line">            nums[right] = nums[left];</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        nums[left] = pivot;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums,<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span>(left&lt;right)</span><br><span class="line">        {    </span><br><span class="line">            swap(nums[left],nums[rand()%(right-left+<span class="number">1</span>)+left]); <span class="comment">//c++内置</span></span><br><span class="line">            <span class="keyword">int</span> pivot = partition(nums,left,right);</span><br><span class="line">            quickSort(nums,left,pivot<span class="number">-1</span>);</span><br><span class="line">            quickSort(nums,pivot+<span class="number">1</span>,right);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">sortArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        srand(time(<span class="literal">NULL</span>));  <span class="comment">//设置种子只需要一次，多次的话耗时</span></span><br><span class="line">        quickSort(nums,<span class="number">0</span>,nums.<span class="built_in">size</span>()<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = {<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">10</span>,<span class="number">7</span>,<span class="number">9</span>};</span><br><span class="line">    Solution s;</span><br><span class="line">    nums = s.sortArray(nums);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.<span class="built_in">size</span>();i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; nums[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><a href="https://leetcode-cn.com/problems/merge-two-sorted-lists/" target="_blank" rel="noopener">合并两个有序链表</a></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span>* <span class="title">next</span>;</span></span><br><span class="line">    ListNode(<span class="keyword">int</span> val) : val(val),next(<span class="literal">nullptr</span>){}</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBefore</span><span class="params">(ListNode* L,<span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ListNode *pNew = <span class="keyword">new</span> ListNode(val);</span><br><span class="line">    pNew-&gt;next = L-&gt;next;</span><br><span class="line">    L-&gt;next = pNew;</span><br><span class="line">}</span><br><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* list1, ListNode* list2)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(list1 == <span class="literal">nullptr</span>) <span class="keyword">return</span> list2;</span><br><span class="line">    <span class="keyword">if</span>(list2 == <span class="literal">nullptr</span>)  <span class="keyword">return</span> list1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(list1-&gt;val &lt; list2-&gt;val)</span><br><span class="line">    {</span><br><span class="line">        list1-&gt;next = mergeTwoLists(list1-&gt;next,list2);</span><br><span class="line">        <span class="keyword">return</span> list1;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    {</span><br><span class="line">        list2-&gt;next = mergeTwoLists(list2-&gt;next,list1);</span><br><span class="line">        <span class="keyword">return</span> list2;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ListNode *L1 = <span class="keyword">new</span> ListNode(<span class="number">-1</span>);  <span class="comment">//头结点</span></span><br><span class="line">    ListNode *L2 = <span class="keyword">new</span> ListNode(<span class="number">-1</span>);  <span class="comment">//头结点</span></span><br><span class="line">    <span class="keyword">int</span> val1,val2;</span><br><span class="line">    <span class="keyword">int</span> n1,n2;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n1&gt;&gt;n2;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n1;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;val1;</span><br><span class="line">        insertBefore(L1,val1);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n2;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;val2;</span><br><span class="line">        insertBefore(L2,val2);</span><br><span class="line">    }    </span><br><span class="line">    ListNode *L = mergeTwoLists(L1,L2);</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong><a href="https://leetcode-cn.com/problems/maximum-subarray/" target="_blank" rel="noopener">最大子数组和</a></strong></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">max</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>,res = INT_MIN;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//以i结尾的最大子数组和</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;nums.<span class="built_in">size</span>();i++)</span><br><span class="line">    {   </span><br><span class="line">        <span class="keyword">if</span>(sum&gt;<span class="number">0</span>) <span class="comment">//如果num[i]之前的序列和大于0</span></span><br><span class="line">        {</span><br><span class="line">            sum += nums[i];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            sum = nums[i];</span><br><span class="line">        }</span><br><span class="line">        res = <span class="built_in">max</span>(sum,res);  <span class="comment">//res记录最大的子数组和</span></span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = {<span class="number">-2</span>,<span class="number">1</span>,<span class="number">-3</span>,<span class="number">4</span>,<span class="number">-1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">-5</span>,<span class="number">4</span>};</span><br><span class="line">    <span class="keyword">int</span> subSum = maxSubArray(nums);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong><a href="https://leetcode-cn.com/problems/add-strings/" target="_blank" rel="noopener">字符串相加</a></strong></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复习</span></span><br><span class="line"><span class="comment">//保证num1比num2长一些</span></span><br><span class="line"><span class="comment">//从个位开始加---&gt;也就是从最后的数开始加，考虑进位</span></span><br><span class="line"><span class="comment">//char数=int数+‘0’(48)</span></span><br><span class="line"><span class="comment">//s += std::to_string(x)   x是int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">addStrings</span><span class="params">(<span class="built_in">string</span> num1, <span class="built_in">string</span> num2)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> len1 = num1.<span class="built_in">size</span>(),len2 = num2.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span>(len1 &lt; len2) swap(num1,num2); <span class="comment">//保证num1比num2长一些</span></span><br><span class="line">    len1 = num1.<span class="built_in">size</span>(),len2 = num2.<span class="built_in">size</span>();  <span class="comment">//1234 +567</span></span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> x,y=<span class="number">0</span>,i,j;</span><br><span class="line">    <span class="keyword">for</span>(i=len1<span class="number">-1</span>,j=len2<span class="number">-1</span>;j&gt;=<span class="number">0</span>;i--,j--)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">int</span> temp = num1[i]+num2[j]+y<span class="number">-96</span>;</span><br><span class="line">        x = temp % <span class="number">10</span>;  </span><br><span class="line">        y = temp / <span class="number">10</span>;  <span class="comment">//进位</span></span><br><span class="line">        s += <span class="built_in">std</span>::to_string(x);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">int</span> temp = num1[i]+y<span class="number">-48</span>;</span><br><span class="line">        x = temp % <span class="number">10</span>;  </span><br><span class="line">        y = temp / <span class="number">10</span>;  <span class="comment">//进位</span></span><br><span class="line">        s += <span class="built_in">std</span>::to_string(x);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span>(y==<span class="number">1</span>) s += <span class="string">'1'</span>;</span><br><span class="line">    reverse(s.<span class="built_in">begin</span>(),s.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> num1 = <span class="string">"9"</span>, num2 = <span class="string">"99"</span>;</span><br><span class="line">    addStrings(num1,num2);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><a href="https://leetcode-cn.com/problems/binary-search/" target="_blank" rel="noopener">二分查找</a></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> len = nums.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> left=<span class="number">0</span>,right=len<span class="number">-1</span>,mid;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(left&lt;=right)</span><br><span class="line">    {</span><br><span class="line">        mid = left+(right-left)/<span class="number">2</span>; <span class="comment">//防止int+int溢出</span></span><br><span class="line">        <span class="keyword">if</span>(target&lt;nums[mid]) right = mid<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(target&gt;nums[mid]) left = mid+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong><a href="https://leetcode-cn.com/problems/string-to-integer-atoi/" target="_blank" rel="noopener">字符串转换函数(atoi)</a></strong></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//边提取边处理</span></span><br><span class="line"><span class="comment">//跳过空格</span></span><br><span class="line"><span class="comment">// 一开始是： - / + / other(就要考虑保持不动)</span></span><br><span class="line"><span class="comment">// 不是数字直接跳出</span></span><br><span class="line"><span class="comment">// 是数字的话，边循环边提取，注意边界的处理情况</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myAtoi</span><span class="params">(<span class="built_in">string</span> s)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">true</span>; <span class="comment">//默认为正数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//跳过空格</span></span><br><span class="line">    <span class="keyword">for</span> (; s[i] == <span class="string">' '</span>; i++);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (s[i] == <span class="string">'-'</span>) flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'+'</span>) {}</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        i--;</span><br><span class="line">    }</span><br><span class="line">    i++;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt; s.<span class="built_in">size</span>(); i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span> (s[i] &gt;= <span class="string">'0'</span> &amp;&amp; s[i] &lt;= <span class="string">'9'</span>)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (flag)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">if</span> (sum &gt; INT_MAX / <span class="number">10</span> || (sum == INT_MAX / <span class="number">10</span> &amp;&amp; s[i] &gt; <span class="string">'7'</span>)) <span class="keyword">return</span> INT_MAX;</span><br><span class="line">                <span class="keyword">else</span> sum = <span class="number">10</span> * sum + (s[i] - <span class="number">48</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">if</span> (sum &lt; INT_MIN / <span class="number">10</span> || (sum == INT_MIN / <span class="number">10</span> &amp;&amp; s[i] &gt; <span class="string">'8'</span>)) <span class="keyword">return</span> INT_MIN;</span><br><span class="line">                <span class="keyword">else</span> sum = <span class="number">10</span> * sum - (s[i] - <span class="number">48</span>);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong><a href="https://leetcode-cn.com/problems/kth-largest-element-in-an-array/" target="_blank" rel="noopener">数组中的第k大元素</a></strong></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> temp = nums[left];</span><br><span class="line">    <span class="keyword">while</span>(left&lt;right)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">while</span>(left&lt;right&amp;&amp;nums[right]&gt;=temp) right--;</span><br><span class="line">        nums[left] = nums[right];</span><br><span class="line">        <span class="keyword">while</span>(left&lt;right&amp;&amp;nums[left]&lt;=temp) left++;</span><br><span class="line">        nums[right] = nums[left];</span><br><span class="line">    }</span><br><span class="line">    nums[left] = temp;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">quickSelect</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    </span><br><span class="line">    swap(nums[left],nums[left+rand()%(right-left+<span class="number">1</span>)]);</span><br><span class="line">    <span class="keyword">int</span> pivot = partition(nums,left,right);</span><br><span class="line">    <span class="keyword">if</span>(pivot&gt;index) <span class="keyword">return</span> quickSelect(nums,left,pivot<span class="number">-1</span>,index);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(pivot&lt;index) <span class="keyword">return</span> quickSelect(nums,pivot+<span class="number">1</span>,right,index);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> nums[index];</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    srand(time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">return</span> quickSelect(nums,<span class="number">0</span>,nums.<span class="built_in">size</span>()<span class="number">-1</span>,nums.<span class="built_in">size</span>()-k);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = {<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">4</span>};</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; findKthLargest(nums,<span class="number">2</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>层序建树，可以折腾的那种~</p><p><a href="https://leetcode-cn.com/problems/binary-tree-level-order-traversal/" target="_blank" rel="noopener">层序遍历</a></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode *left, *right;</span><br><span class="line">    TreeNode() : val(<span class="number">0</span>), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>){}</span><br><span class="line">    TreeNode(<span class="keyword">int</span> val) : val(val), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>){}</span><br><span class="line">    TreeNode(<span class="keyword">int</span> val,TreeNode *left, TreeNode *right) : val(val), left(left), right(right){}</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">levelOrder</span><span class="params">(TreeNode* root)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">queue</span>&lt;TreeNode*&gt; q;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; vec;</span><br><span class="line">    <span class="keyword">if</span>(!root) <span class="keyword">return</span> vec;</span><br><span class="line">    q.push(root);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">int</span> len = q.<span class="built_in">size</span>();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">        {</span><br><span class="line">            TreeNode *s = q.front();</span><br><span class="line">            temp.push_back(s-&gt;val);</span><br><span class="line">            <span class="comment">//cout &lt;&lt; s-&gt;val &lt;&lt; endl;</span></span><br><span class="line">            q.pop();</span><br><span class="line">            <span class="keyword">if</span>(s-&gt;left) q.push(s-&gt;left);</span><br><span class="line">            <span class="keyword">if</span>(s-&gt;right) q.push(s-&gt;right);</span><br><span class="line">        }</span><br><span class="line">        vec.push_back(temp);</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> vec;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> n,val,num_zero=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;TreeNode*&gt; <span class="title">vec</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    TreeNode *root = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//建树，输入值为-1表示是空节点</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n+num_zero;i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; val;</span><br><span class="line">        <span class="keyword">if</span>(val == <span class="number">-1</span>)</span><br><span class="line">        {</span><br><span class="line">            num_zero++;</span><br><span class="line">            vec[i] = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        }</span><br><span class="line">        TreeNode *pNew = <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">        pNew-&gt;val = val;</span><br><span class="line">        vec[i] = pNew;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    root = vec[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//层序建树</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">1</span>;j&lt;n+num_zero;j++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(vec[i])</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(vec[i]-&gt;left == <span class="literal">nullptr</span>) </span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">if</span>(vec[j])</span><br><span class="line">                {</span><br><span class="line">                    vec[i]-&gt;left = vec[j];</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                {</span><br><span class="line">                    i++;</span><br><span class="line">                    j++;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                }</span><br><span class="line">                </span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(vec[i]-&gt;right == <span class="literal">nullptr</span>) </span><br><span class="line">            {</span><br><span class="line">                vec[i]-&gt;right = vec[j];</span><br><span class="line">                i++;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        {</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; temp;</span><br><span class="line">    temp = levelOrder(root);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"["</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;i : temp)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"["</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;j : i)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(j==*(i.<span class="built_in">end</span>()<span class="number">-1</span>)) <span class="built_in">cout</span> &lt;&lt; j;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; j &lt;&lt; <span class="string">","</span>;</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(i==*(temp.<span class="built_in">end</span>()<span class="number">-1</span>)) <span class="built_in">cout</span> &lt;&lt; <span class="string">"]"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">"],"</span>;</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"]"</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><a href="https://leetcode.cn/problems/reverse-nodes-in-k-group/" target="_blank" rel="noopener">K 个一组翻转链表</a></p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt; </span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span>  <span class="title">ListNode</span>* <span class="title">next</span>;</span></span><br><span class="line">    ListNode() : val(<span class="number">-1</span>), next(<span class="literal">nullptr</span>){}</span><br><span class="line">    ListNode(<span class="keyword">int</span> x) : val(x), next(<span class="literal">nullptr</span>){}</span><br><span class="line">    ListNode(<span class="keyword">int</span> x, ListNode* next) : val(x), next(next){}</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lengthOfList</span><span class="params">(ListNode* head)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ListNode* p = head;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(p-&gt;next)</span><br><span class="line">    {</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        len++;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//比如一开始是</span></span><br><span class="line"><span class="comment">// head-&gt;1-&gt;2,tail指向2</span></span><br><span class="line"><span class="comment">//经过反转后，head-&gt;2-&gt;1,tail仍然指向2,不过位置变了</span></span><br><span class="line"><span class="function">ListNode* <span class="title">reverseKGroup</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> <span class="comment">// 12345, 3</span></span></span><br><span class="line"><span class="function"></span>{                                              <span class="comment">// 32145 </span></span><br><span class="line">    <span class="keyword">if</span>(k == <span class="number">1</span>) <span class="keyword">return</span> head;   </span><br><span class="line">                   </span><br><span class="line">    <span class="comment">//leetcode事例前面没头结点，得自己加一个                             </span></span><br><span class="line">    ListNode *pNew = <span class="keyword">new</span> ListNode(<span class="number">-1</span>);</span><br><span class="line">    pNew-&gt;next = head;</span><br><span class="line">    head = pNew;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> len = lengthOfList(head);</span><br><span class="line">    ListNode *pre = head, *p = head-&gt;next, *tail, *cur, *q,*n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt; len/k; i++)</span><br><span class="line">    {</span><br><span class="line">        tail = p;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k<span class="number">-1</span> ;j++)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(j==<span class="number">0</span>) n = tail; <span class="comment">//n保留321指向的1</span></span><br><span class="line">            tail = tail-&gt;next; </span><br><span class="line">        } <span class="comment">//tail指到3</span></span><br><span class="line">        </span><br><span class="line">        cur = tail-&gt;next; <span class="comment">//cur指向4</span></span><br><span class="line">        tail-&gt;next = <span class="literal">nullptr</span>; <span class="comment">//3后指向空</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//头插法</span></span><br><span class="line">        pre-&gt;next = <span class="literal">nullptr</span>; <span class="comment">//插之前一定要断开，不然就循环了</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> m = <span class="number">0</span> ; m &lt; k ; m++)</span><br><span class="line">        {   </span><br><span class="line">            q = p-&gt;next;</span><br><span class="line">            p-&gt;next = pre-&gt;next;</span><br><span class="line">            pre-&gt;next = p;</span><br><span class="line">            p = q;</span><br><span class="line">        }</span><br><span class="line">        pre = n;</span><br><span class="line">        p = cur;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    pre-&gt;next = p;</span><br><span class="line">    <span class="keyword">return</span> head-&gt;next;</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertHead</span><span class="params">(ListNode* head, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    ListNode * pNew = <span class="keyword">new</span> ListNode(data);</span><br><span class="line">    pNew-&gt;next = head-&gt;next;</span><br><span class="line">    head-&gt;next = pNew;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    ListNode *head = <span class="keyword">new</span> ListNode(<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;data)</span><br><span class="line">    {</span><br><span class="line">        insertHead(head,data);</span><br><span class="line">    }</span><br><span class="line">    head = reverseKGroup(head,<span class="number">3</span>);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="三数之和"><a href="#三数之和" class="headerlink" title=" 三数之和"></a><a href="https://leetcode.cn/problems/3sum/" target="_blank" rel="noopener"> 三数之和</a></h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">unordered_map</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::swap;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">queue</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; <span class="title">threeSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result = {};  <span class="comment">//存总结果</span></span><br><span class="line">    <span class="keyword">if</span>(nums.<span class="built_in">size</span>()&lt;<span class="number">3</span>) <span class="keyword">return</span> result;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//排序</span></span><br><span class="line">    sort(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">int</span> L = i+<span class="number">1</span>, R = nums.<span class="built_in">size</span>()<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span>(L&lt;R)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(nums[i]+nums[L]+nums[R]&lt;<span class="number">0</span>) L++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[i]+nums[L]+nums[R]&gt;<span class="number">0</span>) R--;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">            {</span><br><span class="line">                <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">                temp.push_back(nums[i]);</span><br><span class="line">                temp.push_back(nums[L]);</span><br><span class="line">                temp.push_back(nums[R]);</span><br><span class="line">                result.push_back(temp);</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">while</span>(L+<span class="number">1</span> &lt; nums.<span class="built_in">size</span>() &amp;&amp; nums[L] == nums[L+<span class="number">1</span>] &amp;&amp; nums[R] == nums[R<span class="number">-1</span>])</span><br><span class="line">                {</span><br><span class="line">                    L++;</span><br><span class="line">                    R--;</span><br><span class="line">                    <span class="keyword">if</span>(L+<span class="number">1</span> &gt;= R) <span class="keyword">break</span>; <span class="comment">//2 2 2 2</span></span><br><span class="line">                }</span><br><span class="line">                L++;</span><br><span class="line">                R--;</span><br><span class="line">                <span class="keyword">while</span>(i+<span class="number">1</span> &lt; nums.<span class="built_in">size</span>() &amp;&amp; nums[i] == nums[i+<span class="number">1</span>]) <span class="comment">//跳过相同的nums[i]</span></span><br><span class="line">                {</span><br><span class="line">                    i++;</span><br><span class="line">                }</span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// //去重复</span></span><br><span class="line">    <span class="comment">// set&lt;vector&lt;int&gt; &gt;s(result.begin(),result.end());</span></span><br><span class="line">    <span class="comment">// result.assign(s.begin(),s.end());</span></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums = {<span class="number">2</span>,<span class="number">-3</span>,<span class="number">0</span>,<span class="number">-2</span>,<span class="number">-5</span>,<span class="number">-5</span>,<span class="number">-4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">-2</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">-4</span>};</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; result = threeSum(nums);</span><br><span class="line">    <span class="comment">// for(auto &amp;i : result)</span></span><br><span class="line">    <span class="comment">// {</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>刷题</category>
      </categories>
      <tags>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>认识html</title>
    <url>/category/%E8%AE%A4%E8%AF%86html/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>介绍了html骨架结构</p></blockquote><a id="more"></a><h2 id="1-html初识"><a href="#1-html初识" class="headerlink" title="1. html初识"></a>1. html初识</h2><ul><li><p>html指的是超文本标记语言</p></li><li><p>网页元素用<code>html标签</code>描述出来</p></li><li><p>html标签都由&lt;&gt;构成</p><blockquote><p>html有自己的骨架格式：</p></blockquote></li></ul><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2020/03/12/MJEYK2FypbOxUBV.png" alt="pig.png"></p><h3 id="1-1-html标签分类"><a href="#1-1-html标签分类" class="headerlink" title="1.1 html标签分类"></a>1.1 html标签分类</h3><p><strong>分类：</strong></p><ol><li>常规元素（双标签）</li></ol><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span>&gt;</span> 内容 <span class="tag">&lt;/<span class="name">标签名</span>&gt;</span>   比如 <span class="tag">&lt;<span class="name">body</span>&gt;</span>  我是文字  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>空元素（单标签）</li></ol><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> /&gt;</span>  比如 <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="1-2-html标签关系"><a href="#1-2-html标签关系" class="headerlink" title="1.2 html标签关系"></a>1.2 html标签关系</h3><ol><li><p>嵌套关系</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span> <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>并列关系</p></li></ol><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>倡议：</strong></p><blockquote><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">如果两个标签是嵌套关系，子标签最好缩进一个tab单位（<span class="number">4</span>个空格）</span><br><span class="line">如果两个标签是并列关系，子标签最好保持上下对齐</span><br></pre></td></tr></tbody></table></figure></blockquote><h2 id="2-代码开发工具"><a href="#2-代码开发工具" class="headerlink" title="2. 代码开发工具"></a>2. 代码开发工具</h2><p><strong>sublime 生成html骨架小技巧：</strong></p><ul><li>新建文件（ctrl+n）（n是new的意思）</li><li>立马保存（ctrl+s），保存为：文件名.html (注意后缀名为.html)</li><li>输入&lt;/ 可快捷输入</li><li>快捷输入子标签</li><li>快速生成骨架结构<ul><li>html:5 +tab键</li><li>！ +tab键</li><li>输入标签名称+tab 可快速输入完整标签</li></ul></li><li>在浏览器中预览页面<ul><li>右键 在浏览器中打开</li></ul></li></ul><h2 id="3-文档类型"><a href="#3-文档类型" class="headerlink" title="3. 文档类型"></a>3. 文档类型</h2><p><strong>用法：</strong>告诉浏览器按照html5规范解析页面</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="4-页面语言"><a href="#4-页面语言" class="headerlink" title="4. 页面语言"></a>4. 页面语言</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span>  指定html语言种类</span><br></pre></td></tr></tbody></table></figure><ol><li>en 指定语言为英文</li><li>zh-CN 指定语言为中文</li></ol><h2 id="5-字符集"><a href="#5-字符集" class="headerlink" title="5. 字符集"></a>5. 字符集</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>html文件按照UTF-8编码存储，然后浏览器按照编码去解码显示</p><p>几种常见的编码方式：</p><ul><li>gb2312 简单中文 包括6763个汉字 GUO BIAO</li><li>BIG5 繁体中文 港澳台等用</li><li>GBK包含全部中文字符 是GB2312的扩展，加入对繁体字的支持，兼容GB2312</li><li>UTF-8则基本包含全世界所有国家需要用到的字符</li><li><strong>这句代码非常关键， 是必须要写的代码，否则可能引起乱码的情况。</strong></li></ul><h2 id="6-html标签的语义化"><a href="#6-html标签的语义化" class="headerlink" title="6. html标签的语义化"></a>6. html标签的语义化</h2><p>根据标签的语义，在合适的地方放合适的标签，使结构更清晰</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html01</category>
      </categories>
      <tags>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>表格table</title>
    <url>/category/%E8%A1%A8%E6%A0%BCtable/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了html中的表格table、table的各种属性、表头单元格th标签、表格标题caption标签、合并单元格和扩展讲了下表格划分结构</p></blockquote><a id="more"></a><h2 id="1-创建表格"><a href="#1-创建表格" class="headerlink" title="1. 创建表格"></a>1. 创建表格</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ul><li>table:表格标签</li><li>tr：行标签 （table row）</li><li>td：单元格标签（table data）</li></ul><h2 id="2-表格属性"><a href="#2-表格属性" class="headerlink" title="2. 表格属性"></a>2. 表格属性</h2><table><thead><tr><th align="center">属性名</th><th align="center">含义</th><th align="center">常用属性值</th></tr></thead><tbody><tr><td align="center">border</td><td align="center">设置表格的边框（默认border为0，无边框）</td><td align="center">像素值</td></tr><tr><td align="center">cellspacing</td><td align="center">设置单元格与单元格之间的距离</td><td align="center">像素值（默认为2）</td></tr><tr><td align="center">cellpadding</td><td align="center">设置单元格里文字距离</td><td align="center">像素值（默认为1）</td></tr><tr><td align="center">width</td><td align="center">设置表格的宽度</td><td align="center">像素值</td></tr><tr><td align="center">height</td><td align="center">设置表格的高度</td><td align="center">像素值</td></tr><tr><td align="center">align</td><td align="center">设置表格在网页中的水平对齐方式</td><td align="center">left/center/right</td></tr></tbody></table><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/table表格属性.jpg"><h2 id="3-表头单元格th标签"><a href="#3-表头单元格th标签" class="headerlink" title="3. 表头单元格th标签"></a>3. 表头单元格th标签</h2><ul><li><p>表头单元格th（ table head）和普通单元格td 差不多，但它会使表格内容居中、加粗</p></li><li><p>多行tr换th技巧：按住滑轮往下拖</p><p>​</p></li></ul><h2 id="4-表格标题caption标签"><a href="#4-表格标题caption标签" class="headerlink" title="4. 表格标题caption标签"></a>4. 表格标题caption标签</h2><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="5-合并单元格"><a href="#5-合并单元格" class="headerlink" title="5.合并单元格"></a>5.合并单元格</h2><h3 id="5-1-合并方式"><a href="#5-1-合并方式" class="headerlink" title="5.1 合并方式"></a>5.1 合并方式</h3><ul><li>跨行合并：rowspan=”合并单元格个数”</li><li>跨列合并：colspan=”合并单元格个数”</li></ul><h3 id="5-2-合并顺序"><a href="#5-2-合并顺序" class="headerlink" title="5.2 合并顺序"></a>5.2 合并顺序</h3><ul><li>先上后下，先左后右</li></ul><h3 id="5-3-合并单元格三部曲"><a href="#5-3-合并单元格三部曲" class="headerlink" title="5.3 合并单元格三部曲"></a>5.3 合并单元格三部曲</h3><ol><li><p>先确定是跨行还是跨列合并</p></li><li><p>根据由上到下，由左到右的顺序确定目标单元格，并设置要合并的单元格数量</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">"3"</span>&gt;</span> <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>删除多余的单元格</p></li></ol><h2 id="6-表格划分结构"><a href="#6-表格划分结构" class="headerlink" title="6. 表格划分结构"></a>6. 表格划分结构</h2><ul><li>用于定义表格头部</li><li>用于定义表格主体</li><li>用于定义表格脚注</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html02</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>table</tag>
      </tags>
  </entry>
  <entry>
    <title>认识web</title>
    <url>/category/%E8%AE%A4%E8%AF%86web/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了web网页的构成，浏览器内核和web标准</p></blockquote><a id="more"></a><h2 id="1-WEB-网页"><a href="#1-WEB-网页" class="headerlink" title="1. WEB(网页)"></a>1. WEB(网页)</h2><ul><li>网页由各种元素组成，包括音频，视频等</li></ul><h2 id="2-浏览器（显示代码）"><a href="#2-浏览器（显示代码）" class="headerlink" title="2. 浏览器（显示代码）"></a>2. 浏览器（显示代码）</h2><ul><li>浏览器是网页显示、运行的平台</li></ul><h3 id="2-1-常见浏览器内核（解释引擎）"><a href="#2-1-常见浏览器内核（解释引擎）" class="headerlink" title="2.1 常见浏览器内核（解释引擎）"></a>2.1 常见浏览器内核（解释引擎）</h3><ul><li>英文名：Rendering Engine</li></ul><table><thead><tr><th align="center">浏览器</th><th align="center">内核</th><th align="center">备注</th></tr></thead><tbody><tr><td align="center">Safari</td><td align="center">webkit</td><td align="center"></td></tr><tr><td align="center">chrome</td><td align="center">Chromium/blink</td><td align="center">blink属于webkit的分支，是二次开发，现国产浏览器大多基于blink</td></tr></tbody></table><h2 id="3-Web标准构成"><a href="#3-Web标准构成" class="headerlink" title="3. Web标准构成"></a>3. Web标准构成</h2><ul><li>浏览器内核不同，显示出的页面可能存在差异，所以必须遵循web标准</li><li>W3C万维网联盟，类似现实中的联合国</li></ul><h3 id="3-1-Web标准"><a href="#3-1-Web标准" class="headerlink" title="3.1 Web标准"></a>3.1 Web标准</h3><ul><li><p><strong>构成</strong>：结构（structure），表现（presentation）和行为（behavior）</p><ul><li>结构：对网页元素进行整理和分类,相当于人的身体结构 ————html</li><li>表现：设置外观形式，相当于人的着装打扮 ———css</li><li>行为：主要是网页模型的定义和交互，相当于人的行为 ———javascript</li></ul><p>理想情况下，网页源码有.html，.css，.js</p></li></ul><p>​</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html01</category>
      </categories>
      <tags>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>记录考研的这两年</title>
    <url>/category/%E8%AE%B0%E5%BD%95%E8%80%83%E7%A0%94%E7%9A%84%E8%BF%99%E4%B8%A4%E5%B9%B4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>寒灯纸上，梨花雨凉</p></blockquote><a id="more"></a><h2 id="危机"><a href="#危机" class="headerlink" title="危机"></a>危机</h2><p>​ 大三上的时候，感觉自己保不了研了，于是迷迷糊糊中选择要考研，也只有考研才能改变平庸的命运，改变大学一成不变的生活，混混沌沌过了这四年，人云亦云，看着别人学什么前沿技术，就去盲目追逐，最后竹篮打水一场空，什么都没落着，本末倒置忽略了基础知识的学习。考研也是，在大三下的时候，觉得考研最重要，就不去上课，其实要考的专业课就是这学期要学的。</p><h2 id="转机"><a href="#转机" class="headerlink" title="转机"></a>转机</h2><p>​ 3月的时候做了个梦，梦见在故乡老房子前，一位北大的导师收了我，只见那位老者白发苍苍风度翩翩，当我还想梦下去的时候，梦醒了，可是我心里却是甜的，要是真的是那样该多好。印象里老房子附近山清水秀，绿树成荫，小时候回老家时还扬言要去森林里找恐龙，去山顶溜坡，地上都是绿油油的草，一点也不伤到身体，去河边看别人钓鱼，可惜现在都快干了，老房子那一片都被挖土机挖了。回到做的梦这件事上，我觉得很不可思议，为什么会做这样的梦？我自己也不知道，因为没想过，也不敢想，就像一潭水，谁也不知道有多深，这对于第一次考研完全没有任何经验的我来说一切未知，而当时目标院校也没有确定，糊糊涂涂的学着，每两个星期出去吃一次海底捞出去玩一次，觉得似乎考研也不是很累…</p><p>​ 这样的日子一直持续到9月放暑假，回家又玩了一个月，我觉得一切还早，还有时间。到9月底的时候刚把复习全书做完，但是当我回来翻翻的时候发现都忘了，于是又想重新看一遍。回到学校，从10月到考研那段时间真是漫长又短暂，那段时光和高三一样充实且满足，只有这一个目标，而不用迷茫，高中时每次有时间能出去打一把撸真是幸福至极了，能玩下手机就已经很开心了，而现在这些东西能触手可及时又觉得索然无味，到这个时候我的目标院校还没有定，但我心里还是想回武汉，女朋友告诉我要不要考虑一下北大软微，于是我稍微了解了一下再联系到三月份做的那个梦便很快做出了决定。</p><h2 id="进行时"><a href="#进行时" class="headerlink" title="进行时"></a>进行时</h2><p>​ 可能是平时一睡一早上或者起的晚的缘故，在两天的早上都出现了问题，在考政治开始时大脑一片空白，考数学时也出现了这样的状况，当然另一方面因素是数学去年头几个选择题确实把我难住了，好在后来慢慢做出了感觉，心态也稳住了。最后专业课考完，还询问前面哥们情况，超级“自信”地和他说，咱们复试见，现在想想是多么大的笑话…</p><h2 id="出分"><a href="#出分" class="headerlink" title="出分"></a>出分</h2><p>​ 记得是晚上出的分，总分338，政治64，英语73，数学100，专业课101，比我预估的低了10多分，低在专业课上，我的直觉告诉我我过不了线，果然我确实没有过线，分数线350，疫情期间在家隔离那么长时间，除了准备毕设，就是整天在家打游戏。时间就这样被消磨殆尽，调剂和找工作都被我抛之脑后。</p><p>​ 申请南科大调剂复试通过了，但是复试被刷，英语面试准备的稀烂，再加上说话吞吞吐吐的紧张的不行，复试完，我就觉得自己没希望了，转手想准备工作，刷了一些题，准备面西安华为外包，最后选择了逃避，兴许再来一年，我会抓住这次机会，战胜心里的对失败的恐惧。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>碎碎念</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>跑完步拉伸动作</title>
    <url>/category/%E8%B7%91%E5%AE%8C%E6%AD%A5%E6%8B%89%E4%BC%B8%E5%8A%A8%E4%BD%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="跑完步拉伸动作"><a href="#跑完步拉伸动作" class="headerlink" title="跑完步拉伸动作"></a>跑完步拉伸动作</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/08/N1ow9O35zvDfjQY.jpg" alt="68663df5757012a06e53bf6a5514574.jpg" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/08/8NIQGPOjDupSboc.jpg" alt="4e13fe1585756a7df12dd653d12c139.jpg" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/08/y3c2KFnTpoRWj8i.jpg" alt="7d235c96daa8e0ecf71de43e6484c74.jpg" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/08/cx8EgTswlaUiPtB.jpg" alt="77ff1734fdfe1849898f130a22a354a.jpg" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/08/i28SmeFYPpIXcg3.jpg" alt="de45750d7368953e27cd02b93438fe8.jpg" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/08/KEgyWbVJ1rTqCi4.jpg" alt="6d43fb96abd91f4b2c7c3332a8829fb.jpg" style="zoom:33%"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/08/74kbZVpLm6rnMw1.jpg" alt="5a659b88877d43e93f22847a7ff78ce.jpg" style="zoom:33%"><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>运动</category>
      </categories>
      <tags>
        <tag>运动</tag>
      </tags>
  </entry>
  <entry>
    <title>C++运算符重载</title>
    <url>/category/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h1><a id="more"></a><h2 id="友元"><a href="#友元" class="headerlink" title="友元"></a>友元</h2><h3 id="形式：friend-表达式"><a href="#形式：friend-表达式" class="headerlink" title="形式：friend 表达式"></a>形式：friend 表达式</h3><h3 id="友元的三种形式"><a href="#友元的三种形式" class="headerlink" title="友元的三种形式"></a>友元的三种形式</h3><ul><li>以普通函数的形式</li><li>以成员函数的形式</li><li>以友元类的形式</li></ul><h3 id="友元也是可以重载的"><a href="#友元也是可以重载的" class="headerlink" title="友元也是可以重载的"></a>友元也是可以重载的</h3><h3 id="友元的性质"><a href="#友元的性质" class="headerlink" title="友元的性质"></a>友元的性质</h3><ul><li>友元是单向的，不具备传递性，不能被继承</li><li>由于友元破坏了封装性，所以需要慎用</li></ul><h2 id="运算符重载-1"><a href="#运算符重载-1" class="headerlink" title="运算符重载"></a>运算符重载</h2><h3 id="为什么需要运算符重载"><a href="#为什么需要运算符重载" class="headerlink" title="为什么需要运算符重载"></a>为什么需要运算符重载</h3><ul><li>为了让自定义类型的数据的操作与C++内置的数据类型的数据的操作形式一致</li></ul><h3 id="五种运算符不能重载"><a href="#五种运算符不能重载" class="headerlink" title="五种运算符不能重载"></a>五种运算符不能重载</h3><ul><li>1、成员访问符 .</li><li>2、成员指针运算符 .*</li><li>3、域运算符 ::</li><li>4、条件运算符 ?:</li><li>5、长度运算符 sizeof</li></ul><h3 id="规则六条"><a href="#规则六条" class="headerlink" title="规则六条"></a>规则六条</h3><ul><li>1、重载的运算符的操作至少有一个是自定义类型或枚举类型，即：两个内置类型不能</li><li>2、优先级与结合性不变</li><li>3、不会改变运算规则，操作数个数，顺序</li><li>4、重载运算符不能有默认参数</li><li>5、重载逻辑运算符(&amp;&amp; ||)后不再具备短路求值特性</li><li>6、不能臆造不存在的运算符</li></ul><h3 id="形式"><a href="#形式" class="headerlink" title="形式"></a>形式</h3><ul><li><p>以普通函数形式</p><ul><li>需要get函数支撑</li></ul></li><li><p>以友元函数的形式</p></li><li><p>以成员函数的形式</p></li></ul><h3 id="总之：与我们的C-预定义的运算符保持一致"><a href="#总之：与我们的C-预定义的运算符保持一致" class="headerlink" title="总之：与我们的C++预定义的运算符保持一致"></a>总之：与我们的C++预定义的运算符保持一致</h3><h3 id="普通运算符重载"><a href="#普通运算符重载" class="headerlink" title="普通运算符重载"></a>普通运算符重载</h3><ul><li><p>双目运算符:+ - * / %</p><ul><li>建议友元</li></ul></li><li><p>复合赋值+= -=</p><ul><li>建议成员函数，对象本身发生了变化</li></ul></li></ul><h3 id="特殊运算符重载"><a href="#特殊运算符重载" class="headerlink" title="特殊运算符重载"></a>特殊运算符重载</h3><ul><li><p>自增自减</p><ul><li><p>前置++与后置++的区别(包括重载形式的区别)</p><ul><li>效率</li><li>取地址</li></ul></li></ul></li><li><p>重载小括号(函数调用运算符)</p><ul><li><p>与普通函数的区别</p><ul><li>函数执行完毕之后生命周期就结束了，但是对象没有</li><li>函数对象可以携带状态但是普通函数没有</li><li>即使函数定义静态变量，携带状态，但是没有封装性</li><li>函数对象的产生就是为了减少函数指针的使用</li></ul></li><li><p>与函数指针的区别</p><ul><li>定义方式不一样，使用形式一样</li><li>函数对象可以携带附加数据，但是函数指针不行</li></ul></li></ul></li><li><p>重载中括号(下标访问运算符)</p><ul><li><p>const版本</p></li><li><p>两个操作数：左操作数是对象本身，右操作数是任意类型</p></li><li><p>增加C++中数组检索的安全性</p></li><li><p>返回值是引用，可以作为左值</p><ul><li>左值与右值的区别？适时复习，右值我们讲了哪些种</li></ul></li></ul></li><li><p>输入输出流</p><ul><li><p>输出流</p><ul><li>相当于实现print方法</li></ul></li><li><p>输入流</p><ul><li><p>注意程序的健壮性，以及与之前学习的流类比</p><ul><li>流的四种状态</li></ul></li></ul></li></ul></li><li><p>箭头解引用</p><ul><li>箭头运算符的返回值必须是一个指针或者重载了箭头运算符的对象</li><li>解引用，返回对象引用</li><li>举例：三层类Data，MiddleLayer(数据成员是Data类型指针)，ThirdLayer(数据成员是MiddleLayer类型指针)</li><li>好处：可以一步到位，调用最上层成员函数</li></ul></li></ul><h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><ul><li><p>其他类型向自定义类型进行转换</p><ul><li><p>其他类型可以是内置类型与自定义类型</p><ul><li><p>内置内类型</p><ul><li><p>隐式转换</p><ul><li>通过构造函数完成</li></ul></li></ul></li><li><p>另一种自定义类型</p><ul><li>构造函数</li><li>赋值运算符函数</li></ul></li></ul></li></ul></li><li><p>自定义类型向其他类型转换</p><ul><li><p>类型转换函数</p><ul><li>形式：operator 类型(),例如：operator int(){}</li><li>要求：必须是成员函数；参数列表中没有参数；没有返回值，但在函数体内必须以 return 语句返回一个目标类型的变量(对象)；一般情况下，不推荐使用，违反常规思维</li></ul></li></ul></li></ul><h2 id="类域"><a href="#类域" class="headerlink" title="类域"></a>类域</h2><h3 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h3><ul><li>类域的概念</li></ul><h3 id="类作用域"><a href="#类作用域" class="headerlink" title="类作用域"></a>类作用域</h3><ul><li><p>嵌套类或者内部类</p><ul><li><p>Point创建的对象作为Line的对象成员</p><ul><li>设计模式之PIMPL</li></ul></li></ul></li><li><p>单例模式的自动释放</p><ul><li><p>valgrind安装与使用</p></li><li><p>友元</p></li><li><p>嵌套类 + 静态对象(饱汉(懒汉)模式)</p></li><li><p>atexit(饿汉模式)</p></li><li><p>atexit + pthread_once</p><ul><li>平台相关</li></ul></li></ul></li></ul><h3 id="块作用域"><a href="#块作用域" class="headerlink" title="块作用域"></a>块作用域</h3><ul><li><p>类被块包含</p><ul><li>test函数定义类</li></ul></li></ul><h2 id="std-string底层实现"><a href="#std-string底层实现" class="headerlink" title="std::string底层实现"></a>std::string底层实现</h2><h3 id="深拷贝-Eager-copy"><a href="#深拷贝-Eager-copy" class="headerlink" title="深拷贝(Eager copy)"></a>深拷贝(Eager copy)</h3><h3 id="写时复制-COW"><a href="#写时复制-COW" class="headerlink" title="写时复制(COW)"></a>写时复制(COW)</h3><ul><li><p>写时复制的原理</p><ul><li>浅拷贝 + 引用计数</li></ul></li><li><p>写实复制的实现</p><ul><li><p>引用计数</p><ul><li><p>普通数据成员</p></li><li><p>静态数据成员</p></li><li><p>文字常量区</p></li><li><p>程序代码区</p></li><li><p>堆区</p><ul><li>为了方便放在数据前面</li></ul></li></ul></li></ul></li></ul><h3 id="短字符串优化-SSO"><a href="#短字符串优化-SSO" class="headerlink" title="短字符串优化(SSO)"></a>短字符串优化(SSO)</h3><ul><li><p>当字符串长度小于15</p><ul><li>栈上</li></ul></li><li><p>当字符串长度大于15</p><ul><li>堆上</li></ul></li></ul><h3 id="举例：facebook的folly库"><a href="#举例：facebook的folly库" class="headerlink" title="举例：facebook的folly库"></a>举例：facebook的folly库</h3><ul><li>0-22 SSO</li><li>23-255 eager copy</li><li>256以上 cow</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>cpp</tag>
      </tags>
  </entry>
  <entry>
    <title>金刚功</title>
    <url>/category/%E9%87%91%E5%88%9A%E5%8A%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>饭后一小时内不能练，饭前饭后不能做剧烈运动</li><li>对称动作不能只练一边</li><li>每个动作至少5遍，不能超过9遍，取阳数奇数</li><li>道长的两个视频要结合看。金刚功中握的拳为方拳，大拇指盖住四指的指甲，如图</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/06/16/REqhNy5urBJ4cZO.png" alt="image.png"></p><ul><li>女性生理期、怀孕期间不要练习</li></ul><p><a href="https://www.bilibili.com/video/BV1u5411R7J4?spm_id_from=333.337.search-card.all.click" target="_blank" rel="noopener">金刚功视频</a></p><h3 id="起势-预备式"><a href="#起势-预备式" class="headerlink" title="起势/预备式"></a>起势/预备式</h3><ul><li>双手自然下垂，然后双手向内侧用力再张开，用力在张开，这样三次，脚上、腿上、小腹、肚子气热气起来了往上提</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/eItscr3yG51SlvW.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/KX6FBV5mzqgaGLW.png" alt="预备式.png"></p><h3 id="第一部：双手插顶利三焦"><a href="#第一部：双手插顶利三焦" class="headerlink" title="第一部：双手插顶利三焦"></a>第一部：双手插顶利三焦</h3><ul><li>胸部以上为上焦，胸部到肚脐为中焦，肚脐以下为下焦</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/HI56tTPM9surNoh.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/VLXtklIpuE5ZocM.png" alt="image.png"></p><p>3.指尖向天用力</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/UX13g24cxQHpDhs.png" alt="image.png"></p><p>4.往下合要压，4是一个完结</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/UDuz3BWlJakYngp.png" alt="image.png"></p><h3 id="第二部：手足前后固肾腰"><a href="#第二部：手足前后固肾腰" class="headerlink" title="第二部：手足前后固肾腰"></a>第二部：手足前后固肾腰</h3><p>两手掌合拢向外猛冲</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/XhRG16cvLdUDjFf.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/BoXEj5aGeRqkWmt.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/u5E1zRjfZBb9UIq.png" alt="image.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/04/06/ey2wxOQZJ5Kj6cu.png" alt="image.png"></p><h3 id="第三部：调理脾肤需单举"><a href="#第三部：调理脾肤需单举" class="headerlink" title="第三部：调理脾肤需单举"></a>第三部：调理脾肤需单举</h3><ul><li>左掌向上弓左腿</li></ul><h3 id="第四部：左肝右肺如射雕"><a href="#第四部：左肝右肺如射雕" class="headerlink" title="第四部：左肝右肺如射雕"></a>第四部：左肝右肺如射雕</h3><ul><li>先伸手向左边的话，就向右射雕</li><li>然后提起手是去压鼻口</li></ul><h3 id="第五部：回首望足去心疾"><a href="#第五部：回首望足去心疾" class="headerlink" title="第五部：回首望足去心疾"></a>第五部：回首望足去心疾</h3><h3 id="第六部：五劳七伤向后瞧"><a href="#第六部：五劳七伤向后瞧" class="headerlink" title="第六部：五劳七伤向后瞧"></a>第六部：五劳七伤向后瞧</h3><h3 id="第七部：凤凰展翅周身力"><a href="#第七部：凤凰展翅周身力" class="headerlink" title="第七部：凤凰展翅周身力"></a>第七部：凤凰展翅周身力</h3><ul><li><p>一般先是向左边，转到第三圈，左手向下</p></li><li><p>最后还有一个转一圈往上收的动作</p></li></ul><h3 id="第八部：两足顿顿饮嗜消"><a href="#第八部：两足顿顿饮嗜消" class="headerlink" title="第八部：两足顿顿饮嗜消"></a>第八部：两足顿顿饮嗜消</h3><ul><li>12慢高，345快低</li></ul><h3 id="收工"><a href="#收工" class="headerlink" title="收工"></a>收工</h3><ul><li>翻掌拉到鼻子前</li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>中医</category>
      </categories>
      <tags>
        <tag>金刚功</tag>
      </tags>
  </entry>
  <entry>
    <title>雨</title>
    <url>/category/%E9%9B%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><h3 id="健康"><a href="#健康" class="headerlink" title="健康"></a>健康</h3><p>最近感冒一直没好</p><p>没适应没有暖气的<a href="https://baike.baidu.com/item/%E5%AE%89%E9%99%86/746007?fr=aladdin" target="_blank" rel="noopener"><strong>家</strong></a></p><p>也许只有在生病的时候</p><p>才能体会到健康的重要性</p><h3 id="新年愿"><a href="#新年愿" class="headerlink" title="新年愿"></a>新年愿</h3><p>一愿：自己，家人，爱的人身体健康</p><p>二愿：能一起考上那所学校</p><!--more--><h3 id="最近在听的一首歌：认真的老去"><a href="#最近在听的一首歌：认真的老去" class="headerlink" title="最近在听的一首歌：认真的老去"></a>最近在听的一首歌：认真的老去</h3><p>别错过年轻的疯狂</p><p>时光很匆忙</p><p>别错过日落和夕阳</p><p>不论在哪里呀</p><p>来不及认真地年轻过</p><p>就认真地老去</p><p>又一次和你擦肩而过</p><p>一毫米的距离</p><h3 id="童话说雨后会有一道彩虹，却不曾说过它也会转瞬成空"><a href="#童话说雨后会有一道彩虹，却不曾说过它也会转瞬成空" class="headerlink" title="童话说雨后会有一道彩虹，却不曾说过它也会转瞬成空"></a>童话说雨后会有一道彩虹，却不曾说过它也会转瞬成空</h3><h3 id="不再追问你为何不能停留，放下了执念，微笑现在"><a href="#不再追问你为何不能停留，放下了执念，微笑现在" class="headerlink" title="不再追问你为何不能停留，放下了执念，微笑现在"></a>不再追问你为何不能停留，放下了执念，微笑现在</h3><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>碎碎念</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>针灸学习笔记</title>
    <url>/category/%E9%92%88%E7%81%B8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​<a id="more"></a></p><ol><li><p>失血，做爱，运动后体力很虚不下针</p></li><li><p>不灸</p><ol><li>热症（感冒）</li><li>多汗地方（鼻子，头顶，腋下，手掌有汗、背）</li></ol></li><li><p>急救</p><ol><li><p>针人中</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/BUsYpaJioj5K1x2.png" alt="image.png" style="zoom:50%"></li><li><p>十宣放血（手指和脚趾的尖端，距指甲游离緣0.1寸）</p></li><li><p>涌泉穴</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/DmKjAYPMyqVlSoL.jpg" alt="052e718b534f14c7ff4864a20024976.jpg" style="zoom:50%"></li><li><p>百会放血</p></li></ol></li><li><ol><li><p>成人——留针，小孩——（14岁以下）单刺（进去马上就出来）</p></li><li><p>同身寸：用在四肢和经络之间</p><ol><li>一寸：中指</li></ol><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/3HrzIs6V1xKQh4p.png" alt="image.png" style="zoom:50%"><ol start="2"><li>二寸：三只手指宽</li><li>三寸：四只手指宽</li></ol></li><li><p>均等法：腹部和胸部</p></li><li><p>春夏浅，秋冬深</p></li><li><p>管理关系</p><ol><li>皮毛——肺</li><li>肌肉——脾</li><li>血脉（脉的旁边）——心</li><li>骨——肾 （针一直下到骨上）</li></ol></li></ol></li><li><p>五行关系图：</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/n6BwkSRcyFzqHL3.png" alt="image.png" style="zoom:50%"><ol><li><p>木火图金水</p></li><li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/27/CPtSgMyi5w1qWuz.png" alt="image.png"></p><p><strong>以心为例：</strong></p><p>脾脏影响心脏时，是实邪！<strong>实则泄其子</strong></p><p>肝脏影响心脏时，是虚邪！<strong>虚则补其母</strong></p><p><strong>母能令子虚：</strong></p><p>比如肝病，硬化了，是实证，治法要把实变成虚，母能令子虚，所以要补肾</p><p>因为肝脏生病了，很实的状态下，没有东西能克制他了，这时怎么办那？母能令子虚！</p><p>这时补水（肾），水会克火（心），心火会下降，人体的自身机制会自救，怎么自救那？肝属木，木生火，故会丢些木来到火里，把火升大一些，所以原来的木就变少了，所以肝就没那么实了！</p><p>所以没啥事，有人常补补肾，除了对肾好，肝脏也会好一些。</p><p>昨天还在讲，男子和女子的乳头属肝，男子的乳房属于肾，肝肾是相生的，所以男性乳房一般不出现问题！女子的乳房属胃，肝胃比较容易不和，所以女性月经前容易乳房胀痛，小叶增生！</p><p><strong>子能令母实：</strong>参见母能令子虚！</p></li><li><ol><li>脏——阴</li><li>腑——阳</li></ol></li><li><table><thead><tr><th align="center">五行</th><th align="center">脏</th><th align="center">腑</th><th align="center">颜色</th></tr></thead><tbody><tr><td align="center">木</td><td align="center">肝</td><td align="center">胆</td><td align="center">青</td></tr><tr><td align="center">火</td><td align="center">心</td><td align="center">小肠</td><td align="center">赤</td></tr><tr><td align="center">土</td><td align="center">脾</td><td align="center">胃</td><td align="center">黄</td></tr><tr><td align="center">金</td><td align="center">肺</td><td align="center">大肠</td><td align="center">白</td></tr><tr><td align="center">水</td><td align="center">肾</td><td align="center">膀胱</td><td align="center">黑</td></tr></tbody></table></li><li><p>肺（白）+心（红）=粉红色</p><ol><li>如果肝有问题（实），血经过肝脏后毒素排不出马上流到心脏，所以更红</li><li>尿黄，吃饭前不饿</li><li>1-3点醒来</li><li>手掌深红</li><li>肝俞，耳朵肝的点 按压疼</li><li>茜草，炙鳖甲</li><li>小柴胡汤，白术，茯苓稍微多一点（没胃口），郁金，茵陈（皮肤黄，小便暗黄），栀子（睡不好）</li><li>生硫磺，生附子，桂枝，白芍 阳药把水气化（冷水——&gt;热水）</li><li>咸味的药攻坚癌症：牡蛎，瓦楞子</li><li>活血化瘀的药</li><li>平常三餐吃四神汤：薏仁、莲子、白果、芡实</li><li>好了症状：<ol><li>一觉到天亮</li><li>大便正常</li><li>胃口好</li><li>小便正常</li><li>体力回复</li><li>脚温热</li></ol></li></ol></li></ol></li><li><p>经脉分为十二条正经和八条奇经</p><ol><li><p>正经：</p><p>手三阴经（手太阴肺经、手厥阴心包经、手少阴心经）</p><p>手三阳经（手阳明大肠经、手少阳三焦经、手太阳小肠经）</p><p>足三阳经（足阳明胃经、足少阳胆经、足太阳膀胱经）</p><p>足三阴经（足太阴脾经、足厥阴肝经、足少阴肾经）</p></li><li><p>奇经：</p><p>任脉，督脉，冲脉，带脉，阳跷脉，阴跷脉，阳维脉，阴维脉</p></li></ol></li><li><p>井荣俞经合——四肢上取</p><ol><li>阳经比阴经多一个原穴</li></ol><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/6T9BkhsEQrIevzP.png" alt="image.png" style="zoom:50%"> 1. 这个井呢?病在脏取井，所谓病在脏取井就是病在越深的地方，我们要在指头末稍，十二经脉各有一个**井穴**，井穴通通在手指头或脚趾头的末稍，非常的敏感。 2. 当有颜色的病出现了，一看见到发黄是脾病，发红是心脏病，这个人脸色发黑是肾脏病。遇有颜色出现，我们选取穴道的时候用**荣穴**。(痛) 3. 凡按照时间发病的，如每天晚上十二点起来，病是发在胆经上，取胆经的**俞穴**。按地支歌去判断。 4. 感冒，声音变了，取**经穴** 5. 饮食不节，暴饮暴食的，还有胀满的病，我们大部分选用**合穴**来治疗。 6. 春夏——养阳——多运动；秋冬——养阴——收敛 7. 上工治未病，不治己病——肝有问题，肝克脾那就养脾，让病停在肝上</li><li><ol><li><p>任脉——妊——阴聚集</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/23/npwLAYsFv8Kf5QO.png" alt="image.png" style="zoom:50%"></li><li><p>督脉——阳聚集——诸阳之会</p></li><li><p>任督二脉汇集于人中</p><ol><li>前降后升，依次经过肺——肾——心脏——小肠热气——督脉——脖子冷却——大脑</li></ol></li><li><p>溺水——三寸长针扎会阴——肺都是水</p></li><li><p>会阴疼——扎百会——对称法</p></li></ol></li><li><p>八纲辩证</p><table><thead><tr><th align="center">阴</th><th align="center">阳</th></tr></thead><tbody><tr><td align="center">表</td><td align="center">里</td></tr><tr><td align="center">虚</td><td align="center">实</td></tr><tr><td align="center">寒</td><td align="center">热</td></tr></tbody></table><h3 id="任脉"><a href="#任脉" class="headerlink" title="任脉"></a>任脉</h3><ol><li><p>石门：妇人禁灸</p></li><li><p>阴交：阴部瘙痒</p></li><li><p>神阙：不可以针，肠鸣，中风</p></li><li><p>水分：水肿</p></li><li><p>中脘：胃的病——梅花灸，腑会，印堂疼</p></li><li><p>鸠尾：禁灸，可以针</p><ol><li>胸肋骨交于中庭，剑突下面是鸠尾</li></ol><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/UFSykshTOAw3WCZ.jpg" alt="7631aaf9e17d0541dd5ce8046861117.jpg" style="zoom:33%"></li><li><p>心脏病急救：不需要补泻，一扎下去就可以了</p><ol><li><p>关元：直刺0.5-1寸；可灸</p></li><li><p>巨阙：直刺0.5-1寸；可灸</p></li><li><p>天突：斜刺0.5-1寸；可灸</p></li></ol></li></ol></li></ol><ol start="8"><li><p>补泻手法</p></li><li><p>膻中：男孩乳中间，女孩用均等法</p></li><li><p>咳嗽，乳汁变少，强肺气</p></li><li><p>廉泉：</p><ol><li>斜刺0.3-0.5寸，对着舌根方向</li><li>舌头强硬不能说话</li></ol><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/fTiCZbjDVHzhAQ6.jpg" alt="b252d68101409ce7417be7edaf134c8.jpg" style="zoom:33%"></li><li><p>承浆：</p><ol><li>斜刺0.3-0.5寸，对着舌根方向</li><li>中风，脸歪，牙疼</li><li>下针嘴巴张开</li></ol><h3 id="督脉"><a href="#督脉" class="headerlink" title="督脉"></a>督脉</h3></li><li></li><li><p>内痔——先血后便——不痛</p><ol start="2"><li>外痔——先便后血——痛</li></ol><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/9zN2k8ZDiBhAgwO.jpg" alt="dfb328c6a6750d888a4ce5d34114afd.jpg" style="zoom:50%"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/4sXugPjfqESGrWo.png" alt="image.png"></p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/JaLqB1PnuXEIbFH.png" alt="image.png" style="zoom:50%"></li></ol><ol start="10"><li><p>哑门：治哑，半寸</p></li><li><p>大椎：发高烧，针刺破皮肤，挤出血——&gt;退烧</p></li><li><p>身柱：第三椎，摔倒到就终身瘫痪，灸可以长壮</p></li><li><p>神道：第五椎，心脏痛</p></li><li><p>灵台：痛的话，说明白血球升高了，禁针，一般用于诊断</p></li><li><p>至阳：第七椎，压不痛，糖尿病好了</p></li><li><p>筋缩：第九椎，抽筋个，癫痫，针和灸都可以</p></li><li><p>脊中可以针，不能灸</p></li><li><p>命门：第十四椎</p></li><li><p>发旋顺，下一胎同性，发旋逆，下一胎异性</p></li><li><p>素髎：两片骨头处女</p></li><li><p>上星灸：鼻窦炎</p></li><li><p>人中（水沟）：没有水沟，没有儿子</p></li><li><p>兑端：上嘴唇的上边缘，不灸</p></li><li><p>龈交：放血，牙周炎，溃疡</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/05/24/9gyrdi6MJfewotU.png" alt="image.png" style="zoom:33%"></li></ol><h3 id="手太阴肺经"><a href="#手太阴肺经" class="headerlink" title="手太阴肺经"></a>手太阴肺经</h3><ol><li>肺——传导之官，“治节出焉”，主皮毛</li><li>​<ol><li>肺——魄</li><li>心——神</li><li>肝——魂</li></ol></li><li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/06/11/TOmBHz8thrXWIv7.jpg" alt="29dab397ff95df5a91ee4ad7e277c58.jpg" style="zoom:50%"></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>中医</category>
      </categories>
      <tags>
        <tag>中医</tag>
      </tags>
  </entry>
  <entry>
    <title>c++基础知识</title>
    <url>/category/c++/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="c-基础知识"><a href="#c-基础知识" class="headerlink" title="c++基础知识"></a>c++基础知识</h3><a id="more"></a><h4 id="C-历史发展阶段"><a href="#C-历史发展阶段" class="headerlink" title="C++历史发展阶段"></a>C++历史发展阶段</h4><ul><li><p>c语言发展历史</p><figure class="highlight llvm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">c</span>语言是<span class="number">1972</span>年美国贝尔实验室的Ritchie博士研制出来的一种面向过程的语言。</span><br><span class="line"><span class="keyword">c</span>语言对于初学者来说并不友好，作为一种计算机底层编程语言。随着程序复杂度的提升，面向过程的<span class="keyword">c</span>语言显得有些乏力（每一个细节都要精确设计），所以这才促使了面向对象的<span class="keyword">c</span>++语言的诞生。</span><br></pre></td></tr></tbody></table></figure></li><li><p>c++诞生的原因</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">最初是<span class="number">1979</span>年美国的Bjarne博士在研究unix内核时，由于没有合适的分析工具去分析由于内核分布而造成的网络流量时，以及怎么使内核模块化。为此他们编写了Cpre程序，这一程序也就是后来c++程序的前身。</span><br></pre></td></tr></tbody></table></figure></li><li><p>c++三个发展阶段</p><figure class="highlight llvm"><table><tbody><tr><td class="code"><pre><span class="line">第一阶段：传统类型的面向对象语言，凭借着接近<span class="keyword">c</span>语言的效率，在工业界使用的开发语言中占据了相当大的份额。</span><br><span class="line">第二阶段：STL和boost等程序库的出现，使得泛型编程在<span class="keyword">c</span>++中占据越来越多的比重。同时由于java和<span class="keyword">c</span>#等语言的出现，<span class="keyword">c</span>++收到了一定的冲击。</span><br><span class="line">第三阶段：以Loki、MPL等程序库为代表的产生式编程和模板元编程的出现，<span class="keyword">c</span>++出现了历史上又一个新的高峰。</span><br></pre></td></tr></tbody></table></figure></li><li><p>几本书</p><ul><li>stl源码剖析</li><li>深度探索c++对象模型</li><li>effective c++</li><li>more effective c++</li></ul></li></ul><h4 id="为什么要使用命名空间？"><a href="#为什么要使用命名空间？" class="headerlink" title="为什么要使用命名空间？"></a>为什么要使用命名空间？</h4><ul><li>先说产生冲突的背景</li><li>然后说引入命名空间的作用</li></ul><figure class="highlight brainfuck"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">一个大型的项目往往由若干个人独立完成，每个人完成自己的一部分。</span></span><br><span class="line"><span class="comment">由于各个头文件由不同的人设计，所以可能存在类或者函数存在命名冲突的问题，</span></span><br><span class="line"><span class="comment">或者头文件中我们定义的实体名的和c</span>++<span class="comment">库文件命名冲突。</span></span><br><span class="line"><span class="comment">c</span>++<span class="comment">引入命名空间就是为了用户自己定义作用域，从而在不同作用域下同名实体不冲突，</span></span><br></pre></td></tr></tbody></table></figure><p>命名空间格式如下</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> wd   <span class="comment">//在里面的不缩进</span></span><br><span class="line">{ </span><br><span class="line"><span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Foo</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">int</span> val;</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">}<span class="comment">// end of namespace wd</span></span><br></pre></td></tr></tbody></table></figure><ul><li>using std::cout //using起编译作用</li></ul><h4 id="c程序编译过程"><a href="#c程序编译过程" class="headerlink" title="c程序编译过程"></a>c程序编译过程</h4><figure class="highlight jboss-cli"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">.c</span> <span class="params">-----</span>&gt; <span class="string">.i</span>    预处理（导入头文件，宏定义替换）</span><br><span class="line"><span class="string">.i</span> <span class="params">-----</span>&gt; <span class="string">.s</span>    编译生成汇编代码<span class="string">.s</span></span><br><span class="line"><span class="string">.s</span> <span class="params">-----</span>&gt; <span class="string">.o</span>    汇编生成目标文件<span class="string">.o</span></span><br><span class="line"><span class="string">.o</span> <span class="params">-----</span>&gt; 可执行文件  链接<span class="string">.o</span>文件、库文件、引导代码</span><br></pre></td></tr></tbody></table></figure><h4 id="const关键字修饰变量"><a href="#const关键字修饰变量" class="headerlink" title="const关键字修饰变量"></a>const关键字修饰变量</h4><h5 id="宏定义和const定义有什么区别？"><a href="#宏定义和const定义有什么区别？" class="headerlink" title="宏定义和const定义有什么区别？"></a>宏定义和const定义有什么区别？</h5><figure class="highlight actionscript"><table><tbody><tr><td class="code"><pre><span class="line">编译器的处理方式不同：宏定义在预处理阶段进行字符串的替换，而<span class="keyword">const</span>则在编译时进行处理</span><br><span class="line">安全和类型检查不同：宏定义没有具体类型，不进行类型检查，<span class="keyword">const</span>有具体类型，在编译阶段进行类型检查</span><br><span class="line">所以在写代码的时候尽量用<span class="keyword">const</span>替换宏定义，减少犯错误的概率。</span><br></pre></td></tr></tbody></table></figure><h4 id="const关键字修饰指针"><a href="#const关键字修饰指针" class="headerlink" title="const关键字修饰指针"></a>const关键字修饰指针</h4><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> *p1 = <span class="number">10</span>  <span class="comment">//常量指针：指针指向的值是常量，不能改变</span></span><br><span class="line"><span class="built_in">int</span> <span class="keyword">const</span> *p2 = <span class="number">10</span>  <span class="comment">//常量指针</span></span><br><span class="line"><span class="built_in">int</span>* <span class="keyword">const</span> p3 = &amp;number <span class="comment">//指针常量，指针是常量，不能改变指针指向其他的地方</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">int</span> * <span class="keyword">const</span> p4 = <span class="number">10</span> <span class="comment">//既是常量指针，也是指针常量</span></span><br></pre></td></tr></tbody></table></figure><h4 id="const关键字修饰成员函数"><a href="#const关键字修饰成员函数" class="headerlink" title="const关键字修饰成员函数"></a>const关键字修饰成员函数</h4><figure class="highlight actionscript"><table><tbody><tr><td class="code"><pre><span class="line">不能修改成员变量，也不能调用非<span class="keyword">const</span>函数，因为非<span class="keyword">const</span>函数可能修改成员变量</span><br></pre></td></tr></tbody></table></figure><h4 id="const关键字修饰函数参数"><a href="#const关键字修饰函数参数" class="headerlink" title="const关键字修饰函数参数"></a>const关键字修饰函数参数</h4><figure class="highlight actionscript"><table><tbody><tr><td class="code"><pre><span class="line">如果是值传递，形参只是传入参数的副本，即使在函数内改变了，实参也不会受影响，所以<span class="keyword">const</span>关键字修饰函数参数，只适用于指针和引用。</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span>修饰指针时：</span><br><span class="line">可以保证不修改指针所指向的内容，也就是保证了实参内容不变。而且<span class="keyword">const</span>指针可以接受<span class="keyword">const</span>和非<span class="keyword">const</span>指针，而非<span class="keyword">const</span>只能接受非<span class="keyword">const</span>指针。</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span>修饰引用时：</span><br><span class="line">下面举个例子，如果不用引用，a对象是实参的副本，需要调用构造函数和结束后又要调用析构函数，造成了时间和空间上的浪费，所以需要用引用，而加入引用后，又有了安全隐患，可能会修改实参对象的成员变量，所以需要<span class="keyword">const</span>保护实参。</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">h</span><span class="params">(A a)</span></span>{  </span><br><span class="line">…………  </span><br><span class="line">…………  </span><br><span class="line">}  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">h</span><span class="params">(<span class="keyword">const</span> A &amp; a)</span></span>{  </span><br><span class="line">…………  </span><br><span class="line">…………  </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="const关键字修饰函数返回值"><a href="#const关键字修饰函数返回值" class="headerlink" title="const关键字修饰函数返回值"></a>const关键字修饰函数返回值</h4><figure class="highlight actionscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span>修饰返回的指针或引用，保证指针或引用的内容不被修改，常用于运算符重载，归根结底是保证函数调用表达式不能作为左值。</span><br><span class="line">这里的<span class="keyword">const</span>往往和&amp;同时出现</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;    </span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;    </span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> {</span>  </span><br><span class="line"><span class="keyword">private</span>:  </span><br><span class="line">    <span class="keyword">int</span> i;  </span><br><span class="line"><span class="keyword">public</span>:  </span><br><span class="line">    A(){i=<span class="number">0</span>;}  </span><br><span class="line">    <span class="function"><span class="keyword">int</span> &amp; <span class="title">get</span><span class="params">()</span></span>{  </span><br><span class="line">        <span class="keyword">return</span> i;  </span><br><span class="line">    }  </span><br><span class="line">};  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>{  </span><br><span class="line">    A a;  </span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a.<span class="built_in">get</span>()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//数据成员值为0  </span></span><br><span class="line">    a.<span class="built_in">get</span>()=<span class="number">1</span>; <span class="comment">//尝试修改a对象的数据成员为1，而且是用函数调用表达式作为左值。  </span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a.<span class="built_in">get</span>()&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//数据成员真的被改为1了，返回指针的情况也可以修改成员i的值，所以为了安全起见最好在返回值加上const，使得函数调用表达式不能作为左值  </span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="new-delete表达式"><a href="#new-delete表达式" class="headerlink" title="new/delete表达式"></a>new/delete表达式</h4><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line">int *p = new int(1); //初始化为1</span><br><span class="line">delete p;</span><br><span class="line"></span><br><span class="line">int *p = new int[<span class="string">10</span>](<span class="link"></span>); //new 数组不能指定初始化值，自动初始化为0</span><br><span class="line">delete []p;</span><br></pre></td></tr></tbody></table></figure><h4 id="new-delete表达式与malloc-free的区别是？"><a href="#new-delete表达式与malloc-free的区别是？" class="headerlink" title="new/delete表达式与malloc/free的区别是？"></a>new/delete表达式与malloc/free的区别是？</h4><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">malloc</span>/<span class="built_in">free</span>是c标准库函数，<span class="keyword">new</span>/<span class="keyword">delete</span>是c++运算符</span><br><span class="line"><span class="keyword">new</span>能够自动分配内存空间，<span class="built_in">malloc</span>不可以</span><br><span class="line"><span class="keyword">new</span>在分配内存空间后，还会初始化，<span class="built_in">malloc</span>不会</span><br><span class="line"><span class="keyword">new</span>/<span class="keyword">delete</span>在对对象操作时，分别会调用构造函数和析构函数，而<span class="built_in">malloc</span>/<span class="built_in">free</span>不会。</span><br></pre></td></tr></tbody></table></figure><h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><ul><li>本质：引用是已定义变量的别名，但实际上引用变量占据存储空间，存储一个地址，编译器阻止对它本身的任何访问，从而保证引用“从一而终”</li><li>声明引用时必须初始化，否则会编译出错</li><li>引用一旦定义，就不能更改引用的指向</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> &amp;ref1 = a;</span><br></pre></td></tr></tbody></table></figure><h4 id="引用作为函数参数"><a href="#引用作为函数参数" class="headerlink" title="引用作为函数参数"></a>引用作为函数参数</h4><h4 id="引用作为函数的返回值"><a href="#引用作为函数的返回值" class="headerlink" title="引用作为函数的返回值"></a>引用作为函数的返回值</h4><ul><li><p>函数返回变量的生命周期一定要大于函数的生命周期，一般是返回*this，static静态变量，全局变量，输入输出流</p></li><li><p>不能返回局部变量的引用</p></li><li><p>不能返回new创建的堆空间变量的引用：new创建的堆空间变量是一种临时变量，如果返回的话，在内外都delete不了，会造成内存泄漏。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> &amp;<span class="title">func4</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">int</span> *pInt = <span class="keyword">new</span> <span class="keyword">int</span>(<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> *pInt;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="c-强制类型转换"><a href="#c-强制类型转换" class="headerlink" title="c++强制类型转换"></a>c++强制类型转换</h4><ol><li><p>static_cast</p><ul><li>基础类型转换</li><li>void指针—&gt;任何类型指针</li><li>任何类型指针—&gt;void指针</li><li>基类指针和派生类指针之间</li><li>需要注意的是：不能在任何类型指针之间转换，如int<strong>和float</strong></li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(a)</span><br></pre></td></tr></tbody></table></figure></li><li><p>const_cast</p><ul><li>const指针转非const指针，不改变指向的对象</li><li>const引用转非const引用，不改变指向的对象</li><li>const对象转非const对象</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> number = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> *p1 = &amp;number; <span class="comment">//error:const修饰的就成了常量，常量不能取地址</span></span><br><span class="line"><span class="keyword">int</span> *p2 = <span class="keyword">const_cast</span>&lt;<span class="keyword">int</span> *&gt;(&amp;number);  <span class="comment">//const指针转非const指针</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>dynamic_cast ：将一个基类对象指针（或引用）转换到继承类指针</p></li><li><p>reinterpret_cast // 不懂</p></li></ol><h4 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h4><ul><li>函数名相同</li><li>参数列表不同</li><li>返回值可相同可不同</li><li>仅仅返回值不同这一个条件不足以函数重载</li></ul><h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><ul><li>默认参数一般在声明中</li><li>若某一参数设置了默认值，则其后所有参数都要设置默认值</li></ul><h4 id="内联函数"><a href="#内联函数" class="headerlink" title="内联函数"></a>内联函数</h4><ul><li>在c中我们使用带参数的宏定义优化时间</li><li>在c++中我们则使用inline内联函数优化时间</li><li>使用宏定义容易出错，也不可以调试，且不能操作类的私有数据成员</li><li>inline函数可以调试</li><li>不宜使用inline函数的两种情况：<ul><li>函数体内代码比较长</li><li>函数体内出现循环或其他复杂的控制结构</li></ul></li><li>往往选择短小简单的函数内联</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> x, y)</span>   <span class="comment">//内联函数的定义在头文件中！！！</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">double</span> x, y;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">if</span>(<span class="number">0</span> == y)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">throw</span> y;</span><br><span class="line">	}</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">	{</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; (x / y) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	}</span><br><span class="line">} </span><br><span class="line"><span class="keyword">catch</span>(<span class="keyword">double</span> d)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"catch(double)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">} </span><br><span class="line"><span class="keyword">catch</span>(<span class="keyword">int</span> e)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"catch(int)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="栈和堆区别"><a href="#栈和堆区别" class="headerlink" title="栈和堆区别"></a>栈和堆区别</h4><ul><li>栈由编译器自动管理，不要我们手工管理；而堆需要我们手工管理，且易造成内存泄漏</li><li>栈只能访问一个栈帧范围的的内存地址；但是堆跟内存大小有关，可以访问的地址很大。</li><li>栈一般是静态分配，如局部变量；堆一般是动态分配，如new</li><li>对于堆来说，生长方向是向上的，也就是向着地址增大的方向生长；对于栈来说，生长方向是向下的，也就是向着地址减小的方向生长</li></ul><h4 id="程序内存布局"><a href="#程序内存布局" class="headerlink" title="程序内存布局"></a>程序内存布局</h4><p>//不懂</p><h3 id="类相关知识"><a href="#类相关知识" class="headerlink" title="类相关知识"></a>类相关知识</h3><h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><ul><li>类中的定义的成员函数都是内联函数</li></ul><h4 id="类和struct区别？"><a href="#类和struct区别？" class="headerlink" title="类和struct区别？"></a>类和struct区别？</h4><ul><li>类中默认权限是private</li><li>struct默认权限是public</li></ul><h4 id="对象的创建"><a href="#对象的创建" class="headerlink" title="对象的创建"></a>对象的创建</h4><ul><li>当显式定义了有参构造函数，则编译器不再自动提供默认构造函数</li><li>数据成员的初始化顺序不是由初始化列表中的顺序决定，而是由数据成员的声明顺序决定</li><li>new时先创建对象，再调用构造函数初始化数据成员</li></ul><h4 id="对象的销毁"><a href="#对象的销毁" class="headerlink" title="对象的销毁"></a>对象的销毁</h4><ul><li><p>对象创建时，自动调用构造函数；对象销毁时，自动调用析构函数</p></li><li><p>delete时先调用析构函数回收分配的内存、清理数据成员，然后再销毁对象</p><h4 id="拷贝构造函数"><a href="#拷贝构造函数" class="headerlink" title="拷贝构造函数"></a>拷贝构造函数</h4></li><li><p>如果数据成员的初始化涉及到堆，就要自定义拷贝构造函数</p></li><li><p>默认的拷贝构造函数只能实现浅拷贝，当对象的数据成员指向同一块堆空间，当一个对象销毁后，另一个对象的数据成员将找不到，所以要自定义拷贝构造函数，深拷贝，让两个指针指向不同的堆空间</p></li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//拷贝构造函数</span></span><br><span class="line"><span class="comment">//浅拷贝:pc1与pc2的数据成员_brand都会指向同一个堆空间的字符串，这种只拷贝指针地址的方式，我们称为浅拷贝。当其中一个对象被销毁时，另外一个对象就获取不到相应的brand值了。</span></span><br><span class="line">Computer::Computer(<span class="keyword">const</span> Computer &amp;rhs)</span><br><span class="line">: _brand(rhs._brand)</span><br><span class="line">, _price(rhs._price)</span><br><span class="line">{ </span><br><span class="line">} </span><br><span class="line"><span class="comment">//执行构造初始化</span></span><br><span class="line"><span class="function">Computer <span class="title">pc1</span><span class="params">(<span class="string">"Huawei Matebook14"</span>, <span class="number">5699</span>)</span></span>;</span><br><span class="line">Computer pc2 = pc1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//这种拷贝指针所指空间内容的方式，我们称为深拷贝。因为两个对象都拥有各自的独立堆空间字符串，一个对象销毁时就不会影响另一个对象。</span></span><br><span class="line">Computer::Computer(<span class="keyword">const</span> Computer &amp; rhs)</span><br><span class="line">: _brand(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._brand) + <span class="number">1</span>]())</span><br><span class="line">, _price(rhs._price)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">strcpy</span>(_brand, rhs._brand);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="拷贝构造函数的参数形式可以改变吗？-也就是引用符号可以去掉吗？const关键字可以去掉吗？"><a href="#拷贝构造函数的参数形式可以改变吗？-也就是引用符号可以去掉吗？const关键字可以去掉吗？" class="headerlink" title="拷贝构造函数的参数形式可以改变吗？(也就是引用符号可以去掉吗？const关键字可以去掉吗？"></a>拷贝构造函数的参数形式可以改变吗？(也就是引用符号可以去掉吗？const关键字可以去掉吗？</h4><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//默认情况下，编译器会自动生成拷贝构造函数</span></span><br><span class="line"> 拷贝构造函数（复制构造函数）</span><br><span class="line"> <span class="number">1</span>、拷贝构造函数参数中的引用符号可以去掉吗？</span><br><span class="line"> 不能，如果去掉引用符号，在调用拷贝构造函数的时候，会进行实参与形参的结合/用一个已经存在的对象初始化一个刚刚创建的对象（形参），此时又会调用拷贝构造函数，这样会循环调用，但是没有出口，而函数的参数是会入栈的，而栈是有大小，这样会导致参数入栈，使得栈溢出</span><br><span class="line"> </span><br><span class="line"> <span class="number">2</span>、拷贝构造函数参数中的<span class="keyword">const</span>可以去掉吗?</span><br><span class="line"> 不能去掉，当执行拷贝构造函数的时候，传的实参是右值（临时对象、匿名对象）的时候，会报错</span><br><span class="line">（非<span class="keyword">const</span>的左值引用不能绑定到右值），所以拷贝构造函数参数中的<span class="keyword">const</span>不能去掉。</span><br><span class="line"> <span class="built_in">int</span> val = <span class="number">10</span>;</span><br><span class="line"> <span class="built_in">int</span> &amp; r = val + <span class="number">1</span>; <span class="comment">//此句不合法，因为右值无法赋值给左值引用</span></span><br><span class="line"> <span class="keyword">const</span> <span class="built_in">int</span>&amp; r = val + <span class="number">1</span>；<span class="comment">//合法</span></span><br><span class="line"> <span class="comment">//左值</span></span><br><span class="line"> <span class="comment">//右值：10，临时对象，匿名对象</span></span><br></pre></td></tr></tbody></table></figure><h4 id="拷贝函数的调用时机"><a href="#拷贝函数的调用时机" class="headerlink" title="拷贝函数的调用时机"></a>拷贝函数的调用时机</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 当用一个已经存在的对象初始化另一个新对象时，会调用拷贝构造函数。 </span><br><span class="line"> Point pt2 = pt1;<span class="comment">//创建对象会调用构造函数,栈对象</span></span><br><span class="line"> </span><br><span class="line"><span class="number">2.</span> 当实参和形参都是对象，进行实参与形参的结合时，会调用拷贝构造函数。</span><br><span class="line"><span class="comment">//拷贝构造函数的调用时机2：当函数的参数是类类型，在函数调用进行</span></span><br><span class="line"><span class="comment">//实参与形参结合的时候，会调用拷贝构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func2</span><span class="params">(Point pt)</span><span class="comment">//Point pt = pt2</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pt = "</span>;</span><br><span class="line">    pt.<span class="built_in">print</span>();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 当函数的返回值是对象，函数调用完成返回时，会调用拷贝构造函数。(优化选项-fno-elideconstructors)</span><br><span class="line"><span class="comment">//拷贝构造函数的调用时机3：当函数的返回类型是类类型的时候，在</span></span><br><span class="line"><span class="comment">//函数调用结束，执行return语句的时候，会调用拷贝构造函数</span></span><br><span class="line"><span class="comment">//（编译器会有个优化，-fno-elide-constructors）</span></span><br><span class="line"><span class="function">Point <span class="title">func4</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{   </span><br><span class="line">    <span class="function">Point <span class="title">pt</span><span class="params">(<span class="number">3</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"pt = "</span>;</span><br><span class="line">    pt.<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pt;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>在类的非静态成员函数中都有一个this指针（指针常量），这个指针指向当前对象，是成员函数的第一个参数，由编译器自动补全。</li></ul><h4 id="赋值运算符函数"><a href="#赋值运算符函数" class="headerlink" title="赋值运算符函数"></a>赋值运算符函数</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//当左值不存在时，调用拷贝构造函数</span></span><br><span class="line"><span class="comment">//当左值存在时，调用的是赋值函数</span></span><br><span class="line"><span class="comment">//拷贝构造函数和赋值函数是重载关系</span></span><br><span class="line"><span class="comment">//怎么区分构造函数和拷贝构造函数？看传入的是否是对象</span></span><br><span class="line">Computer &amp;Computer::<span class="keyword">operator</span>=(<span class="keyword">const</span> Computer &amp;rhs)  </span><br><span class="line">{</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">this</span> != &amp;rhs) <span class="comment">//1、自复制</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">delete</span> [] _brand; <span class="comment">//2、释放左操作数</span></span><br><span class="line">		_brand = <span class="literal">nullptr</span>;</span><br><span class="line">		_brand = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._brand) + <span class="number">1</span>](); <span class="comment">//3、深拷贝</span></span><br><span class="line">		<span class="built_in">strcpy</span>(_brand, rhs._brand);</span><br><span class="line">		_price = rhs._price;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">//4、返回*this</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//默认情况下，编译器会自动生成赋值运算符函数</span></span><br><span class="line">    <span class="comment">//pt2 = pt1</span></span><br><span class="line">    <span class="comment">//pt2 = func4()</span></span><br><span class="line">    <span class="comment">//const Point rhs = pt1</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//1、赋值运算符函数参数中的引用能不能去掉?</span></span><br><span class="line">    <span class="comment">//不能，在进行形参与实参结合的时候，满足拷贝构造函数的</span></span><br><span class="line">    <span class="comment">//调用时机2，多执行一次拷贝构造函数</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//2、赋值运算符函数参数中的const可以去掉吗？</span></span><br><span class="line">    <span class="comment">//不能，当传递右值的时候，非const左值引用不能绑定到右值</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//3、赋值运算符函数的返回引用可以去掉吗？</span></span><br><span class="line">    <span class="comment">//不能，函数的返回类型是类类型，会满足拷贝构造函数调用时机3</span></span><br><span class="line">    <span class="comment">//多执行一次拷贝构造函数</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//4、函数返回类型可以不是类类型引用吗？或者而说直接是void吗   //不懂</span></span><br><span class="line">    <span class="comment">//不能，考虑连等情况</span></span><br><span class="line">    <span class="comment">//</span></span><br></pre></td></tr></tbody></table></figure><h4 id="C-左值、右值、左值引用、右值引用"><a href="#C-左值、右值、左值引用、右值引用" class="headerlink" title="C++左值、右值、左值引用、右值引用"></a>C++左值、右值、左值引用、右值引用</h4><ul><li><p>左值：可以取到地址的</p></li><li><p>右值：不可以取到地址的，分为纯右值、 将亡值</p><ul><li>纯右值：临时变量值（表达式a+b）、不跟对象关联的字面量值（true，2，”C”等）</li><li>将亡值：c++11新增的跟右值引用相关的表达式（返回右值引用T&amp;&amp;的函数返回值、std::move的返回值，或者转换为T&amp;&amp;的类型转换函数的返回值）</li></ul></li><li><p>左值引用：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//非常量左值引用不能绑定到右值</span></span><br><span class="line"><span class="keyword">int</span> &amp;a = <span class="number">2</span>;       <span class="comment">//编译失败</span></span><br><span class="line"><span class="keyword">int</span> &amp;a = b + c;   <span class="comment">//编译失败</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//非常量左值引用只能绑定到非常量左值</span></span><br><span class="line"><span class="keyword">int</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> &amp;a = b;   <span class="comment">//编译成功</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//常量左值引用绑定到非常量左值</span></span><br><span class="line"><span class="keyword">int</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;c = b;  <span class="comment">//编译成功</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//常量左值引用绑定到常量左值</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> a = <span class="number">2</span>;    <span class="comment">//常量左值</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;b = a;   <span class="comment">//编译成功</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;b = a;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;c = b;   <span class="comment">//编译成功</span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;b = a;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;c = b;   </span><br><span class="line">a = <span class="number">4</span>;  			<span class="comment">//编译成功</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//常量左值引用绑定到右值      </span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;b = <span class="number">2</span>;   <span class="comment">//编译成功</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>右值引用</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//右值引用只能绑定到右值</span></span><br><span class="line"><span class="comment">//std::move()将左值强制转为右值</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> &amp;&amp;b = <span class="built_in">std</span>::<span class="built_in">move</span>(a);    </span><br><span class="line">a = <span class="number">4</span></span><br><span class="line">b = <span class="number">5</span>;     <span class="comment">//编译成功</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>  &amp;&amp;c = <span class="number">6</span>;      <span class="comment">//编译成功</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="特殊数据成员的初始化"><a href="#特殊数据成员的初始化" class="headerlink" title="特殊数据成员的初始化"></a>特殊数据成员的初始化</h4><h5 id="1-常量数据成员"><a href="#1-常量数据成员" class="headerlink" title="1. 常量数据成员"></a>1. 常量数据成员</h5><ul><li>const数据成员必须在构造函数的初始化列表初始化</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point(<span class="keyword">int</span> &amp;ix, <span class="keyword">int</span> iy = <span class="number">2</span>) <span class="comment">//要保证ix生命周期长</span></span><br><span class="line">    : _ix(ix)</span><br><span class="line">    , _iy(iy)</span><br><span class="line">    , _iz(ix)</span><br><span class="line">    {</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{  </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; _ix &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; _iy &lt;&lt; <span class="string">" "</span></span><br><span class="line">             &lt;&lt; _iz &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> _ix;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> _iy;</span><br><span class="line">    <span class="keyword">int</span> &amp;_iz;</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="function">Point <span class="title">p</span><span class="params">(a)</span></span>;</span><br><span class="line">    p.<span class="built_in">print</span>();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h5 id="2-引用数据成员"><a href="#2-引用数据成员" class="headerlink" title="2. 引用数据成员"></a>2. 引用数据成员</h5><ul><li>引用数据成员也必须在构造函数的初始化列表初始化</li></ul><h5 id="3-类对象数据成员"><a href="#3-类对象数据成员" class="headerlink" title="3. 类对象数据成员"></a>3. 类对象数据成员</h5><ul><li>类对象数据成员也必须在构造函数的初始化列表初始化</li></ul><h5 id="4-静态数据成员"><a href="#4-静态数据成员" class="headerlink" title="4. 静态数据成员"></a>4. 静态数据成员</h5><ul><li>多个类对象共享一个静态数据成员</li><li>静态数据成员在类外定义和初始化</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">类型 类名::变量名 = 初始化表达式; <span class="comment">//普通变量</span></span><br><span class="line">类型 类名::对象名(构造参数); <span class="comment">//对象变量</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Computer</span></span></span><br><span class="line"><span class="class">{</span> </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	Computer(<span class="keyword">const</span> <span class="keyword">char</span> *brand, <span class="keyword">double</span> price)</span><br><span class="line">	: _brand(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(brand) + <span class="number">1</span>]())</span><br><span class="line">	, _price(price)</span><br><span class="line">	{</span><br><span class="line">		_totalPrice += _price;</span><br><span class="line">	} </span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>{</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">"品牌:"</span> &lt;&lt; _brand &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">			 &lt;&lt; <span class="string">"价格:"</span> &lt;&lt; _price &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">			 &lt;&lt; <span class="string">"总价:"</span> &lt;&lt; _totalPrice &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	} </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">char</span> * _brand;</span><br><span class="line">	<span class="keyword">double</span> _price;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">double</span> _totalPrice;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> Computer::_totalPrice = <span class="number">0</span>;</span><br></pre></td></tr></tbody></table></figure><h4 id="特殊的成员函数"><a href="#特殊的成员函数" class="headerlink" title="特殊的成员函数"></a>特殊的成员函数</h4><h5 id="1-静态成员函数"><a href="#1-静态成员函数" class="headerlink" title="1. 静态成员函数"></a>1. 静态成员函数</h5><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">静态成员函数没有隐藏的<span class="keyword">this</span>指针，所以只能调用静态数据成员和静态成员函数</span><br><span class="line">Computer::printTotalPrice();   <span class="comment">//静态成员/静态成员函数可以通过类名直接调用</span></span><br></pre></td></tr></tbody></table></figure><h5 id="2-const成员函数"><a href="#2-const成员函数" class="headerlink" title="2. const成员函数"></a>2. const成员函数</h5><ul><li>在const成员函数里，只能读取数据成员（不管是普通数据成员还是const数据成员），而不能修改</li><li>在const成员函数里，只能调用const成员函数，而不能调用非const成员函数</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="对象的组织"><a href="#对象的组织" class="headerlink" title="对象的组织"></a>对象的组织</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span>对象:</span><br><span class="line">类对象也可以声明为<span class="keyword">const</span>对象，一般来说，能作用于<span class="keyword">const</span>对象的成员函数除了构造函数和析构函数，</span><br><span class="line">便只有<span class="keyword">const</span>成员函数了，因为<span class="keyword">const</span>对象只能被创建、撤销以及只读访问，改写是不允许的。</span><br><span class="line"><span class="function"><span class="keyword">const</span> Point <span class="title">pt</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>)</span></span>;</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//对象数组</span></span><br><span class="line">Point pts[<span class="number">2</span>] = {Point(<span class="number">1</span>, <span class="number">2</span>), Point(<span class="number">3</span>, <span class="number">4</span>)};</span><br><span class="line">Point pts[] = {Point(<span class="number">1</span>, <span class="number">2</span>), Point(<span class="number">3</span>, <span class="number">4</span>)};</span><br><span class="line">Point pts[<span class="number">5</span>] = {Point(<span class="number">1</span>, <span class="number">2</span>), Point(<span class="number">3</span>, <span class="number">4</span>)};</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line">Point pts[<span class="number">2</span>] = {{<span class="number">1</span>, <span class="number">2</span>}, {<span class="number">3</span>, <span class="number">4</span>}};<span class="comment">//这里需要注意，除了去掉Point，还换了大括号</span></span><br><span class="line">Point pts[] = {{<span class="number">1</span>, <span class="number">2</span>}, {<span class="number">3</span>, <span class="number">4</span>}};</span><br><span class="line">Point pts[<span class="number">5</span>] = {{<span class="number">1</span>, <span class="number">2</span>}, {<span class="number">3</span>, <span class="number">4</span>}};</span><br><span class="line"></span><br><span class="line"><span class="comment">//堆数组</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	Point *pt1 = <span class="keyword">new</span> Point(<span class="number">11</span>, <span class="number">12</span>);</span><br><span class="line">	pt1-&gt;<span class="built_in">print</span>();</span><br><span class="line">	<span class="keyword">delete</span> pt1;</span><br><span class="line">	pt1 = <span class="literal">nullptr</span>;</span><br><span class="line">	Point * pt2 = <span class="keyword">new</span> Point[<span class="number">5</span>]();<span class="comment">//注意</span></span><br><span class="line">	pt2-&gt;<span class="built_in">print</span>();</span><br><span class="line">	(pt2 + <span class="number">1</span>)-&gt;<span class="built_in">print</span>();</span><br><span class="line">	<span class="keyword">delete</span> []pt2;<span class="comment">//可以试试使用free去进行释放会发生什么？为什么会发生这个问题？</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实现单例模式</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton* <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span>(_pInstance == <span class="literal">nullptr</span>)</span><br><span class="line">        {</span><br><span class="line">            _pInstance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> _pInstance;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span>  <span class="comment">//静态成员函数才能操纵静态数据成员</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">if</span>(_pInstance)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> _pInstance;</span><br><span class="line">            _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton() <span class="comment">//设为私有的原因，让不能直接创建</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"构造函数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"析构函数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> Singleton* _pInstance;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Singleton* Singleton::_pInstance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Singleton* s1 = Singleton::getInstance();</span><br><span class="line">    Singleton* s2 = Singleton::getInstance();</span><br><span class="line">    assert(s1==s2) <span class="comment">//如果为假，就打印出错信息，并终止程序运行</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"s1地址：%p\n"</span>,s1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"s2地址：%p\n"</span>,s2);</span><br><span class="line"></span><br><span class="line">    s1-&gt;destory();</span><br><span class="line">    s2-&gt;destory();</span><br><span class="line">    Singleton::destory();</span><br><span class="line">    Singleton::destory();</span><br><span class="line">    Singleton::destory();</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="内存对齐规则"><a href="#内存对齐规则" class="headerlink" title="内存对齐规则"></a>内存对齐规则</h4><ul><li>min(#pragma pack(n) 对齐系数 ,数据成员自身的大小)看要放的地址能不能整除</li><li>学过计算机组成原理，因为每次cpu读取内存时是一个一个cache块读的，通常是2的倍数，所以应该采用内存对齐，提高cpu访问数据的效率，减少cpu访问数据时的出错性。</li></ul><h4 id="new和delete"><a href="#new和delete" class="headerlink" title="new和delete"></a>new和delete</h4><ul><li><p>new：调用名为operator new的标准库函数，分配相应的内存，并创建对象。然后调用构造函数，初始化数据成员</p><ul><li>new Student(123, “xiaohong”) 时，需要调用operator new和构造函数，两者都是看作从类外调用的（同理delete也是这样）</li></ul></li><li><p>delete：调用析构函数，清除数据成员。然后调用名为operator new的标准库函数，回收对象所用的内存</p></li><li><p>成员函数 operator new/delete默认是静态函数，static可加，可不加，没有this指针</p></li><li><p>将operator new/delete函数放在类外且不加类名与作用域限定符，会产生什么现象？</p><ul><li>放到类的外面他们就不再是成员函数，而是全局函数，全局函数在有new和delete语句是都会调用，比如，堆对象创建调用一次new，对象成员_name初始化时调用一次new；堆对象成员__name清除需要调用一次delete，堆对象内存回收需要调用一次delete（再ubuntu下运行是这样，在windows下运行不是）</li></ul></li></ul><ol><li>要求一个类只能创建栈对象</li></ol><blockquote><p>构造函数与析构函数都设置为public的作用：可以创建栈对象</p><p>new 和delete设置为private的作用：使不可创建堆对象</p></blockquote><ol start="2"><li>要求一个类只能创建堆对象</li></ol><blockquote><p>构造函数public的作用:new的时候会调用到,构造函数，所以要设置为public</p><p>new和delete设置为public的作用：可以创建堆对象</p><p>如果析构函数也设置为public,那么可以创建栈对象了，所以析构函数必须设置为private</p><p>如果在类外面delete，又会调用析构函数，所以需要在类里面封装一个（destroy）接口调用delete.</p></blockquote><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Student(<span class="keyword">int</span> id, <span class="keyword">const</span> <span class="keyword">char</span> *name)</span><br><span class="line">    : _id(id)</span><br><span class="line">    , _name(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(name) + <span class="number">1</span>]())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Student(int, const char *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(_name, name);</span><br><span class="line">    }</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 1</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> *<span class="keyword">operator</span> <span class="title">new</span><span class="params">(<span class="keyword">size_t</span> sz)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">/* printf("this : %p\n", this);//error */</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"void *operator new(size_t)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">void</span> *pret = <span class="built_in">malloc</span>(sz);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> pret;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="keyword">operator</span> <span class="title">delete</span><span class="params">(<span class="keyword">void</span> *pointer)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="comment">/* printf("this : %p\n", this);//error */</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"void operator delete(void *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">free</span>(pointer);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"id = "</span> &lt;&lt; _id &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">             &lt;&lt; <span class="string">"name = "</span> &lt;&lt; _name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"destroy"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    </span><br><span class="line">    ~Student()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Student()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_name)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> [] _name;</span><br><span class="line">            _name = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> _id;</span><br><span class="line">    <span class="keyword">char</span> *_name;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">size</span>]()创建的堆内存，在<span class="keyword">delete</span>时也要加[],不加内存可能泄露</span><br><span class="line"><span class="comment">//可用以下命令检查是否存在内存泄漏的可能</span></span><br><span class="line">valgrind --tool=memcheck --leak-check=full ./test</span><br></pre></td></tr></tbody></table></figure><h3 id="io流"><a href="#io流" class="headerlink" title="io流"></a>io流</h3><ol><li><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2021/12/06/n529jyaxGdvCDJF.png" alt="image.png"></li></ol><p>2.</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">//标准输入输出流</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//打印流的状态</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"cin.badbit = "</span> &lt;&lt; <span class="built_in">cin</span>.bad() &lt;&lt; <span class="built_in">endl</span>   </span><br><span class="line">     &lt;&lt; <span class="string">"cin.failbit = "</span> &lt;&lt; <span class="built_in">cin</span>.fail() &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">     &lt;&lt; <span class="string">"cin.eofbit = "</span> &lt;&lt; <span class="built_in">cin</span>.eof() &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">     &lt;&lt; <span class="string">"cin.goodbit = "</span> &lt;&lt; <span class="built_in">cin</span>.good() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cin</span>.<span class="built_in">clear</span>();<span class="comment">//重置流的状态</span></span><br><span class="line"><span class="built_in">cin</span>.ignore(<span class="built_in">std</span>::numeric_limits&lt;<span class="built_in">std</span>::streamsize&gt;::<span class="built_in">max</span>(), <span class="string">'\n'</span>);<span class="comment">//清空缓冲区</span></span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">//文件输入输出流</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//输入就是从文件读到自己定义的变量中</span></span><br><span class="line"><span class="comment">//默认情况下，对于文件输入流而言，当文件不存在就打开失败 ifs.good()=0</span></span><br><span class="line"><span class="function">ifstream <span class="title">ifs</span><span class="params">(<span class="string">"test.txt"</span>)</span></span>;</span><br><span class="line">ifs &gt;&gt; <span class="keyword">word</span>     <span class="comment">//遇到空格停止</span></span><br><span class="line">getline(ifs, <span class="built_in">line</span>)   <span class="comment">//读一行，遇到\n停止</span></span><br><span class="line">ifs.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="function">ifstream <span class="title">ifs</span><span class="params">(<span class="string">"test.txt"</span>, <span class="built_in">std</span>::ios::ate)</span></span>;   <span class="comment">//以追加读</span></span><br><span class="line">ifs.tellg()</span><br><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line">    </span><br><span class="line"><span class="comment">//输出就是从自己定义的变量，写到文件中</span></span><br><span class="line"><span class="comment">//对于文件输出流而言，当文件不存在的时候，就会创建文件</span></span><br><span class="line"><span class="comment">//当文件存在的时候，会清空文件</span></span><br><span class="line"><span class="function">ofstream <span class="title">ofs</span><span class="params">(<span class="string">"wd.txt"</span>)</span></span>;</span><br><span class="line">ofs &lt;&lt; <span class="keyword">word</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">ofs.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="function">ofstream <span class="title">ofs</span><span class="params">(<span class="string">"wd.txt"</span>, <span class="built_in">std</span>::ios::app)</span></span>;  <span class="comment">//以追加写</span></span><br><span class="line">ofs.tellp()</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="function">fstream <span class="title">fs</span><span class="params">(<span class="string">"wuhan.txt"</span>)</span></span>;</span><br><span class="line">fs &lt;&lt; number &lt;&lt; <span class="string">" "</span>;  <span class="comment">//向文件里写</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//tellg/tellp,判断文件指针的位置</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"fs.tellg() = "</span> &lt;&lt; fs.tellg() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//改变文件指针位置的函数seekp/seekg  p = put  g = get</span></span><br><span class="line"><span class="comment">/* fs.seekg(0); */</span></span><br><span class="line">fs.seekg(<span class="number">0</span>, <span class="built_in">std</span>::ios::beg);</span><br><span class="line">fs.seekg(<span class="number">-10</span>, <span class="built_in">std</span>::ios::<span class="built_in">end</span>);</span><br><span class="line"></span><br><span class="line">fs &gt;&gt; number;  <span class="comment">//读到number中</span></span><br><span class="line">fs.<span class="built_in">close</span>();</span><br><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串输入输出流</span></span><br><span class="line"><span class="comment">// int -----&gt; string</span></span><br><span class="line"><span class="keyword">int</span> number</span><br><span class="line"><span class="built_in">ostringstream</span> oss;</span><br><span class="line">oss &lt;&lt; number;</span><br><span class="line">oss.str();  <span class="comment">//oss流的string</span></span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="function">ifstream <span class="title">ifs</span><span class="params">(filename)</span></span>;</span><br><span class="line"><span class="function"><span class="built_in">istringstream</span> <span class="title">iss</span><span class="params">(<span class="built_in">line</span>)</span></span>;  <span class="comment">//输入就是从line读到自己定义的变量中</span></span><br><span class="line">iss &gt;&gt; key &gt;&gt; value;</span><br><span class="line"></span><br><span class="line">---------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> number1 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> number2 = <span class="number">30</span>;</span><br><span class="line"><span class="built_in">stringstream</span> ss;</span><br><span class="line">ss &lt;&lt; <span class="string">"number1= "</span> &lt;&lt; number1</span><br><span class="line">   &lt;&lt; <span class="string">" number2= "</span> &lt;&lt; number2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">string</span> s1 = ss.str();</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; s1;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> <span class="keyword">word</span>;</span><br><span class="line"><span class="keyword">int</span> number;</span><br><span class="line"><span class="keyword">while</span>(ss &gt;&gt; <span class="keyword">word</span> &gt;&gt; number)</span><br><span class="line">{</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="keyword">word</span> &lt;&lt; <span class="string">"  "</span> &lt;&lt; number &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="3"><li><p>endl能刷新缓冲区，并且换行</p><p>flush能刷新缓冲区，但不换行</p></li><li><p>vec.size()大小，vec.capacity()容量 vec.reserve()</p></li></ol><h3 id="封装log4cpp的单例模式"><a href="#封装log4cpp的单例模式" class="headerlink" title="封装log4cpp的单例模式"></a>封装log4cpp的单例模式</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/SimpleLayout.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/BasicLayout.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/PatternLayout.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/OstreamAppender.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/FileAppender.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/RollingFileAppender.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/Category.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;log4cpp/Priority.hh&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">stringstream</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mylogger</span> //单例模式</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">warn</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">error</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">debug</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">info</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Mylogger* <span class="title">getInstance</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">	</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	Mylogger();</span><br><span class="line">	~Mylogger();</span><br><span class="line">    <span class="keyword">static</span> Mylogger* _pInstance;</span><br><span class="line">    log4cpp::Category &amp;_root;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Mylogger* Mylogger::_pInstance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Mylogger* <span class="title">Mylogger::getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(_pInstance == <span class="literal">nullptr</span>)</span><br><span class="line">    {</span><br><span class="line">        _pInstance = <span class="keyword">new</span> Mylogger();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> _pInstance;</span><br><span class="line">}   </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">if</span>(_pInstance)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> _pInstance;</span><br><span class="line">        _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">}    </span><br><span class="line"></span><br><span class="line">Mylogger::Mylogger()</span><br><span class="line">:_root(log4cpp::Category::getRoot())</span><br><span class="line">{</span><br><span class="line">    <span class="comment">//日志的格式</span></span><br><span class="line">    log4cpp::PatternLayout *ppl1 = <span class="keyword">new</span> log4cpp::PatternLayout();</span><br><span class="line">    ppl1-&gt;setConversionPattern(<span class="string">"%d %c [%p] %x %m %n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// %d 日期 %c 类别 %p 优先级 %x NDC %m 拼接后的消息内容 %n 换行</span></span><br><span class="line">    log4cpp::PatternLayout *ppl2 = <span class="keyword">new</span> log4cpp::PatternLayout();</span><br><span class="line">    ppl2-&gt;setConversionPattern(<span class="string">"%d %c [%p] %x %m %n"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//日志的目的地</span></span><br><span class="line">    log4cpp::OstreamAppender *pos = <span class="keyword">new</span> log4cpp::OstreamAppender(<span class="string">"OstreamAppender"</span>, &amp;<span class="built_in">cout</span>);</span><br><span class="line">    pos-&gt;setLayout(ppl1);</span><br><span class="line"></span><br><span class="line">    log4cpp::RollingFileAppender *pfa = </span><br><span class="line">        <span class="keyword">new</span> log4cpp::RollingFileAppender(<span class="string">"RollingFileAppender"</span>, </span><br><span class="line">                                 <span class="string">"wd.log"</span>);</span><br><span class="line">    pfa-&gt;setLayout(ppl2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//日志的种类</span></span><br><span class="line">    _root.addAppender(pfa);</span><br><span class="line">    _root.addAppender(pos);</span><br><span class="line">    _root.setPriority(log4cpp::Priority::DEBUG);<span class="comment">//日志的优先级</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//当日志的优先级比category的优先级低的时候，日志就会被过滤</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::warn</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.warn(loginfo);</span><br><span class="line">    <span class="comment">// 通过warn 成员函数，是这条信息 具有 WARN 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::debug</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.debug(loginfo);</span><br><span class="line">    <span class="comment">// 通过debug 成员函数，是这条信息 具有 DEBUG 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::error</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.error(loginfo);</span><br><span class="line">    <span class="comment">// 通过error 成员函数，是这条信息 具有 ERROR 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mylogger::info</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *msg)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">string</span> loginfo = msg;       <span class="comment">// 用传入的字符串初始化一个 string 对象</span></span><br><span class="line"></span><br><span class="line">    loginfo = loginfo + <span class="string">":"</span> + __FILE__ + <span class="string">":"</span> + __FUNCTION__ + <span class="string">":"</span> + to_string(__LINE__);</span><br><span class="line">    <span class="comment">// 给该对象的内容加上 文件名，函数名 和 行号；</span></span><br><span class="line">    </span><br><span class="line">    _root.info(loginfo);</span><br><span class="line">    <span class="comment">// 通过info 成员函数，是这条信息 具有 INFO 级别，并写入日志</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Mylogger::~Mylogger()</span><br><span class="line">{</span><br><span class="line">    log4cpp::Category::<span class="built_in">shutdown</span>();  <span class="comment">//回收资源</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    Mylogger* mylogger = Mylogger::getInstance();</span><br><span class="line">    mylogger-&gt;info(<span class="string">"The log is info message"</span>);</span><br><span class="line">    mylogger-&gt;error(<span class="string">"The log is error message"</span>);</span><br><span class="line">    mylogger-&gt;debug(<span class="string">"The log is debug message"</span>);</span><br><span class="line">    mylogger-&gt;warn(<span class="string">"The log is warn message"</span>);</span><br><span class="line"></span><br><span class="line">    mylogger-&gt;destroy();</span><br><span class="line">    mylogger = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="friend友元"><a href="#friend友元" class="headerlink" title="friend友元"></a>friend友元</h4><ul><li><p>friend：让类外访问类内的私有成员</p></li><li><p>friend和static一样，都是声明的时候带上关键字，实现的时候不用，函数或者类的声明要在friend函数或者类的声明之前</p></li><li><p>friend友元的三种形式：</p><ul><li>以普通函数的形式</li><li>以成员函数的形式</li><li>以友元类的形式</li></ul></li><li><p>友元是可以重载的，单向的，不具备传递性，不能被继承</p></li><li><p>友元的声明是不受public/protected/private关键字限制的。</p></li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>;</span>  <span class="comment">//类的前向声明</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Line</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">float</span> <span class="title">distance</span><span class="params">(<span class="keyword">const</span> Point &amp;lhs,<span class="keyword">const</span> Point &amp;rhs)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">distance</span><span class="params">(Point &amp;lhs,<span class="keyword">int</span> ix)</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">float</span> <span class="title">Line::distance</span><span class="params">(<span class="keyword">const</span> Point &amp;lhs,<span class="keyword">const</span> Point &amp;rhs)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">Line::distance</span><span class="params">(Point &amp;lhs,<span class="keyword">int</span> ix)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point(<span class="keyword">int</span> ix,<span class="keyword">int</span> iy): _ix(ix), _iy(iy){}</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; _ix &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">             &lt;&lt; _iy;</span><br><span class="line">    }</span><br><span class="line">    ~Point(){}</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> _ix;</span><br><span class="line">    <span class="keyword">int</span> _iy;   </span><br><span class="line">    </span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">Line::distance</span><span class="params">(<span class="keyword">const</span> Point &amp;lhs,<span class="keyword">const</span> Point &amp;rhs)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> hypot(lhs._ix-rhs._ix,lhs._iy-rhs._iy);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Line::distance</span><span class="params">(Point &amp;lhs,<span class="keyword">int</span> ix)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    lhs._ix = ix;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    </span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">3</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line">    Line <span class="built_in">line</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">line</span>.distance(p1,p2) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">line</span>.distance(p1,<span class="number">3</span>);</span><br><span class="line">    p1.<span class="built_in">print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h3><blockquote><p>const对象只能调用const成员函数</p><p>非const对象既可以调用const也可以调用非const成员函数</p><p>const成员函数指的是后面的const</p><p>const T &amp; operator [] (int i)const;//后面的const是修饰隐藏的this指针的，this本来就是指针常量，这里的const是让它指向对象的数据成员也不能修改，只能读，意思是类的成员变量是const，不可修改。 前面的const 是指函数返回值是const类型的。</p></blockquote><ul><li><p>运算符重载还具有以下规则 ：</p><ul><li>运算符重载的操作对象至少有一个是自定义类型/枚举类型，不能全是内置类型</li><li>重载运算符之后，其优先级和结合性还是固定不变的。</li><li>重载原来有几个操作数、操作数在左边还是在右边，这些都不会改变。</li><li>重载运算符函数不能有默认参数，否则就改变了运算符操作数的个数。</li><li>重载逻辑运算符（&amp;&amp;,||）后，不再具备短路求值特性。</li><li>不能臆造一个并不存在的运算符，如@、$等</li></ul></li><li><p>一般是成员函数重载，二元运算符是友元函数重载</p></li><li><h4 id="自增运算符"><a href="#自增运算符" class="headerlink" title="自增运算符"></a>自增运算符</h4></li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">前置++</span><br><span class="line"> </span><br><span class="line">Complex &amp;<span class="keyword">operator</span>++()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"++运算符重载"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    ++m_r;</span><br><span class="line">    ++m_r;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">(++c3).<span class="built_in">print</span>();     <span class="comment">// 前置++</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值类型为 引用，就是该自增后的对象的引用</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">后置++</span><br><span class="line">    </span><br><span class="line">Complex <span class="keyword">operator</span>++(<span class="keyword">int</span>)        <span class="comment">// int 不表示传参，只是标志这个是表示后置++</span></span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"后置++"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Complex <span class="title">tmp</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    ++m_r;</span><br><span class="line">    ++m_v;</span><br><span class="line">    <span class="keyword">return</span> tmp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">(c3++).<span class="built_in">print</span>();         <span class="comment">// 后置++</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值类型为一个临时对象，即返回的是自增前的对象。</span></span><br></pre></td></tr></tbody></table></figure><ul><li><h4 id="函数调用运算符–-gt-函数对象"><a href="#函数调用运算符–-gt-函数对象" class="headerlink" title="函数调用运算符–>函数对象"></a>函数调用运算符–&gt;函数对象</h4><ul><li>使对象向函数一样使用</li></ul></li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	++_count;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">" x = "</span> &lt;&lt; x &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">} </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	++_count;</span><br><span class="line">	<span class="keyword">return</span> x + y;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><h4 id="成员访问运算符"><a href="#成员访问运算符" class="headerlink" title="成员访问运算符"></a>成员访问运算符</h4></li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Data</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Data(<span class="keyword">int</span> data)</span><br><span class="line">    : _data(data)</span><br><span class="line">    {</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getData</span><span class="params">()</span> <span class="keyword">const</span> </span></span><br><span class="line"><span class="function">    </span>{ </span><br><span class="line">        <span class="keyword">return</span> _data; </span><br><span class="line">    }</span><br><span class="line">    ~Data()</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> _data;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MiddleLayer</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MiddleLayer(Data *pdata): _pdata(pdata){}</span><br><span class="line">    Data* <span class="keyword">operator</span>-&gt;()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> _pdata;</span><br><span class="line">    }</span><br><span class="line">    Data &amp;<span class="keyword">operator</span>*()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> *_pdata;</span><br><span class="line">    }</span><br><span class="line">    <span class="function">Data* <span class="title">getpdata</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> _pdata;</span><br><span class="line">    }</span><br><span class="line">    ~MiddleLayer()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> _pdata;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Data *_pdata;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThirdLayer</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ThirdLayer(MiddleLayer *ml)</span><br><span class="line">    : _ml(ml)</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    MiddleLayer* <span class="keyword">operator</span>-&gt;()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> _ml;</span><br><span class="line">    }</span><br><span class="line">    MiddleLayer&amp; <span class="keyword">operator</span>*()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> *_ml;</span><br><span class="line">    } </span><br><span class="line">    ~ThirdLayer()</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> _ml;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    MiddleLayer *_ml;</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">MiddleLayer <span class="title">ml</span><span class="params">(<span class="keyword">new</span> Data(<span class="number">5</span>))</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ml-&gt;getData() &lt;&lt; <span class="built_in">endl</span> &lt;&lt; (*ml).getData() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ThirdLayer <span class="title">tl</span><span class="params">(<span class="keyword">new</span> MiddleLayer(<span class="keyword">new</span> Data(<span class="number">6</span>)))</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; tl-&gt;getpdata()-&gt;getData() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (*tl)-&gt;getData();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><h4 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h4><ul><li>由其他类型向自定义类型转换</li></ul><figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line">只要定义了合适的构造函数，就能实现这种隐式转换</span><br><span class="line">Point pt = <span class="number">1</span>;   <span class="comment">//隐式转换</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span> s1 = <span class="string">"hello,world"</span>;</span><br><span class="line"></span><br><span class="line">而上面把一个<span class="keyword">int</span>型数据直接赋值给一个Point对象，看起来就是比较诡异的，难以接受，所以这里我们是不希望发生这样的隐式转换的。那怎么禁止隐式转换呢，比较简单，只需要在相应构造函数前面加上<span class="keyword">explicit</span>关键字就能解决。</span><br></pre></td></tr></tbody></table></figure><ul><li>由自定义类型到其他类型的转换</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line">f是一个对象，下面是类里面的成员函数。</span><br><span class="line"><span class="function"><span class="keyword">operator</span> <span class="title">double</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> _numerator/_denominator;</span><br><span class="line">} </span><br><span class="line"><span class="function"><span class="keyword">operator</span> <span class="title">Point</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">	<span class="keyword">return</span> Point(_numerator, _denominator);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> s = f + <span class="number">1.11</span>;</span><br><span class="line"><span class="keyword">double</span> q = f;</span><br><span class="line">Ponit p = f;</span><br></pre></td></tr></tbody></table></figure></li><li><h4 id="其他运算符可以看String类的实现"><a href="#其他运算符可以看String类的实现" class="headerlink" title="其他运算符可以看String类的实现"></a>其他运算符可以看String类的实现</h4><ul><li>注意两个点：删除字符串堆空间delete [],不然会内存泄漏</li><li>不要上来就strcpy，先要申请new一下</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">String</span>();</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	~<span class="keyword">String</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">String</span> &amp;<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index);</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index) <span class="keyword">const</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="built_in">std</span>::<span class="keyword">size_t</span> <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">const</span> <span class="keyword">char</span>* <span class="title">c_str</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">friend</span> <span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="built_in">std</span>::istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="built_in">std</span>::istream &amp;, <span class="keyword">String</span> &amp;);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;, <span class="keyword">const</span> <span class="keyword">char</span> *);</span><br><span class="line">	<span class="keyword">friend</span> <span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">char</span> *, <span class="keyword">const</span> <span class="keyword">String</span> &amp;);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">char</span> *_pstr;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//构造函数，拷贝构造函数不需要考虑清除堆空间，一开始肯定为空！</span></span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>()</span><br><span class="line">: _pstr(<span class="literal">nullptr</span>)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::String()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">: _pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(pstr)+<span class="number">1</span>]())</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::String(const char *pstr)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(_pstr, pstr);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//拷贝构造函数</span></span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">: _pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pstr)+<span class="number">1</span>]())</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::String(const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(_pstr, rhs._pstr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//赋值运算符函数：左右两边要都存在</span></span><br><span class="line"><span class="comment">//String s = "123"左边不存在，调用的是构造函数</span></span><br><span class="line"><span class="comment">//改变对象本身的返回*this，对应要用&amp;接</span></span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String &amp;String::operator=(const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//防止自复制问题</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> != &amp;rhs)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(_pstr)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> [] _pstr;</span><br><span class="line">            _pstr = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">        _pstr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pstr)]();</span><br><span class="line">        <span class="built_in">strcpy</span>(_pstr, rhs._pstr);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String &amp;String::operator=(const char *pstr)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">temp</span><span class="params">(pstr)</span></span>;</span><br><span class="line">    *<span class="keyword">this</span> = temp;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String &amp;String::operator+=(const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">temp</span><span class="params">(*<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span>(_pstr)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> [] _pstr;</span><br><span class="line">        _pstr = <span class="literal">nullptr</span>;</span><br><span class="line">    }    </span><br><span class="line">    _pstr = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(temp._pstr)+<span class="built_in">strlen</span>(rhs._pstr)+<span class="number">1</span>]();</span><br><span class="line">    <span class="built_in">strcpy</span>(_pstr, temp._pstr);</span><br><span class="line">    <span class="built_in">strcat</span>(_pstr, rhs._pstr);</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>+=(<span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String &amp;String::operator+=(const char *pstr)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">temp</span><span class="params">(pstr)</span></span>;</span><br><span class="line">    *<span class="keyword">this</span> += temp;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::operator[](std::size_t index)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="built_in">size</span>())</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> _pstr[index];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">char</span> ch = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="keyword">return</span> ch;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> &amp;<span class="keyword">String</span>::<span class="keyword">operator</span>[](<span class="built_in">std</span>::<span class="keyword">size_t</span> index) <span class="keyword">const</span></span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::operator[](std::size_t index) const"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(index &lt; <span class="built_in">size</span>())</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> _pstr[index];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        <span class="keyword">static</span> <span class="keyword">char</span> ch = <span class="string">'\0'</span>;</span><br><span class="line">        <span class="keyword">return</span> ch;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="keyword">size_t</span> <span class="title">String::size</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::size() const"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strlen</span>(_pstr);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">const</span> <span class="keyword">char</span>* <span class="title">String::c_str</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::c_str() const"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> _pstr;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator==(const String &amp;lhs, const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> !<span class="built_in">strcmp</span>(lhs._pstr, rhs._pstr);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator!=(const String &amp;lhs, const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr, rhs._pstr);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator&lt;(const String &amp;lhs, const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr, rhs._pstr) &lt; <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator&gt;(const String &amp;lhs, const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr, rhs._pstr) &gt; <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator&lt;=(const String &amp;lhs, const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr, rhs._pstr) &lt;= <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator&gt;=(const String &amp;lhs, const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strcmp</span>(lhs._pstr, rhs._pstr) &gt;= <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator&lt;&lt;(std::ostream &amp;os, const String &amp;rhs)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(rhs._pstr)</span><br><span class="line">    {</span><br><span class="line">        os &lt;&lt; rhs._pstr;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">std</span>::istream &amp;<span class="keyword">operator</span>&gt;&gt;(<span class="built_in">std</span>::istream &amp;is, <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span>(rhs._pstr)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> [] rhs._pstr;</span><br><span class="line">        rhs._pstr = <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">while</span>((ch = is.<span class="built_in">get</span>()) != <span class="string">'\n'</span>)</span><br><span class="line">    {</span><br><span class="line">        s += ch;</span><br><span class="line">    }</span><br><span class="line">    rhs._pstr = <span class="keyword">new</span> <span class="keyword">char</span>[s.<span class="built_in">size</span>()+<span class="number">1</span>]();</span><br><span class="line">    <span class="built_in">strcpy</span>(rhs._pstr, s.c_str());</span><br><span class="line">    <span class="keyword">return</span> is;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{ </span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">temp</span><span class="params">(lhs)</span></span>;</span><br><span class="line">    temp += rhs;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">String</span> &amp;lhs, <span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">temp</span><span class="params">(lhs)</span></span>;</span><br><span class="line">    temp += pstr;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">String</span> <span class="keyword">operator</span>+(<span class="keyword">const</span> <span class="keyword">char</span> *pstr, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">temp</span><span class="params">(pstr)</span></span>;</span><br><span class="line">    temp += rhs;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//delete nullptr 不发生任何事</span></span><br><span class="line"><span class="keyword">String</span>::~<span class="keyword">String</span>()</span><br><span class="line">{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"String::~String()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(_pstr)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">delete</span> [] _pstr;</span><br><span class="line">        _pstr = <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><h3 id="设计模式之Pimpl"><a href="#设计模式之Pimpl" class="headerlink" title="设计模式之Pimpl"></a>设计模式之Pimpl</h3><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//Line.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Line</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Line(<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">int</span>);</span><br><span class="line">    ~Line();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printLine</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">LinePimpl</span>;</span> <span class="comment">//类前向声明</span></span><br><span class="line">    LinePimpl *_linepimpl;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//Line.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"Line.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Line</span>:</span>:LinePimpl <span class="comment">//继承Line</span></span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LinePimpl(<span class="keyword">int</span> x1 = <span class="number">0</span>,<span class="keyword">int</span> y1 = <span class="number">0</span>,<span class="keyword">int</span> x2 = <span class="number">0</span>,<span class="keyword">int</span> y2 = <span class="number">0</span>)</span><br><span class="line">    : _pt1(x1,y1)</span><br><span class="line">    , _pt2(x2,y2)</span><br><span class="line">    {</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printLinePimpl</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        _pt1.<span class="built_in">print</span>();</span><br><span class="line">        _pt2.<span class="built_in">print</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span>  //隐藏内部细节,设置为私有的</span></span><br><span class="line"><span class="class">    {</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">      Point(<span class="keyword">int</span> x = <span class="number">0</span>,<span class="keyword">int</span> y = <span class="number">0</span>)</span><br><span class="line">      : _x(x)</span><br><span class="line">      , _y(y)</span><br><span class="line">      {  </span><br><span class="line">      }</span><br><span class="line">      <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">      </span>{</span><br><span class="line">          <span class="built_in">cout</span> &lt;&lt; _x &lt;&lt; <span class="string">" "</span> &lt;&lt; _y &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">      }</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> _x;</span><br><span class="line">        <span class="keyword">int</span> _y;</span><br><span class="line">  </span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    Point _pt1;</span><br><span class="line">    Point _pt2;</span><br><span class="line">    </span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Line::Line(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2)</span><br><span class="line">: _linepimpl(<span class="keyword">new</span> LinePimpl(x1,y1,x2,y2))</span><br><span class="line">{</span><br><span class="line">}</span><br><span class="line">Line::~Line()</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">delete</span> _linepimpl;</span><br><span class="line">    _linepimpl = <span class="literal">nullptr</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Line::printLine</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    _linepimpl-&gt;printLinePimpl();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><h4 id="单例模式的自动释放"><a href="#单例模式的自动释放" class="headerlink" title="单例模式的自动释放"></a>单例模式的自动释放</h4></li><li><p>友元类实现单例模式的自动释放</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Autorelease</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Autorelease</span>;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton* <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">       <span class="built_in">cout</span> &lt;&lt; <span class="string">"static Singleton* getInstance()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">       <span class="keyword">if</span>(_pInstance == <span class="literal">nullptr</span>)</span><br><span class="line">       {</span><br><span class="line">           _pInstance = <span class="keyword">new</span> Singleton();</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> _pInstance;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"static void destroy()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_pInstance)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> _pInstance;</span><br><span class="line">            _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> Singleton *_pInstance;</span><br><span class="line">    </span><br><span class="line">};</span><br><span class="line">Singleton *Singleton::_pInstance = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AutoRelease</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    AutoRelease()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"AutoRelease()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~AutoRelease()</span><br><span class="line">    {</span><br><span class="line">        Singleton::destroy();  <span class="comment">//友元类可以调用静态成员函数,但友元类不能访问私有的，只能访问公有的</span></span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure></li><li><p>内部类+静态数据成员类</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton* <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">       <span class="built_in">cout</span> &lt;&lt; <span class="string">"static Singleton* getInstance()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">       <span class="keyword">if</span>(_pInstance == <span class="literal">nullptr</span>)</span><br><span class="line">       {</span><br><span class="line">           _pInstance = <span class="keyword">new</span> Singleton();</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> _pInstance;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"static void destroy()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_pInstance)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> _pInstance;</span><br><span class="line">            _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">AutoRelease</span></span></span><br><span class="line"><span class="class">    {</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        AutoRelease()</span><br><span class="line">        {</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"AutoRelease()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        }</span><br><span class="line">        ~AutoRelease()</span><br><span class="line">        {</span><br><span class="line">            Singleton::destroy();  </span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> Singleton *_pInstance;</span><br><span class="line">    <span class="keyword">static</span> AutoRelease  _autorelease;</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line">Singleton *Singleton::_pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">Singleton::AutoRelease Singleton::_autorelease;</span><br></pre></td></tr></tbody></table></figure></li><li><p>atexit+饿汉模式</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton* <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">       <span class="built_in">cout</span> &lt;&lt; <span class="string">"static Singleton* getInstance()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">       <span class="keyword">if</span>(_pInstance == <span class="literal">nullptr</span>)</span><br><span class="line">       {</span><br><span class="line">           _pInstance = <span class="keyword">new</span> Singleton();</span><br><span class="line">           atexit(destroy); <span class="comment">//注册终止函数，程序终止时，自动调用终止函数</span></span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> _pInstance;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"static void destroy()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_pInstance)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> _pInstance;</span><br><span class="line">            _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> Singleton *_pInstance;</span><br><span class="line">    </span><br><span class="line">};</span><br><span class="line"><span class="comment">//Singleton *Singleton::_pInstance = nullptr; //饱汉模式（懒汉模式）</span></span><br><span class="line">Singleton *Singleton::_pInstance = Singleton::getInstance(); <span class="comment">//饿汉模式，线程安全</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>pthread_once + 饱汉模式</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Singleton* <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">       <span class="built_in">cout</span> &lt;&lt; <span class="string">"static Singleton* getInstance()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">       pthread_once(&amp;_once,init); <span class="comment">//保证多线程下只new一次</span></span><br><span class="line">       <span class="keyword">return</span> _pInstance;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        _pInstance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        atexit(destroy);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"static void destroy()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_pInstance)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> _pInstance;</span><br><span class="line">            _pInstance = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Singleton()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Singleton()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> Singleton *_pInstance;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">pthread_once_t</span> _once;</span><br><span class="line">};</span><br><span class="line">Singleton *Singleton::_pInstance = <span class="literal">nullptr</span>; <span class="comment">//饱汉模式（懒汉模式）</span></span><br><span class="line"><span class="comment">//Singleton *Singleton::_pInstance = Singleton::getInstance(); //饿汉模式，线程安全</span></span><br><span class="line"><span class="keyword">pthread_once_t</span> Singleton::_once = PTHREAD_ONCE_INIT;</span><br></pre></td></tr></tbody></table></figure><h3 id="string的三种实现方式"><a href="#string的三种实现方式" class="headerlink" title="string的三种实现方式"></a>string的三种实现方式</h3><ol><li><p>深拷贝(eager copy)</p></li><li><p>写时复制cow(copy on write)：</p><ul><li>只有当需要对字符串写操作时才进行深拷贝</li><li>如果是读操作，就执行浅拷贝。</li><li>实现技术：浅拷贝+引用计数</li><li>ubunutu14.04使用cow</li></ul><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">String</span>()</span><br><span class="line">    : _pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">5</span>]()+<span class="number">4</span>)</span><br><span class="line">    {</span><br><span class="line">        initRefCount();<span class="comment">//*(int*)(_pstr-4) = 1;</span></span><br><span class="line">        _pstr = <span class="literal">nullptr</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">char</span> *pstr)</span><br><span class="line">    : _pstr(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(pstr)+<span class="number">5</span>]()+<span class="number">4</span>)</span><br><span class="line">    {</span><br><span class="line">        initRefCount();<span class="comment">//*(int*)(_pstr-4) = 1;</span></span><br><span class="line">        <span class="built_in">strcpy</span>(_pstr,pstr); </span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//String s1 = s2 ,s1对象不存在，用到拷贝构造函数</span></span><br><span class="line">    <span class="keyword">String</span>(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">    : _pstr(rhs._pstr) <span class="comment">//浅复制</span></span><br><span class="line">    {</span><br><span class="line">        increaseRefCount();<span class="comment">//++*(int*)(_pstr-4); </span></span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//s1 = s2 ，s1对象存在，用到赋值函数</span></span><br><span class="line">    <span class="keyword">String</span> &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span> != &amp;rhs) <span class="comment">//1.防止自复制问题</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(getRefCount() &gt; <span class="number">1</span>) <span class="comment">//2.释放左操作数</span></span><br><span class="line">            {</span><br><span class="line">                decreaseRefCount();<span class="comment">//--*(int*)(_pstr-4);</span></span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                deleteRefCount();<span class="comment">//delete [](_pstr-4);</span></span><br><span class="line">            }</span><br><span class="line">            <span class="comment">//3.浅拷贝</span></span><br><span class="line">            _pstr = rhs._pstr;</span><br><span class="line">            increaseRefCount();<span class="comment">//++*(int*)(_pstr-4); </span></span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">//4.返回*this</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//s1 = "hello"</span></span><br><span class="line">    <span class="comment">//s1[0] = 'H'</span></span><br><span class="line">    <span class="keyword">char</span> &amp;<span class="keyword">operator</span>[](<span class="keyword">size_t</span> idx)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(idx &lt; <span class="built_in">size</span>())</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(getRefCount() &gt; <span class="number">1</span>)</span><br><span class="line">            {</span><br><span class="line">                <span class="keyword">char</span> *temp = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">size</span>()+<span class="number">5</span>]() + <span class="number">4</span>; <span class="comment">//写时赋值 深拷贝</span></span><br><span class="line">                <span class="built_in">strcpy</span>(temp,_pstr);</span><br><span class="line">                decreaseRefCount();</span><br><span class="line">                _pstr = temp;</span><br><span class="line">                initRefCount();</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> _pstr[idx];</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">static</span> <span class="keyword">char</span> nullchar = <span class="string">'\0'</span>;</span><br><span class="line">            <span class="keyword">return</span> nullchar;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">size_t</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">strlen</span>(_pstr);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">const</span> <span class="keyword">char</span>* <span class="title">c_str</span><span class="params">()</span> <span class="keyword">const</span> </span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> _pstr;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initRefCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        *(<span class="keyword">int</span>*)(_pstr<span class="number">-4</span>) = <span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increaseRefCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        ++*(<span class="keyword">int</span>*)(_pstr<span class="number">-4</span>); </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">decreaseRefCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        --*(<span class="keyword">int</span>*)(_pstr<span class="number">-4</span>); </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteRefCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">delete</span> [](_pstr<span class="number">-4</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getRefCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="keyword">return</span> *(<span class="keyword">int</span>*)(_pstr<span class="number">-4</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs);</span><br><span class="line"></span><br><span class="line">    ~<span class="keyword">String</span>() <span class="comment">//因为是浅复制，要考虑多个只清除一个</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(_pstr)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span>(*(<span class="keyword">int</span>*)(_pstr<span class="number">-4</span>) &gt; <span class="number">1</span>)</span><br><span class="line">            {</span><br><span class="line">                decreaseRefCount();</span><br><span class="line">                _pstr = <span class="literal">nullptr</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                deleteRefCount();<span class="comment">//delete [](_pstr-4);</span></span><br><span class="line">            }</span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *_pstr;</span><br><span class="line">};</span><br><span class="line"><span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> <span class="keyword">String</span> &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span>(rhs._pstr)</span><br><span class="line">    {</span><br><span class="line">        os &lt;&lt; rhs._pstr;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol></li></ul><ol start="3"><li><p>短字符串优化sso(short string optimization)</p><ul><li>当字符串长度小于16字节，申请在栈上</li><li>当字符串长度大于等于16字节，申请在堆上</li><li>ubunutu18.04使用sso</li></ul><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://s2.loli.net/2022/02/25/7r14KbWAUEMt5qo.png" alt="image.png" style="zoom:50%"></li></ol><ul><li><p>不论以什么方式继承，派生类都不能访问基类的私有成员</p></li><li><p>不论以什么方式继承，派生类都能访问到基类中的非私成员</p></li><li><p>对于派生类对象而言，只能访问public继承的基类中的public成员</p></li><li><p>默认继承方式private</p></li></ul><figure class="highlight 1c"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//创建派生类对象时，会调用派生类的构造函数，为了完成从基类吸收过来的数据成员的初始化，需要调用基类的构造函数（不管初始化列表写不写，都自动调用默认的），然后再去执行派生类构造函数的函数体</span></span><br></pre></td></tr></tbody></table></figure><h4 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h4><h5 id="成员名冲突的二义性"><a href="#成员名冲突的二义性" class="headerlink" title="成员名冲突的二义性"></a>成员名冲突的二义性</h5><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span></span></span><br><span class="line"><span class="class">:</span> <span class="keyword">public</span> A</span><br><span class="line">, <span class="keyword">public</span> C</span><br><span class="line">, <span class="keyword">public</span> B</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    D()</span><br><span class="line">    : A()</span><br><span class="line">    , B()</span><br><span class="line">    , C()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"D()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~D()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~D()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//多基继承产生的问题1：成员函数访问冲突</span></span><br><span class="line">    <span class="comment">//解决方案：使用类名 + 作用域限定符</span></span><br><span class="line">    D d;</span><br><span class="line">    d.A::<span class="built_in">print</span>();</span><br><span class="line">    d.B::<span class="built_in">print</span>();</span><br><span class="line">    d.C::<span class="built_in">print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h5 id="存储二义性"><a href="#存储二义性" class="headerlink" title="存储二义性"></a>存储二义性</h5><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    A()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"A()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setX</span><span class="params">(<span class="keyword">double</span> dx)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        _dx = dx;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"A::_dx = "</span> &lt;&lt; _dx &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~A()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~A()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> _dx;<span class="comment">//8</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//虚基指针</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>//8</span></span><br><span class="line"><span class="class">:</span> <span class="keyword">virtual</span> <span class="keyword">public</span> A</span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>//8</span></span><br><span class="line"><span class="class">:</span> <span class="keyword">virtual</span> <span class="keyword">public</span> A</span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span>//16</span></span><br><span class="line"><span class="class">:</span> <span class="keyword">public</span> B</span><br><span class="line">, <span class="keyword">public</span> C</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    D()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"D()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~D()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~D()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof(A) = "</span> &lt;&lt; <span class="keyword">sizeof</span>(A) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof(B) = "</span> &lt;&lt; <span class="keyword">sizeof</span>(B) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof(C) = "</span> &lt;&lt; <span class="keyword">sizeof</span>(C) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"sizeof(D) = "</span> &lt;&lt; <span class="keyword">sizeof</span>(D) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//多基继承的问题2：存储二义性（_dx在D里面会有两份）</span></span><br><span class="line">    <span class="comment">//解决方案：让B与C分别去虚拟继承A,保证在D里面_dx只有一份</span></span><br><span class="line">    D d;</span><br><span class="line">    d.B::setX(<span class="number">100</span>);</span><br><span class="line">    d.B::<span class="built_in">print</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    d.C::setX(<span class="number">200</span>);</span><br><span class="line">    d.C::<span class="built_in">print</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    d.A::setX(<span class="number">300</span>);</span><br><span class="line">    d.A::<span class="built_in">print</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    d.setX(<span class="number">500</span>);</span><br><span class="line">    d.<span class="built_in">print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="派生类对象和基类对象之间的相互转换"><a href="#派生类对象和基类对象之间的相互转换" class="headerlink" title="派生类对象和基类对象之间的相互转换"></a>派生类对象和基类对象之间的相互转换</h4><ul><li><p>派生类对象可以转换为基类对象(向上转型是安全的)，即派生类对象利用赋值运算符函数赋给基类对象（记：16字节可以赋给8字节）</p></li><li><p>基类的指针可以指向一个派生类对象 (记：8字节的指针可以指向一块16字节的内存空间)</p></li><li><p>基类的引用可以绑定到一个派生类对象</p></li></ul><ul><li><p>派生类对象不可以转换为基类对象，即派生类对象不能利用赋值运算符函数赋给基类对象，但是可以用static_cast强制向下转型（不安全）</p></li><li><p>派生类的指针不可以指向一个基类对象 (记：16字节的指针不可以指向一块8字节的内存空间，不安全)，可以用static_cast强制向下转型（不安全）</p></li><li><p>派生类的引用不可以绑定到一个基类对象（不安全）</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Base()</span><br><span class="line">    : _base(<span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    Base(<span class="keyword">long</span> base)</span><br><span class="line">    : _base(base)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base(long)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; _base &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Base()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Base()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">long</span> _base;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span></span></span><br><span class="line"><span class="class">:</span> <span class="keyword">public</span> Base</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Derived()</span><br><span class="line">    : Base()</span><br><span class="line">    , _derived(<span class="number">0</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Derived()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    Derived(<span class="keyword">long</span> base, <span class="keyword">long</span> derived)</span><br><span class="line">    : Base(base)</span><br><span class="line">    , _derived(derived)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Derived(long, long)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; _derived &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    ~Derived()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Derived()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">long</span> _derived;</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 0</span></span><br><span class="line">    <span class="function">Base <span class="title">base</span><span class="params">(<span class="number">11</span>)</span></span>;</span><br><span class="line">    <span class="function">Derived <span class="title">derived</span><span class="params">(<span class="number">22</span>,<span class="number">33</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    base = derived; <span class="comment">//ok, 1、派生类对象可以赋值给基类对象</span></span><br><span class="line">    base.<span class="keyword">operator</span>=(derived); </span><br><span class="line"></span><br><span class="line">    Base *base1 = &amp;derived;  <span class="comment">//ok,2、基类的引用可以绑定到派生类对象</span></span><br><span class="line"></span><br><span class="line">    Base &amp;ref = derived; <span class="comment">//ok,3、基类的指针可以指向派生类对象</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 0</span></span><br><span class="line">    <span class="function">Base <span class="title">base</span><span class="params">(<span class="number">11</span>)</span></span>;</span><br><span class="line">    <span class="function">Derived <span class="title">derived</span><span class="params">(<span class="number">22</span>,<span class="number">33</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    derived = base; <span class="comment">//error,1、基类对象不能向派生类对象进行转换</span></span><br><span class="line">    derived.<span class="keyword">operator</span>=(base);  </span><br><span class="line"></span><br><span class="line">    Derived *derived1 = &amp;base; <span class="comment">//error, 2、派生类的引用不能绑定基类对象上</span></span><br><span class="line"></span><br><span class="line">    Derived &amp;ref = base;  <span class="comment">//error, 3、派生类的指针不能指向基类对象(向下转型)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">Base <span class="title">base</span><span class="params">(<span class="number">11</span>)</span></span>;</span><br><span class="line">    <span class="function">Derived <span class="title">derived</span><span class="params">(<span class="number">22</span>,<span class="number">33</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    Derived *derived1 = <span class="keyword">static_cast</span>&lt;Derived*&gt;(&amp;base);  <span class="comment">//ok,不安全的向下转型</span></span><br><span class="line">    </span><br><span class="line">    Base *base1 = &amp;derived;</span><br><span class="line">    Derived *derived1 = <span class="keyword">static_cast</span>&lt;Derived*&gt;(base1);  <span class="comment">//ok, 安全的向下转型</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span>   </span></span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="对象间的复制控制-涉及拷贝构造函数、赋值运算符函数、标准输出运算符函数-lt-lt"><a href="#对象间的复制控制-涉及拷贝构造函数、赋值运算符函数、标准输出运算符函数-lt-lt" class="headerlink" title="对象间的复制控制:涉及拷贝构造函数、赋值运算符函数、标准输出运算符函数<<"></a>对象间的复制控制:涉及拷贝构造函数、赋值运算符函数、标准输出运算符函数&lt;&lt;</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Base()</span><br><span class="line">    : _pbase(<span class="literal">nullptr</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Base(<span class="keyword">const</span> <span class="keyword">char</span> *pbase)</span><br><span class="line">    : _pbase(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(pbase) + <span class="number">1</span>]())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base(const char *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(_pbase, pbase);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Base(<span class="keyword">const</span> Base &amp;rhs)</span><br><span class="line">    : _pbase(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pbase) + <span class="number">1</span>]())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base(const Base &amp;)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(_pbase, rhs._pbase);;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Base &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> Base &amp;rhs)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base &amp;operator=(const Base &amp;)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span> != &amp;rhs)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> [] _pbase;</span><br><span class="line">            _pbase = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">            _pbase = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pbase) + <span class="number">1</span>]();</span><br><span class="line">            <span class="built_in">strcpy</span>(_pbase, rhs._pbase);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~Base()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Base()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_pbase)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> [] _pbase;</span><br><span class="line">            _pbase = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Base &amp;rhs);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *_pbase;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Base &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span>(rhs._pbase)</span><br><span class="line">    {</span><br><span class="line">        os &lt;&lt; rhs._pbase;</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span></span></span><br><span class="line"><span class="class">:</span> <span class="keyword">public</span> Base</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Derived()</span><br><span class="line">    : Base()</span><br><span class="line">    , _pderived(<span class="literal">nullptr</span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Derived()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Derived(<span class="keyword">const</span> <span class="keyword">char</span> *pbase, <span class="keyword">const</span> <span class="keyword">char</span> *pderived)</span><br><span class="line">    : Base(pbase)</span><br><span class="line">    , _pderived(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(pderived) + <span class="number">1</span>]())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Derived(const char *)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(_pderived, pderived);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Derived(<span class="keyword">const</span> Derived &amp;rhs)</span><br><span class="line">    : Base(rhs) <span class="comment">//显式调用基类拷贝构造函数</span></span><br><span class="line">    , _pderived(<span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pderived) + <span class="number">1</span>]())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Derived(const Derived &amp;)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(_pderived, rhs._pderived);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    Derived &amp;<span class="keyword">operator</span>=(<span class="keyword">const</span> Derived &amp;rhs)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span> != &amp;rhs) <span class="comment">//1.自复制问题</span></span><br><span class="line">        {</span><br><span class="line">            Base::<span class="keyword">operator</span>=(rhs); <span class="comment">//显式调用基类赋值运算符函数</span></span><br><span class="line">            <span class="keyword">delete</span> []_pderived; <span class="comment">//2.释放左操作数</span></span><br><span class="line">            _pderived = <span class="literal">nullptr</span>;</span><br><span class="line">            </span><br><span class="line">            _pderived = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(rhs._pderived)+<span class="number">1</span>]();</span><br><span class="line">            <span class="built_in">strcpy</span>(_pderived,rhs._pderived); <span class="comment">//3.深拷贝</span></span><br><span class="line">            </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>; <span class="comment">//4.返回*this</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ~Derived()</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"~Derived()"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(_pderived)</span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">delete</span> [] _pderived;</span><br><span class="line">            _pderived = <span class="literal">nullptr</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">friend</span> <span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Derived &amp;rhs);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">char</span> *_pderived;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, <span class="keyword">const</span> Derived &amp;rhs)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">const</span> Base &amp;ref = rhs;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ref &lt;&lt; <span class="string">","</span>;</span><br><span class="line">    <span class="keyword">if</span>(rhs._pderived)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; rhs._pderived;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">Derived <span class="title">d1</span><span class="params">(<span class="string">"hello"</span>, <span class="string">"world"</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"d1 = "</span> &lt;&lt; d1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    Derived d2 = d1;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"d1 = "</span> &lt;&lt; d1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"d2 = "</span> &lt;&lt; d2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Derived <span class="title">d3</span><span class="params">(<span class="string">"hubei"</span>, <span class="string">"wuhan"</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"d3 = "</span> &lt;&lt; d3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    d3 = d1;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"d1 = "</span> &lt;&lt; d1 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"d3 = "</span> &lt;&lt; d3 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="set-pair-map"><a href="#set-pair-map" class="headerlink" title="set,pair,map"></a>set,pair,map</h4><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;utility&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">set</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::pair;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">map</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//set的特征</span></span><br><span class="line">    <span class="comment">//1、关键是唯一的，不能重复 </span></span><br><span class="line">    <span class="comment">//2、默认情况下，会按照关键字进行升序排列</span></span><br><span class="line">    <span class="comment">//3、底层实现使用的是红黑树</span></span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="comment">/* vector&lt;int&gt; number1; */</span></span><br><span class="line">    <span class="comment">/* int arr[10] = {1, 2, 4, 6, 8, 9, 12, 3, 5, 6}; */</span></span><br><span class="line">    <span class="comment">/* set&lt;int&gt; number(arr, arr + 10);//左闭右开的区间 */</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; number = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>};</span><br><span class="line"></span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;elem : number)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; elem &lt;&lt; <span class="string">"  "</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//迭代器可以看成是一个指针（广义的指针）</span></span><br><span class="line">    <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator it;<span class="comment">//迭代器</span></span><br><span class="line">    <span class="keyword">for</span>(it = number.<span class="built_in">begin</span>(); it != number.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="string">"  "</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"set的查找"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">size_t</span> cnt1 = number.count(<span class="number">6</span>);</span><br><span class="line">    <span class="keyword">size_t</span> cnt2 = number.count(<span class="number">16</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"cnt1 = "</span> &lt;&lt; cnt1 &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">         &lt;&lt; <span class="string">"cnt2 = "</span> &lt;&lt; cnt2  &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">/* set&lt;int&gt;::iterator it2 = number.find(8); */</span></span><br><span class="line">    <span class="comment">/* set&lt;int&gt;::iterator it2 = number.find(18); */</span></span><br><span class="line">    <span class="keyword">auto</span>  it2 = number.<span class="built_in">find</span>(<span class="number">18</span>);</span><br><span class="line">    <span class="keyword">if</span>(it2 == number.<span class="built_in">end</span>())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"该元素不存在set中"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *it2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"set的插入操作"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    pair&lt;<span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator, <span class="keyword">bool</span>&gt; ret =  number.insert(<span class="number">7</span>);</span><br><span class="line">    <span class="keyword">if</span>(ret.second)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"插入成功 : "</span> &lt;&lt; *ret.first &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"该元素插入失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">5</span>] = {<span class="number">2</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">8</span>};</span><br><span class="line">    number.insert(arr2, arr2 + <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;elem : number)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; elem &lt;&lt; <span class="string">"  "</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"set的下标访问"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">/* cout &lt;&lt; number[0] &lt;&lt; endl;//error，不支持下标访问 */</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"set的修改操作"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    it = number.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"*it = "</span> &lt;&lt; *it &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">/* *it = 200;//为了保证红黑树的稳定性，所以set不支持修改 */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test00</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    std::pair&lt;int, string&gt; number(1, "hello,world");</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; number.first &lt;&lt; <span class="string">"   "</span> &lt;&lt; number.second &lt;&lt; <span class="built_in">endl</span>; </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">//map的特征：</span></span><br><span class="line">    <span class="comment">//1、key值是唯一的（关键字是唯一的），不能重复</span></span><br><span class="line">    <span class="comment">//2、默认情况下，会按照key值进行升序排列</span></span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; number = {</span><br><span class="line">        {<span class="string">"010"</span>,<span class="string">"北京"</span>},</span><br><span class="line">        {<span class="string">"020"</span>,<span class="string">"天津"</span>},</span><br><span class="line">        pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;(<span class="string">"0755"</span>, <span class="string">"深圳"</span>),</span><br><span class="line">        pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;(<span class="string">"027"</span>, <span class="string">"武汉"</span>),</span><br><span class="line">        {<span class="string">"020"</span>,<span class="string">"南京"</span>},</span><br><span class="line">        {<span class="string">"030"</span>,<span class="string">"天津"</span>},</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;elem : number)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; elem.first &lt;&lt; <span class="string">"  "</span> &lt;&lt; elem.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"map的查找"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">size_t</span> cnt1 = number.count(<span class="string">"010"</span>);</span><br><span class="line">    <span class="keyword">size_t</span> cnt2 = number.count(<span class="string">"016"</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"cnt1 = "</span> &lt;&lt; cnt1 &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">         &lt;&lt; <span class="string">"cnt2 = "</span> &lt;&lt; cnt2  &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;::iterator it2 = number.<span class="built_in">find</span>(<span class="string">"020"</span>);</span><br><span class="line">    <span class="comment">/* auto  it2 = number.find("020"); */</span></span><br><span class="line">    <span class="keyword">if</span>(it2 == number.<span class="built_in">end</span>())</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"该元素不存在map中"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; it2-&gt;first &lt;&lt; <span class="string">" "</span> &lt;&lt; it2-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"map的插入"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">/* pair&lt;map&lt;string, string&gt;::iterator, bool&gt; ret2 */</span> </span><br><span class="line">    <span class="comment">/*     = number.insert(pair&lt;string, string&gt;("0987", "新疆")); */</span></span><br><span class="line">    <span class="keyword">auto</span> ret2 = number.insert({<span class="string">"0987"</span>, <span class="string">"新疆"</span>});</span><br><span class="line">    <span class="keyword">if</span>(ret2.second)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"插入成功 "</span> &lt;&lt; ret2.first-&gt;first </span><br><span class="line">             &lt;&lt; <span class="string">"  "</span> &lt;&lt; ret2.first-&gt;second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"插入失败"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">"map的下标访问"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"number[\"010\"] = "</span> &lt;&lt; number[<span class="string">"010"</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"number[\"090\"] = "</span> &lt;&lt; number[<span class="string">"090"</span>] &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//具有插入功能</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;elem : number)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; elem.first &lt;&lt; <span class="string">"  "</span> &lt;&lt; elem.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    number[<span class="string">"090"</span>] = <span class="string">"南京"</span>;<span class="comment">//具有修改功能</span></span><br><span class="line">    number[<span class="string">"027"</span>] = <span class="string">"南京"</span>;<span class="comment">//具有修改功能</span></span><br><span class="line">    number.<span class="keyword">operator</span>[](<span class="string">"027"</span>) = <span class="string">"南京"</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;elem : number)</span><br><span class="line">    {</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; elem.first &lt;&lt; <span class="string">"  "</span> &lt;&lt; elem.second &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    test2();</span><br><span class="line">    <span class="comment">/* test00(); */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>​</p></li></ul><h4 id="面向对象的四大特征：抽象，封装，继承，多态"><a href="#面向对象的四大特征：抽象，封装，继承，多态" class="headerlink" title="面向对象的四大特征：抽象，封装，继承，多态"></a>面向对象的四大特征：抽象，封装，继承，多态</h4><ul><li><p><strong>多态的概念：</strong>对于同一指令信号（比如警车鸣笛），针对不同的对象（普通行人，警察，罪犯）产生不一样的行为（避让，抓捕，逃跑）</p></li><li><p><strong>多态激活的5个基本条件：</strong></p><p>1、基类要定义虚函数</p><p>2、派生类要重定义（重写）该虚函数</p><p>3、创建派生类对象</p><p>4、用基类的指针指向（引用绑定到）派生类的对象</p><p>5、基类的指针（引用）去调用虚函数</p></li><li><p><strong>多态类型：</strong></p><ul><li>静态多态：函数重载，运算符重载，模板，发生在编译阶段（静态联编，早期联编）</li><li>动态多态：通过虚函数体现，发生在运行阶段 （动态多态，晚期联编）</li><li>动态多态的体现必须要有虚函数，但调用虚函数不一定能体现动态多态</li></ul></li><li><p><strong>虚函数：</strong>成员函数前面加virtual</p></li><li><p><strong>纯虚函数</strong>：virtual void display() = 0; virtual void display() = 0;</p></li></ul><blockquote><p>如何通过虚函数体现多态？</p></blockquote><ul><li>基类定义自己的虚函数，派生类重写该虚函数，在基类对象的存储布局上多存储一个虚函数指针，该指针指向基类的虚函数表（虚表），该虚表存放的是基类虚函数的入口地址；在派生类对象的存储布局上也多存储一个虚函数指针，该指针指向派生类的虚函数表（虚表），该虚表存放的是重写了的虚函数的入口地址。</li></ul><blockquote><p>哪些函数不能被设计为虚函数?</p></blockquote><p>普通函数：是一个非成员函数，所以不能定义为虚函数</p><p>静态成员函数：发生时机在编译时候，虚函数体现多态在运行时；静态成员函数没有this</p><p>内联成员函数：发生时机在编译时候，虚函数体现多态在运行时；内联成员函数前面加上virtual关键字，编译器不会报错，但是此时已经失去内联的函数</p><p>友元函数：如果友元函数本身是一个非成员函数（普通函数）的时候，是不能被设计成虚函数的；但是如果友元函数本身是一个成员函数的时候，是可以设计成虚函数</p><p>构造函数：发生时机在编译时候，虚函数体现多态在运行时；如果构造函数是虚函数，虚函数的调用会满足虚函数调用的逻辑结构，会入虚表，会有虚函数指针，而构造函数的作用是为了初始化数据成员的，此时构造函数没有调用完成，就证明对象还没有构建完成，那虚函数指针就不一定存在，就调不到虚表，所以构造函数不能被设计为虚函数</p><h4 id="抽象类：一个类有至少一个纯虚函数"><a href="#抽象类：一个类有至少一个纯虚函数" class="headerlink" title="抽象类：一个类有至少一个纯虚函数"></a>抽象类：一个类有至少一个纯虚函数</h4><p>声明了纯虚函数的类称为抽象类，抽象类不能创建对象。</p><p>如果派生类继承自抽象类，但是派生类没有将抽象类中的所有纯虚函数进行实现的话，该派生类也是一个抽象类，该抽象类也不能创建对象。</p><p>如果一个类的构造函数被protected进行修饰，那么该类就是抽象类，抽象类不能创建对象。</p><h4 id="虚析构函数"><a href="#虚析构函数" class="headerlink" title="虚析构函数"></a>虚析构函数</h4><p>当基类的析构函数被设计虚函数的时候，派生的析构函数会被自动变成虚函数。此时对于编译器而言，就是一个虚函数的重写。对于程序员而言，属于一个名字不一样的重写。编译器会将析构函数解释为destructor,所以编译就认为析构函数就是重写了。析构函数一个类只有一个，既有唯一性。</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>专业相关</category>
        <category>cpp</category>
      </categories>
      <tags>
        <tag>cpp</tag>
      </tags>
  </entry>
</search>
