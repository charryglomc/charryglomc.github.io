<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>39C_day01_01</title>
    <url>/category/39C_day01_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础001"><a href="#王道训练营C-方向–基础001" class="headerlink" title="王道训练营C++方向–基础001"></a>王道训练营C++方向–基础001</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用vs创建一个程序，描述一下操作流程。观察一下创建解决方案和项目的时候，分别新建了哪些文件和文件夹？</li><li>(b). vs存在着普通状态和调试状态。如何进入调试状态？进入调试状态以后，调整好输出、监视、内存和调用堆栈窗口的布局。</li><li>(c). 如何查看一个变量的内存布局？描述一下操作行为。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码</span></span><br><span class="line"><span class="number">1.</span> 操作流程： 文件--&gt;新建--&gt;项目--&gt;空项目--&gt;配置新项目（一个解决方案是多个项目的集合）--&gt;在项目<span class="number">1</span>的源文件下创建一个main.c文件</span><br><span class="line"><span class="number">2.</span> 生成了解决方案文件夹（c++<span class="number">39</span>）、.vs文件夹、c++<span class="number">39.</span>sln（点击直接进入解决方案）、Project1文件夹、main.c文件等</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> f5进入调试状态，f10继续调试</span><br><span class="line"><span class="number">2.</span> 调试--&gt;窗口</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">比如要查看<span class="built_in">i</span>的，就在监视<span class="number">1</span>窗口输入 &amp;<span class="built_in">i</span>即可查看</span><br></pre></td></tr></table></figure><h2 id="熟悉编程环境"><a href="#熟悉编程环境" class="headerlink" title="熟悉编程环境"></a>熟悉编程环境</h2><p>在江湖上，visual studio号称“宇宙第一IDE“，这个称号自然是来源于它强大的各种功能。对于一个新入门的菜鸟程序员而言，我们只需要使用它功能的一个非常有限的子集即可。</p><ul><li>在了解一个新的环境的时候，首先先明确自己的目标，比如我们这里使用vs，就是为了生成程序，并且能够使用简单好用的方式去调试程序。这个时候就可以把环境先用起来了，其他多余的功能完全可以等到需要用到的时候再去了解。没有必要一开始就做过多的拓展。</li><li>如果使用IDE创建了一个项目，先需要考虑整体项目是怎么样布局的，然后再考察一下创建这个项目的过程中生成了哪些文件和文件夹，从而了解到，如果要加入文件和资源，那么这些文件应当怎么布局？</li><li>使用环境的时候要注意了解整个系统的使用布局，比如哪些部分用来管理文件信息，哪些部分用来修改文件内容。</li><li>特别注意IDE的各种状态转换，比如普通状态和调试状态的联系和区别。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_02</title>
    <url>/category/39C_day01_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础002"><a href="#王道训练营C-方向–基础002" class="headerlink" title="王道训练营C++方向–基础002"></a>王道训练营C++方向–基础002</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 测试下本地环境中，short\int\long\long long\unsigned int\分别需要多大的存储空间？使用了什么运算符？</li><li>(b). 给出下面的代码</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ... //</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">-1234</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">2345</span>;</span><br><span class="line"><span class="comment">// ... //</span></span><br></pre></td></tr></table></figure><p>如果采用小端法存储数据，a的地址是addr_a，b的地址是addr_b，int类型占据4个字节。说明变量a和b的真值、机器数和内存布局（每个字节的内容）分别如何？</p><ul><li><p>(c). 给出两个数据-123和12，如果采用原码方式，如何执行加法运算；如果是补码方式，如何执行加法运算？说明在原码加法和补码加法中，分别在哪些步骤中使用了加法器、减法器和大小比较器。</p></li><li><p>(d). 对于存储空间为N位，采用补码解释方式的数据。现在给出两个数据的机器数，说明如何在不转换成真值的情况下，比较两个数据的大小。</p></li><li><p>(e). 根据上一问的结论，先写出最大正数、最小负数和最大负数的机器数，从而说明有符号整数的可以表示的真值范围。</p></li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li><p>(a)</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码</span></span><br><span class="line"><span class="number">1.</span></span><br><span class="line">	short <span class="number">2</span>B</span><br><span class="line">	<span class="built_in">int</span> <span class="number">4</span>B</span><br><span class="line">	long <span class="number">4</span>B</span><br><span class="line">	long long <span class="number">8</span>B</span><br><span class="line">	unsigned <span class="built_in">int</span> <span class="number">4</span>B</span><br><span class="line"><span class="number">2.</span> 都使用了赋值运算符</span><br></pre></td></tr></table></figure></li><li><p>(b)</p></li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">变量a的真值是<span class="number">-1234</span>，b的真值是<span class="number">2345</span></span><br><span class="line">a的机器数是<span class="number">2</span>e fb ff ff，b的机器数是<span class="number">29</span> <span class="number">09</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">a的内存布局是从<span class="number">0x005bfbcc</span> &#123;<span class="number">-1234</span>&#125;开始<span class="number">4</span>个字节存储<span class="number">2</span>e fb ff ff,b的内存布局从<span class="number">0x005bfbc0</span> &#123;<span class="number">2345</span>&#125;开始四个字节存储<span class="number">29</span> <span class="number">09</span> <span class="number">00</span> <span class="number">00</span></span><br></pre></td></tr></table></figure><ul><li><p>(c)</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 先不管符号位，求用前一个数减去后一个数，若大于零，则符号位跟随前一个数；反之，则跟随后一个数</span><br><span class="line"><span class="number">2.</span> 补码的话，直接加</span><br><span class="line"><span class="number">3.</span></span><br><span class="line">	原码：减法器，大小比较器</span><br><span class="line">	补码：加法器</span><br></pre></td></tr></table></figure></li><li><p>(d)</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">机器数在计算机中以补码的形式存储，</span><br><span class="line">若两个数是正数，即符号位都为<span class="number">0</span>，则直接比较其他位，此时原码等于补码</span><br><span class="line">一个正数永远大于一个负数</span><br><span class="line">若两个数都是负数的的，即符号位都为<span class="number">1</span>，其他位表示越大，负数越大</span><br></pre></td></tr></table></figure></li><li><p>(e)</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">最大正数：<span class="number">2</span>*（N<span class="number">-1</span>）<span class="number">-1</span></span><br><span class="line">最小正数：<span class="number">0</span></span><br><span class="line">最大负数：<span class="number">-1</span></span><br><span class="line">最小负数：<span class="number">-2</span>*(N<span class="number">-1</span>)</span><br><span class="line">表示的范围为从最小负数到最大正数</span><br></pre></td></tr></table></figure></li></ul><h2 id="简单提示"><a href="#简单提示" class="headerlink" title="简单提示"></a>简单提示</h2><p>理解数据类型的底层实现是C/C++程序员的基本功。</p><p>我们所编写使用的软件都是构建在硬件之上的。基本的硬件元器件只能够提供一些有限的信息，比如时间、高低电平等等，能够实现的功能也是非常基本的，比如位的与或非操作。，程序员需要利用数据类型在真实存储的01数据和给用户展示的各种信息中构建一座桥梁。所以数据类型需要解决两个方面的问题：存储数据的<strong>空间大小</strong>，从机器数到真值的<strong>解释方式</strong>。</p><p>在作业的时候，要时刻提醒自己，什么是内存布局，什么是机器数，什么是真值。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_03</title>
    <url>/category/39C_day01_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试001"><a href="#王道训练营C-方向–测试001" class="headerlink" title="王道训练营C++方向–测试001"></a>王道训练营C++方向–测试001</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 打印九九乘法表</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>*<span class="number">1</span> = <span class="number">1</span></span><br><span class="line"><span class="number">1</span>*<span class="number">2</span> = <span class="number">2</span> <span class="number">2</span>*<span class="number">2</span> = <span class="number">4</span></span><br><span class="line"><span class="number">1</span>*<span class="number">3</span> = <span class="number">3</span> <span class="number">2</span>*<span class="number">3</span> = <span class="number">6</span> <span class="number">3</span>*<span class="number">3</span> = <span class="number">9</span></span><br><span class="line">... ...</span><br></pre></td></tr></table></figure><ul><li>(b). 打印图案</li></ul><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="code">    *</span></span><br><span class="line"><span class="bullet">   * </span>*</span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span></span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">* </span><span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">   * </span>*</span><br><span class="line"><span class="code">    *</span></span><br></pre></td></tr></table></figure><ul><li>(c). 打印图案</li></ul><figure class="highlight stata"><table><tr><td class="code"><pre><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">   * *</span></span><br><span class="line"><span class="comment">  *   *</span></span><br><span class="line"><span class="comment"> *     *</span></span><br><span class="line"><span class="comment">*       *</span></span><br><span class="line"><span class="comment"> *     *</span></span><br><span class="line"><span class="comment">  *   *</span></span><br><span class="line"><span class="comment">   * *</span></span><br><span class="line"><span class="comment">    *</span></span><br></pre></td></tr></table></figure><ul><li>(d). 打印图案</li></ul><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">   * </span><span class="emphasis">*       *</span> *</span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span>     <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> <span class="emphasis">*   *</span> <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">* </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet"> * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">  * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">   * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">    * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span> * </span><br><span class="line"><span class="bullet">     * </span><span class="emphasis">* *</span> <span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">      * </span><span class="emphasis">* *</span> *</span><br><span class="line"><span class="bullet">       * </span><span class="emphasis">* *</span></span><br><span class="line"><span class="bullet">        * </span>*</span><br><span class="line"><span class="code">         *</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d*%d = %d "</span>, i, j, i * j);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j&gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">4</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j&gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a == <span class="number">0</span>||a==(k<span class="number">-1</span>)) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">4</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">9</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a == <span class="number">0</span> || a == (k - <span class="number">1</span>)) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> k =( <span class="number">19</span> - <span class="number">2</span>* i-(<span class="number">2</span>*i+<span class="number">1</span>))/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> b = <span class="number">0</span>; b &lt;= <span class="number">2</span> * i; b++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">19</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> j = i;</span><br><span class="line">		<span class="keyword">for</span> (; j &gt; <span class="number">0</span>; j--) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">19</span> - <span class="number">2</span> * i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; k; a++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"*"</span>);</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>对于打印图形的问题，首先应当明确一个前提，那就是图形本身是一个二维的数据集合，具体在本次作业中就是行和列的处理。</p><p>如果只需要打印一行数据，往往一个循环就可以解决。对于新手而言，设计循环时最好先顺序地列出将要执行的指令，比如问题d的第一行，我们需要打印3个空格，再一个<code>*</code>，一个空格，一个<code>*</code>，7个空格，再一个<code>*</code>，一个空格，一个<code>*</code>。所以上述过程可以将重复的行为用循环来合并。</p><p>接下来自然就是要打印多行。我们可以创造一个循环，这个循环中把每一行打印出来，而每一行本身就是之前所述的一个小循环。这样就可以使用一个二重循环解决问题。</p><p>如果发现一次用一个循环打印多行很困难，可以尝试将图形进行分割，再分块处理。</p><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><p>因为图形是二维的数据，所以可以采用二维数组来存储每个位置的图形信息。所以可以先设计循环将图形信息存储在二维数组当中，然后再一次性将整个数组的元素打印出来。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_04</title>
    <url>/category/39C_day01_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试002"><a href="#王道训练营C-方向–测试002" class="headerlink" title="王道训练营C++方向–测试002"></a>王道训练营C++方向–测试002</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 求两个正有序数组的公共元素</li><li>(b). 求三个正有序数组的公共元素</li><li>(c). 求n个正有序数组的公共元素</li><li>(d). 在有序数组中找两个元素，使得这两个元素的距离最小。（即找到元素x、y，使得abs(x-y)最小）</li><li>(e). 在无序数组中找两个元素，使得这两个元素的距离最小。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>,i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; <span class="number">10</span> &amp;&amp; j &lt; <span class="number">10</span>) &#123;  <span class="comment">//指针指向两个数组比较时不是两个for循环，而应用while</span></span><br><span class="line">        <span class="keyword">if</span> (arr1[i] == <span class="number">0</span> || arr2[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt; arr2[j]) j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr1[i] &lt; arr2[j]) i++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            res[k++] = arr1[i]; <span class="comment">//k初始化为0应放在外面</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arr1[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arr3[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arrn[<span class="number">4</span>][<span class="number">10</span>] = &#123;</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>&#125;,</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>&#125;,</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;,</span><br><span class="line">      &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>&#125;</span><br><span class="line">      <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">int</span> res[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">    public_two(arr1, arr2,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>,i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; <span class="number">10</span> &amp;&amp; j &lt; <span class="number">10</span>) &#123;  <span class="comment">//指针指向两个数组比较时不是两个for循环，而应用while</span></span><br><span class="line">        <span class="keyword">if</span> (arr1[i] == <span class="number">0</span> || arr2[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt; arr2[j]) j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr1[i] &lt; arr2[j]) i++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            res[k++] = arr1[i]; <span class="comment">//k初始化为0应放在外面</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_three</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> arr3[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    public_two(arr1, arr2,temp);</span><br><span class="line">    public_two(temp, arr3,res);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arr1[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arr3[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arrn[<span class="number">4</span>][<span class="number">10</span>] = &#123;</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>&#125;,</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>&#125;,</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;,</span><br><span class="line">      &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>&#125;</span><br><span class="line">      <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">int</span> res[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">    public_two(arr1, arr2,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    public_three(arr1, arr2, arr3,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>,i=<span class="number">0</span>,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; <span class="number">10</span> &amp;&amp; j &lt; <span class="number">10</span>) &#123;  <span class="comment">//指针指向两个数组比较时不是两个for循环，而应用while</span></span><br><span class="line">        <span class="keyword">if</span> (arr1[i] == <span class="number">0</span> || arr2[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt; arr2[j]) j++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr1[i] &lt; arr2[j]) i++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            res[k++] = arr1[i]; <span class="comment">//k初始化为0应放在外面</span></span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_three</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> arr3[],<span class="keyword">int</span> res[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    public_two(arr1, arr2,temp);</span><br><span class="line">    public_two(temp, arr3,res);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_n</span><span class="params">(<span class="keyword">int</span> arrn[][<span class="number">10</span>], <span class="keyword">int</span> n,<span class="keyword">int</span> res[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    public_two(arrn[<span class="number">0</span>], arrn[<span class="number">1</span>],temp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">        public_two(temp, arrn[i],res);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            temp[i] = res[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arr1[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arr2[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arr3[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> arrn[<span class="number">4</span>][<span class="number">10</span>] = &#123;</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>&#125;,</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>&#125;,</span><br><span class="line">      &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;,</span><br><span class="line">      &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>&#125;</span><br><span class="line">      <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">int</span> res[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">    public_two(arr1, arr2,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    public_three(arr1, arr2, arr3,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    public_n(arrn, <span class="number">4</span>,res);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, res[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">7</span>] = &#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">14</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">20</span> &#125;,<span class="built_in">max</span>=<span class="number">10000</span>,k=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> temp = <span class="built_in">abs</span>(a[i] - a[i + <span class="number">1</span>]);</span><br><span class="line">		<span class="keyword">if</span> (temp &lt; <span class="built_in">max</span>) &#123;</span><br><span class="line">			<span class="built_in">max</span> = temp;</span><br><span class="line">			k = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"第%d个元素和%d个元素差值最小\n"</span>, k + <span class="number">1</span>, k + <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//先排序后调用d方法求</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">short_dis</span><span class="params">(<span class="keyword">int</span> a[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">max</span> = <span class="number">10000</span>, k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> temp = <span class="built_in">abs</span>(a[i] - a[i + <span class="number">1</span>]);</span><br><span class="line">		<span class="keyword">if</span> (temp &lt; <span class="built_in">max</span>) &#123;</span><br><span class="line">			<span class="built_in">max</span> = temp;</span><br><span class="line">			k = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">7</span>] = &#123; <span class="number">5</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">14</span>,<span class="number">17</span>,<span class="number">16</span>,<span class="number">20</span> &#125;;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span> - i; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a[j] &gt; a[j+<span class="number">1</span>]) &#123;</span><br><span class="line">				<span class="keyword">int</span> temp = a[j];</span><br><span class="line">				a[j] = a[j+<span class="number">1</span>];</span><br><span class="line">				a[j+<span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">				</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; 7; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);*/</span></span><br><span class="line">	<span class="keyword">int</span> k = short_dis(a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d和%d差值最小\n"</span>, a[k], a[k+<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>1、 (a) (b) (c)</p><p>为了简化编程难度，这里做一些假设，数组的最大大小固定为10，数组的元素全都是正数，空的元素为0。</p><p>本题的意图是希望同学能够从繁琐的行为中提取相似的代码，构成一个函数。在解决复杂问题时候，要充分思考，利用已有的工具可以不可以减少代码量。</p><p>比如一个很显然的结论，三个数组的公共元素是否一定是任意两个数组的公共元素？</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_two</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_three</span><span class="params">(<span class="keyword">int</span> arr1[], <span class="keyword">int</span> arr2[], <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">public_n</span><span class="params">(<span class="keyword">int</span> arr[][N], <span class="keyword">int</span> n, <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> arr1[N] = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>&#125;;<span class="comment">//注意C中数组，下标是从0开始的</span></span><br><span class="line">  <span class="keyword">int</span> arr2[N] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> arr3[N] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> res[N] = &#123;<span class="number">0</span>&#125;; <span class="comment">// res用来存储结果，一开始是空的</span></span><br><span class="line">  <span class="keyword">int</span> arrn[N][N] = &#123;</span><br><span class="line">    &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">15</span>,<span class="number">17</span>,<span class="number">19</span>&#125;,</span><br><span class="line">    &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>&#125;,</span><br><span class="line">    &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;,</span><br><span class="line">    <span class="comment">/* ...</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  &#125;</span><br><span class="line">  public_two(arr1,arr2,res);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、 (d) (e)</p><p>如果已经完成了d，是否可以e问题转化成d问题，再利用d的方法解决问题。</p><h2 id="调试程序方法"><a href="#调试程序方法" class="headerlink" title="调试程序方法"></a>调试程序方法</h2><p>在调试比较复杂的程序的时候，要充分地把vs的工具利用起来。如果程序执行过程中，代码的运行结果不符合预期怎么办？</p><ul><li>首先，要明确增量编写法，在完成一部分以后，要注意检查结果是否正确。</li><li>其次，要充分利用现有的工具，在调试数组的时候，可以在循环中打一个断点，然后在单步调试或者继续调试，在监视窗口注意观察循环变量、数组下标、临时变量和数组元素等等的变化。</li><li>观察内存越界问题，在定义数组以后，可以先记录下数组的内存空间范围，如果程序出现内存报错，可以看看是不是访问数据超出了数组的内存空间范围。</li><li>在定义变量的时候，要牢记：这个变量是能够用中文解释出它的含义的。不要写自己都看不懂的代码。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day01_05</title>
    <url>/category/39C_day01_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试003"><a href="#王道训练营C-方向–测试003" class="headerlink" title="王道训练营C++方向–测试003"></a>王道训练营C++方向–测试003</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 求数组的最大值和最小值。</li><li>(b). 假设数组的大小是N，现在存在一个元素的重复次数超过了N/2，找到该元素。</li><li>(c). 数组的大小是1001，其中存储了1-1000之间的整数，每个整数至少出现一次，这样必然存在一个整数重复出现，找到该元素。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">max</span> = <span class="number">-1</span>, <span class="built_in">min</span> = <span class="number">100000</span>, a[<span class="number">10</span>] = &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">9</span>&#125;;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt; <span class="built_in">max</span>) <span class="built_in">max</span> = a[i];</span><br><span class="line">		<span class="keyword">if</span> (a[i] &lt; <span class="built_in">min</span>) <span class="built_in">min</span> = a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"最大值：%d，最小值：%d"</span>, <span class="built_in">max</span>, <span class="built_in">min</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//找众数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maj_sum</span><span class="params">(<span class="keyword">int</span> a[])</span> </span>&#123; </span><br><span class="line">	<span class="keyword">int</span> maj,c=<span class="number">0</span>,i=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="number">0</span> == c) &#123;</span><br><span class="line">			maj = a[i];</span><br><span class="line">			c = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			maj == a[i] ? c++ : c--;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> maj;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">10</span>] = &#123; <span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span> &#125;, count = <span class="number">0</span>;;</span><br><span class="line">	<span class="keyword">int</span> maj = maj_sum(a);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (maj == a[i]) count++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (count&gt; <span class="number">5</span>) <span class="built_in">printf</span>(<span class="string">"元素为%d"</span>, maj);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"不存在"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 1001</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">int</span> arr[MAX];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i) &#123;</span><br><span class="line">		arr[i] = i + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> j = rand() % (i + <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">int</span> tmp = arr[j];</span><br><span class="line">		arr[j] = arr[i];</span><br><span class="line">		arr[i] = tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	arr[<span class="number">1000</span>] = rand() % <span class="number">1000</span>+<span class="number">1</span>;</span><br><span class="line">	<span class="comment">//下面是待完成的代码，检查时需要注意结果和arr[1000]是否一致</span></span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1001</span>; i++) &#123;</span><br><span class="line">		sum += arr[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> dig = sum - (<span class="number">1</span> + <span class="number">1000</span>) * <span class="number">1000</span> / <span class="number">2</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"重复的数是%d"</span>, dig);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>1、暴力法</p><p>在解决数组相关的问题当中，如果需要考虑任意两个数组元素的关系，一种比较直接的想法是采用一个双重循环。外层的循环i从0-N-1，内层的循环j从0-i-1，这样利用下标i和j就可以建立数组中任意两个元素之间的关系了。这种简单粗暴的方法就是所谓的暴力法</p><p>2、提高效率</p><p>在解决实际问题时候，由于暴力法的运行效率，所以往往需要对暴力法进行优化，最好的情况就是只需要一遍循环就能解决问题。优化的方式就要具体情况具体分析了。</p><p>(a) 在循环中，可以考虑使用两个变量存储当前最大和次大的元素。</p><p>(b) 使用一个变量key存储当前认为的重复元素，使用一个变量cnt存储该元素的出现次数-未出现次数，如果key确实是重复元素，那么遍历完数组以后应当满足对应的cnt应当大于0。所以可以使用循环遍历数组，比较当前元素是否为key，从而调整cnt的数值，如果cnt为0，则调整key的数值。</p><p>(c) 可以尝试观察它的数学性质，思考一样修改1-1000的顺序，有哪些信息是不变的？</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_01</title>
    <url>/category/39C_day02_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础003"><a href="#王道训练营C-方向–基础003" class="headerlink" title="王道训练营C++方向–基础003"></a>王道训练营C++方向–基础003</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 假如一个浮点数的内存布局如下所示，p表示浮点数的地址，内容均为16进制数（0x用来说明这是一个16进制数）。按照小端法存储，使用IEEE754.1的解释方式，计算一下该数据的机器数以及对应的真值是多少？</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">地址 |内容</span><br><span class="line">p    <span class="number">0x00</span></span><br><span class="line">p+<span class="number">1</span>  <span class="number">0x00</span></span><br><span class="line">p+<span class="number">2</span>  <span class="number">0x48</span></span><br><span class="line">p+<span class="number">3</span>  <span class="number">0x3f</span></span><br></pre></td></tr></table></figure><ul><li>(b). 使用字符字面值的字符模式、16进制模式、8进制模式表示字符c；使用整数来表示字符c，写出对应的代码。</li><li>(c). 如何将一个字符2转换成整数2？如何将一个字符A转换成字符a？</li><li>(d). 字符串字面值”helloworld”在内存中占据了多大的存储空间？</li><li>(e). 整理已经学习过的printf相关的控制符，使用表格记录下来。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li><p>(a)</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">机器数： <span class="number">3f</span> <span class="number">48</span> <span class="number">00</span> <span class="number">00</span></span><br><span class="line">真值：<span class="number">0.78125</span></span><br></pre></td></tr></table></figure></li><li><p>(b)</p></li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	ch = <span class="string">'a'</span>;</span><br><span class="line">	ch = <span class="string">'\141'</span>;</span><br><span class="line">	ch = <span class="string">'\x61'</span>;</span><br><span class="line">	ch = <span class="number">97</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c\n"</span>,ch);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> ch1=<span class="string">'2'</span>,ch2=<span class="string">'A'</span>;   <span class="comment">//char数=int数+'0' (48)        </span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ch1-<span class="string">'0'</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c\n"</span>, ch2 + <span class="number">32</span>); <span class="comment">//小写字母=大写字母+32</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">11</span>B</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><table><thead><tr><th align="center">控制符</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">\n</td><td align="center">换行</td></tr><tr><td align="center">\t</td><td align="center">制表</td></tr><tr><td align="center">\a</td><td align="center">响铃</td></tr><tr><td align="center">\“</td><td align="center">“</td></tr><tr><td align="center">\\</td><td align="center">\</td></tr><tr><td align="center">\b</td><td align="center">退格</td></tr><tr><td align="center">\r</td><td align="center">回车（光标回到行首，同上，会覆盖）</td></tr></tbody></table><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><ul><li>printf小字节整数自动转换</li></ul><p>运行下面代码，根据运行的结果，你能得到什么结论？</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">short s = <span class="number">-1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"short s = %d, unsigned s = %u\n"</span>, s, s); <span class="comment">//不同的解释方式会得到不同结果</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">-1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"int i = %d, unsigned i = %d\n"</span>,i,i);</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_03</title>
    <url>/category/39C_day02_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础004"><a href="#王道训练营C-方向–基础004" class="headerlink" title="王道训练营C++方向–基础004"></a>王道训练营C++方向–基础004</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是缓冲区？我们使用了哪些缓冲区？缓冲区有哪些类型？缓冲区的数据是先进先出还是后进先出？</li><li>(b). scanf函数取出标准输入缓冲区的数据，使用%d和%c有什么区别？</li><li>(c). scanf函数的返回值是什么？如何输入一个EOF控制符，此时scanf的返回值是多少？</li><li>(d). putchar和getchar等价于什么形式的printf和scanf？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="number">1.</span> 缓冲区是用于内存空间和外部I/O设备的交互</span><br><span class="line"><span class="number">2.3</span>. 全缓冲：缓冲满再执行I/O   文件存储</span><br><span class="line">     行缓冲：遇到换行符   <span class="built_in">stdin</span>、<span class="built_in">stdout</span></span><br><span class="line">     不缓冲：直接进行I/O操作  <span class="built_in">stderr</span></span><br><span class="line"><span class="number">4.</span> 先进先出</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">%d遇到空白符停止，%c读入空白符</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 成功输入：返回<span class="number">1</span>，没有成功输入返回<span class="number">0</span>，错误返回EOF（ctrl+z）</span><br><span class="line"><span class="number">2.</span> 可以ctrl+z结束，<span class="built_in">scanf</span>返回的值为<span class="number">-1</span>（<span class="meta">#<span class="meta-keyword">define</span> EOF -1）</span></span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight haml"><table><tr><td class="code"><pre><span class="line"><span class="tag">%<span class="selector-tag">c</span></span>字符型的输入输出</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>scanf这个函数负责从stdin中取出数据，并且将字符类型的数据转化成int、float等其他类型。值得特别注意的是scanf和printf的用法是完全不一致的，在王道学习的阶段，除了%c前面的空格以外，<font color="#dd0000">不要在格式字符串当中添加任何其他非控制字符</font>！</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;i,&amp;j);<span class="comment">// OK</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d\n"</span>,&amp;i,&amp;j); <span class="comment">// NO!!!!!</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_02</title>
    <url>/category/39C_day02_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试004"><a href="#王道训练营C-方向–测试004" class="headerlink" title="王道训练营C++方向–测试004"></a>王道训练营C++方向–测试004</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 读取一行字符串，然后将其重新打印出来，如果字符是小写字母，要将其转化成大写字母。</li><li>(b). 读取一行字符串，字符串当中的字符有3类，分别是字母（alp）、数字（num）和其他字符（oth）。假设3类字符的数量都不大于10个。统计3类字符的数量，然后按照3类字符的数量关系排序，并且输出如下所示的柱状图。</li></ul><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">INPUT: </span><br><span class="line">hello123..</span><br><span class="line">OUTPUT:</span><br><span class="line">  5</span><br><span class="line"><span class="strong">*****</span></span><br><span class="line"><span class="strong">*****</span>   3  </span><br><span class="line"><span class="strong">*****</span> <span class="strong">*****</span>   2</span><br><span class="line"><span class="strong">*****</span> <span class="strong">*****</span> <span class="strong">*****</span></span><br><span class="line"><span class="strong">*****</span> <span class="strong">*****</span> <span class="strong">*****</span></span><br><span class="line"> alp   num   oth</span><br></pre></td></tr></table></figure><ul><li>(c). 读取一行字符串，是一个二进制数，即每个字符是’0’或者’1’。将其对应的10进制、8进制和16进制结果输出。（10进制数据可以直接用整型存储，8进制和16进制可以存储每一位的字符在字符数组当中）</li><li>(d). 读取一个整数，将其转成二进制和16进制数（使用字符数组存储）</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> c;</span><br><span class="line">	<span class="keyword">while</span> ((c = getchar()) != <span class="string">'\n'</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'z'</span>) <span class="built_in">printf</span>(<span class="string">"%c"</span>,c - <span class="number">32</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%c"</span>,c);</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> alp, <span class="keyword">int</span> num, <span class="keyword">int</span> oth)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"  %d\n"</span>, alp);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; alp; j++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"***** "</span>);</span><br><span class="line">			<span class="keyword">if</span> (j &lt; alp - num<span class="number">-1</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"     "</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (j == (alp - num - <span class="number">1</span>)) <span class="built_in">printf</span>(<span class="string">"  %d  "</span>, num);</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"***** "</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (j &lt; alp - oth<span class="number">-1</span>)&#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"     "</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (j == (alp - oth<span class="number">-1</span>)) <span class="built_in">printf</span>(<span class="string">"  %d  "</span>, oth);</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"***** "</span>);</span><br><span class="line">		    &#125;</span><br><span class="line">			</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span> alp, <span class="keyword">int</span> num, <span class="keyword">int</span> oth,<span class="keyword">int</span> a[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (alp &gt; num) &#123;</span><br><span class="line">		<span class="keyword">if</span> (num &gt; oth) &#123;</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (num &gt; alp) &#123;</span><br><span class="line">		<span class="keyword">if</span> (alp &gt; oth) &#123;</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">3</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (alp &gt; num) &#123;</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			a[<span class="number">0</span>] = <span class="number">3</span>;</span><br><span class="line">			a[<span class="number">1</span>] = <span class="number">2</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> c;</span><br><span class="line">	<span class="keyword">int</span> alp = <span class="number">0</span>, num = <span class="number">0</span>, oth = <span class="number">0</span>, a[<span class="number">3</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	<span class="keyword">while</span> ((c = getchar()) != <span class="string">'\n'</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span> ((c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'z'</span>) || (c &gt;= <span class="string">'A'</span> &amp;&amp; c &lt;= <span class="string">'Z'</span>)) alp++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>) num++;</span><br><span class="line">		<span class="keyword">else</span> oth++;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="comment">//printf("%d %d %d", alp, num, oth);</span></span><br><span class="line">	sort(alp,num,oth,a);</span><br><span class="line">	draw(alp, num, oth);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">3</span>) <span class="built_in">printf</span>(<span class="string">" alp   num   oth"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">2</span>) <span class="built_in">printf</span>(<span class="string">" alp   oth   num"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">3</span>) <span class="built_in">printf</span>(<span class="string">" num   alp   oth"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">1</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">2</span>) <span class="built_in">printf</span>(<span class="string">" num   oth   alp"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">" oth   alp   num"</span>);</span><br><span class="line">	<span class="keyword">if</span> (a[<span class="number">0</span>] == <span class="number">3</span> &amp;&amp; a[<span class="number">1</span>] == <span class="number">2</span> &amp;&amp; a[<span class="number">2</span>] == <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">" oth   num   alp"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"11101010"</span>;</span><br><span class="line">	<span class="comment">//转换成十进制</span></span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">		sum += (a[i]<span class="number">-48</span>)*<span class="built_in">pow</span>(<span class="number">2</span>,<span class="number">7</span>-i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"十进制是：%d\n"</span>, sum);</span><br><span class="line">	<span class="keyword">int</span> temp = sum;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//转换成八进制</span></span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">20</span>],c[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> num = sum &amp; <span class="number">7</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		sum &gt;&gt;= <span class="number">3</span>;</span><br><span class="line">		b[j] = num+<span class="number">48</span>;</span><br><span class="line">		j++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> k=j--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;j&gt;=<span class="number">0</span>; i++,j--) &#123;</span><br><span class="line">		c[i] = b[j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"八进制是："</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c"</span>, c[i]);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//转换成十六进制</span></span><br><span class="line">    <span class="keyword">char</span> d[<span class="number">20</span>], e[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">int</span> num = temp &amp; <span class="number">15</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">		temp &gt;&gt;= <span class="number">4</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">10</span>) d[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">10</span>) d[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">11</span>) d[p] = <span class="string">'B'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">12</span>) d[p] = <span class="string">'C'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">13</span>) d[p] = <span class="string">'D'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">14</span>) d[p] = <span class="string">'E'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">15</span>) d[p] = <span class="string">'F'</span>;</span><br><span class="line">		<span class="keyword">else</span> d[p] = num+<span class="number">48</span>;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> q = p--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; p &gt;= <span class="number">0</span>; i++, p--) &#123;</span><br><span class="line">	e[i] = d[p];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"十六进制是："</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; q; i++)&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%c"</span>, e[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> m;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入一个整数："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">20</span>], b[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,temp=m;</span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		<span class="keyword">int</span> x = m % <span class="number">2</span>;</span><br><span class="line">		a[i] = x+<span class="number">48</span>;</span><br><span class="line">		m /= <span class="number">2</span>;</span><br><span class="line">		i++;</span><br><span class="line">	&#125; <span class="keyword">while</span> (m);</span><br><span class="line">	<span class="keyword">int</span>  k = i--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; i &gt;= <span class="number">0</span>; j++,i--) &#123;</span><br><span class="line">		b[j] = a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"对应的二进制位："</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c"</span>, b[i]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> c[<span class="number">20</span>], d[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		<span class="keyword">int</span> num = temp % <span class="number">16</span>;</span><br><span class="line">		<span class="keyword">if</span> (num == <span class="number">10</span>) c[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">10</span>) c[p] = <span class="string">'A'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">11</span>) c[p] = <span class="string">'B'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">12</span>) c[p] = <span class="string">'C'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">13</span>) c[p] = <span class="string">'D'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">14</span>) c[p] = <span class="string">'E'</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">15</span>) c[p] = <span class="string">'F'</span>;</span><br><span class="line">		<span class="keyword">else</span> c[p] = num + <span class="number">48</span>;</span><br><span class="line">		temp /= <span class="number">16</span>;</span><br><span class="line">		p++;</span><br><span class="line">	&#125; <span class="keyword">while</span> (temp);</span><br><span class="line">	<span class="keyword">int</span> r = p--;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> q = <span class="number">0</span>;  p&gt;= <span class="number">0</span>; q++, p--) &#123;</span><br><span class="line">		d[q] = c[p];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"对应的十六进制："</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c"</span>, d[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>(a) (b)</li></ul><p>打印图形问题的基本思路依然是观察其行和列的基本信息。首先需要先明确总共有多少行，然后在每一行处理中要依次判断这一列需要完成什么工作，比如是打印5个<code>*</code>，还是打印数字，还是打印空格或者不打印。</p><ul><li>(c) (d)</li></ul><p>使用字符数组可以存储一个字符串。值得注意的是，数组的大小应当是一个常数，所以建议使用宏定义一个比较大的常数（比如128或者更大），然后再将数据存储在字符数组当中。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> number[<span class="number">128</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">number[<span class="number">0</span>] = <span class="string">'1'</span>; </span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day03_01</title>
    <url>/category/39C_day03_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础005"><a href="#王道训练营C-方向–基础005" class="headerlink" title="王道训练营C++方向–基础005"></a>王道训练营C++方向–基础005</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用关系表达式判断某一年是否是闰年？（不能使用括号）</li><li>(b). 写出位运算与、或和异或的真值表。判断一下它们是否存在交换律和结合律。</li><li>(c). 使用加减运算和异或运算交换两个变量。如果一个变量和自身交换会怎么样？</li><li>(d). 使用条件运算符找到3个数当中的最大值和最小值。</li><li>(e). 举例说明前置++和后置++的区别。</li><li>(f). 给出任意一个整数a，a&amp;-a表示什么含义？</li><li>(g). 写程序判断，一个整型数据的机器数当中存在多少位为1？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(year%<span class="number">400</span>==<span class="number">0</span>||year%<span class="number">4</span>==<span class="number">0</span>&amp;&amp;year%<span class="number">100</span>!=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><ul><li>(b)都满足结合律和交换律</li></ul><h3 id="amp"><a href="#amp" class="headerlink" title="&amp;"></a>&amp;</h3><table><thead><tr><th align="center">值</th><th align="center">值</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><h3><a href="#" class="headerlink" title="|"></a>|</h3><table><thead><tr><th align="center">值</th><th align="center">值</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><h3 id="-1"><a href="#-1" class="headerlink" title="^"></a>^</h3><table><thead><tr><th align="center">值</th><th align="center">值</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">0</td></tr></tbody></table><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a, b;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;a,&amp;b);</span><br><span class="line">	a = a + b;</span><br><span class="line">	b = a - b;</span><br><span class="line">	a = a - b;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"a=%d,b=%d\n"</span>,a,b);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> c, d;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;c, &amp;d);</span><br><span class="line">	c = c^d;</span><br><span class="line">	d = c^d;</span><br><span class="line">	c = c^d;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"a=%d,b=%d"</span>, c, d);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果是两个相同的数交换会出现问题</span></span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a, b, c;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>,&amp;a,&amp;b,&amp;c);</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">max</span> = a &gt; b ? (a &gt; c ? a : c) : (b &gt; c ? b : c);</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">min</span> = a &lt; b ? (a&lt;c?a:c) : (b&lt;c?b:c);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"max:%d min=%d"</span>, <span class="built_in">max</span>, <span class="built_in">min</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">j</span>=i++<span class="comment">; //i先赋值给j，再++</span></span><br><span class="line"><span class="attr">j</span>=++i<span class="comment">;  //i先++，将现在的i值赋给j</span></span><br></pre></td></tr></table></figure><ul><li>(g)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">a对应的二进制为<span class="number">1</span>的最低为</span><br></pre></td></tr></table></figure><ul><li>(h)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a,m=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= a; i &lt;&lt;= <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> ((a &amp; i) != <span class="number">0</span>) m++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,m);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>1、使用位来管理控制信息</p><p>为了提升效率和节约空间，C语言当中经常会使用一个整型数flag来存储控制信息。</p><p>比如在权限控制当中，文件通常会存在读、写和执行三种权限，那么flag中可以取出3bit来存储是否可读、可写、可执行的信息。假设最低位表示执行权限，随后是写和读。那么000就表示什么权限都没有，110表示可读可写不可执行。</p><p>那么如何在代码中检查和设置权限呢？首先先定义三个宏：RD是100，WR是010，EX是001，使用|运算符可以增加权限，使用&amp;运算符可以检查权限。</p><p>2、掩码</p><p>在检查数据的时候，有些情况下我们并不需要数据所有位的信息。使用掩码可以过滤这些无用位的信息。</p><p>在TCP/IP层的网络协议当中，IP地址可以用来定位某个主机，一般来说IP地址是一个32位整数，这32位可以分成两个部分，一部分用来描述网络号/子网号，剩余部分用来描述主机号。</p><p>给出多个IP地址，怎么判断这些主机是否属于同一个子网呢？这时候就要引入一个整数叫子网掩码，子网掩码的每一位描述了IP地址对应位是否是网络号的一部分。比如使用点分十进制描述的IP地址192.168.1.118，子网掩码是255.255.255.0，那么IP地址的网络号就是192.168.1.0。只需要将IP地址和子网掩码做按位&amp;操作即可。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_04</title>
    <url>/category/39C_day02_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试005"><a href="#王道训练营C-方向–测试005" class="headerlink" title="王道训练营C++方向–测试005"></a>王道训练营C++方向–测试005</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 数组中有101个正数，其中有50对数是两两重复的，剩余一个数和其他所有数都不相同。求出这个独特的数。</li><li>(b). 数组中有102个正数，其中有50对数是两两重复的，剩余两个数和其他所有数都不相同。求出这两个独特的数。</li><li>(c). （选做题）数组中有103个正数，其中有50对数是两两重复的，剩余三个数和其他所有数都不相同。求出这三个独特的数。</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find1num</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find2num</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find3num</span><span class="params">(<span class="keyword">int</span> arr[],<span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span></span>;<span class="comment">//size描述数组的大小，res是一个数组，用来存储结果</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> arr1[] = &#123; <span class="number">24</span>,<span class="number">40</span>,<span class="number">29</span>,<span class="number">54</span>,<span class="number">59</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">34</span>,<span class="number">53</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">16</span>,<span class="number">37</span>,<span class="number">32</span>,<span class="number">57</span>,<span class="number">15</span>,<span class="number">13</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">57</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">43</span>,<span class="number">39</span>,<span class="number">10</span>,<span class="number">31</span>,<span class="number">14</span>,<span class="number">45</span>,<span class="number">19</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">54</span>,<span class="number">50</span>,<span class="number">35</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">48</span>,<span class="number">20</span>,<span class="number">19</span>,<span class="number">31</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">41</span>,<span class="number">22</span>,<span class="number">47</span>,<span class="number">23</span>,<span class="number">43</span>,<span class="number">41</span>,<span class="number">52</span>,<span class="number">17</span>,<span class="number">53</span>,<span class="number">38</span>,<span class="number">32</span>,<span class="number">27</span>,<span class="number">59</span>,<span class="number">10</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">56</span>,<span class="number">27</span>,<span class="number">46</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">23</span>,<span class="number">28</span>,<span class="number">38</span>,<span class="number">12</span>,<span class="number">26</span>,<span class="number">55</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">17</span>,<span class="number">30</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">37</span>,<span class="number">26</span>,<span class="number">39</span>,<span class="number">44</span>,<span class="number">35</span>,<span class="number">56</span>,<span class="number">1</span>,<span class="number">29</span>,<span class="number">49</span>,<span class="number">18</span>,<span class="number">44</span>,<span class="number">28</span>,<span class="number">18</span>,<span class="number">51</span>,<span class="number">21</span>,<span class="number">46</span>,<span class="number">13</span>,<span class="number">33</span>,<span class="number">11</span>,<span class="number">47</span>,<span class="number">42</span>,<span class="number">51</span> &#125;;</span><br><span class="line">	<span class="keyword">int</span> arr2[] = &#123; <span class="number">39</span>,<span class="number">33</span>,<span class="number">14</span>,<span class="number">32</span>,<span class="number">28</span>,<span class="number">43</span>,<span class="number">24</span>,<span class="number">12</span>,<span class="number">46</span>,<span class="number">49</span>,<span class="number">51</span>,<span class="number">38</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">39</span>,<span class="number">58</span>,<span class="number">17</span>,<span class="number">37</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">20</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">13</span>,<span class="number">35</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">15</span>,<span class="number">37</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">36</span>,<span class="number">10</span>,<span class="number">19</span>,<span class="number">16</span>,<span class="number">53</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">29</span>,<span class="number">59</span>,<span class="number">21</span>,<span class="number">42</span>,<span class="number">36</span>,<span class="number">22</span>,<span class="number">26</span>,<span class="number">29</span>,<span class="number">41</span>,<span class="number">48</span>,<span class="number">57</span>,<span class="number">46</span>,<span class="number">40</span>,<span class="number">11</span>,<span class="number">27</span>,<span class="number">31</span>,<span class="number">22</span>,<span class="number">55</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">34</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">12</span>,<span class="number">48</span>,<span class="number">32</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">54</span>,<span class="number">40</span>,<span class="number">53</span>,<span class="number">54</span>,<span class="number">51</span>,<span class="number">14</span>,<span class="number">55</span>,<span class="number">1</span>,<span class="number">34</span>,<span class="number">24</span>,<span class="number">59</span>,<span class="number">41</span>,<span class="number">17</span>,<span class="number">25</span>,<span class="number">43</span>,<span class="number">38</span>,<span class="number">26</span>,<span class="number">10</span>,<span class="number">33</span>,<span class="number">52</span>,<span class="number">2</span>,<span class="number">44</span>,<span class="number">19</span>,<span class="number">57</span>,<span class="number">27</span>,<span class="number">21</span>,<span class="number">45</span>,<span class="number">52</span>,<span class="number">15</span>,<span class="number">42</span>,<span class="number">28</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line">	<span class="keyword">int</span> arr3[] = &#123; <span class="number">42</span>,<span class="number">14</span>,<span class="number">43</span>,<span class="number">6</span>,<span class="number">25</span>,<span class="number">46</span>,<span class="number">12</span>,<span class="number">59</span>,<span class="number">5</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">14</span>,<span class="number">26</span>,<span class="number">31</span>,<span class="number">17</span>,<span class="number">41</span>,<span class="number">56</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">18</span>,<span class="number">24</span>,<span class="number">57</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">33</span>,<span class="number">28</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">49</span>,<span class="number">32</span>,<span class="number">48</span>,<span class="number">19</span>,<span class="number">43</span>,<span class="number">33</span>,<span class="number">10</span>,<span class="number">42</span>,<span class="number">54</span>,<span class="number">22</span>,<span class="number">21</span>,<span class="number">36</span>,<span class="number">24</span>,<span class="number">58</span>,<span class="number">35</span>,<span class="number">57</span>,<span class="number">26</span>,<span class="number">40</span>,<span class="number">37</span>,<span class="number">51</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">58</span>,<span class="number">38</span>,<span class="number">13</span>,<span class="number">50</span>,<span class="number">39</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">48</span>,<span class="number">17</span>,<span class="number">27</span>,<span class="number">52</span>,<span class="number">47</span>,<span class="number">25</span>,<span class="number">54</span>,<span class="number">29</span>,<span class="number">36</span>,<span class="number">15</span>,<span class="number">19</span>,<span class="number">3</span>,<span class="number">11</span>,<span class="number">51</span>,<span class="number">49</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">59</span>,<span class="number">23</span>,<span class="number">50</span>,<span class="number">16</span>,<span class="number">32</span>,<span class="number">30</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">53</span>,<span class="number">22</span>,<span class="number">34</span>,<span class="number">41</span>,<span class="number">20</span>,<span class="number">27</span>,<span class="number">55</span>,<span class="number">39</span>,<span class="number">12</span>,<span class="number">44</span>,<span class="number">45</span>,<span class="number">18</span>,<span class="number">40</span>,<span class="number">38</span>,<span class="number">20</span>,<span class="number">46</span>,<span class="number">37</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find1num</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span> </span>&#123;</span><br><span class="line">	<span class="comment">//memset(res, 0, sizeof(int) * 10);</span></span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++) &#123;</span><br><span class="line">		m ^= arr[i];</span><br><span class="line">	&#125;</span><br><span class="line">	res[<span class="number">0</span>] = m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find2num</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span> </span>&#123;</span><br><span class="line">	<span class="comment">//memset(res, 0, sizeof(int) * 10);</span></span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++) &#123;</span><br><span class="line">		m ^= arr[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> bitvalue = m &amp; -m; <span class="comment">//求从右开始至少第几位不同</span></span><br><span class="line">	<span class="keyword">int</span> fir = <span class="number">0</span>, sec = <span class="number">0</span>; <span class="comment">//分成两类</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> ((arr[i] &amp; bitvalue) == <span class="number">0</span>) fir ^= arr[i];</span><br><span class="line">		<span class="keyword">else</span> sec ^= arr[i];</span><br><span class="line">	&#125;</span><br><span class="line">	res[<span class="number">0</span>] = fir;</span><br><span class="line">	res[<span class="number">1</span>] = sec;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find3num</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> <span class="built_in">size</span>, <span class="keyword">int</span> res[])</span> </span>&#123;</span><br><span class="line">	<span class="comment">//memset(res, 0, sizeof(int) * 10);</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>,m=<span class="number">0</span>;m&lt;<span class="number">32</span>; i &lt;&lt;= <span class="number">1</span>,m++) &#123;</span><br><span class="line">		<span class="keyword">int</span> fir = <span class="number">0</span>,fir_num=<span class="number">0</span>, sec = <span class="number">0</span>,sec_num=<span class="number">0</span>,arr1[<span class="number">103</span>],arr2[<span class="number">103</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="built_in">size</span>; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> ((arr[j] &amp; i)== <span class="number">0</span>) &#123;</span><br><span class="line">				fir ^= arr[j];</span><br><span class="line">				arr1[fir_num++]=arr[j];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				sec ^= arr[j];</span><br><span class="line">				arr2[sec_num++] = arr[j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (fir != <span class="number">0</span> &amp;&amp; fir_num % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">			res[<span class="number">2</span>] = sec;</span><br><span class="line">			<span class="keyword">int</span> bitvalue = fir &amp; -fir;</span><br><span class="line">			<span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>; <span class="comment">//分成两类</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fir_num; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> ((arr1[i] &amp; bitvalue) == <span class="number">0</span>) a ^= arr1[i];</span><br><span class="line">				<span class="keyword">else</span> b ^= arr1[i];</span><br><span class="line">			&#125;</span><br><span class="line">			res[<span class="number">0</span>] = a;</span><br><span class="line">			res[<span class="number">1</span>] = b;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (sec != <span class="number">0</span> &amp;&amp; sec_num%<span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">			res[<span class="number">2</span>] = fir;</span><br><span class="line">			<span class="keyword">int</span> bitvalue = sec &amp; -sec;</span><br><span class="line">			<span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>; <span class="comment">//分成两类</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sec_num; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> ((arr2[i] &amp; bitvalue) == <span class="number">0</span>) a ^= arr2[i];</span><br><span class="line">				<span class="keyword">else</span> b ^= arr2[i];</span><br><span class="line">			&#125;</span><br><span class="line">			res[<span class="number">0</span>] = a;</span><br><span class="line">			res[<span class="number">1</span>] = b;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> arr1[] = &#123; <span class="number">24</span>,<span class="number">40</span>,<span class="number">29</span>,<span class="number">54</span>,<span class="number">59</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">34</span>,<span class="number">53</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">16</span>,<span class="number">37</span>,<span class="number">32</span>,<span class="number">57</span>,<span class="number">15</span>,<span class="number">13</span>,<span class="number">36</span>,<span class="number">36</span>,<span class="number">57</span>,<span class="number">20</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">43</span>,<span class="number">39</span>,<span class="number">10</span>,<span class="number">31</span>,<span class="number">14</span>,<span class="number">45</span>,<span class="number">19</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">54</span>,<span class="number">50</span>,<span class="number">35</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">48</span>,<span class="number">20</span>,<span class="number">19</span>,<span class="number">31</span>,<span class="number">40</span>,<span class="number">50</span>,<span class="number">41</span>,<span class="number">22</span>,<span class="number">47</span>,<span class="number">23</span>,<span class="number">43</span>,<span class="number">41</span>,<span class="number">52</span>,<span class="number">17</span>,<span class="number">53</span>,<span class="number">38</span>,<span class="number">32</span>,<span class="number">27</span>,<span class="number">59</span>,<span class="number">10</span>,<span class="number">58</span>,<span class="number">48</span>,<span class="number">56</span>,<span class="number">27</span>,<span class="number">46</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">23</span>,<span class="number">28</span>,<span class="number">38</span>,<span class="number">12</span>,<span class="number">26</span>,<span class="number">55</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">17</span>,<span class="number">30</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">37</span>,<span class="number">26</span>,<span class="number">39</span>,<span class="number">44</span>,<span class="number">35</span>,<span class="number">56</span>,<span class="number">1</span>,<span class="number">29</span>,<span class="number">49</span>,<span class="number">18</span>,<span class="number">44</span>,<span class="number">28</span>,<span class="number">18</span>,<span class="number">51</span>,<span class="number">21</span>,<span class="number">46</span>,<span class="number">13</span>,<span class="number">33</span>,<span class="number">11</span>,<span class="number">47</span>,<span class="number">42</span>,<span class="number">51</span> &#125;;</span><br><span class="line">	<span class="keyword">int</span> arr2[] = &#123; <span class="number">39</span>,<span class="number">33</span>,<span class="number">14</span>,<span class="number">32</span>,<span class="number">28</span>,<span class="number">43</span>,<span class="number">24</span>,<span class="number">12</span>,<span class="number">46</span>,<span class="number">49</span>,<span class="number">51</span>,<span class="number">38</span>,<span class="number">25</span>,<span class="number">49</span>,<span class="number">39</span>,<span class="number">58</span>,<span class="number">17</span>,<span class="number">37</span>,<span class="number">11</span>,<span class="number">58</span>,<span class="number">20</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">13</span>,<span class="number">35</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">15</span>,<span class="number">37</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">36</span>,<span class="number">10</span>,<span class="number">19</span>,<span class="number">16</span>,<span class="number">53</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">29</span>,<span class="number">59</span>,<span class="number">21</span>,<span class="number">42</span>,<span class="number">36</span>,<span class="number">22</span>,<span class="number">26</span>,<span class="number">29</span>,<span class="number">41</span>,<span class="number">48</span>,<span class="number">57</span>,<span class="number">46</span>,<span class="number">40</span>,<span class="number">11</span>,<span class="number">27</span>,<span class="number">31</span>,<span class="number">22</span>,<span class="number">55</span>,<span class="number">47</span>,<span class="number">56</span>,<span class="number">34</span>,<span class="number">20</span>,<span class="number">18</span>,<span class="number">12</span>,<span class="number">48</span>,<span class="number">32</span>,<span class="number">13</span>,<span class="number">18</span>,<span class="number">23</span>,<span class="number">54</span>,<span class="number">40</span>,<span class="number">53</span>,<span class="number">54</span>,<span class="number">51</span>,<span class="number">14</span>,<span class="number">55</span>,<span class="number">1</span>,<span class="number">34</span>,<span class="number">24</span>,<span class="number">59</span>,<span class="number">41</span>,<span class="number">17</span>,<span class="number">25</span>,<span class="number">43</span>,<span class="number">38</span>,<span class="number">26</span>,<span class="number">10</span>,<span class="number">33</span>,<span class="number">52</span>,<span class="number">2</span>,<span class="number">44</span>,<span class="number">19</span>,<span class="number">57</span>,<span class="number">27</span>,<span class="number">21</span>,<span class="number">45</span>,<span class="number">52</span>,<span class="number">15</span>,<span class="number">42</span>,<span class="number">28</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line">	<span class="keyword">int</span> arr3[] = &#123; <span class="number">42</span>,<span class="number">14</span>,<span class="number">43</span>,<span class="number">6</span>,<span class="number">25</span>,<span class="number">46</span>,<span class="number">12</span>,<span class="number">59</span>,<span class="number">5</span>,<span class="number">52</span>,<span class="number">55</span>,<span class="number">14</span>,<span class="number">26</span>,<span class="number">31</span>,<span class="number">17</span>,<span class="number">41</span>,<span class="number">56</span>,<span class="number">23</span>,<span class="number">11</span>,<span class="number">18</span>,<span class="number">24</span>,<span class="number">57</span>,<span class="number">21</span>,<span class="number">15</span>,<span class="number">34</span>,<span class="number">33</span>,<span class="number">28</span>,<span class="number">13</span>,<span class="number">10</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">49</span>,<span class="number">32</span>,<span class="number">48</span>,<span class="number">19</span>,<span class="number">43</span>,<span class="number">33</span>,<span class="number">10</span>,<span class="number">42</span>,<span class="number">54</span>,<span class="number">22</span>,<span class="number">21</span>,<span class="number">36</span>,<span class="number">24</span>,<span class="number">58</span>,<span class="number">35</span>,<span class="number">57</span>,<span class="number">26</span>,<span class="number">40</span>,<span class="number">37</span>,<span class="number">51</span>,<span class="number">35</span>,<span class="number">16</span>,<span class="number">58</span>,<span class="number">38</span>,<span class="number">13</span>,<span class="number">50</span>,<span class="number">39</span>,<span class="number">29</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">48</span>,<span class="number">17</span>,<span class="number">27</span>,<span class="number">52</span>,<span class="number">47</span>,<span class="number">25</span>,<span class="number">54</span>,<span class="number">29</span>,<span class="number">36</span>,<span class="number">15</span>,<span class="number">19</span>,<span class="number">3</span>,<span class="number">11</span>,<span class="number">51</span>,<span class="number">49</span>,<span class="number">44</span>,<span class="number">56</span>,<span class="number">59</span>,<span class="number">23</span>,<span class="number">50</span>,<span class="number">16</span>,<span class="number">32</span>,<span class="number">30</span>,<span class="number">53</span>,<span class="number">47</span>,<span class="number">53</span>,<span class="number">22</span>,<span class="number">34</span>,<span class="number">41</span>,<span class="number">20</span>,<span class="number">27</span>,<span class="number">55</span>,<span class="number">39</span>,<span class="number">12</span>,<span class="number">44</span>,<span class="number">45</span>,<span class="number">18</span>,<span class="number">40</span>,<span class="number">38</span>,<span class="number">20</span>,<span class="number">46</span>,<span class="number">37</span> &#125;;</span><br><span class="line">	<span class="keyword">int</span> res[<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">	find1num(arr1, <span class="number">101</span>, res);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, res[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">	find2num(arr2, <span class="number">102</span>, res);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, res[<span class="number">0</span>], res[<span class="number">1</span>]);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">memset</span>(res, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">	find3num(arr3, <span class="number">103</span>, res);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>, res[<span class="number">0</span>], res[<span class="number">1</span>], res[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>利用异或的交换律、结合律性质。</li><li>两个不同的数异或的结果必然不为0，利用这个异或和可以将原来的数组划分成两个部分。</li><li>三个不同的数异或的结果可能为0，对于32位正整数而言，可以设置32种划分条件，只要存在一种划分方法将1个独特数和另外2个分开，就是可以使用前两题的结论解决问题。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_01</title>
    <url>/category/39C_day04_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础006"><a href="#王道训练营C-方向–基础006" class="headerlink" title="王道训练营C++方向–基础006"></a>王道训练营C++方向–基础006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 输入年份和日期，判断该月有多少天。</li><li>(b). 使用goto计算1-2+3-4+……+99-100的结果</li><li>(c). 输入一个整数，判断这个数是不是质数。</li><li>(d). 描述下面的代码的执行效果，总共会打印几行？</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"only once!\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> year, month;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入年和月："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;year,&amp;month);</span><br><span class="line">	<span class="keyword">switch</span> (month) &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">		<span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"31"</span>);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d"</span>, <span class="number">28</span> + (year % <span class="number">400</span> == <span class="number">0</span> || year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>));</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"30"</span>);  </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x = <span class="number">1</span>, sum = <span class="number">0</span>;</span><br><span class="line">label:</span><br><span class="line">	<span class="keyword">if</span> (x % <span class="number">2</span> == <span class="number">1</span>) sum += x;</span><br><span class="line">	<span class="keyword">else</span> sum -= x;</span><br><span class="line">	x++;</span><br><span class="line">	<span class="keyword">if</span> (x &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">		<span class="keyword">goto</span> label;</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>, sum);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; <span class="built_in">sqrt</span>(x); i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (x % i == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d不是质数"</span>, x);</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d是质数"</span>, x);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">打印一行</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>使用选择结构和循环结构的时候，自己可以尝试多使用断点。熟练以后再减少断点的使用。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_03</title>
    <url>/category/39C_day04_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础008"><a href="#王道训练营C-方向–基础008" class="headerlink" title="王道训练营C++方向–基础008"></a>王道训练营C++方向–基础008</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). C风格的字符串本质是一个字符数组，这个字符数组有什么特征？</li><li>(b). 假设字符串的最后一个字符可能是换行符，怎么去掉？</li><li>(c). 为什么说scanf和gets是不安全的，而fgets是安全的？</li><li>(d). 自己实现strcpy、strcat、strlen和strcmp。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">以<span class="string">'\0'</span>结尾</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(str[<span class="built_in">strlen</span>(str)<span class="number">-1</span>]==<span class="string">'\n'</span>)</span><br><span class="line">    str[<span class="built_in">strlen</span>(str)<span class="number">-1</span>]=<span class="string">'\0'</span>;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">scanf</span>和gets没有指定长度，不能控制访问内存的范围，有可能访问的内存空间超过已分配的内存空间，而fgets传入了长度</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">strcpy</span><span class="params">(<span class="keyword">char</span> a[], <span class="keyword">char</span> b[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; b[i]; i++) &#123;</span><br><span class="line">		a[i] = b[i];</span><br><span class="line">	&#125;</span><br><span class="line">	a[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">strcat</span><span class="params">(<span class="keyword">char</span> a[], <span class="keyword">char</span> b[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i,j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; a[i]; i++);</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">0</span>; b[j];) &#123;</span><br><span class="line">		a[i++] = b[j++];</span><br><span class="line">	&#125;</span><br><span class="line">	a[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">strlen</span><span class="params">(<span class="keyword">char</span> a[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">size_t</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; a[i]; i++);</span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strcmp</span><span class="params">(<span class="keyword">char</span> a[], <span class="keyword">char</span> b[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; a[i] &amp;&amp; b[i]; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt; b[i]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (a[i] == b[i]) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[]=<span class="string">""</span>, b[] = <span class="string">"hello"</span>;</span><br><span class="line">	<span class="comment">//复制</span></span><br><span class="line">	<span class="built_in">strcpy</span>(a,b);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> c[] = <span class="string">"hello"</span>, d[] = <span class="string">"world"</span>;</span><br><span class="line">	<span class="comment">//拼接</span></span><br><span class="line">	<span class="built_in">strcat</span>(c, d);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, c);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> e[] = <span class="string">"hello"</span>;</span><br><span class="line">	<span class="comment">//长度</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, <span class="built_in">strlen</span>(e));</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> f[] = <span class="string">"hello"</span>, g[] = <span class="string">"world"</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">strcmp</span>(f, g)&gt;<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"%s比%s大"</span>, f, g);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">strcmp</span>(f, g)==<span class="number">0</span>)<span class="built_in">printf</span>(<span class="string">"%s和%s一样大"</span>, f, g);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%s比%s小"</span>, f, g);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="关于字符串的一些扩展知识"><a href="#关于字符串的一些扩展知识" class="headerlink" title="关于字符串的一些扩展知识"></a>关于字符串的一些扩展知识</h2><p>C中字符串的设计依赖于空字符，这样就导致C的字符串的成员不可能是空字符。在业界，通常把以结束符’\0’作为终止标识的字符串称为C原始字符串。</p><p>在有些开源框架里面，它们会重新使用新的方法来设计字符串，但是它们并没有重新发明字符串，比如著名的Nginx和redis，它们会在原始的C字符串上又增加一些属性，例如字符串的长度、已经申请好的内存空间的大小等等。</p><ul><li>下面是nginx中字符串的源码：</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	<span class="keyword">size_t</span>      len;</span><br><span class="line">	u_char     *data;</span><br><span class="line">&#125; <span class="keyword">ngx_str_t</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ngx_string(str)     &#123; sizeof(str) - 1, (u_char *) str &#125;</span></span><br></pre></td></tr></table></figure><p>nginx在字符串类型中增加一个描述字符串长度的字段，提高了strlen的效率。</p><ul><li>下面是redis中字符串源码：</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> __<span class="title">attribute__</span> ((__<span class="title">packed__</span>)) <span class="title">sdshdr64</span> &#123;</span></span><br><span class="line">	<span class="keyword">uint64_t</span> len; <span class="comment">/* used */</span></span><br><span class="line">	<span class="keyword">uint64_t</span> alloc; <span class="comment">/* excluding the header and null terminator */</span></span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">char</span> flags; <span class="comment">/* 3 lsb of type, 5 unused bits */</span></span><br><span class="line">	<span class="keyword">char</span> buf[];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SDS_HDR_VAR(T,s) struct sdshdr##T *sh = (void*)((s)-(sizeof(struct sdshdr##T)));</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SDS_HDR(T,s) ((struct sdshdr##T *)((s)-(sizeof(struct sdshdr##T))))</span></span><br></pre></td></tr></table></figure><p>redis更多地考虑到了内存分配，就是说redis的数组并不是默认分配在栈上面的。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_02</title>
    <url>/category/39C_day04_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础007"><a href="#王道训练营C-方向–基础007" class="headerlink" title="王道训练营C++方向–基础007"></a>王道训练营C++方向–基础007</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 说明[]运算符在定义语句和非定义语句的不同含义。</li><li>(b). 对于一个大小为N的数组，使用[]运算符访问数组元素时，合法的下标范围是多少？</li><li>(c). <code>arr[i]</code>的地址是多少？</li><li>(d). 函数内部定义的数组分配在内存空间的什么位置？在visual studio中默认上限是多大？</li><li>(e). 如何初始化一个全为0的数组</li><li>(f). 下面两个sizeof表达式结果分别是多少？</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> arr[])</span></span>&#123;</span><br><span class="line">	<span class="comment">//sizeof(arr) = ?</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> arr[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">  <span class="comment">//sizeof(arr) = ?</span></span><br><span class="line">  func(arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(g). 为什么传递数组时，除了要传入数组名，还要传入长度？</li><li>(h). 二维数组<code>arr[M][N]</code>的本质是一个一维数组，这个一维数组有多少个元素，每个元素的类型是什么？<code>arr[i][j]</code>的地址是多少？为什么二维数组传递的时候，不能省略第二个维度？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">[]在定义语句的的时候：定义数组；定义非语句的时候：索引或指标</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span>~N<span class="number">-1</span></span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">arr首地址+<span class="function">i*<span class="title">sizeof</span><span class="params">(每个元素的字节数)</span></span></span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">栈帧，<span class="number">1</span>MB</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">int</span> a[<span class="number">10</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">memset(a,<span class="number">0</span>,sizeof(a));</span><br></pre></td></tr></table></figure><ul><li>(f)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span>B,<span class="number">40</span>B</span><br></pre></td></tr></table></figure><h2 id="扩展知识"><a href="#扩展知识" class="headerlink" title="扩展知识"></a>扩展知识</h2><p>数组是一种重要的复合数据类型，它描述一种顺序存储的数据集合。它最重要的两个特征是：元素的类型相同，在内存中连续存储。</p><p>要值得特别注意的事情是数组和地址的联系。C语言的参数传递实际上会经历一个参数拷贝的过程，在传递数组的过程中，因为数组占据的空间可以是非常庞大的，如果全部拷贝会非常消耗资源，所以C语言设计时将数组的传递改成拷贝地址（存储地址所需要的空间是非常有限的），我们把这种从数组到地址的转换称为“退化”。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_04</title>
    <url>/category/39C_day04_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试007"><a href="#王道训练营C-方向–测试007" class="headerlink" title="王道训练营C++方向–测试007"></a>王道训练营C++方向–测试007</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 矩阵乘法</li></ul><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">矩阵int a[<span class="string">4</span>][<span class="symbol">3</span>]，矩阵int b[<span class="string">3</span>][<span class="symbol">5</span>]。矩阵的数据由用户输入。</span><br><span class="line">矩阵的乘积c=a*b：</span><br><span class="line">c00 c01 c02 c03 c04</span><br><span class="line">c10 c11 c12 c13 c14</span><br><span class="line">c20 c21 c22 c23 c24</span><br><span class="line">c30 c31 c32 c33 c34</span><br><span class="line">矩阵乘法的计算方法:</span><br><span class="line">对于矩阵A[<span class="string">M</span>][<span class="symbol">Q</span>]<span class="emphasis">*B[Q][N],相乘的结果为矩阵C[M][N]，且对于矩阵C中每一项都有C[i][j] = A[i][0]*</span>B[<span class="string">0</span>][<span class="symbol">j</span>] + A[<span class="string">i</span>][<span class="symbol">1</span>]<span class="emphasis">*B[1][j] + ..... + A[i][q]*</span>B[<span class="string">q</span>][<span class="symbol">j</span>]</span><br></pre></td></tr></table></figure><ul><li>(b). 回形遍历方阵</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">输入一个整数n (n &lt;= <span class="number">10</span>)，构造一个n*n方阵，方阵数值从<span class="number">1</span>开始递增，按照“右 下 左 上”的方式循环向内填充。 </span><br><span class="line">n = <span class="number">4</span></span><br><span class="line">  <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span></span><br><span class="line"> <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>   <span class="number">5</span></span><br><span class="line"> <span class="number">11</span>  <span class="number">16</span>  <span class="number">15</span>   <span class="number">6</span></span><br><span class="line"> <span class="number">10</span>   <span class="number">9</span>   <span class="number">8</span>   <span class="number">7</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">4</span>][<span class="number">3</span>], b[<span class="number">3</span>][<span class="number">5</span>],c[<span class="number">4</span>][<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, a[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, a[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			c[i][j] = a[i][<span class="number">0</span>] * b[<span class="number">0</span>][j] + a[i][<span class="number">1</span>] * b[<span class="number">1</span>][j] + a[i][<span class="number">2</span>] * b[<span class="number">2</span>][j];</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>, c[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j, k = <span class="number">1</span>, n, a[<span class="number">15</span>][<span class="number">15</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> num = <span class="number">1</span>; num &lt;=(n+<span class="number">1</span>)/<span class="number">2</span>; num++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (i = num,j=num; j &lt;=n - num + <span class="number">1</span>; j++) a[i][j] = k++;</span><br><span class="line">		<span class="keyword">for</span>(i++,j= n - num + <span class="number">1</span>;i&lt;=n-num+<span class="number">1</span>;i++) a[i][j] = k++;</span><br><span class="line">		<span class="keyword">for</span> (i=n - num + <span class="number">1</span>, j=i<span class="number">-1</span>;j&gt;=num; j--) a[i][j] = k++;</span><br><span class="line">		<span class="keyword">for</span>(i-=<span class="number">1</span>,j++;i&gt;=num+<span class="number">1</span>;i--) a[i][j] = k++;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (j=<span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%3d "</span>, a[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>这是两道典型的OJ题目。对于OJ题目的二维数组而言，一般来说会指定一个最大大小，所以这些二维数组可以直接定义在栈上。</li><li>画图题的典型做法依然找规律，构造合适的循环条件。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day04_05</title>
    <url>/category/39C_day04_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试008"><a href="#王道训练营C-方向–测试008" class="headerlink" title="王道训练营C++方向–测试008"></a>王道训练营C++方向–测试008</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 将包含字符数字的字符串分开，使得分开后的字符串前一部分是数字，后一部分是字母。例<br>如<code>&quot;h1ell2o3&quot;</code> 转换成 <code>&quot;123hello&quot;</code>。</li><li>(b). 将 字 符 串 中 的 空 格 替 换 成<code>&quot;%020&quot;</code> ， 例 如 <code>&quot;hello world how &quot;</code>会转换成<code>&quot;hello%020world%020how%020&quot;</code>。</li><li>(c). 删除字符串中指定的字符。例如<code>&quot;abcdaefaghiagkl&quot;</code> 在删除<code>&#39;a&#39;</code>以后就是<code>&quot;bcdefghigkl&quot;</code>。</li><li>(d). 删除有序数组中的连续重复元素。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"h1ell2o3"</span>, dig[]=<span class="string">""</span>,c[]=<span class="string">""</span>;</span><br><span class="line">	<span class="keyword">int</span> p = <span class="number">0</span>,q = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;a[i]; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt;= <span class="string">'1'</span> &amp;&amp; a[i] &lt;= <span class="string">'9'</span>) dig[p++] = a[i];</span><br><span class="line">		<span class="keyword">else</span> c[q++] = a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	dig[p] = <span class="number">0</span>, c[q] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">strcat</span>(dig, c);</span><br><span class="line">	<span class="built_in">puts</span>(dig);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"hello world how "</span>, b[<span class="number">100</span>]=<span class="string">""</span>;</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;a[i]; i++,j++)</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (a[i] == <span class="string">' '</span>) &#123;</span><br><span class="line">			<span class="built_in">strcat</span>(b, <span class="string">"%20"</span>);</span><br><span class="line">			j += <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> b[j] = a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	b[j] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">puts</span>(b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[] = <span class="string">"abcdaefaghiagkl"</span>, b[<span class="number">100</span>]=<span class="string">""</span>;</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; a[i]; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] != <span class="string">'a'</span>) b[j++] = a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	b[j] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">puts</span>(b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">10</span>] = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">7</span> &#125;, temp = a[<span class="number">0</span>], b[<span class="number">10</span>] = &#123; <span class="number">0</span> &#125;,j=<span class="number">1</span>;</span><br><span class="line">	b[<span class="number">0</span>]=a[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]!=temp)</span><br><span class="line">		&#123;</span><br><span class="line">			b[j++] = a[i];</span><br><span class="line">			temp = a[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; j; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i]);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><ul><li>在完成习题的时候可以思考：有什么算法可以申请最少的存储空间来完成问题？</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day05_01</title>
    <url>/category/39C_day05_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础009"><a href="#王道训练营C-方向–基础009" class="headerlink" title="王道训练营C++方向–基础009"></a>王道训练营C++方向–基础009</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 下面的代码为什么不能正常执行？</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> *p;</span><br><span class="line">  *p = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b). 描述使用指针变量的基本流程。</li><li>(c). 使用表格整理str、strn和mem系列函数</li><li>(d). 什么是值传递？</li><li>(e). 在被调函数中修改主调函数的数据需要哪些步骤？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">指针变量存储的是地址（指针指向某个地址）</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">*p</span><br><span class="line">    <span class="number">1.</span> 根据p存储的地址去访问内存空间</span><br><span class="line">    <span class="number">2.</span> 基类型说明大小和解释方式</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><p>###　str</p><table><thead><tr><th align="center">函数</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">strlen(str)</td><td align="center">长度</td></tr><tr><td align="center">strcat(str1,str2)</td><td align="center">str2拼接在str1后面</td></tr><tr><td align="center">strcpy(str1,str2)</td><td align="center">将str2赋给str1</td></tr><tr><td align="center">strcmp(str1,str2)</td><td align="center">str1-str2</td></tr><tr><td align="center">strn…</td><td align="center">比较前n个</td></tr></tbody></table><h3 id="mem"><a href="#mem" class="headerlink" title="mem"></a>mem</h3><table><thead><tr><th align="center">函数</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">memchr(buf,’h’,strlen(buf))</td><td align="center">返回‘h’首次出现的位置</td></tr><tr><td align="center">memcmp(buf1,buf2)</td><td align="center">buf1-buf2</td></tr><tr><td align="center">memcpy(str1,str2,count)</td><td align="center">将str2的前count个字符赋给str1（str1和str2不能重叠）</td></tr><tr><td align="center">memmove(str1,str2,count)</td><td align="center">将str2的前count个字符赋给str1（str1和str2能重叠）</td></tr><tr><td align="center">strn…</td><td align="center">比较前n个</td></tr></tbody></table><ul><li>(d)</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">值传递：传递的是变量的副本，改变副本，原变量不变</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">传递的形参是地址</span><br><span class="line">被调函数通过间接访问（解引用）改变数据</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>使用指针时要特别注意的指针和指针变量的联系和区别。</p><p>在刚开始使用指针变量时，要注意将内存示意图画出来。比如指针变量分配在内存的什么位置，数据对象分配在内存的哪个位置，指针变量如何和数据对象间接联系。</p><figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">	内存一部分                         内存另一部分               </span><br><span class="line">+--------------+                   +--------------+ </span><br><span class="line">|<span class="string">     addr     </span>|<span class="string"> -----------------&gt;</span>|<span class="string">     data     </span>|</span><br><span class="line">+--------------+                   |<span class="string">              </span>|</span><br><span class="line">                                   +--------------+</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day05_02</title>
    <url>/category/39C_day05_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试009"><a href="#王道训练营C-方向–测试009" class="headerlink" title="王道训练营C++方向–测试009"></a>王道训练营C++方向–测试009</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 输入一行字符串（若干个单词构成的句子，单词之间存在一到多个空格），将所有单词提取出来并输出，每个单词占据一行。</li></ul><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">INPUT</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">hello</span>     <span class="string">world  how  are you</span></span><br><span class="line"><span class="attr">OUTPUT</span>:<span class="string"></span></span><br><span class="line"><span class="attr">hello</span></span><br><span class="line"><span class="attr">world</span></span><br><span class="line"><span class="attr">how</span></span><br><span class="line"><span class="attr">are</span></span><br><span class="line"><span class="attr">you</span></span><br></pre></td></tr></table></figure><ul><li>(b). 实现大整数加法。使用两个字符数组存储两个大整数（这两个大整数的数值超过了<code>long long</code>的表示范围，并且都是非负数），然后执行加法，将结果以字符串的形式打印出来。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">100</span>], b[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>,flag=<span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	gets(a);</span><br><span class="line">	<span class="keyword">for</span> (; a[i] == <span class="string">' '</span>; i++);  <span class="comment">//单个字符用''，字符串才用""</span></span><br><span class="line">	<span class="keyword">for</span> (; a[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (a[i]!=<span class="string">' '</span>) &#123;</span><br><span class="line">			b[j++] = a[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, b);</span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="keyword">sizeof</span>(b));</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s"</span>, b);  <span class="comment">//别忘了最后一个字符串添加进去</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">char</span> str[],<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;len/<span class="number">2</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">char</span> temp;</span><br><span class="line">		temp = str[i];</span><br><span class="line">		str[i] = str[len - <span class="number">1</span> - i];</span><br><span class="line">		str[len - <span class="number">1</span> - i] = temp;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> str1[<span class="number">100</span>], str2[<span class="number">100</span>],str3[<span class="number">200</span>];</span><br><span class="line">	gets(str1);</span><br><span class="line">	gets(str2);</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">strlen</span>(str2) &gt; <span class="built_in">strlen</span>(str1))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">char</span> temp[<span class="number">100</span>];</span><br><span class="line">		<span class="built_in">strcpy</span>(temp, str1);</span><br><span class="line">		<span class="built_in">strcpy</span>(str1, str2);</span><br><span class="line">		<span class="built_in">strcpy</span>(str2, temp);</span><br><span class="line">	&#125;</span><br><span class="line">	reverse(str1,<span class="built_in">strlen</span>(str1));</span><br><span class="line">	reverse(str2, <span class="built_in">strlen</span>(str2));</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>,sum = <span class="number">0</span>, dig = <span class="number">0</span>, go = <span class="number">0</span>,k=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (; str1[i] &amp;&amp; str2[j]; i++, j++)</span><br><span class="line">	&#123;</span><br><span class="line">		sum = (str1[i] - <span class="string">'0'</span>) + (str2[j] - <span class="string">'0'</span>) + go;</span><br><span class="line">		dig = sum % <span class="number">10</span>;</span><br><span class="line">		str3[k++] = dig + <span class="string">'0'</span>;</span><br><span class="line">		str3[k] = <span class="number">0</span>;</span><br><span class="line">		go = sum / <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (go != <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">strlen</span>(str1) == <span class="built_in">strlen</span>(str2))</span><br><span class="line">		&#123;</span><br><span class="line">			str3[k++] = <span class="number">1</span> + <span class="string">'0'</span>;</span><br><span class="line">			str3[k] = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (; str1[i]; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				sum = (str1[i] - <span class="string">'0'</span>) + go;</span><br><span class="line">				dig = sum % <span class="number">10</span>;</span><br><span class="line">				str3[k++] = dig + <span class="string">'0'</span>;</span><br><span class="line">				str3[k] = <span class="number">0</span>;</span><br><span class="line">				go = sum / <span class="number">10</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	reverse(str3, <span class="built_in">strlen</span>(str3));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, str3);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>在设计算法的时候，经常会需要申请多个临时变量，在使用临时变量的时候，千万记住一个准则：如果一个变量自己无法用一句话解释出它的含义，那么就不要使用它，可以考虑使用多个变量组合来实现想要的效果。</li><li>大整数加法的基本步骤<ul><li>先将两个数组逆置</li><li>从个位开始执行加法</li><li>最高位可能会进位</li></ul></li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_02</title>
    <url>/category/39C_day06_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础011"><a href="#王道训练营C-方向–基础011" class="headerlink" title="王道训练营C++方向–基础011"></a>王道训练营C++方向–基础011</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用malloc创建一个整型二维数组，也就是给出<code>p[i][j]</code> 能够访问i行j列的元素</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">如果每一行的大小固定为5</span></span><br><span class="line"><span class="comment">可以使用数组指针创建二维数组</span></span><br><span class="line"><span class="comment">这样二维数组的内存空间一定是连续的</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">如果每一行的大小不固定</span></span><br><span class="line"><span class="comment">可以使用循环申请很多行，再把每行的地址存储在一个数组中</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>在完成的时候，可以思考下不同的方法构造的动态二维数组的内存布局有什么区别。</p><ul><li>(b). 整理二维数组和指针数组的区别。</li><li>(c). 什么是函数指针？什么是回调函数？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//连续</span></span><br><span class="line"><span class="keyword">int</span> (*p)[<span class="number">5</span>]=(<span class="keyword">int</span> (*)[])<span class="built_in">malloc</span>(n*<span class="number">5</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>))</span><br><span class="line">    </span><br><span class="line"><span class="comment">//不连续</span></span><br><span class="line"><span class="keyword">int</span> **p=(<span class="keyword">int</span> **)<span class="built_in">malloc</span>(n*<span class="keyword">sizeof</span>(<span class="keyword">int</span>*))</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">    p[i]=(<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="number">5</span>*<span class="keyword">sizeof</span>(<span class="keyword">int</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">二维数组：数据类型为一维数组的数组</span><br><span class="line">指针数组：元素类型都为指针</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">函数指针：指针变量存储函数代码入口地址，将函数当作参数传播</span><br><span class="line">回调函数：调用者和被调用者相互调用</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>想要理解回调函数，首先需要理解“轮子“这个概念，了解到有些代码在使用时，要调用他人写好的函数（即“轮子”）。回调函数做的事情就类似于给“轮子”上自己制造的“螺丝“。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_01</title>
    <url>/category/39C_day06_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础010"><a href="#王道训练营C-方向–基础010" class="headerlink" title="王道训练营C++方向–基础010"></a>王道训练营C++方向–基础010</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 当指针变量偏移时，如何确定其地址数值的变化？</li><li>(b). *运算符和[]运算符有什么联系？</li><li>(c). 利用realloc，实现类似于C++中std::vector的push_back功能。</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPushBack</span><span class="params">(<span class="keyword">int</span> **arr, <span class="keyword">int</span> val, <span class="keyword">int</span> *<span class="built_in">size</span>, <span class="keyword">int</span> *capacity)</span></span>;</span><br><span class="line"><span class="comment">//因为realloc接口可能会修改arr的指向，所以这里应当使用二级指针</span></span><br></pre></td></tr></table></figure><ul><li>(d). 描述野指针、空指针和悬空指针的区别。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line">p+i=p+i*<span class="keyword">sizeof</span>(数据类型)</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">*(p+i) ---等价于---  p[i]</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myPushBack</span><span class="params">(<span class="keyword">int</span>** p, <span class="keyword">int</span> val, <span class="keyword">int</span>* <span class="built_in">size</span>, <span class="keyword">int</span>* capacity)</span>  <span class="comment">//二级指针实现方式</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (*<span class="built_in">size</span> &gt;= *capacity)</span><br><span class="line">	&#123;</span><br><span class="line">		(*capacity) *= <span class="number">2</span>;</span><br><span class="line">		*p = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(*p, *capacity * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	*(*p + *<span class="built_in">size</span>) = val;</span><br><span class="line">	(*<span class="built_in">size</span>)++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> val, <span class="built_in">size</span> = <span class="number">0</span>, capacity = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">int</span>* p = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(capacity * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;val) != EOF) &#123;</span><br><span class="line">		myPushBack(&amp;p, val, &amp;<span class="built_in">size</span>, &amp;capacity);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">空指针：指针不想使用可以置空</span><br><span class="line">野指针：</span><br><span class="line">	不能用整型字面值给指针变量赋值</span><br><span class="line">	在解引用之前指针变量必须赋值，初始化</span><br><span class="line">悬空指针：在一个指针所指内存空间<span class="built_in">free</span>后，给另一指针变量赋值，则可能这一指针指向刚刚<span class="built_in">free</span>的内存空间，进而出现问题，可以<span class="built_in">free</span>后用指针指向<span class="literal">NULL</span>解决。</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>在C语言当中，<code>*</code>运算符和<code>[]</code>运算符是完全等价的。同时要特别注意<code>[]</code>运算符和<code>*</code>运算符在不同的位置有着不同的特性。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_03</title>
    <url>/category/39C_day06_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础012"><a href="#王道训练营C-方向–基础012" class="headerlink" title="王道训练营C++方向–基础012"></a>王道训练营C++方向–基础012</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是函数的声明？什么是函数的定义？</li><li>(b). C语言编写的应用程序从什么函数开始执行的？</li><li>(c). 头文件的里面存放函数声明。在编译过程的哪个步骤里面，这些函数声明会放入代码文件中？</li><li>(d). C程序是由函数组成的。在编译过程的哪个步骤里面，这些函数会组合成一个应用程序？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">写在main函数前的、加分号结尾的自定义函数为声明</span><br><span class="line">对自定义函数的实现为定义</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">从main函数入口开始执行</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">预处理</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">链接</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>遇到链接错误怎么办：</p><ul><li>是否引用了名字错误的函数？</li><li>是否调用了只有声明而没有定义的函数？</li><li>使用的库函数是否缺少库文件。</li><li>是否存在重复定义的问题。</li><li>如果一个函数只是给自己使用的，建议加上static。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day06_04</title>
    <url>/category/39C_day06_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试010"><a href="#王道训练营C-方向–测试010" class="headerlink" title="王道训练营C++方向–测试010"></a>王道训练营C++方向–测试010</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 给出一行句子，要求提取出各个单词到一个字符串数组中，然后使用数组指针实现对字符串数组排序，然后把每一行打印出来。</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//建议实现一个myStrtok函数</span></span><br><span class="line"><span class="comment">//该函数负责将字符串按照分隔符分割成几段</span></span><br><span class="line"><span class="comment">//char *myStrtok(char *str, const char *delim, char **saveptr);</span></span><br><span class="line"><span class="comment">//每次调用myStrok，会从saveptr所指向的位置开始，向后搜索下一个由delim参数指定的分隔符。</span></span><br><span class="line"><span class="comment">//一旦遇到分隔符，会将该分隔符置为'\0'（所以该函数不能对字面值常量使用），当本次调用分割出来的子串长度不为0，则返回子串的首地址，并且将saveptr指向子串的终止符的后一个位置。如果本地调用分割出来的子串长度为0，则继续向后查询分割（也就是连续分隔符会被视为一个分隔符）。</span></span><br><span class="line"><span class="comment">//如果搜索不到分隔符，就返回NULL</span></span><br></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">INPUT:</span><br><span class="line">   test -abc <span class="selector-tag">a</span><span class="selector-class">.txt</span> <span class="selector-tag">b</span>.txt</span><br><span class="line"></span><br><span class="line">OUTPUT:</span><br><span class="line">-abc</span><br><span class="line"><span class="selector-tag">a</span>.txt</span><br><span class="line"><span class="selector-tag">b</span>.txt</span><br><span class="line">test</span><br></pre></td></tr></table></figure><ul><li>(b). 实现和(a)一样功能，采用二级指针的方法来完成（即指针数组）。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myStrtok</span><span class="params">(<span class="keyword">char</span>* str, <span class="keyword">const</span> <span class="keyword">char</span>* delim,  <span class="keyword">char</span> saveptr[][<span class="number">10</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k=<span class="number">0</span>,flag = <span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i] == <span class="string">' '</span>; i++);  <span class="comment">//单个字符用''，字符串才用""</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (str[i] != <span class="string">' '</span>) &#123;</span><br><span class="line">			b[j++] = str[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[k++],b);</span><br><span class="line">				<span class="comment">/*int p = 0;</span></span><br><span class="line"><span class="comment">				for (; b[p]; p++)</span></span><br><span class="line"><span class="comment">				&#123;</span></span><br><span class="line"><span class="comment">					saveptr[k][p] = b[p];</span></span><br><span class="line"><span class="comment">				&#125;</span></span><br><span class="line"><span class="comment">				saveptr[k][p] = 0;</span></span><br><span class="line"><span class="comment">				k++;*/</span></span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">strcpy</span>(saveptr[k], b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> saveptr[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">memset</span>(saveptr, <span class="number">0</span>, <span class="keyword">sizeof</span>(saveptr));</span><br><span class="line">	<span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">	gets(str);</span><br><span class="line">	</span><br><span class="line">	myStrtok(str,<span class="string">" "</span>,saveptr);</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; 10; i++)</span></span><br><span class="line"><span class="comment">		printf("%s\n", saveptr[i]);*/</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(saveptr[j], saveptr[j + <span class="number">1</span>])&gt;<span class="number">0</span>)  <span class="comment">//if里面非0即为真，要注意</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">char</span> temp[<span class="number">10</span>];</span><br><span class="line">				<span class="built_in">strcpy</span>(temp, saveptr[j]);</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[j], saveptr[j+<span class="number">1</span>]);</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[j + <span class="number">1</span>], temp);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, saveptr[i]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myStrtok</span><span class="params">(<span class="keyword">char</span>* str, <span class="keyword">const</span> <span class="keyword">char</span>* delim, <span class="keyword">char</span> saveptr[][<span class="number">10</span>],<span class="keyword">int</span> *length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">100</span>];</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, k = <span class="number">0</span>, flag = <span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i] == <span class="string">' '</span>; i++);  <span class="comment">//单个字符用''，字符串才用""</span></span><br><span class="line">	<span class="keyword">for</span> (; str[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (str[i] != <span class="string">' '</span>) &#123;</span><br><span class="line">			b[j++] = str[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="built_in">strcpy</span>(saveptr[k++], b);</span><br><span class="line">				<span class="comment">/*int p = 0;</span></span><br><span class="line"><span class="comment">				for (; b[p]; p++)</span></span><br><span class="line"><span class="comment">				&#123;</span></span><br><span class="line"><span class="comment">					saveptr[k][p] = b[p];</span></span><br><span class="line"><span class="comment">				&#125;</span></span><br><span class="line"><span class="comment">				saveptr[k][p] = 0;</span></span><br><span class="line"><span class="comment">				k++;*/</span></span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">10</span>);</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">strcpy</span>(saveptr[k], b);</span><br><span class="line">	*length = ++k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPtr</span><span class="params">(<span class="keyword">char</span>** ptr, <span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s\n"</span>, ptr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> saveptr[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">memset</span>(saveptr, <span class="number">0</span>, <span class="keyword">sizeof</span>(saveptr));</span><br><span class="line">	<span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">	gets(str);</span><br><span class="line">	<span class="keyword">int</span> length=<span class="number">0</span>;</span><br><span class="line">	myStrtok(str, <span class="string">" "</span>, saveptr,&amp;length);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; 10; i++)</span></span><br><span class="line"><span class="comment">		printf("%s\n", saveptr[i]);*/</span></span><br><span class="line">	<span class="comment">//printf("%d", length);</span></span><br><span class="line">	<span class="keyword">char</span>* ptr[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">		ptr[i] = saveptr[i];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; length - <span class="number">1</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(ptr[j], ptr[j + <span class="number">1</span>]) &gt; <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">char</span>* temp;</span><br><span class="line">				temp = ptr[j];</span><br><span class="line">				ptr[j] = ptr[j + <span class="number">1</span>];</span><br><span class="line">				ptr[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	printPtr(ptr, length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_01</title>
    <url>/category/39C_day07_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础013"><a href="#王道训练营C-方向–基础013" class="headerlink" title="王道训练营C++方向–基础013"></a>王道训练营C++方向–基础013</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). setjmp和longjmp的具体意义是什么？</li><li>(b). 完成递归程序，需要完成哪两个步骤？</li><li>(c). 什么符号决定了函数的作用域？</li><li>(d). 从变量存在的生命周期、变量存储的位置和变量的作用域来说明全局变量、静态局部变量和局部变量的区别。</li><li>(e). 对于某一个函数而言，可以定义多少次？声明多少次？对于局部变量呢？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line">在栈调用里，setjmp设置标记，longjmp返回标记，第一次返回<span class="number">0</span>，第二次返回设定的值</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">假设前面n<span class="number">-1</span>已经完成了，现在只需要完成n，与此同时需要在前面加上基准条件用于跳出递归。</span><br><span class="line">总的来说是：</span><br><span class="line">    大问题---&gt;小问题</span><br><span class="line">    找到小问题的解决方案</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">花括号决定了函数的作用域</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><table><thead><tr><th align="center"></th><th align="center">全局变量</th><th align="center">静态局部变量（static）</th><th align="center">局部变量</th></tr></thead><tbody><tr><td align="center">生命周期</td><td align="center">从程序装入内存开始到程序结束</td><td align="center">从定义它的语句第一次被执行，到程序结束</td><td align="center">从定义它的语句开始到作用域外结束</td></tr><tr><td align="center">存储的位置</td><td align="center">数据段 .bss段存储未初始化/0 .data存储已经初始化/非0</td><td align="center">数据段</td><td align="center">栈</td></tr><tr><td align="center">作用域</td><td align="center">定义在函数外部，定义之后各函数都可调用</td><td align="center">定义该变量的函数内</td><td align="center">定义该变量的函数内</td></tr></tbody></table><ul><li>(e)</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">函数和局部变量可以声明无数次，但只能定义一次</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>C语言是可以支持可变参数的，需要引入<code>&lt;stdarg.h&gt;</code>头文件。</p><ul><li>在函数定义和声明的时候，使用<code>...</code>作为形式参数，称为可变参数。可变参数必须是最后一个参数，并且不能单独作为形式参数。</li><li>在函数定义的函数体中，先<code>va_list</code>类型定义一个变量（通常名为ap），这个变量就代表了所有传入的可变参数（就是实参多于形参的部分）。</li><li>使用宏<code>va_start(va_list ap, parmN)</code>表示初始化可变参数，使其生效。参数<code>ap</code>就是之前所定义的可变参数变量，<code>parmN</code>是可变参数之前的那个形参的名字。</li><li>使用宏<code>T va_arg(va_list ap,T)</code>可以在可变参数生效以后，取出一个可变参数。在这里需要取出的类型<code>T</code>传入宏中。每次使用<code>va_arg</code>以后，<code>ap</code>都会向后迭代一个参数（之前的参数已经被取出了）。</li><li>使用宏<code>void va_end(va_list ap)</code>可以清除掉一个可变参数，使其失效。</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdarg.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">simple_printf</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* fmt, ...)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    va_list args;</span><br><span class="line">    va_start(args, fmt);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> (*fmt != <span class="string">'\0'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (*fmt == <span class="string">'d'</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> i = va_arg(args, <span class="keyword">int</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, i);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (*fmt == <span class="string">'c'</span>) &#123;</span><br><span class="line">            <span class="comment">// note automatic conversion to integral type</span></span><br><span class="line">            <span class="keyword">int</span> c = va_arg(args, <span class="keyword">int</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c\n"</span>, c);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (*fmt == <span class="string">'f'</span>) &#123;</span><br><span class="line">            <span class="keyword">double</span> d = va_arg(args, <span class="keyword">double</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%f\n"</span>, d);</span><br><span class="line">        &#125;</span><br><span class="line">        ++fmt;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    va_end(args);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    simple_printf(<span class="string">"dcff"</span>, <span class="number">3</span>, <span class="string">'a'</span>, <span class="number">1.999</span>, <span class="number">42.5</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//有兴趣的同学可以将它改造成递归版本</span></span><br></pre></td></tr></table></figure><p>参考答案：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdarg.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">char</span> *fmt,va_list ap)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">char</span> *fmt,...)</span></span>&#123;</span><br><span class="line">    va_list ap;</span><br><span class="line">    va_start(ap,fmt);</span><br><span class="line">    func(fmt,ap);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">char</span> *fmt,va_list ap)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(*fmt == <span class="string">'\0'</span>)&#123;</span><br><span class="line">        va_end(ap);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(*fmt == <span class="string">'d'</span>)&#123;</span><br><span class="line">        <span class="keyword">int</span> i = va_arg(ap,<span class="keyword">int</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(*fmt == <span class="string">'c'</span>)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = va_arg(ap,<span class="keyword">int</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c"</span>,c);</span><br><span class="line">    &#125;</span><br><span class="line">    ++fmt;</span><br><span class="line">    func(fmt,ap);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"dc"</span>,<span class="number">3</span>,<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_02</title>
    <url>/category/39C_day07_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础014"><a href="#王道训练营C-方向–基础014" class="headerlink" title="王道训练营C++方向–基础014"></a>王道训练营C++方向–基础014</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 声明一个结构体类型，然后利用这个结构体类型来定义一个变量、指针变量和数组。</li><li>(b). 什么是对齐？为什么要对齐？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">char</span> gender;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stduent</span> <span class="title">stu1</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">stu2</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu3</span>[10];</span></span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">按照一定的存储模式进行边界对齐，提高了对结构体的数据成员进行操作</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>预处理指令<code>#pragma</code>可以补充一些预处理指令。其中一种的非标准指令称为<code>#pragma pack</code>可以用来指定对齐的宽度。下面是Microsoft给出的msvc编译的示例：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stddef.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">S</span> &#123;</span></span><br><span class="line">   <span class="keyword">int</span> i;   <span class="comment">// size 4</span></span><br><span class="line">   short j;   <span class="comment">// size 2</span></span><br><span class="line">   <span class="keyword">double</span> k;   <span class="comment">// size 8</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> pack(2)</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">T</span> &#123;</span></span><br><span class="line">   <span class="keyword">int</span> i;</span><br><span class="line">   short j;</span><br><span class="line">   <span class="keyword">double</span> k;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(S, i));<span class="comment">//offsetof表示i的起始地址和结构体变量起始地址的差值</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(S, j));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu\n"</span>, offsetof(S, k));</span><br><span class="line"></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(T, i));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu "</span>, offsetof(T, j));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%zu\n"</span>, offsetof(T, k));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果是：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">8</span></span><br><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_03</title>
    <url>/category/39C_day07_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础015"><a href="#王道训练营C-方向–基础015" class="headerlink" title="王道训练营C++方向–基础015"></a>王道训练营C++方向–基础015</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 使用什么运算符可以访问基类型为结构体的指针变量所指的变量的成员？</li><li>(b). 如何遍历一个链表？</li><li>(c). 给出一个指针变量<code>p</code>，如何让<code>p</code>指向结点<code>A</code>？如何通过<code>p</code>修改结点<code>A</code>的数据域和其后继结点的数据域？如何通过<code>p</code>改变结点<code>A</code>的后继？</li><li>(d). 实现链表的头插、尾插。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">.或者-&gt;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(p)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,p-&gt;data);</span><br><span class="line">    p=p-&gt;next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>p=&amp;A</span><br><span class="line"><span class="number">2.</span>p指向A的时候，对p-&gt;data赋值即可，p=p-&gt;next往后移</span><br><span class="line"><span class="number">3.</span>当p指向A的时候，p-&gt;next=B,</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//头插法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertbefore</span><span class="params">(PNode_t* PHead, PNode_t* PTail, <span class="keyword">int</span> data)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	PNode_t L = (PNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*PHead == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*PHead = L;</span><br><span class="line">		*PTail = L;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		L-&gt;next = *PHead;</span><br><span class="line">		*PHead = L;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//尾插法</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertafter</span><span class="params">(PNode_t* PHead, PNode_t* PTail, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	PNode_t L = (PNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*PTail == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*PHead = L;</span><br><span class="line">		*PTail = L;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*PTail)-&gt;next = L;</span><br><span class="line">		*PTail = L;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>想要用好链表，首先练好指针。想要熟悉指针，最好是给程序的每一步打上断点，然后观察内存的变化情况。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_04</title>
    <url>/category/39C_day07_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试011"><a href="#王道训练营C-方向–测试011" class="headerlink" title="王道训练营C++方向–测试011"></a>王道训练营C++方向–测试011</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 给出一个坐标系XOY，原点的坐标是<code>(0,0)</code>，在坐标为<code>(x,y)</code>的位置存在一个糖果。现在有一个虫子正在位于原点，该虫子每次只能向上或者向右移动，并且不能走出第一象限。请问该虫子想要吃到糖果，总共存在多少种走法？</li><li>(b). （选做）在(b)的条件中，列出每种走法经历了哪些坐标？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100</span></span><br><span class="line"><span class="keyword">int</span> X, Y;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">StackNode_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x, y;</span><br><span class="line">&#125;StackNode_t,*pStackNode_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	pStackNode_t <span class="built_in">stack</span>[MAXSIZE];</span><br><span class="line">	<span class="keyword">int</span> top;</span><br><span class="line">&#125;Stack_t,*pStack_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="keyword">sizeof</span>(Stack_t));</span><br><span class="line">	s-&gt;top = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t s,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	s-&gt;top++;</span><br><span class="line">	pStackNode_t pNew = (pStackNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(StackNode_t));</span><br><span class="line">	pNew-&gt;x = x;</span><br><span class="line">	pNew-&gt;y = y;</span><br><span class="line">	s-&gt;<span class="built_in">stack</span>[s-&gt;top] = pNew;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">StackNode_t <span class="title">pop</span><span class="params">(pStack_t s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	StackNode_t temp = *s-&gt;<span class="built_in">stack</span>[s-&gt;top];</span><br><span class="line">	<span class="built_in">free</span>(s-&gt;<span class="built_in">stack</span>[s-&gt;top]); </span><br><span class="line">	s-&gt;<span class="built_in">stack</span>[s-&gt;top--] = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y,pStack_t s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	push(s, x, y);</span><br><span class="line">	<span class="keyword">if</span> (x == <span class="number">0</span>&amp;&amp; y == <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		StackNode_t temp = pop(s);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"坐标：%d %d\n"</span>, temp.x, temp.y);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(x==<span class="number">0</span>&amp;&amp;y&gt;<span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">find</span>(<span class="number">0</span>, y - <span class="number">1</span>,s);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (y == <span class="number">0</span> &amp;&amp; x &gt; <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">find</span>(x<span class="number">-1</span>, <span class="number">0</span>,s);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">find</span>(x - <span class="number">1</span>, y,s) + <span class="built_in">find</span>(x, y - <span class="number">1</span>,s);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Stack_t s;</span><br><span class="line">	initStack(&amp;s);</span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;X, &amp;Y);</span><br><span class="line">	num = <span class="built_in">find</span>(X, Y,&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"总共有：%d种走法\n"</span>, num);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="拓展学习"><a href="#拓展学习" class="headerlink" title="拓展学习"></a>拓展学习</h2><ul><li>在OJ题目当中，和组合数学相关的程序题目数不胜数，比如指数型枚举（求出集合的所有子集）、全排列型枚举（将n个整数打乱顺序的排列情况）或者是组合型枚举（m个球中取出n个）等等。这些数学问题往往其背景的数学知识只是简单的加法原理和乘法原理，但是使用程序求解起来非常的困难，使用递归的方法可以比较“暴力”的解决上述问题。有兴趣的同学可以自己实现一下代码。</li><li>如何保存自己的行走记录？一种通用方法称为回溯。在递归的过程，可以使用一个辅助栈来存储已经经过的路径信息，当本次递归开始时，将路径信息压栈，本次递归结束时弹栈。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day07_05</title>
    <url>/category/39C_day07_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试012"><a href="#王道训练营C-方向–测试012" class="headerlink" title="王道训练营C++方向–测试012"></a>王道训练营C++方向–测试012</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>（学生信息处理问题）有这样一种学生结构体类型，其数据成员有包括学号，姓名和3门课程的成绩。实现下列要求：</p><ul><li>(a). 从键盘输入5个学生的信息，将这些同学的信息采用结构体数组的方式存储起来。</li><li>(b). 将学生信息按照学号重新排序，并且输出到控制台上。</li><li>(c). 输出每门课程最高分的学生信息。</li><li>(d). 输出每门课程的平均分。</li><li>(e). 按照总分输出学生排名。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 这里写a的代码或者答案</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> no[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">double</span> c1;</span><br><span class="line">	<span class="keyword">double</span> c2;</span><br><span class="line">	<span class="keyword">double</span> c3;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">stu1</span>[5];</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s %s %lf %lf %lf"</span>, stu1[i].no, stu1[i].name, &amp;stu1[i].c1, &amp;stu1[i].c2, &amp;stu1[i].c3);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sortByNo</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">0</span> ; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(stu1[j].no, stu1[j + <span class="number">1</span>].no) &gt; <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">				temp = stu1[j];</span><br><span class="line">				stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">				stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//索引排序</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sortByNo</span><span class="params">(struct Student stu[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span>* <span class="title">ptr</span>[5];</span><span class="comment">//索引指向的是stu的首地址</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		ptr[i] =&amp;stu[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>((*ptr[j]).no,(*ptr[j + <span class="number">1</span>]).no)&gt;<span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span>* <span class="title">temp</span>;</span></span><br><span class="line">				temp = ptr[j];</span><br><span class="line">				ptr[j] = ptr[j + <span class="number">1</span>];</span><br><span class="line">				ptr[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, (*ptr[i]).no, (*ptr[i]).name, (*ptr[i]).c1, (*ptr[i]).c2, (*ptr[i]).c3);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">everyCourseTop</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (stu1[j].c1&gt;stu1[j + <span class="number">1</span>].c1)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">				temp = stu1[j];</span><br><span class="line">				stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">				stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"c1:\n"</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (stu1[j].c2 &gt; stu1[j + <span class="number">1</span>].c2)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">					temp = stu1[j];</span><br><span class="line">					stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">					stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"c2:\n"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (stu1[j].c3 &gt; stu1[j + <span class="number">1</span>].c3)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">					temp = stu1[j];</span><br><span class="line">					stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">					stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"c3:\n"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%s %s %lf %lf %lf\n"</span>, stu1[i].no, stu1[i].name, stu1[i].c1, stu1[i].c2, stu1[i].c3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">everyCourseEverage</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> sum1 = <span class="number">0</span>, sum2 = <span class="number">0</span>, sum3 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		sum1 += stu1[i].c1;</span><br><span class="line">		sum2 += stu1[i].c2;</span><br><span class="line">		sum3 += stu1[i].c3;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%lf %lf %lf\n"</span>, sum1 / <span class="number">5</span>, sum2 / <span class="number">5</span>, sum3 / <span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sumCourseSort</span><span class="params">(struct Student stu1[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> sumCourse[<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		sumCourse[i] = stu1[i].c1 + stu1[i].c2 + stu1[i].c3;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (sumCourse[j] &gt; sumCourse[j + <span class="number">1</span>])</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">				temp = stu1[j];</span><br><span class="line">				stu1[j] = stu1[j + <span class="number">1</span>];</span><br><span class="line">				stu1[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;=<span class="number">0</span>; i--)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"第%d名是学号为%s，名字是%s，总分是%lf\n"</span>, (<span class="number">5</span>-i),stu1[i].no, stu1[i].name, stu1[i].c1+ stu1[i].c2+ stu1[i].c3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p>排序的时候，可以采用索引式排序，也可以直接修改原来数组当中的数据。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day08_02</title>
    <url>/category/39C_day08_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试013"><a href="#王道训练营C-方向–测试013" class="headerlink" title="王道训练营C++方向–测试013"></a>王道训练营C++方向–测试013</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>下面是链表结点类型的声明：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node_s</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span>* <span class="title">pNext</span>;</span></span><br><span class="line">&#125; Node_t, *pNode_t;</span><br></pre></td></tr></table></figure><p>完成下列题目:</p><ul><li><p>(a). 假设存在两个链表，链表的各个结点数据域都是有序的。要求合并这两个链表，并且合并之后也是有序的。本题中不能重新申请堆空间。</p></li><li><p>(b). 存在一个链表，将其逆置。本题中不能重新申请堆空间。</p></li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>--&gt;<span class="number">2</span>--&gt;<span class="number">3</span>--&gt;<span class="number">4</span>--&gt;<span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>--&gt;<span class="number">4</span>--&gt;<span class="number">3</span>--&gt;<span class="number">2</span>--&gt;<span class="number">1</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 申请一个节点空间，然后赋值data</span></span><br><span class="line"><span class="comment">//2. 分两种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空</span></span><br><span class="line"><span class="comment">//   2.链表至少有一个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 两个链表都从头开始</span></span><br><span class="line"><span class="comment">//2. while循环，1链表中第一个比q-&gt;data大的跳出，让它前一个指向q</span></span><br><span class="line"><span class="comment">//3. while循环，2链表中第一个比p-&gt;data大的跳出，让它前一个指向p	 </span></span><br><span class="line"><span class="comment">//-&gt;左边的不能为NULL</span></span><br><span class="line"><span class="function">pNode_t <span class="title">mergeList</span><span class="params">(pNode_t* p1Head, pNode_t* p2Head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = *p1Head, q = *p2Head;</span><br><span class="line">	pNode_t pNewHead = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	pNode_t pNewPtr = pNewHead;</span><br><span class="line">	<span class="keyword">while</span> (p &amp;&amp; q)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(p-&gt;data &lt;= q-&gt;data)</span><br><span class="line">		&#123;</span><br><span class="line">			pNewPtr-&gt;next=p;</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			pNewPtr-&gt;next = q;</span><br><span class="line">			q = q-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		pNewPtr = pNewPtr-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	pNewPtr-&gt;next = (p == <span class="literal">NULL</span>)?q : p;</span><br><span class="line">	<span class="keyword">return</span> pNewHead;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//main做了：</span></span><br><span class="line"><span class="comment">//尾插法初始化两个链表，并分别打印两个链表元素--&gt;合并两链表--&gt;打印合并后链表元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>, p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---------------尾插法插入节点后链表1------------------\n"</span>);</span><br><span class="line">	pNode_t p = p1Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n---------------尾插法插入节点后链表2------------------\n"</span>);</span><br><span class="line">	p = p2Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n--------------------合并后链表为----------------------\n"</span>);</span><br><span class="line">	pNode_t L = mergeList(&amp;p1Head, &amp;p2Head);</span><br><span class="line">	p = L;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 申请一个节点空间，然后赋值data</span></span><br><span class="line"><span class="comment">//2. 分两种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空</span></span><br><span class="line"><span class="comment">//   2.链表至少有一个节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 两个链表都从头开始</span></span><br><span class="line"><span class="comment">//2. while循环，1链表中第一个比q-&gt;data大的跳出，让它前一个指向q</span></span><br><span class="line"><span class="comment">//3. while循环，2链表中第一个比p-&gt;data大的跳出，让它前一个指向p	 </span></span><br><span class="line"><span class="comment">//-&gt;左边的不能为NULL</span></span><br><span class="line"><span class="function">pNode_t <span class="title">mergeList</span><span class="params">(pNode_t* p1Head, pNode_t* p2Head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = *p1Head, q = *p2Head;</span><br><span class="line">	<span class="keyword">if</span> (p == <span class="literal">NULL</span>) <span class="keyword">return</span> q;</span><br><span class="line">	<span class="keyword">if</span> (q == <span class="literal">NULL</span>) <span class="keyword">return</span> p;</span><br><span class="line">	pNode_t pNewPtr = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">if</span> (p-&gt;data &lt;= q-&gt;data)</span><br><span class="line">	&#123;</span><br><span class="line">		pNewPtr = p;</span><br><span class="line">		p-&gt;next = mergeList(p-&gt;next, q);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		pNewPtr = q;</span><br><span class="line">		q-&gt;next = mergeList(p, q-&gt;next);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> pNewPtr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//main做了：</span></span><br><span class="line"><span class="comment">//尾插法初始化两个链表，并分别打印两个链表元素--&gt;合并两链表--&gt;打印合并后链表元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>, p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---------------尾插法插入节点后链表1------------------\n"</span>);</span><br><span class="line">	pNode_t p = p1Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n---------------尾插法插入节点后链表2------------------\n"</span>);</span><br><span class="line">	p = p2Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n--------------------合并后链表为----------------------\n"</span>);</span><br><span class="line">	pNode_t L = mergeList(&amp;p1Head, &amp;p2Head);</span><br><span class="line">	p = L;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverse</span><span class="params">(pNode_t* pHead, pNode_t* pTail)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = (*pHead)-&gt;next, cur;</span><br><span class="line">	*pTail = *pHead; <span class="comment">//第一个翻转后即是最后一个</span></span><br><span class="line">	(*pHead)-&gt;next = <span class="literal">NULL</span>; <span class="comment">//断掉第一个和第二个的联系</span></span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		cur = p-&gt;next;</span><br><span class="line">		p-&gt;next = *pHead;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		p = cur;</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBefore</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t L = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*pHead == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = L;</span><br><span class="line">		*pTail = L;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		L-&gt;next = *pHead;</span><br><span class="line">		*pHead = L;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertBefore(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	reverse(&amp;pHead,&amp;pTail);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>逆置空链表和只有一个结点的链表时，无需做任何操作。</li><li>如果有两个结点的链表，结点1的指针域要置空，并且pTail应当指向它。pHead应该指向结点2，并且2的指针域指向1。</li><li>如果在上一步当中再添加一个结点，显然pHead应当指向结点3。如此循环下去，每当加入一个新节点，实际上就是将新节点按照头插法插入到已经逆置好的链表中。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day08_01</title>
    <url>/category/39C_day08_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础016"><a href="#王道训练营C-方向–基础016" class="headerlink" title="王道训练营C++方向–基础016"></a>王道训练营C++方向–基础016</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现链表的有序插入。</li><li>(b). 输入一个数据，在链表中查找该数据并删除对应结点。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 申请一个节点空间，然后赋值data</span></span><br><span class="line"><span class="comment">//2. 分三种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空</span></span><br><span class="line"><span class="comment">//   2.data&lt;第一个节点data（插入第一个节点前）</span></span><br><span class="line"><span class="comment">//	 3.其他情况:插入到中间和末尾</span></span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBySort</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span>  <span class="comment">//链表前面可不用单独创建一个节点，因为-&gt;左侧为NULL情况会考虑到</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t)); </span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> ((*pHead)-&gt;data &gt; data)</span><br><span class="line">	&#123;</span><br><span class="line">		p-&gt;next = *pHead;</span><br><span class="line">		*pHead = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		pNode_t pre = *pHead, cur = pre-&gt;next;</span><br><span class="line">		<span class="keyword">while</span> (cur)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (p-&gt;data &lt; cur-&gt;data)  <span class="comment">//找到第一个data&gt;data的节点，插入到它前面，然后退出</span></span><br><span class="line">			&#123;</span><br><span class="line">				p-&gt;next = cur;</span><br><span class="line">				pre-&gt;next = p;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			pre = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)  <span class="comment">//末尾</span></span><br><span class="line">		&#123;</span><br><span class="line">			(*pTail)-&gt;next = p;</span><br><span class="line">			*pTail = p;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//思路：</span></span><br><span class="line"><span class="comment">//1. 分三种情况考虑:</span></span><br><span class="line"><span class="comment">//	 1.链表为空，删除不了报错</span></span><br><span class="line"><span class="comment">//   2.data=第一个节点data时又分为：</span></span><br><span class="line"><span class="comment">//		1.只有一个节点</span></span><br><span class="line"><span class="comment">//		2.链表不止有一个节点</span></span><br><span class="line"><span class="comment">//	 3.其他情况:在中间和本链表不存在该data节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteNode</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>) <span class="comment">//链表为空</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"空链表不能删除节点\n"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>((*pHead)-&gt;data == data) <span class="comment">//第一个节点data</span></span><br><span class="line">	&#123;</span><br><span class="line">		pNode_t p = *pHead;</span><br><span class="line">		<span class="keyword">if</span>((*pHead) == (*pTail))  <span class="comment">//只有一个节点</span></span><br><span class="line">		&#123;</span><br><span class="line">			</span><br><span class="line">			<span class="built_in">free</span>(p);</span><br><span class="line">			p = <span class="literal">NULL</span>;</span><br><span class="line">			*pHead = <span class="literal">NULL</span>;</span><br><span class="line">			*pTail = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>  <span class="comment">//链表不止有一个节点</span></span><br><span class="line">		&#123;</span><br><span class="line">			(*pHead) = (*pHead)-&gt;next;</span><br><span class="line">			<span class="built_in">free</span>(p);</span><br><span class="line">			p = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		pNode_t pre = *pHead, cur = pre-&gt;next; <span class="comment">//注意是*pHead</span></span><br><span class="line">		<span class="keyword">while</span> (cur)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (cur-&gt;data == data)</span><br><span class="line">			&#123;</span><br><span class="line">				pre-&gt;next = cur-&gt;next;</span><br><span class="line">				<span class="built_in">free</span>(cur);</span><br><span class="line">				cur = <span class="literal">NULL</span>; <span class="comment">//避免悬空指针</span></span><br><span class="line">				<span class="keyword">return</span>; <span class="comment">// 注意删除后return而不是break，免得后面影响cur的判断</span></span><br><span class="line">			&#125;</span><br><span class="line">			pre = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"data为%d的节点未出现在本链表中\n"</span>,data);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//main做了：</span></span><br><span class="line"><span class="comment">//循环输入数--&gt;有序插入链表并打印链表元素--&gt;输入要删除的数--&gt;打印链表元素</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>; <span class="comment">//pHead和pTail要初始化才能当参数传递</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data)!=EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertBySort(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"---------------有序插入后链表------------------\n"</span>);</span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n请输入要删除的节点data值："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"----------------删除%d后链表----------------\n"</span>, data);</span><br><span class="line">	deleteNode(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><ul><li>带参数的宏定义</li></ul><p>使用带参数的宏定义（有些时候也称为类函数宏）在使用上可以像函数一样传递参数。使用带参数的只需要在宏中使用括号将参数列表包含即可，但是要注意<code>#define</code>和宏之间的空格不能被忽略，并且宏定义应当在一行之内完成，使用<code>\</code>可以将这一行形式上分成多行。</p><p>在代码当中的宏，会在预处理阶段被展开，所以这些代码的执行和一般顺序执行的代码语句并无区别，也不会产生一般函数调用的压栈弹栈操作。使用带参数的宏定义时，要注意特别优先级问题、自增符号等等导致的语义错误。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> min(X, Y)  ((X) &lt; (Y) ? (X) : (Y))</span></span><br><span class="line"><span class="comment">//  x = min(a, b);          →  x = ((a) &lt; (b) ? (a) : (b));</span></span><br><span class="line"><span class="comment">//  y = min(1, 2);          →  y = ((1) &lt; (2) ? (1) : (2));</span></span><br><span class="line"><span class="comment">//  z = min(a + 28, *p);    →  z = ((a + 28) &lt; (*p) ? (a + 28) : (*p));</span></span><br></pre></td></tr></table></figure><ul><li>嵌套使用带参数的宏可能会带来意想不到的结果，比如：</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// min (min (a, b), c)</span></span><br><span class="line"><span class="comment">//    --&gt;</span></span><br><span class="line"><span class="comment">//min (((a) &lt; (b) ? (a) : (b)), (c))</span></span><br><span class="line"><span class="comment">//    --&gt;</span></span><br><span class="line"><span class="comment">//((((a) &lt; (b) ? (a) : (b))) &lt; (c) ? (((a) &lt; (b) ? (a) : (b))) : (c))</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day08_03</title>
    <url>/category/39C_day08_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试014"><a href="#王道训练营C-方向–测试014" class="headerlink" title="王道训练营C++方向–测试014"></a>王道训练营C++方向–测试014</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>下面是链表结点类型的声明：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span>* <span class="title">pNext</span>;</span></span><br><span class="line">&#125; Node_t, *pNode_t;</span><br></pre></td></tr></table></figure><p>完成下列题目:</p><ul><li>(a). 假设链表的长度大于4，要求找到倒数第4个结点。</li><li>(b). 找到链表的中间结点。</li><li>(c). 判断链表是否有环。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在链表逆序的基础上输出第4个节点,next 3次再输出即可</span></span><br><span class="line"><span class="comment">//更简便的做法是p,q都指向pHead,先让q next三次，然后让p和q每次走一步，当q指向pTail时，p指向的则是倒数第4个节点</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    p=p-&gt;next;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,p-&gt;data);</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBefore</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span><span class="comment">//头插法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t L = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*pHead == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = L;</span><br><span class="line">		*pTail = L;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		L-&gt;next = *pHead;</span><br><span class="line">		*pHead = L;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">pNode_t <span class="title">findhalf</span><span class="params">(pNode_t pHead, pNode_t pTail)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = pHead, q = pHead;</span><br><span class="line">	<span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (p-&gt;next&amp;&amp; q-&gt;next-&gt;next) <span class="comment">//不管是判断环还是中间节点都这么做</span></span><br><span class="line">	&#123;</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">		q = q-&gt;next-&gt;next;  <span class="comment">//出现访问内存错误一般是q-&gt;next，q为空</span></span><br><span class="line">		<span class="keyword">if</span> (q-&gt;next == <span class="literal">NULL</span>)  <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertBefore(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	pNode_t half = findhalf(pHead, pTail);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, half-&gt;data);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertBefore</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//头插法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t L = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	L-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> (*pHead == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = L;</span><br><span class="line">		*pTail = L;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		L-&gt;next = *pHead;</span><br><span class="line">		*pHead = L;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isLoop</span><span class="params">(pNode_t pHead)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = pHead, q = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p-&gt;next&amp;&amp;q-&gt;next-&gt;next) <span class="comment">//不管是判断环还是中间节点都这么做</span></span><br><span class="line">	&#123;</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">		q = q-&gt;next-&gt;next;</span><br><span class="line">		<span class="keyword">if</span> (p == q) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (q-&gt;next == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertBefore(&amp;pHead, &amp;pTail, data);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//构造一个环好验证1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;3-&gt;4-&gt;5...</span></span><br><span class="line">	pTail-&gt;next = pHead-&gt;next-&gt;next;</span><br><span class="line">	<span class="keyword">int</span> k=isLoop(pHead);</span><br><span class="line">	<span class="keyword">if</span>(k) <span class="built_in">printf</span>(<span class="string">"存在环"</span>);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"不存在环"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>双指针法，思考一下这两个指针的遍历方式。</li><li>构造有环的链表的方法，就是将一个链表的最后一个结点的指针域修改为中间的某个结点。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_02</title>
    <url>/category/39C_day09_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础018"><a href="#王道训练营C-方向–基础018" class="headerlink" title="王道训练营C++方向–基础018"></a>王道训练营C++方向–基础018</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现确定个数元素的二叉树层次建树。</li><li>(b). 实现不确定个数元素的二叉树层次建树。</li><li>(c). 实现先序、中序和后序遍历二叉树。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> val;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">&#125;TreeNode_t,*pTreeNode_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//typedef struct QueueNode_s</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//	pTreeNode_t TreeNode;</span></span><br><span class="line"><span class="comment">//	struct QueueNode_s* pNext;</span></span><br><span class="line"><span class="comment">//&#125;QueueNode_t,*pQueueNode_t;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	&#123;</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	&#123;</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pTreeNode_t pRoot = <span class="literal">NULL</span>, pTreeNode[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> ch[] = <span class="string">"ABCDEFGHIJ"</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		pTreeNode[i] = (pTreeNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(TreeNode_t));</span><br><span class="line">		pTreeNode[i]-&gt;val = ch[i];</span><br><span class="line">	&#125;</span><br><span class="line">	pRoot = pTreeNode[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">1</span>; j &lt; <span class="number">10</span>;j++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (pTreeNode[i]-&gt;pLeft == <span class="literal">NULL</span>)              </span><br><span class="line">		&#123;</span><br><span class="line">			pTreeNode[i]-&gt;pLeft = pTreeNode[j];</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(pTreeNode[i]-&gt;pRight == <span class="literal">NULL</span>)   <span class="comment">//或者写成else，上面的continue删除</span></span><br><span class="line">		&#123;</span><br><span class="line">			pTreeNode[i]-&gt;pRight = pTreeNode[j];</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	preOrder(pRoot); </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	inOrder(pRoot);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	postOrder(pRoot);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> val;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">TreeNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">&#125;TreeNode_t,*pTreeNode_t;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">QueueNode_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	pTreeNode_t TreeNode;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">QueueNode_s</span>* <span class="title">pNext</span>;</span></span><br><span class="line">&#125;QueueNode_t,*pQueueNode_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	&#123;</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(pTreeNode_t pRoot)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (pRoot)</span><br><span class="line">	&#123;</span><br><span class="line">		preOrder(pRoot-&gt;pLeft);</span><br><span class="line">		preOrder(pRoot-&gt;pRight);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%c "</span>, pRoot-&gt;val);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildBinaryTree</span><span class="params">(pTreeNode_t* pRoot, pQueueNode_t* pFront, pQueueNode_t* pRear, <span class="keyword">char</span> ch)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pTreeNode_t treeNode = (pTreeNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(TreeNode_t));</span><br><span class="line">	treeNode-&gt;val = ch;</span><br><span class="line">	pQueueNode_t queueNode = (pQueueNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(QueueNode_t));</span><br><span class="line">	queueNode-&gt;TreeNode = treeNode;</span><br><span class="line">	<span class="keyword">if</span> (*pRoot == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pRoot = treeNode;</span><br><span class="line">		*pFront = queueNode;</span><br><span class="line">		*pRear = queueNode;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*pRear)-&gt;pNext = queueNode;</span><br><span class="line">		*pRear = queueNode;</span><br><span class="line">		pQueueNode_t curNode = *pFront;</span><br><span class="line">		<span class="keyword">if</span> (curNode-&gt;TreeNode-&gt;pLeft == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			curNode-&gt;TreeNode-&gt;pLeft = treeNode;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			curNode-&gt;TreeNode-&gt;pRight = treeNode;</span><br><span class="line">			*pFront = (*pFront)-&gt;pNext;</span><br><span class="line">			<span class="built_in">free</span>(curNode);</span><br><span class="line">			curNode = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pTreeNode_t pRoot = <span class="literal">NULL</span>;</span><br><span class="line">	pQueueNode_t pFront = <span class="literal">NULL</span>, pRear = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;ch) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (ch== <span class="string">'\n'</span>) <span class="keyword">break</span>;</span><br><span class="line">		buildBinaryTree(&amp;pRoot,&amp;pFront,&amp;pRear,ch);</span><br><span class="line">	&#125;</span><br><span class="line">	preOrder(pRoot); </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	inOrder(pRoot);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	postOrder(pRoot);	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_01</title>
    <url>/category/39C_day09_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础017"><a href="#王道训练营C-方向–基础017" class="headerlink" title="王道训练营C++方向–基础017"></a>王道训练营C++方向–基础017</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现链式栈。</li><li>(b). 实现循环队列。</li><li>(c). (选做)使用两个栈来实现一个队列。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">pNext</span>;</span></span><br><span class="line">&#125;Node_t,*pNode_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">size</span>;</span><br><span class="line">	pNode_t pHead;  <span class="comment">//栈顶指针</span></span><br><span class="line">&#125;Stack_t,*pStack_t;  <span class="comment">//不改变结构体指针指向所以 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack,<span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Stack_t s; </span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	initStack(&amp;s);</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		push(&amp;s, data);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s));</span><br><span class="line">	pop(&amp;s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(pstack, <span class="number">0</span>, <span class="keyword">sizeof</span>(Stack_t)); <span class="comment">//memset后pstack不为NULL</span></span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack,<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t pNew = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	pNew-&gt;data = data;</span><br><span class="line">	pNew-&gt;pNext = pstack-&gt;pHead;</span><br><span class="line">	pstack-&gt;pHead = pNew;</span><br><span class="line">	pstack-&gt;<span class="built_in">size</span>++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈为空，没有元素可以出栈"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		pstack-&gt;<span class="built_in">size</span>--;</span><br><span class="line">		pNode_t cur = pstack-&gt;pHead;</span><br><span class="line">		pstack-&gt;pHead = pstack-&gt;pHead-&gt;pNext;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">		cur = <span class="literal">NULL</span>;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈顶为空"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> pstack-&gt;pHead-&gt;data;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> pstack-&gt;<span class="built_in">size</span> == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Queue_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data[N];</span><br><span class="line">	<span class="keyword">int</span> front;</span><br><span class="line">	<span class="keyword">int</span> rear;</span><br><span class="line">&#125;Queue_t, * pQueue_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initQueue</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pQueue_t pQueue, <span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deQueue</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isFull</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pQueue_t pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Queue_t q;</span><br><span class="line">	initQueue(&amp;q);</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		enQueue(&amp;q, data);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, deQueue(&amp;q));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initQueue</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(pQueue, <span class="number">0</span>, <span class="keyword">sizeof</span>(Queue_t));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pQueue_t pQueue, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (isFull(pQueue))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"队列满了"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		pQueue-&gt;data[pQueue-&gt;rear] = data;</span><br><span class="line">		pQueue-&gt;rear = (pQueue-&gt;rear + <span class="number">1</span>) % N;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deQueue</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pQueue))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"队列为空"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> data = pQueue-&gt;data[pQueue-&gt;front];</span><br><span class="line">		pQueue-&gt;front = (pQueue-&gt;front + <span class="number">1</span>) % N;</span><br><span class="line">		<span class="keyword">return</span> data;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isFull</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (pQueue-&gt;rear + <span class="number">1</span>) % N == pQueue-&gt;front;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pQueue_t pQueue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> pQueue-&gt;rear== pQueue-&gt;front;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">pNext</span>;</span></span><br><span class="line">&#125;Node_t, * pNode_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">size</span>;</span><br><span class="line">	pNode_t pHead;  <span class="comment">//栈顶指针</span></span><br><span class="line">&#125;Stack_t, * pStack_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack, <span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pStack_t pstack, <span class="keyword">int</span> data)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deQueue</span><span class="params">(pStack_t pstack1, pStack_t pstack2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Stack_t s1,s2;  <span class="comment">//栈等不用二级指针</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	initStack(&amp;s1);</span><br><span class="line">	initStack(&amp;s2);</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		enQueue(&amp;s1, data);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> k = s1.<span class="built_in">size</span>;</span><br><span class="line">	<span class="keyword">while</span> (k)</span><br><span class="line">	&#123;</span><br><span class="line">		push(&amp;s2, top(&amp;s1));</span><br><span class="line">		pop(&amp;s1);</span><br><span class="line">		k--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1,&amp;s2);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1, &amp;s2);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1, &amp;s2);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, top(&amp;s2));</span><br><span class="line">	deQueue(&amp;s1, &amp;s2);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initStack</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(pstack, <span class="number">0</span>, <span class="keyword">sizeof</span>(Stack_t)); <span class="comment">//memset后pstack不为NULL</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(pStack_t pstack, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t pNew = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	pNew-&gt;data = data;</span><br><span class="line">	pNew-&gt;pNext = pstack-&gt;pHead;</span><br><span class="line">	pstack-&gt;pHead = pNew;</span><br><span class="line">	pstack-&gt;<span class="built_in">size</span>++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enQueue</span><span class="params">(pStack_t q, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	push(q, data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈为空，没有元素可以出栈"</span>);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		pstack-&gt;<span class="built_in">size</span>--;</span><br><span class="line">		pNode_t cur = pstack-&gt;pHead;</span><br><span class="line">		pstack-&gt;pHead = pstack-&gt;pHead-&gt;pNext;</span><br><span class="line">		<span class="built_in">free</span>(cur);</span><br><span class="line">		cur = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deQueue</span><span class="params">(pStack_t pstack1, pStack_t pstack2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> k = pstack1-&gt;<span class="built_in">size</span>;</span><br><span class="line">	<span class="keyword">while</span> (k)</span><br><span class="line">	&#123;</span><br><span class="line">		push(pstack2, top(pstack1));</span><br><span class="line">		pop(pstack1);</span><br><span class="line">		k--;</span><br><span class="line">	&#125;</span><br><span class="line">	pop(pstack2);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (isEmpty(pstack))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(<span class="built_in">stderr</span>, <span class="string">"栈顶为空"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> pstack-&gt;pHead-&gt;data;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isEmpty</span><span class="params">(pStack_t pstack)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> pstack-&gt;<span class="built_in">size</span> == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_02</title>
    <url>/category/39C_day10_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础021"><a href="#王道训练营C-方向–基础021" class="headerlink" title="王道训练营C++方向–基础021"></a>王道训练营C++方向–基础021</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现归并排序和计数排序。</li><li>(b). 描述一下什么是位图？假设存在一个<code>char bitmap[SIZE]</code>的位图数据结构，那么如何考察<code>i</code>元素的出现情况？</li><li>(c). (选做)将元素的每一位（比如个位、十位、百位等等）的数据提取出来，按照某个给定的顺序（比如从最低有效位到最高有效位），依次对每一位进行计数排序，也可以对集合进行排序，这种排序方法称为<strong>基数排序</strong>，请实现基数排序</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 200000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) &#123;int temp=x;x=y;y=temp;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Merge</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> b[], <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> mid)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = left; i &lt;= right; i++) b[i] = a[i];</span><br><span class="line">	<span class="keyword">int</span> p = left, q = mid + <span class="number">1</span>, k = left;</span><br><span class="line">	<span class="keyword">while</span> (p &lt;= mid &amp;&amp; q &lt;= right)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (b[p] &lt; b[q]) a[k++] = b[p++];</span><br><span class="line">		<span class="keyword">else</span> a[k++] = b[q++];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (p &lt;= mid) a[k++] = b[p++];</span><br><span class="line">	<span class="keyword">while</span> (q &lt;= right) a[k++] = b[q++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> b[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (left &lt; right)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		mergeSort(a, b, left, mid);</span><br><span class="line">		mergeSort(a, b, mid + <span class="number">1</span>, right);</span><br><span class="line">		Merge(a, b, left, right, mid);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">countSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> *count=<span class="built_in">calloc</span>(M+<span class="number">1</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		count[a[i]]++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; M + 1; i++)</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		if (count[i] != 0)</span></span><br><span class="line"><span class="comment">		&#123;</span></span><br><span class="line"><span class="comment">			for (int j = 0; j &lt; count[i]; j++)</span></span><br><span class="line"><span class="comment">				printf("%d ", i);	</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">	&#125;*/</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span>* b = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));  <span class="comment">//辅助数组只创建一次，用来临时保存a从left到right的元素</span></span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; N; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);</span></span><br><span class="line"><span class="comment">	printf("\n");*/</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="comment">//mergeSort(a, b, 0, N - 1);  //6s</span></span><br><span class="line">	countSort(a);</span><br><span class="line">	<span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%llds\n"</span>, time_end - time_beg);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//shellSort(a);</span></span><br><span class="line">	<span class="comment">//quickSort(a,0,N-1);</span></span><br><span class="line">	<span class="comment">//heapSort(a,N);	</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">定义一个bitmap存储的是每个<span class="built_in">bit</span>位到内存单元的映射关系，bitmap[i]==<span class="number">1</span>，则出现</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>…</li></ul><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p><strong>Slab算法</strong>是一种广泛应用各种操作系统和开源框架的内存分配算法。该算法的主要优势是减少了分配和回收内存产生的内存碎片的数量。该算法的主要设计是回收内存时，不会马上回收，而是将其缓存起来，以便后续可以重新使用。</p><p>一个数据对象的内存是由若干个slab组成，每一个slab又是由规定大小的内存块组成。slab分配器负责追踪每个内存块的状态。而每个slab的内存状态有这样三种：<strong>空闲</strong>、<strong>部分空闲</strong>和<strong>满</strong>。每次请求内存时，系统会负责从所有slab选择合适的一个进行分配（如果没有发现合适的，再请求底层系统资源），随后调整分配的slab的状态。</p><p>下面是nginx框架中slab算法的具体实现的部分代码，可以发现，为了快速高效地管理所有slab的状态，nginx存在一个专门的位图来存储各个slab的状态，以便寻找合适的slab。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> *</span><br><span class="line">ngx_slab_alloc_locked(<span class="keyword">ngx_slab_pool_t</span> *pool, <span class="keyword">size_t</span> <span class="built_in">size</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// ......  省略很多代码// </span></span><br><span class="line">            bitmap = (<span class="keyword">uintptr_t</span> *) ngx_slab_page_addr(pool, page);</span><br><span class="line">	<span class="comment">// ......  省略很多代码//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_01</title>
    <url>/category/39C_day10_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础020"><a href="#王道训练营C-方向–基础020" class="headerlink" title="王道训练营C++方向–基础020"></a>王道训练营C++方向–基础020</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 描述快速排序的基本流程。</li><li>(b). 描述建大根堆的基本流程。</li><li>(c). 描述堆排序的基本流程。</li><li>(d). 使用希尔排序、快速排序、堆排序排序2000万个数，并且统计排序时间。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">递归地对pivot左右边的数进行递归排序，使得左边的数小于pivot，右边的数大于pivot</span><br><span class="line">怎么求pivot？</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> left,<span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=left,j=left;i&lt;right;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;right)</span><br><span class="line">        &#123;</span><br><span class="line">            SWAP(a[i],a[j]);</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	SWAP(a[j],right);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">从N/<span class="number">2</span>开始adjustdown（向下调整），直到根节点调整完为止</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>首先建立大根堆</span><br><span class="line"><span class="number">2.</span>然后每次让堆顶和堆底最后一个元素交换，交换后对堆顶进行adjustDown，并且传入的长度<span class="number">-1</span>,（不考虑最后一个元素），直到只剩<span class="number">1</span>个元素输出即可</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 200000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) &#123;int temp=x;x=y;y=temp;&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> gap = N / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (i = gap; i &lt; N; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> temp = a[i];</span><br><span class="line">			<span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span>; j -= gap)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (temp &lt; a[j]) a[j + gap] = a[j];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			a[j + gap] = temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (i = left, j = left; i &lt; right; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &lt; a[right]) <span class="comment">//i负责遍历每个元素，j负责小于基准元素的边界</span></span><br><span class="line">		&#123;</span><br><span class="line">			SWAP(a[i], a[j]);</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SWAP(a[j], a[right]); <span class="comment">//每一趟后，有一个元素到最终位置</span></span><br><span class="line">	<span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (left &lt; right)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> pivot = partition(a, left, right);</span><br><span class="line">		quickSort(a, left, pivot - <span class="number">1</span>);</span><br><span class="line">		quickSort(a, pivot+<span class="number">1</span>, right);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">adjustDown</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> k, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> temp = a[k];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span> * (k+<span class="number">1</span>); i &lt;= len; i &lt;&lt;= <span class="number">1</span>) <span class="comment">//需要用到父子关系信息，但从0开始不方便用，先把下标转成个数</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> j = i - <span class="number">1</span>;  <span class="comment">//下标</span></span><br><span class="line">		<span class="keyword">if</span> (j &lt; len - <span class="number">1</span> &amp;&amp; a[j] &lt; a[j + <span class="number">1</span>])</span><br><span class="line">		&#123;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (temp &gt;= a[j]) <span class="keyword">break</span>;  </span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			a[k] = a[j];</span><br><span class="line">			k = j;</span><br><span class="line">		&#125;</span><br><span class="line">		i = j+<span class="number">1</span>;  <span class="comment">//下标操作完了需要再得到i的值，不然丢失了</span></span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">	a[k] = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildMaxHeap</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = len / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		adjustDown(a, i, len);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	buildMaxHeap(a, len);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = len<span class="number">-1</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		SWAP(a[<span class="number">0</span>], a[i]);</span><br><span class="line">		adjustDown(a,<span class="number">0</span>,i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; N; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);</span></span><br><span class="line"><span class="comment">	printf("\n");*/</span></span><br><span class="line">	<span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line">	shellSort(a);  <span class="comment">//16s</span></span><br><span class="line">	<span class="comment">//quickSort(a,0,N-1);    //24s</span></span><br><span class="line">	<span class="comment">//heapSort(a,N);	    //13s</span></span><br><span class="line">	<span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%llds"</span>, time_end - time_beg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_03</title>
    <url>/category/39C_day10_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础023"><a href="#王道训练营C-方向–基础023" class="headerlink" title="王道训练营C++方向–基础023"></a>王道训练营C++方向–基础023</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现二分查找有序数组。</li><li>(b). 描述哈希查找的基本流程。</li><li>(c). 什么是哈希冲突？如何解决哈希冲突？各种解决方法的优劣如何？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) &#123;int temp=x;x=y;y=temp;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> left = <span class="number">0</span>, right = N - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (left &lt; right)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (a[mid] &gt; data)</span><br><span class="line">		&#123;</span><br><span class="line">			right = mid - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (a[mid] &lt; data)</span><br><span class="line">		&#123;</span><br><span class="line">			left = mid + <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> gap = N / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (i = gap; i &lt; N; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> temp = a[i];</span><br><span class="line">			<span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span>; j -= gap)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (temp &lt; a[j]) a[j + gap] = a[j];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			a[j + gap] = temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	shellSort(a);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入要查找的元素："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data);</span><br><span class="line">	<span class="keyword">int</span> k=binarySearch(a,data);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (k &gt;= <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"下标为%d\n"</span>, k);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"要找的元素不存在"</span>);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">e</span><br><span class="line">index=hash(e)</span><br><span class="line">hashTable[index]即是要查找的数存的地址</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">不同的数根据hash函数的得到index相同，此时放在hashTable中同一个位置，所以会冲突</span><br><span class="line">开放寻址法：</span><br><span class="line">    优点：不用申请新的内存</span><br><span class="line">    缺点：不方便找同一hash值的元素</span><br><span class="line">    	 鸠占鹊巢</span><br><span class="line">    </span><br><span class="line">链表法：</span><br><span class="line">    优点：同一hash值链接在一起</span><br><span class="line">    缺点：要申请新的内存</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>哈希表经常用于某些语言的字符串底层实现，以提升字符串处理的速度。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_04</title>
    <url>/category/39C_day09_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试015"><a href="#王道训练营C-方向–测试015" class="headerlink" title="王道训练营C++方向–测试015"></a>王道训练营C++方向–测试015</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>下面是链表结点类型的声明：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span>* <span class="title">pNext</span>;</span></span><br><span class="line">&#125; Node_t, *pNode_t;</span><br></pre></td></tr></table></figure><p>完成下列题目:</p><ul><li>(a). 找到两个相交链表的交点。</li><li>(b). 删除单链表中连续重复的元素，只保留一个结点。</li><li>(c). 拆分链表，将链表奇数位置上的节点构成一个链表，偶数位置上的节点构成另一个链表。不能重新申请堆空间。</li><li>(d). 使用链表来实现大整数加法。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//构建两个链表是它们相交</span></span><br><span class="line">	pNode_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line">	pNode_t p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line">	p2Tail-&gt;next= p1Head-&gt;next-&gt;next;</span><br><span class="line">	</span><br><span class="line">	pNode_t p1 = p1Head, p2 = p2Head;</span><br><span class="line">	<span class="keyword">int</span> k1, k2;</span><br><span class="line">	<span class="keyword">for</span> (k1 = <span class="number">0</span>; p1 != p1Tail; k1++) p1 = p1-&gt;next;</span><br><span class="line">	<span class="keyword">for</span> (k2 = <span class="number">0</span>; p2 != p1Tail; k2++) p2 = p2-&gt;next;</span><br><span class="line">	p1 = p1Head, p2 = p2Head;</span><br><span class="line">	<span class="keyword">if</span> (k1 &gt; k2) <span class="comment">//保证链表1长度小于链表2</span></span><br><span class="line">	&#123;</span><br><span class="line">		pNode_t temp = p1;</span><br><span class="line">		p1 = p2;</span><br><span class="line">		p2 = temp;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> k = k2 - k1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) p2=p2-&gt;next;</span><br><span class="line">	<span class="keyword">while</span> (p1 &amp;&amp; p2)</span><br><span class="line">	&#123;</span><br><span class="line">		p1 = p1-&gt;next;</span><br><span class="line">		p2 = p2-&gt;next;</span><br><span class="line">		<span class="keyword">if</span> (p1 == p2)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"存在交点，data为：%d"</span>, p1-&gt;data);</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"不存在交点"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//构建两个链表是它们相交</span></span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;pHead, &amp;pTail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line">	pNode_t pre = pHead, cur = pre-&gt;next;</span><br><span class="line">	<span class="keyword">int</span> temp_data = pre-&gt;data;</span><br><span class="line">	<span class="keyword">while</span> (cur)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (temp_data == cur-&gt;data)</span><br><span class="line">		&#123;</span><br><span class="line">			pNode_t temp = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">			pre-&gt;next=cur;</span><br><span class="line">			<span class="built_in">free</span>(temp);</span><br><span class="line">			temp = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			pre = cur;</span><br><span class="line">			cur = cur-&gt;next;</span><br><span class="line">			temp_data = pre-&gt;data;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	pNode_t p = pHead;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">		p = p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Node_s</span>* <span class="title">next</span>;</span> <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertAfter</span><span class="params">(pNode_t* pHead, pNode_t* pTail, <span class="keyword">int</span> data)</span> <span class="comment">//尾插法</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pNode_t p = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">	p-&gt;data = data;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*pTail)-&gt;next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//构建两个链表是它们相交</span></span><br><span class="line">	pNode_t pHead = <span class="literal">NULL</span>, pTail = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;data) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;pHead, &amp;pTail, data); <span class="comment">//尾插法</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (pTail == pHead)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"链表只有一个节点，data为%d"</span>, pHead-&gt;data);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		pNode_t p1 = pHead, p2 = p1-&gt;next, p3 = p2-&gt;next;</span><br><span class="line">		p1-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		p2-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">		pNode_t p1Head = p1, p2Head = p2;</span><br><span class="line">		<span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (p3)</span><br><span class="line">		&#123;</span><br><span class="line">			pNode_t cur = p3-&gt;next;</span><br><span class="line">			<span class="keyword">if</span> (k % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				p1-&gt;next = p3;</span><br><span class="line">				p1 = p1-&gt;next;</span><br><span class="line">				p1-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				p2-&gt;next = p3;</span><br><span class="line">				p2 = p2-&gt;next;</span><br><span class="line">				p2-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				p3 = cur;</span><br><span class="line">				cur = cur-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			k++;</span><br><span class="line">		&#125;</span><br><span class="line">		pNode_t p = p1Head;</span><br><span class="line">		<span class="keyword">while</span> (p)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">		p = p2Head;</span><br><span class="line">		<span class="keyword">while</span> (p)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>, p-&gt;data);</span><br><span class="line">			p = p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">typedef struct Node_s</span><br><span class="line">&#123;</span><br><span class="line">	int <span class="keyword">data</span>;</span><br><span class="line">	struct Node_s* next; <span class="comment">//注意只能用struct Node_s*初始化next</span></span><br><span class="line">&#125;Node_t, * pNode_t;      <span class="comment">//因为要改变结构体里指针的指向所以用二级指针</span></span><br><span class="line"></span><br><span class="line">void insertAfter(pNode_t* pHead, pNode_t* pTail, int <span class="keyword">data</span>) <span class="comment">//尾插法</span></span><br><span class="line">&#123;</span><br><span class="line">	pNode_t p = (pNode_t)calloc(<span class="number">1</span>, sizeof(Node_t));</span><br><span class="line">	<span class="function"><span class="title">p</span>-&gt;</span><span class="keyword">data</span> = <span class="keyword">data</span>;</span><br><span class="line">	<span class="keyword">if</span> ((*pHead) == NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*<span class="function"><span class="title">pTail</span>)-&gt;</span>next = p;</span><br><span class="line">		*pTail = p;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void reverse(pNode_t* pHead, pNode_t* pTail)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="function"><span class="title">pNode_t</span> p = (*pHead)-&gt;</span>next, cur;</span><br><span class="line">	*pTail = *pHead; <span class="comment">//第一个翻转后即是最后一个</span></span><br><span class="line">	(*<span class="function"><span class="title">pHead</span>)-&gt;</span>next = NULL; <span class="comment">//断掉第一个和第二个的联系</span></span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function"><span class="title">cur</span> = p-&gt;</span>next;</span><br><span class="line">		<span class="function"><span class="title">p</span>-&gt;</span>next = *pHead;</span><br><span class="line">		*pHead = p;</span><br><span class="line">		p = cur;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	pNode_t p1Head = NULL, p1Tail = NULL, p2Head = NULL, p2Tail = NULL;</span><br><span class="line">	int <span class="keyword">data</span>, k1 = <span class="number">0</span>, k2 = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (scanf(<span class="string">"%d"</span>, &amp;<span class="keyword">data</span>) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p1Head, &amp;p1Tail, <span class="keyword">data</span>); <span class="comment">//尾插法</span></span><br><span class="line">		k1++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (scanf(<span class="string">"%d"</span>, &amp;<span class="keyword">data</span>) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		insertAfter(&amp;p2Head, &amp;p2Tail, <span class="keyword">data</span>); <span class="comment">//尾插法</span></span><br><span class="line">		k2++;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	reverse(&amp;p1Head, &amp;p1Tail);</span><br><span class="line">	reverse(&amp;p2Head, &amp;p2Tail);</span><br><span class="line">	pNode_t p1, p2;</span><br><span class="line">	<span class="keyword">if</span> (k1 &lt; k2)</span><br><span class="line">	&#123;</span><br><span class="line">		p1 = p2Head;</span><br><span class="line">		p2 = p1Head;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		p1 = p1Head, p2 = p2Head;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	int sum = <span class="number">0</span>, dig = <span class="number">0</span>, go = <span class="number">0</span>;</span><br><span class="line">	pNode_t p3Head = NULL, p3Tail = NULL;</span><br><span class="line">	<span class="keyword">while</span> (p1 &amp;&amp; p2)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function"><span class="title">sum</span> = p1-&gt;</span><span class="function"><span class="title">data</span> + p2-&gt;</span><span class="keyword">data</span> + go;</span><br><span class="line">		dig = sum % <span class="number">10</span>;</span><br><span class="line">		insertAfter(&amp;p3Head, &amp;p3Tail, dig);</span><br><span class="line">		go = sum / <span class="number">10</span>;</span><br><span class="line">		<span class="function"><span class="title">p1</span> = p1-&gt;</span>next;</span><br><span class="line">		<span class="function"><span class="title">p2</span> = p2-&gt;</span>next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (go != <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (k1 == k2) insertAfter(&amp;p3Head, &amp;p3Tail, <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">while</span> (p1)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="function"><span class="title">sum</span> = p1-&gt;</span><span class="keyword">data</span> + go;</span><br><span class="line">				dig = sum % <span class="number">10</span>;</span><br><span class="line">				insertAfter(&amp;p3Head, &amp;p3Tail, dig);</span><br><span class="line">				go = sum / <span class="number">10</span>;</span><br><span class="line">				<span class="function"><span class="title">p1</span> = p1-&gt;</span>next;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	reverse(&amp;p3Head, &amp;p3Tail);</span><br><span class="line">	pNode_t p = p3Head;</span><br><span class="line">	<span class="keyword">while</span> (p)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function"><span class="title">printf</span>("%d", p-&gt;</span><span class="keyword">data</span>);</span><br><span class="line">		<span class="function"><span class="title">p</span> = p-&gt;</span>next;</span><br><span class="line">	&#125;</span><br><span class="line">	return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>实现大整数的加法需要首先实现链表的逆置。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day10_04</title>
    <url>/category/39C_day10_04/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试025"><a href="#王道训练营C-方向–测试025" class="headerlink" title="王道训练营C++方向–测试025"></a>王道训练营C++方向–测试025</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 假设数组是先单调递增到一个峰值，然后单调递减的。设计并实现算法找到峰值元素的下标。</li><li>(b). 下面是一篇文章的段落的若干个句子。每个句子都存在一个编号。从键盘中输入一个单词，判断这个单词有没有在段落中出现过，如果出现过，输出其第一次出现时所在句子的编号。</li></ul><a id="more"></a><figure class="highlight smalltalk"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> <span class="comment">"They sat on the Terrace and many of the fishermen made fun of the old man and he was noteangry. "</span></span><br><span class="line"><span class="number">2</span> <span class="comment">"Others, of the older fishermen, looked at him and were sad. "</span></span><br><span class="line"><span class="number">3</span> <span class="comment">"But they did not show it and they spoke politely about the current and the depths they had drifted their lines at and the steady good weather and of what they had seen."</span> </span><br><span class="line"><span class="number">4</span> <span class="comment">"The successful fishermen of that day were already in and had butchered their marlin out and carried them laid full length across two planks, with two men staggering at the end of each plank, to the fish house where they waited for the ice truck to carry them to the market in Havana. "</span></span><br><span class="line"><span class="number">5</span> <span class="comment">"Those who had caught sharks had taken them to the shark factory on the other side of the cove where they were hoisted on a block and tackle, their livers removed, their fins cut off and their hides skinned out and their flesh cut into strips for salting. "</span></span><br><span class="line">----------------------------</span><br><span class="line"><span class="type">INPUT</span>: they</span><br><span class="line"><span class="type">OUTPUT</span>: <span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) &#123;int temp=x;x=y;y=temp;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> left = <span class="number">0</span>, right = N - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span> (left &lt; right)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (a[mid<span class="number">-1</span>]&lt;a[mid]&amp;&amp; a[mid]&lt;a[mid+<span class="number">1</span>])</span><br><span class="line">		&#123;</span><br><span class="line">			left = mid + <span class="number">1</span>;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (a[mid<span class="number">-1</span>] &gt; a[mid] &amp;&amp; a[mid] &gt; a[mid+<span class="number">1</span>])</span><br><span class="line">		&#123;</span><br><span class="line">			right = mid - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(a[mid - <span class="number">1</span>] &lt; a[mid] &amp;&amp; a[mid] &gt; a[mid + <span class="number">1</span>])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, a[i]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	<span class="keyword">int</span> k=binarySearch(a);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"峰值元素的下标为%d\n"</span>, k);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="meta">#define _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="meta">#include&lt;stdlib.h&gt;</span></span><br><span class="line"><span class="meta">#define MAXKEY 1000</span></span><br><span class="line"><span class="keyword">int</span> hash(<span class="keyword">char</span>* key);<span class="comment">//元素是一个字符串</span></span><br><span class="line"><span class="keyword">void</span> headle(<span class="keyword">char</span>* <span class="keyword">str</span>);</span><br><span class="line"><span class="keyword">void</span> insert(<span class="keyword">char</span>* hashTable, <span class="keyword">char</span>* <span class="keyword">str</span>, <span class="keyword">int</span> n);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span> save_ptr[<span class="number">5</span>][MAXKEY] =</span><br><span class="line">	&#123;</span><br><span class="line">		&#123;<span class="string">"They sat on the Terrace and many of the fishermen made fun of the old man and he was noteangry. "</span>&#125;,</span><br><span class="line">		&#123;<span class="string">"Others, of the older fishermen, looked at him and were sad. "</span>&#125;,</span><br><span class="line">		&#123;<span class="string">"But they did not show it and they spoke politely about the current and the depths they had drifted their lines at and the steady good weather and of what they had seen."</span>&#125;,</span><br><span class="line">		&#123;<span class="string">"The successful fishermen of that day were already in and had butchered their marlin out and carried them laid full length across two planks, with two men staggering at the end of each plank, to the fish house where they waited for the ice truck to carry them to the market in Havana. "</span>&#125;,</span><br><span class="line">		&#123;<span class="string">"Those who had caught sharks had taken them to the shark factory on the other side of the cove where they were hoisted on a block and tackle, their livers removed, their fins cut off and their hides skinned out and their flesh cut into strips for salting. "</span>&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> hashTable[MAXKEY] = &#123; <span class="number">0</span> &#125;; <span class="comment">//hashTable存的是索引</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> <span class="keyword">str</span>[<span class="number">20</span>];</span><br><span class="line">	printf(<span class="string">"请输入要查找的单词："</span>);</span><br><span class="line">	scanf(<span class="string">"%s"</span>, <span class="keyword">str</span>);</span><br><span class="line">	headle(<span class="keyword">str</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		headle(save_ptr[i]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		insert(hashTable, save_ptr[i<span class="number">-1</span>], i);</span><br><span class="line">		<span class="keyword">int</span> <span class="keyword">index</span> = hash(<span class="keyword">str</span>);</span><br><span class="line">		<span class="keyword">if</span> (hashTable[<span class="keyword">index</span>] == i)</span><br><span class="line">		&#123;</span><br><span class="line">			printf(<span class="string">"%d\n"</span>, i);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> hash(<span class="keyword">char</span>* key)<span class="comment">//元素是一个字符串</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">int</span> h = <span class="number">0</span>, g;</span><br><span class="line">	<span class="keyword">while</span> (*key)</span><br><span class="line">	&#123;</span><br><span class="line">		h = (h &lt;&lt; <span class="number">4</span>) + *key++;</span><br><span class="line">		g = h &amp; <span class="number">0xf0000000</span>;</span><br><span class="line">		<span class="keyword">if</span> (g)</span><br><span class="line">			h ^= g &gt;&gt; <span class="number">24</span>;</span><br><span class="line">		h &amp;= ~g;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> h % MAXKEY;<span class="comment">//范围从0~MAXKEY-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> headle(<span class="keyword">char</span>* <span class="keyword">str</span>)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; <span class="keyword">str</span>[i]; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">str</span>[i] &gt;= <span class="string">'a'</span> &amp;&amp; <span class="keyword">str</span>[i] &lt;= <span class="string">'z'</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">str</span>[i] -= <span class="number">32</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">str</span>[i] &gt;= <span class="string">'A'</span> &amp;&amp; <span class="keyword">str</span>[i] &lt;= <span class="string">'Z'</span>);</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">str</span>[i] = <span class="string">' '</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> insert(<span class="keyword">int</span> hashTable[], <span class="keyword">char</span> <span class="keyword">str</span>[], <span class="keyword">int</span> n)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">char</span> b[<span class="number">30</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="keyword">int</span>  j = <span class="number">0</span>, flag = <span class="number">0</span>; <span class="comment">//flag=1判断前面的字符串加好了没</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; <span class="keyword">str</span>[i]; i++) <span class="comment">//0和' '是不一样的</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">str</span>[i] != <span class="string">' '</span>) &#123;</span><br><span class="line">			b[j++] = <span class="keyword">str</span>[i];</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="keyword">int</span> <span class="keyword">index</span> = hash(b);</span><br><span class="line">				hashTable[<span class="keyword">index</span>] = n;</span><br><span class="line">				memset(b, <span class="number">0</span>, sizeof(b));</span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>(a)采用二分查找</li><li>(b)使用一个数组存储文章，先将所有的标点符号转为空格，然后将小写字母转换成大写字母，随后采用哈希查找</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day11_01</title>
    <url>/category/39C_day11_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础026"><a href="#王道训练营C-方向–基础026" class="headerlink" title="王道训练营C++方向–基础026"></a>王道训练营C++方向–基础026</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). FILE类型结构体实际上是指文件缓冲区，这个结构体当中包含了缓冲区基地址指针、当前读写位置指针、缓冲区容量和文件实际大小等信息。画出文件缓冲区的示意图</li><li>(b). 如何打开和关闭一个文件？如何定位打开文件时触发了什么错误？</li><li>(c). 什么时候缓冲区的内容会写回磁盘？</li><li>(d). 路径是什么？有哪几种路径？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5Clenovo%5CDesktop%5C%E6%88%AA%E5%9B%BE%5C2021-06-14_161939.png" alt=""></p><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"r+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">fclose(),fflush(),缓冲区满了</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">绝对路径和相对路径（./<span class="number">1.</span>txt和main.c ）</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day11_02</title>
    <url>/category/39C_day11_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础027"><a href="#王道训练营C-方向–基础027" class="headerlink" title="王道训练营C++方向–基础027"></a>王道训练营C++方向–基础027</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 如何偏移文件的读写位置</li><li>(b). r、r+、rb+模式有什么区别？从读、写和偏移的角度来讨论</li><li>(c). 整理所有已经学习过的读写接口</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"r+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span> ((ch = fgetc(fp)) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			ch -= <span class="number">32</span>;</span><br><span class="line">			fseek(fp, <span class="number">-1</span>, SEEK_CUR);</span><br><span class="line">			fputc(ch, fp);</span><br><span class="line">		&#125;</span><br><span class="line">		fseek(fp, <span class="number">0</span>, SEEK_CUR);</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">r模式以只读打开文件</span><br><span class="line">r+模式以读写模式打开文件</span><br><span class="line">rb+与r+类似，但是rb+会在从流中写回数组模式的时候将<span class="symbol">\r</span><span class="symbol">\n</span>写为<span class="symbol">\r</span><span class="symbol">\n</span>，而r+会写为<span class="symbol">\n</span>。</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">单字节</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fgetc</span><span class="params">(FILE *stream)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputc</span><span class="params">(<span class="keyword">int</span> ch,FILE *stream)</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fflush</span><span class="params">( FILE *stream )</span></span>;</span><br><span class="line"></span><br><span class="line">多字节</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fread</span><span class="params">(<span class="keyword">void</span> *<span class="built_in">buffer</span>,<span class="keyword">size_t</span> <span class="built_in">size</span>, <span class="keyword">size_t</span> num,FILE *stream)</span>  </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fwrite</span><span class="params">( <span class="keyword">const</span> <span class="keyword">void</span> *<span class="built_in">buffer</span>, <span class="keyword">size_t</span> <span class="built_in">size</span>, <span class="keyword">size_t</span> count, FILE *stream )</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line">按行读写</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fputs</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *str, FILE *stream )</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">fgets</span><span class="params">( <span class="keyword">char</span> *str, <span class="keyword">int</span> num, FILE *stream )</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line">格式化读写</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fscanf</span><span class="params">( FILE *stream, <span class="keyword">const</span> <span class="keyword">char</span> *format, ... )</span> </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fprintf</span><span class="params">( FILE *stream, <span class="keyword">const</span> <span class="keyword">char</span> *format, ... )</span> </span></span><br><span class="line"><span class="function">   </span></span><br><span class="line">例子：    </span><br><span class="line"><span class="built_in">sscanf</span>(args[<span class="number">1</span>],<span class="string">"%o"</span>,&amp;mode);  将args[<span class="number">1</span>]的内容以<span class="number">8</span>进制读入mode</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> buf[<span class="number">512</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="built_in">sprintf</span>(buf,<span class="string">"%s%s%s"</span>,argv[<span class="number">1</span>],<span class="string">"/"</span>,pdirent-&gt;name);   拼接得到前面带文件路径的文件名</span><br><span class="line"></span><br><span class="line">打开关闭</span><br><span class="line"><span class="function">FILE *<span class="title">fopen</span><span class="params">( <span class="keyword">const</span> <span class="keyword">char</span> *fname, <span class="keyword">const</span> <span class="keyword">char</span> *mode )</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fclose</span><span class="params">( FILE *stream )</span></span>;</span><br><span class="line"></span><br><span class="line">移动读写指针</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fseek</span><span class="params">( FILE *stream, <span class="keyword">long</span> offset, <span class="keyword">int</span> origin )</span></span>;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day11_03</title>
    <url>/category/39C_day11_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试027"><a href="#王道训练营C-方向–测试027" class="headerlink" title="王道训练营C++方向–测试027"></a>王道训练营C++方向–测试027</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 有一个记录学生信息的文件，文件的每一个是一个学生的信息，其格式如下：</li></ul><figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">学号<span class="string">\t</span> 姓名<span class="string">\t</span> 性别<span class="string">\t</span> 语文成绩<span class="string">\t</span> 数学成绩<span class="string">\t</span> 英语成绩<span class="string">\n</span></span><br><span class="line"><span class="number">1</span>、将学生读入到一个结构体数组当中；</span><br><span class="line"><span class="number">2</span>、将学生信息排序，重新写回到文件。</span><br></pre></td></tr></table></figure><ul><li>(b). 将<em>The_Holy_Bible.txt</em> 中的标点符号（非字母、数字、换行）替换成空格， 大写字母转换成小写字母并将处理过的文本保存到 <em>The_Holy_Bible_Res.txt</em>中(要同时打开两个文件)</li><li>(c). 根据(b)的结果， 统计<em>The_Holy_Bible_Res.txt</em>中字符的个数、行数、单词的个数，统计单词的词频并打印输出词频最高的前 10 个单词及其词频。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> gender[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">double</span> score1;</span><br><span class="line">	<span class="keyword">double</span> score2;</span><br><span class="line">	<span class="keyword">double</span> score3;</span><br><span class="line">&#125;Student_t,*pStudent_t;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"rb+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>], name[<span class="number">10</span>], gender[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">double</span> score1, score2, score3;</span><br><span class="line">	pStudent_t arr[<span class="number">5</span>];</span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> ((<span class="built_in">fscanf</span>(fp,<span class="string">"%s%s%s%lf%lf%lf"</span>, no_name, name, gender, &amp;score1, &amp;score2, &amp;score3)) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		pStudent_t pNew = (pStudent_t)<span class="built_in">calloc</span>(<span class="number">1</span>,<span class="keyword">sizeof</span>(Student_t));</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;no_name, no_name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;name, name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;gender, gender);</span><br><span class="line">		pNew-&gt;score1 = score1;</span><br><span class="line">		pNew-&gt;score2 = score2;</span><br><span class="line">		pNew-&gt;score3 = score3;</span><br><span class="line">		arr[i++] = pNew;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>-i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (arr[j]-&gt;score1 &gt; arr[j + <span class="number">1</span>]-&gt;score1)</span><br><span class="line">			&#123;</span><br><span class="line">				pStudent_t temp;</span><br><span class="line">				temp = arr[j];</span><br><span class="line">				arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">				arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fp);</span><br><span class="line">	fp = fopen(<span class="string">"./1.txt"</span>, <span class="string">"w"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">fprintf</span>(fp,<span class="string">"%s\t%s\t%s\t%lf\t%lf\t%lf\n"</span>, arr[i]-&gt;no_name, arr[i]-&gt;name,arr[i]-&gt;gender,arr[i]-&gt;score1,arr[i]-&gt;score2,arr[i]-&gt;score3);</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fp);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE* fp1 = fopen(<span class="string">"./The_Holy_Bible.txt"</span>, <span class="string">"rb+"</span>);</span><br><span class="line">	FILE* fp2 = fopen(<span class="string">"./The_Holy_Bible_Res.txt"</span>, <span class="string">"rb+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp1== <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">char</span> ch;</span><br><span class="line">	<span class="keyword">while</span> ((ch = fgetc(fp1)) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (ch &gt;= <span class="string">'A'</span> &amp;&amp; ch &lt;= <span class="string">'Z'</span>) ch += <span class="number">32</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (ch &gt;= <span class="string">'a'</span> &amp;&amp; ch &lt;= <span class="string">'z'</span>);</span><br><span class="line">		<span class="keyword">else</span> ch = <span class="string">' '</span>;</span><br><span class="line">		fputc(ch, fp2);</span><br><span class="line">		<span class="comment">//fseek(fp, 0, SEEK_CUR);</span></span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fp1);</span><br><span class="line">	fclose(fp2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXKEY 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Word_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> <span class="keyword">word</span>[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> num;</span><br><span class="line">&#125;Word_t, * pWord_t;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">char</span>* key)</span><span class="comment">//元素是一个字符串</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> h = <span class="number">0</span>, g;</span><br><span class="line">	<span class="keyword">while</span> (*key)</span><br><span class="line">	&#123;</span><br><span class="line">		h = (h &lt;&lt; <span class="number">4</span>) + *key++;</span><br><span class="line">		g = h &amp; <span class="number">0xf0000000</span>;</span><br><span class="line">		<span class="keyword">if</span> (g)</span><br><span class="line">			h ^= g &gt;&gt; <span class="number">24</span>;</span><br><span class="line">		h &amp;= ~g;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> h % MAXKEY;<span class="comment">//范围从0~MAXKEY-1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE* fp = fopen(<span class="string">"./The_Holy_Bible_Res.txt"</span>, <span class="string">"r"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	Word_t arr[MAXKEY] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">	pWord_t hashTable[MAXKEY] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="keyword">char</span> ch, b[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> num_char = <span class="number">0</span>, num_line = <span class="number">1</span>, k = <span class="number">0</span>, flag = <span class="number">0</span>, num_word = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> ((ch = fgetc(fp)) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		num_char++; <span class="comment">//字符</span></span><br><span class="line">		<span class="keyword">if</span> (ch == <span class="string">'\n'</span>) num_line++;  <span class="comment">//行数</span></span><br><span class="line">		<span class="keyword">if</span> (ch != <span class="string">' '</span>) &#123;</span><br><span class="line">			b[j++] = ch;</span><br><span class="line">			b[j] = <span class="number">0</span>;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="keyword">int</span> index = hash(b);</span><br><span class="line">				<span class="keyword">if</span> (hashTable[index])</span><br><span class="line">				&#123;</span><br><span class="line">					hashTable[index]-&gt;num++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					pWord_t pNew = (pWord_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Word_t));</span><br><span class="line">					<span class="built_in">strcpy</span>(pNew-&gt;<span class="keyword">word</span>, b);</span><br><span class="line">					pNew-&gt;num = <span class="number">1</span>;</span><br><span class="line">					arr[k] = *pNew;</span><br><span class="line">					hashTable[index] = &amp;arr[k++];  <span class="comment">//哈希主要是查找</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="built_in">memset</span>(b, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">char</span>) * <span class="number">20</span>);  <span class="comment">//sizeof要看具体类型，不能想当然直接int</span></span><br><span class="line">				j = <span class="number">0</span>;</span><br><span class="line">				flag = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k<span class="number">-1</span>;i&gt;=<span class="number">0</span>; i--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (j = k<span class="number">-1</span>; j &gt;k-i<span class="number">-1</span>; j--)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (arr[j].num &gt; arr[j - <span class="number">1</span>].num)</span><br><span class="line">			&#123;</span><br><span class="line">				Word_t temp;</span><br><span class="line">				temp = arr[j];</span><br><span class="line">				arr[j] = arr[j - <span class="number">1</span>];</span><br><span class="line">				arr[j - <span class="number">1</span>] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"字符数：%d,行数：%d,单词数：%d"</span>, num_char, num_line,k);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n前10词频为："</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">		<span class="keyword">if</span>(arr[i].num!=<span class="number">0</span>)</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"%s--%d个\n"</span>, arr[i].<span class="keyword">word</span>, arr[i].num);</span><br><span class="line">	fclose(fp);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day12_01</title>
    <url>/category/39C_day12_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础024"><a href="#王道训练营C-方向–基础024" class="headerlink" title="王道训练营C++方向–基础024"></a>王道训练营C++方向–基础024</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pParent</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">&#125; BSTNode_t, *pBSTNode_t;</span><br></pre></td></tr></table></figure><ul><li>(a). 什么是二叉搜索树？给出BST，给出查找某个元素是否在数据结构中的实现。</li><li>(b). 给出将某个元素直接插入到BST中的实现。</li><li>(c). (选做)实现二叉搜索树的左旋和右旋。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//中序序列是有序序列的二叉树</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pParent</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">&#125; BSTNode_t, * pBSTNode_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildBST</span><span class="params">(pBSTNode_t* root, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (*root == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">        pNew-&gt;data = data;</span><br><span class="line">        pNew-&gt;pParent = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">        *root = pNew;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (data &lt; (*root)-&gt;data)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pLeft == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pLeft = pNew;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pRight == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pRight = pNew;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(pBSTNode_t p, <span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;data == x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x &lt; p-&gt;data)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;pLeft) <span class="keyword">return</span> search(p-&gt;pLeft, x);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;pRight) <span class="keyword">return</span> search(p-&gt;pRight, x);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pBSTNode_t root = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> data[] = &#123;<span class="number">50</span>,<span class="number">40</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">45</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">        buildBST(&amp;root,data[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入一个要查找的数:"</span>);</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">    <span class="keyword">if</span> (search(root, x)) <span class="built_in">printf</span>(<span class="string">"%d在本BST中"</span>, x);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d不在本BST中"</span>,x);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">同(a)</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS      <span class="comment">//有bug</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pParent</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pLeft</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BSTNode_s</span>* <span class="title">pRight</span>;</span></span><br><span class="line">&#125; BSTNode_t, * pBSTNode_t;</span><br><span class="line"></span><br><span class="line"><span class="function">pBSTNode_t <span class="title">connect34</span><span class="params">(pBSTNode_t* a, pBSTNode_t* b, pBSTNode_t* c, pBSTNode_t* T0, pBSTNode_t* T1, pBSTNode_t* T2, pBSTNode_t* T3)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    (*b)-&gt;pLeft = *T0; <span class="keyword">if</span>(*T0) (*T0)-&gt;pParent = *b;</span><br><span class="line">    (*b)-&gt;pRight = *T1; <span class="keyword">if</span>(*T1) (*T1)-&gt;pParent = *b;</span><br><span class="line">    (*c)-&gt;pLeft = *T2; <span class="keyword">if</span>(*T2) (*T2)-&gt;pParent = *c;</span><br><span class="line">    (*c)-&gt;pRight = *T3; <span class="keyword">if</span>(*T3) (*T3)-&gt;pParent = *c;</span><br><span class="line">    (*a)-&gt;pLeft = *b; <span class="keyword">if</span>(*b) (*b)-&gt;pParent = *a;</span><br><span class="line">    (*a)-&gt;pRight = *c; <span class="keyword">if</span>(*c) (*c)-&gt;pParent = *a;</span><br><span class="line">    <span class="keyword">return</span> *a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">pBSTNode_t <span class="title">rotateAt</span><span class="params">(pBSTNode_t* v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pBSTNode_t p = (*v)-&gt;pParent;</span><br><span class="line">    <span class="keyword">if</span> (p)</span><br><span class="line">    &#123;</span><br><span class="line">        pBSTNode_t g = p-&gt;pParent;</span><br><span class="line">        <span class="keyword">if</span> (p &amp;&amp; g)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pLeft == *v &amp;&amp; g-&gt;pLeft == p) <span class="keyword">return</span> connect34(&amp;p, v, &amp;g, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight, &amp;p-&gt;pRight, &amp;g-&gt;pRight);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pRight == *v &amp;&amp; g-&gt;pRight == p) <span class="keyword">return</span> connect34(&amp;p, &amp;g, v, &amp;g-&gt;pLeft, &amp;p-&gt;pLeft, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pLeft == *v &amp;&amp; g-&gt;pRight == p) <span class="keyword">return</span> connect34(v, &amp;g, &amp;p, &amp;g-&gt;pLeft, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight, &amp;p-&gt;pRight);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;pRight == *v &amp;&amp; g-&gt;pLeft == p) <span class="keyword">return</span> connect34(v, &amp;p, &amp;g, &amp;p-&gt;pLeft, &amp;(*v)-&gt;pLeft, &amp;(*v)-&gt;pRight, &amp;g-&gt;pRight);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildBST</span><span class="params">(pBSTNode_t* root, <span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (*root == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">        pNew-&gt;data = data;</span><br><span class="line">        pNew-&gt;pParent = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">        pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">        *root = pNew;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (data &lt; (*root)-&gt;data)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pLeft == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pLeft = pNew;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*root)-&gt;pRight == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                pBSTNode_t pNew = (pBSTNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(BSTNode_t));</span><br><span class="line">                pNew-&gt;data = data;</span><br><span class="line">                pNew-&gt;pParent = *root;</span><br><span class="line">                pNew-&gt;pLeft = <span class="literal">NULL</span>;</span><br><span class="line">                pNew-&gt;pRight = <span class="literal">NULL</span>;</span><br><span class="line">                (*root)-&gt;pRight = pNew;</span><br><span class="line">         </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> buildBST(&amp;(*root)-&gt;pLeft, data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pBSTNode_t root = <span class="literal">NULL</span>,temp=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> data[] = &#123;<span class="number">50</span>,<span class="number">40</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">45</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        buildBST(&amp;root, data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    rotateAt(&amp;root-&gt;pLeft-&gt;pLeft-&gt;pRight); <span class="comment">//此时失衡的节点是40，他的曾孩子为30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day12_02</title>
    <url>/category/39C_day12_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础025"><a href="#王道训练营C-方向–基础025" class="headerlink" title="王道训练营C++方向–基础025"></a>王道训练营C++方向–基础025</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 简述红黑树的基本特征。</li><li>(b). 整理红黑树的插入的各种情况。</li><li>(c). (选做)整理红黑树的删除的各种情况。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">根节点为黑色的</span><br><span class="line">叶节点(空<span class="literal">NULL</span>节点)是黑色的</span><br><span class="line">红色节点的父亲和儿子都是黑色的</span><br><span class="line">从根节点到叶节点的黑高度相等</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">新插入的节点先置红</span><br><span class="line"><span class="number">1.</span>如果插入的是根节点，则直接置黑</span><br><span class="line"><span class="number">2.</span>如果插入节点的父亲是黑的，那没事了</span><br><span class="line"><span class="number">3.</span>如果插入节点的父亲是红的，叔叔也是红的，那祖父此时肯定是黑的，则将祖父置红，父亲和叔叔置黑</span><br><span class="line"><span class="number">4.</span>如果插入节点的父亲是红的，叔叔是黑的，则<span class="number">3</span>+<span class="number">4</span>重构后，将上面的置黑，下面两个置红</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday01_01</title>
    <url>/category/39Linuxday01_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础001"><a href="#王道训练营C-方向–Linux基础001" class="headerlink" title="王道训练营C++方向–Linux基础001"></a>王道训练营C++方向–Linux基础001</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 检查一下自己的内核版本，在互联网上查询当前最新的内核版本。</li><li>(b). Linux的系统可以分成哪几层结构，分别有什么功能？</li><li>(c). 以表格的形式整理用户（查询、切换、配置密码、增加和删除）相关命令。</li><li>(d). 检查自己的发行版本信息和内核信息，搜索当前最新的内核版本。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">uname -a  检查一下自己的内核版本</span><br><span class="line">www.kernel.org  在互联网上查询当前最新的内核版本</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">应用程序</span><br><span class="line">shell 命令解释器</span><br><span class="line">公用函数库  封装系统调用</span><br><span class="line">系统调用  内核提供给外部的接口</span><br><span class="line">内核：</span><br><span class="line">    硬件</span><br><span class="line">    内存</span><br><span class="line">    cpu 进程</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><table><thead><tr><th align="center">命令</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center">cat /etc/passwd</td><td align="center">查询存在着哪些用户</td></tr><tr><td align="center">who</td><td align="center">查询登录情况</td></tr><tr><td align="center">cat /etc/issue</td><td align="center">查询发行版本</td></tr><tr><td align="center">uname -a</td><td align="center">查询内核版本</td></tr><tr><td align="center">sudo root passwd</td><td align="center">修改root的密码</td></tr><tr><td align="center">su root</td><td align="center">切换到root（su和exit入栈和出栈）</td></tr><tr><td align="center">sudo useradd -m test2 -s /bin/bash</td><td align="center">添加用户</td></tr><tr><td align="center">sudo userdel -r test2</td><td align="center">删除用户</td></tr></tbody></table><ul><li>(d)</li></ul><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cat <span class="regexp">/etc/i</span>ssue 检查自己的发行版本信息</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>有兴趣的同学可以搜索一下telnet命令，思考一下，为什么ssh会取代telnet？</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday01_02</title>
    <url>/category/39Linuxday01_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础002"><a href="#王道训练营C-方向–Linux基础002" class="headerlink" title="王道训练营C++方向–Linux基础002"></a>王道训练营C++方向–Linux基础002</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). Linux的虚拟文件系统采用什么类型的数据结构组织的？目录文件和普通文件在数据结构中扮演着怎么样不同的角色？</li><li>(b). 什么是路径、相对路径和绝对路径？</li><li>(c). 普通用户家目录在何方？如何快速将当前工作目录切换到家目录。</li><li>(d). 整理cd命令的几种用法。</li><li>(e). 整理ls -l各列的含义。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">采用树形结构组织</span><br><span class="line">依次是根目录，目录文件和非目录文件</span><br><span class="line">root:特权用户的家目录</span><br><span class="line"><span class="built_in">home</span>：普通用户的家目录的父亲</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">能够找到该文件的位置</span><br><span class="line">绝对路径：从根目录出发   /</span><br><span class="line">相对路径：从当前工作目录出发</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="built_in">home</span>下家目录文件夹</span><br><span class="line">cd ~</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~  :返回到家目录</span><br><span class="line"><span class="keyword">cd</span> .  :不变</span><br><span class="line"><span class="keyword">cd</span> <span class="string">..</span> :回到上一级</span><br><span class="line"><span class="keyword">cd</span> -  :回退到上一次的位置</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">ls -l</span><br><span class="line">例如：</span><br><span class="line">drwxr-xr-x <span class="number">16</span> cfhy cfhy <span class="number">4.0</span>K <span class="number">6</span>月  <span class="number">16</span> <span class="number">20</span>:<span class="number">15</span> .</span><br><span class="line">drwxr-xr-x  <span class="number">3</span> root root <span class="number">4.0</span>K <span class="number">6</span>月  <span class="number">16</span> <span class="number">19</span>:<span class="number">55</span> ..</span><br><span class="line">依次为：</span><br><span class="line"><span class="number">1.</span>文件类型：</span><br><span class="line">		- 普通文件</span><br><span class="line">		d 目录</span><br><span class="line">		c 字符设备</span><br><span class="line">		b 块设备</span><br><span class="line">		l 符号链接</span><br><span class="line"><span class="number">2.</span>用户权限rwx  (读写执行)</span><br><span class="line"><span class="number">3.</span>用户所在组权限</span><br><span class="line"><span class="number">4.</span>其他人权限</span><br><span class="line"><span class="number">5.</span>被指向的硬链接数</span><br><span class="line"><span class="number">6.</span>用户名</span><br><span class="line"><span class="number">7.</span>组名</span><br><span class="line"><span class="number">8.</span>大小</span><br><span class="line"><span class="number">9.</span>上次修改时间</span><br><span class="line"><span class="number">10.</span>文件名</span><br></pre></td></tr></table></figure><h2 id="拓展知识"><a href="#拓展知识" class="headerlink" title="拓展知识"></a>拓展知识</h2><p>ls的命令其实是将目录下面的所有文件名一行行打印到标准输出的，只不过shell窗口帮我们做了美化，使其看起来像在一行一样。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday01_03</title>
    <url>/category/39Linuxday01_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础003"><a href="#王道训练营C-方向–Linux基础003" class="headerlink" title="王道训练营C++方向–Linux基础003"></a>王道训练营C++方向–Linux基础003</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 目录的本质是什么？</li><li>(b). 什么是硬链接？目录和硬链接存在什么关系？</li><li>(c). 整理cp、mv和rm命令的几种情况。</li><li>(d). man命令以及其-k/-f选项有什么效果？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">目录的本质是将所辖的下级目录和文件以链表的形式组织起来</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">其他文件对文件的引用，引入硬链接数，当它为<span class="number">0</span>时，文件才会被删除</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">touch</span> <span class="string">file 创建文件</span></span><br><span class="line"><span class="attr">mkdir</span> <span class="string">创建文件夹</span></span><br><span class="line"><span class="attr">rmdir</span> <span class="string">删除空文件夹</span></span><br><span class="line"><span class="attr">cp</span> <span class="string">file1 file2 复制file1到file2,如果file2不存在，就创建，会覆盖</span></span><br><span class="line"><span class="attr">cp</span> <span class="string">file1 dir1 复制file1到dir1文件夹下，如果file2不存在，就创建，会覆盖</span></span><br><span class="line"><span class="attr">mv</span> <span class="string">file1 file2 重命名file1为file2</span></span><br><span class="line"><span class="attr">mv</span> <span class="string">file1 dir1  剪切（移动）file1到dir1</span></span><br><span class="line"><span class="attr">rm</span> <span class="string">-r -f file</span></span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">man查询具体命令的工作手册</span><br><span class="line"><span class="deletion">-k 查找说明文档 -f 查找解释</span></span><br></pre></td></tr></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>思考一下，如果使用fopen、fgetc和fputc等函数，能否实现类似cp的功能？</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day09_03</title>
    <url>/category/39C_day09_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–基础019"><a href="#王道训练营C-方向–基础019" class="headerlink" title="王道训练营C++方向–基础019"></a>王道训练营C++方向–基础019</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 完成冒泡、选择、插入排序。</li><li>(b). 描述希尔排序的基本流程。</li><li>(c). 使用希尔排序排序2000万个数，并且统计排序时间。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N - <span class="number">1</span> - i; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (a[j] &gt; a[j + <span class="number">1</span>])</span><br><span class="line">			&#123;</span><br><span class="line">				SWAP(a[j], a[j + <span class="number">1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> minpos = i;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (a[minpos] &gt; a[j])</span><br><span class="line">			&#123;</span><br><span class="line">				minpos = j;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		SWAP(a[minpos], a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; N; i++) <span class="comment">//待插入的</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> temp = a[i];</span><br><span class="line">		<span class="keyword">for</span> (j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--)  <span class="comment">//前面的</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (temp &lt; a[j])</span><br><span class="line">			&#123;</span><br><span class="line">				a[j + <span class="number">1</span>] = a[j];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		a[j + <span class="number">1</span>] = temp;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">gap每次减少到一半，每次间隔gap的几个数插入排序</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20000000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 200000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SWAP(x,y) &#123;int temp=x;x=y;y=temp;&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> gap = N / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (i =gap ; i &lt; N; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> temp = a[i];</span><br><span class="line">			<span class="keyword">for</span> (j = i - gap; j &gt;= <span class="number">0</span>; j-=gap)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (temp &lt; a[j]) a[j + gap] = a[j];</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">					</span><br><span class="line">			&#125;</span><br><span class="line">			a[j + gap] = temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> *a=(<span class="keyword">int</span>*)<span class="built_in">calloc</span>(N,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	srand(time(<span class="literal">NULL</span>));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		a[i] = rand() % M;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line">	shellSort(a);</span><br><span class="line">	<span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%llds"</span>, time_end - time_beg);</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; N; i++)</span></span><br><span class="line"><span class="comment">		printf("%d ", a[i]);*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday02_02</title>
    <url>/category/39Linuxday02_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础005"><a href="#王道训练营C-方向–Linux基础005" class="headerlink" title="王道训练营C++方向–Linux基础005"></a>王道训练营C++方向–Linux基础005</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 描述一下find命令的格式。</li><li>(b). 常用的通配符有哪些？分别有什么效果？</li><li>(c). 在/usr/share/doc找到所有以html结尾且大小大于100个block的文件，并且使用ls -l展示其详细信息。</li><li>(d). 如何检查整体磁盘空间使用状况？如何获知本目录下所有文件的总大小？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">find</span> 起始目录 查找条件</span><br><span class="line">    </span><br><span class="line">    -name：以文件名查找     <span class="built_in">find</span> .  <span class="string">"file1*"</span>        (<span class="string">"file?"</span>  <span class="string">"file[0-9][0-9]"</span>)</span><br><span class="line">    </span><br><span class="line">    -user/-group：以用户名/组名查找    <span class="built_in">find</span> . -user cfhy</span><br><span class="line">    </span><br><span class="line">    -uid/-gid：以用户名id/组id查找    <span class="built_in">find</span> . -uid <span class="number">1000</span></span><br><span class="line">    </span><br><span class="line">    -perm：以权限查找     <span class="built_in">find</span> . <span class="number">777</span></span><br><span class="line">    </span><br><span class="line">    -<span class="built_in">size</span>：以文件大小查找  </span><br><span class="line">    (单位：b:一个<span class="number">512B</span>块，c:<span class="number">1B</span>，w:<span class="number">2B</span>,k,M,G ) -表示小于，+表示大于   </span><br><span class="line">    <span class="built_in">find</span> . -<span class="built_in">size</span> <span class="number">-100</span>M  </span><br><span class="line">    </span><br><span class="line">    -type：以文件类型查找   <span class="built_in">find</span> . -type d</span><br><span class="line">    </span><br><span class="line">   	-empty：查找空目录或文件  <span class="built_in">find</span> . -empty</span><br><span class="line">    </span><br><span class="line">    按时间查找</span><br><span class="line">    -amin   -atime  访问如cat查看</span><br><span class="line">    -cmin   -ctime  状态主要指修改权限   -表示小于，+表示大于 </span><br><span class="line">    -mmin   -mtime  内容修改</span><br><span class="line">    <span class="built_in">find</span> . -amin <span class="number">-1</span></span><br><span class="line">    </span><br><span class="line">    -a 交    -o 或   !非</span><br><span class="line">    <span class="built_in">find</span> . -mmin <span class="number">-10</span> -a -name <span class="string">"file*"</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    -exec：根据<span class="built_in">find</span>查找结果执行后续操作</span><br><span class="line">    <span class="built_in">find</span> . amin <span class="number">-10</span> -exec ls -ahl &#123;&#125; \;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">*：取代任何字符串。</span><br><span class="line">?：取代任何一个字符</span><br><span class="line">[...]：取代任何一个[]集合内的字符</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight sqf"><table><tr><td class="code"><pre><span class="line"><span class="built_in">find</span> /usr/share/doc -<span class="built_in">name</span> <span class="string">"*html"</span> -a -<span class="built_in">size</span> +<span class="number">100</span>b -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">df</span> <span class="string">-h    查看整个文件系统占多大磁盘空间</span></span><br><span class="line"><span class="attr">du</span> <span class="string">-h    查看当前目录下文件和当前目录占多大磁盘空间</span></span><br></pre></td></tr></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>find命令依赖于什么权限？</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday02_01</title>
    <url>/category/39Linuxday02_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础004"><a href="#王道训练营C-方向–Linux基础004" class="headerlink" title="王道训练营C++方向–Linux基础004"></a>王道训练营C++方向–Linux基础004</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 已经学过的文件权限有哪几种？</li><li>(b). cp命令的执行是否成功依赖于哪些权限？（注意考虑各种情况）</li><li>(c). 目录的读、写和执行权限影响了哪些操作？</li><li>(d). 什么是数字设定法，为什么可以使用数字设定法？</li><li>(e). 文件创建掩码有什么影响？如何查看和修改文件创建掩码？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">r:读 w:写 x:执行</span><br><span class="line">对于目录来说， r:影响ls，x影响cd</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">cp file1 file2  </span><br><span class="line">cp命令的执行是否成功依赖于</span><br><span class="line">    源文件是否可读</span><br><span class="line">    目标文件是否可写</span><br><span class="line">    目标目录是否可写和执行</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">没有读权限：不能<span class="keyword">ls</span>，但能<span class="keyword">cd</span>。</span><br><span class="line">没有写权限：不能<span class="keyword">cp</span>、mv到该目录。</span><br><span class="line">没有执行权限：能<span class="keyword">ls</span>，但不能<span class="keyword">cd</span></span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">用户，用户所在组，其他用户的权限都是rwx的组合，而rwx可以用二进制<span class="number">0</span><span class="number">-1</span>表示，所以<span class="number">777</span>表示rwx。</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">umask <span class="number">002</span>,依次对应u，g，o的权限，满为<span class="number">7</span></span><br><span class="line">所以u <span class="number">7</span>  g <span class="number">7</span> o <span class="number">7</span><span class="number">-2</span>=<span class="number">5</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday02_03</title>
    <url>/category/39Linuxday02_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础006"><a href="#王道训练营C-方向–Linux基础006" class="headerlink" title="王道训练营C++方向–Linux基础006"></a>王道训练营C++方向–Linux基础006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是重定向？有哪些不同的重定向？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">文件描述符是一个整数，它代表一个打开的文件</span><br><span class="line"><span class="built_in">stdin</span>: <span class="number">0</span></span><br><span class="line"><span class="built_in">stdout</span>：<span class="number">1</span></span><br><span class="line"><span class="built_in">stderr</span>：<span class="number">2</span></span><br><span class="line">&lt;重定向输入，&gt;输出到文件，&gt;&gt;追加，&lt;&lt;以什么结束，错误重定向</span><br></pre></td></tr></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>搜索一下编码相关知识，了解一下当前存在的各种编码方式。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday03_01</title>
    <url>/category/39Linuxday03_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础006"><a href="#王道训练营C-方向–Linux基础006" class="headerlink" title="王道训练营C++方向–Linux基础006"></a>王道训练营C++方向–Linux基础006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 如果wc命令不加文件参数会有怎么样的效果？（回顾cat命令的效果）</li><li>(b). 对一些重复的数据执行排序并去重的操作。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">wc不加文件参数会输出行数，单词数，字符数，文件名</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">sort <span class="number">1.</span>txt |uniq</span><br></pre></td></tr></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>搜索一下编码相关知识，了解一下当前存在的各种编码方式。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday03_02</title>
    <url>/category/39Linuxday03_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础007"><a href="#王道训练营C-方向–Linux基础007" class="headerlink" title="王道训练营C++方向–Linux基础007"></a>王道训练营C++方向–Linux基础007</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 整理学习过的正则表达式规则。</li><li>(b). 把服务器上的/home/student/testCode.tar.gz拷贝到本地并进行释放操作。</li><li>(c). 找到上题代码中的所有函数声明。</li><li>(d). 使用ssh-keygen命令生成一对公钥和私钥，然后使用scp命令将公钥拷贝到<a href="mailto:student@192.168.2.100">student@192.168.2.100</a>，再使用ssh命令登录192.168.2.100，将刚才拷贝过来的公钥以追加模式加入到~/.ssh/authorized_keys中。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">正则表达式：</span><br><span class="line">    多个连续字符表示连接</span><br><span class="line">    .：在grep里表示匹配任意一个字符，这和<span class="built_in">find</span>里的?是一样的功能，容易混淆</span><br><span class="line">    </span><br><span class="line">    []：匹配集合内任意一个字符</span><br><span class="line">    [<span class="number">0</span><span class="number">-9</span>] 匹配<span class="number">0</span><span class="number">-9</span>任意一个数字</span><br><span class="line">    [<span class="number">0</span><span class="number">-9</span>a-zA-Z]匹配<span class="number">0</span><span class="number">-9</span>和字母</span><br><span class="line">    </span><br><span class="line">    ?：出现<span class="number">0</span>/<span class="number">1</span>次</span><br><span class="line">    *：出现<span class="number">0</span>-n次</span><br><span class="line">    +：出现<span class="number">1</span>-n次</span><br><span class="line">    grep -E <span class="string">"bo*k"</span> file</span><br><span class="line">    </span><br><span class="line">   	()  和  |</span><br><span class="line">    grep -E <span class="string">"gre|ay"</span> file</span><br><span class="line">    grep -E <span class="string">"gr(e|a)y"</span> file</span><br><span class="line">    </span><br><span class="line">    ^：匹配字符串的开头</span><br><span class="line">    $：匹配字符串的末尾</span><br><span class="line">    \&lt;：匹配单词的开头</span><br><span class="line">    \&gt;：匹配单词的结尾</span><br><span class="line">    grep -nE <span class="string">"^how"</span> file</span><br><span class="line">    grep -nE <span class="string">"how$"</span> file</span><br><span class="line">	grep -nE <span class="string">"\&lt;how"</span> file</span><br><span class="line">    grep -nE <span class="string">"how\&gt;"</span> file</span><br><span class="line">	&#123;x&#125;：匹配前一项x次</span><br><span class="line">	&#123;x,&#125;：匹配前一项至少x次</span><br><span class="line">    &#123;,y&#125;：匹配前一项至多y次</span><br><span class="line">	&#123;x,y&#125;：匹配前一项至少x次，至多y次</span><br><span class="line">    </span><br><span class="line">    grep -n \;$ main.c  <span class="comment">//和下面的等价</span></span><br><span class="line">    grep -n <span class="string">";$"</span> main.c</span><br><span class="line">    </span><br><span class="line">    cmd1 `cmd2`  <span class="comment">//和下面的等价，都是先执行cmd2,将cmd2输出到cmd1当作参数</span></span><br><span class="line">    cmd1 $cmd2   </span><br><span class="line">        </span><br><span class="line"><span class="built_in">find</span>是从目录找到文件的位置，grep是从文件中找到对应的位置，两者可以搭配使用</span><br><span class="line"><span class="built_in">find</span> . -name  <span class="string">"*.c"</span> |xargs grep -nE <span class="string">"int main"</span></span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">本地想远程访问服务器，每次不用输入密码,可将自己的公钥给服务器：</span><br><span class="line">    cd ~</span><br><span class="line">    <span class="built_in">mkdir</span> .ssh</span><br><span class="line">    ssh -keygen</span><br><span class="line">    cd .ssh/</span><br><span class="line">    scp id_rsa.pub student@<span class="number">192.168</span><span class="number">.2</span><span class="number">.100</span></span><br><span class="line">    </span><br><span class="line">    然后将id_rsa.pub的内容追加到.ssh/authorized_keys</span><br><span class="line">    cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line">    </span><br><span class="line">    ssh student@<span class="number">192.168</span><span class="number">.2</span><span class="number">.100</span>   <span class="comment">//ssh连接不用输密码了</span></span><br><span class="line">    </span><br><span class="line">    scp 本地 远端   <span class="comment">//上传      本地：文件路径</span></span><br><span class="line">    scp 远端 本地   <span class="comment">//下载	  远端：用户@ip:文件路径</span></span><br><span class="line">    </span><br><span class="line">    tar -cvf FileName.tar DirName # 将DirName和其下所有文件（夹）打包  c创建  </span><br><span class="line">    tar -xvf FileName.tar         # 解包                            x释放</span><br><span class="line">    </span><br><span class="line">    tar -zcvf FileName.tar.gz DirName       # 将DirName和其下所有文件（夹）压缩</span><br><span class="line">    tar -zxvf FileName.tar.gz               # 解压</span><br><span class="line">    tar -C DesDirName -zxvf FileName.tar.gz # 解压到目标路径</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line"><span class="keyword">find</span> -name <span class="string">"*.c"</span> |xargs <span class="keyword">grep</span> -nE <span class="string">".*\(int.*\);"</span></span><br></pre></td></tr></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>学习一下shell脚本编程。</li><li>学习一下awk命令。</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday03_03</title>
    <url>/category/39Linuxday03_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础008"><a href="#王道训练营C-方向–Linux基础008" class="headerlink" title="王道训练营C++方向–Linux基础008"></a>王道训练营C++方向–Linux基础008</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). vim存在哪种模式？互相之间怎么切换？</li><li>(b). 练习一下vimtutor，记录使用到的快捷键</li><li>(c). 说明添加和删除代码当中的注释的具体操作。</li><li>(d). 使用vim同时开启4个窗口，描述开启和切换各个窗口的具体操作。</li><li>(e). 使用vimdiff对比两个文件，说明如何对比相同和不同之处。</li><li>(f). (选做)自学sed命令</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">普通模式normal和插入模式insert,</span><br><span class="line">normal ----------&gt;insert :</span><br><span class="line">	     i前，a后</span><br><span class="line">       I行首，A行尾</span><br><span class="line">insert ----------&gt;normal :   </span><br><span class="line">        ESC</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">h:光标左移，j:光标下移，k光标上移，l:光标右移</span><br><span class="line">H:页首，L:页尾</span><br><span class="line">    </span><br><span class="line">q!:丢弃进入编辑器以来的任何改动</span><br><span class="line">    </span><br><span class="line">x:删除光标所在的字符</span><br><span class="line">    </span><br><span class="line">wq:保存改动</span><br><span class="line">    </span><br><span class="line">操作符+动作：d+motion</span><br><span class="line">	dw:删除一个单词</span><br><span class="line">	d$:从当前光标删除到行尾</span><br><span class="line"></span><br><span class="line">ctrl+s:僵死</span><br><span class="line">ctrl+q:恢复</span><br><span class="line">	</span><br><span class="line">数字+动作：</span><br><span class="line">    <span class="number">3</span>w:向后移动<span class="number">3</span>个单词</span><br><span class="line">        </span><br><span class="line">操作符+数字+动作:</span><br><span class="line">	d2w:删除<span class="number">2</span>个单词</span><br><span class="line">        </span><br><span class="line">dd:删除一整行</span><br><span class="line"><span class="number">2</span>dd/d2d:删除两行</span><br><span class="line">    </span><br><span class="line">u:撤销</span><br><span class="line">ctrl+r:反撤销</span><br><span class="line">    </span><br><span class="line">dd:实际上是剪切，然后p:粘贴一下在光标一行的下一行</span><br><span class="line">r+要替换的字符：替换</span><br><span class="line">cw:删除从光标开始到单词末尾，并进入插入模式</span><br><span class="line">c$:删除从光标开始到行尾</span><br><span class="line"></span><br><span class="line">ctrl+g:显示状态信息行，当前编辑文件名和光标位置</span><br><span class="line">G:最后一行，gg:第一行</span><br><span class="line">输入行数+G:跳转到对应的行</span><br><span class="line"></span><br><span class="line">/要查找的字符串，n移动</span><br><span class="line">:/也可以  </span><br><span class="line">    </span><br><span class="line">%：光标放到要匹配的(,[,&#123;上，可以查找匹配的),],&#125;</span><br><span class="line">             </span><br><span class="line">:s/被替换的字符串/替换的字符串    替换该行第一个匹配的字符串</span><br><span class="line">:s/被替换的字符串/替换的字符串/g    替换该行所有匹配的字符串     </span><br><span class="line">:%s/被替换的字符串/替换的字符串/g    替换该文件所有匹配的字符串 </span><br><span class="line">             </span><br><span class="line">:!+外部命令  </span><br><span class="line">如 :!ls -ahl 显示当前目录的内容</span><br><span class="line"></span><br><span class="line">:w TEST   保存以文件名TEST保存当前文件</span><br><span class="line"></span><br><span class="line">v:进入可视模式，光标往下移动会高亮，再w TEST，将高亮的内容保存进TEST文件里</span><br><span class="line"> </span><br><span class="line">插入内容到文件</span><br><span class="line">r TEST </span><br><span class="line">r !ls</span><br><span class="line">             </span><br><span class="line">o:在光标下新建一行，O:在光标上新建一行</span><br><span class="line">             </span><br><span class="line">R连续替换字符    </span><br><span class="line">             </span><br><span class="line">y:复制，p：粘贴</span><br><span class="line">yy:复制一整行</span><br><span class="line">先在可视模式选中y复制，然后p</span><br><span class="line">yw:复制单词  </span><br><span class="line"></span><br><span class="line">sed -i <span class="string">"s/head/func/g"</span> `ls`     :将当前目录下所有文件里head替换为func</span><br><span class="line">gg=G							:自动对齐</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">可视模式下:</span><br><span class="line">gg=G：全文代码对齐</span><br><span class="line"></span><br><span class="line">注释多行：</span><br><span class="line">	ctrl+<span class="string">v:</span>进入竖选模式</span><br><span class="line">	移动光标选中</span><br><span class="line">	I移动光标到第一行，输入<span class="comment">//</span></span><br><span class="line">	ESC</span><br><span class="line">	</span><br><span class="line">取消注释：</span><br><span class="line">	ctrl+<span class="string">v:</span>进入竖选模式</span><br><span class="line">	移动光标选中</span><br><span class="line">	x</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">:new <span class="keyword">file</span>名 </span><br><span class="line">:vnew <span class="keyword">file</span>名   <span class="comment">//左右显示</span></span><br><span class="line">ctrl w + ctrl w    <span class="comment">//切换</span></span><br><span class="line"></span><br><span class="line">:tabnew <span class="keyword">file</span>名 <span class="comment">//创建新标签</span></span><br><span class="line"><span class="keyword">gt</span>    <span class="comment">//切换</span></span><br><span class="line"></span><br><span class="line">:qa   <span class="comment">//退出所有窗口</span></span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">vimdiff <span class="number">1.</span>txt <span class="number">2.</span>txt   <span class="comment">//不同的地方颜色不同</span></span><br></pre></td></tr></table></figure><ul><li>(f)</li></ul><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">sed <span class="string">"s/int/double/g"</span> *<span class="string">.c</span>  <span class="string">//</span>把<span class="string">.c</span>文件int全换成double预览 一下</span><br><span class="line">等同于：</span><br><span class="line">	find -name <span class="string">"*.c"</span> |xargs sed <span class="string">"s/int/double/g"</span></span><br><span class="line">	</span><br><span class="line">sed -i <span class="string">"s/int/double/g"</span> *<span class="string">.c</span>  <span class="string">//</span>把<span class="string">.c</span>文件int全换成double,实际也改了</span><br></pre></td></tr></table></figure><h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><ul><li>了解sed命令和awk命令</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday04_01</title>
    <url>/category/39Linuxday04_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础009"><a href="#王道训练营C-方向–Linux基础009" class="headerlink" title="王道训练营C++方向–Linux基础009"></a>王道训练营C++方向–Linux基础009</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 描述一下生成可执行程序的流程？说明各个过程中使用的命令参数和输入输出文件类型。</li><li>(b). 整理已经学习过的预处理指令。</li><li>(c). 给下列代码生成的汇编语言文件增加注释。</li></ul><a id="more"></a><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func1</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> <span class="built_in">size</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt += arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func2</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func3</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">int</span> arr[<span class="number">6</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> res = func1(arr,<span class="number">6</span>);</span><br><span class="line">    func2(i, j);</span><br><span class="line">    func3(&amp;i, &amp;k);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d). 整理所有用到的GCC指令</li><li>(e). 使用gdb调试程序，整理调试所用到的所有快捷键。</li><li>(f). 使用gdb调试core文件，并检查出错时的堆栈信息。</li><li>(g). 说明一下使用动态库和静态库的区别。然后分别生成动态库和静态库。</li></ul><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">test.c-----&gt;test.i</span><br><span class="line">    预处理：导入头文件，宏定义</span><br><span class="line">    命令：gcc -E test.c -o test.i </span><br><span class="line">    ifdef-endif:  gcc -E test.c -o test.i -D DEBUG</span><br><span class="line"></span><br><span class="line">test.i-----&gt;test.s</span><br><span class="line">    编译</span><br><span class="line">    命令：gcc -S test.i -o test.s</span><br><span class="line"></span><br><span class="line">test.s-----&gt;test.o</span><br><span class="line">    汇编</span><br><span class="line">    命令：as test.s -o test.o</span><br><span class="line">    查看文件中的符号表：nm test.o</span><br><span class="line"></span><br><span class="line">test.c-----&gt;test.o</span><br><span class="line">    广义的编译</span><br><span class="line">    命令：gcc -c test.c -o test.o</span><br><span class="line">    添加警告信息：gcc -c test.c -o test.o -Wall</span><br><span class="line"></span><br><span class="line">test.o-----&gt;test</span><br><span class="line">    汇编</span><br><span class="line">    命令：gcc test.o -o test</span><br><span class="line">     </span><br><span class="line">test.c-----&gt;test        </span><br><span class="line">	编译+链接</span><br><span class="line">    命令：gcc test.c -o test  -g</span><br><span class="line"></span><br><span class="line">gcc  src/main.c  -I header/ -o main    <span class="comment">//指定头文件的搜索路径 ,主文件.c中#include"add.h"即可</span></span><br><span class="line">gcc -O0       <span class="comment">//优化，改变汇编代码的执行顺序，提高运行速度</span></span><br><span class="line">    -O1       <span class="comment">//数字越大优化越深</span></span><br><span class="line">    -O2</span><br><span class="line">    -O3</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span>   <span class="comment">//头文件包含</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>    <span class="comment">//宏定义</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> or #<span class="meta-keyword">ifndef</span>    <span class="comment">//测试，避免重复的宏定义</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">gcc <span class="keyword">test</span>.c -o <span class="keyword">test</span> -<span class="keyword">g</span>  <span class="comment">//编译链接生成可执行程序test</span></span><br><span class="line">gdb <span class="keyword">test</span>  <span class="comment">//进入gdb调试</span></span><br><span class="line"><span class="keyword">list</span>/<span class="keyword">l</span>     <span class="comment">//每次列出10行代码，一直往下</span></span><br><span class="line"><span class="keyword">run</span>/r   <span class="comment">//运行</span></span><br><span class="line"><span class="keyword">break</span> 行数    <span class="comment">//打断点</span></span><br><span class="line"><span class="keyword">continue</span>/c   <span class="comment">//执行到下一次断点或者程序结束</span></span><br><span class="line">next/<span class="keyword">n</span>     <span class="comment">//逐过程</span></span><br><span class="line">step/s     <span class="comment">//逐语句</span></span><br><span class="line">info/i b   <span class="comment">//显示断点信息</span></span><br><span class="line">delete/<span class="keyword">d</span>  断点编号 <span class="comment">//删除某个断点</span></span><br><span class="line">disable/enable 断点编号   <span class="comment">//使某个断点失效/生效</span></span><br><span class="line">ignore 断点编号 次数    <span class="comment">//令某断点失效若干次</span></span><br><span class="line"><span class="keyword">print</span>/p  表达式/变量    <span class="comment">//打印</span></span><br><span class="line"><span class="keyword">display</span>  表达式/变量     <span class="comment">//自动打印</span></span><br><span class="line">undisplay  编号    <span class="comment">//取消自动打印</span></span><br><span class="line">backtrace/bt    <span class="comment">//查看堆栈</span></span><br><span class="line"></span><br><span class="line">给gdb程序设置命令行参数</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">args</span> how are you</span><br></pre></td></tr></table></figure><ul><li>(f)</li></ul><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line">ulimit -a         <span class="comment">// 查看unix大小限制</span></span><br><span class="line">ulimit -c unlimited   <span class="comment">//-c对应core大小 ，设置为无限制</span></span><br><span class="line">gcc <span class="keyword">error</span>.c -o <span class="keyword">error</span> -g  <span class="comment">//编译链接生成可执行程序error</span></span><br><span class="line">./<span class="keyword">error</span>    <span class="comment">//执行程序，段错误生成core，ll可以看到</span></span><br><span class="line">gdb <span class="keyword">error</span> core   <span class="comment">//可用gdb看到core堆栈现场内容，进而调试</span></span><br></pre></td></tr></table></figure><ul><li>(g)</li></ul><figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">静态库：在链接时，拷贝一份库文件到可执行程序中</span><br><span class="line"></span><br><span class="line">创建和使用静态库：</span><br><span class="line"><span class="number">1</span>.生成目标文件：</span><br><span class="line">	gcc -c add.c -o add.o</span><br><span class="line"><span class="number">2</span>.生成库文件（打包）：</span><br><span class="line">	ar crsv libadd.a add.o     /<span class="regexp">/其中libadd.a是库文件的名字</span></span><br><span class="line"><span class="regexp">3.将库文件转移到系统库目录：</span></span><br><span class="line"><span class="regexp">	sudo cp libadd.a /usr</span><span class="regexp">/lib</span></span><br><span class="line"><span class="regexp">4.链接</span></span><br><span class="line"><span class="regexp">	gcc main.o -o main -ladd</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">如果删除库文件</span></span><br><span class="line"><span class="regexp">	1.不影响原可执行程序</span></span><br><span class="line"><span class="regexp">	2.但因为库文件的删除，不能重新链接</span></span><br><span class="line"><span class="regexp">	</span></span><br><span class="line"><span class="regexp">动态库：在链接时，定位库文件的位置，等到程序执行时再动态加载</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">创建和使用动态库：</span></span><br><span class="line"><span class="regexp">1.生成位置无关的目标文件：</span></span><br><span class="line"><span class="regexp">	gcc -c add.c -o add.o -fpic</span></span><br><span class="line"><span class="regexp">2.打包成动态库</span></span><br><span class="line"><span class="regexp">	gcc -shared -o libadd.so add.o</span></span><br><span class="line"><span class="regexp">3.将库文件转移到系统库目录：</span></span><br><span class="line"><span class="regexp">	sudo cp libadd.so /usr</span><span class="regexp">/lib</span></span><br><span class="line"><span class="regexp">4.链接</span></span><br><span class="line"><span class="regexp">	gcc main.o -o main -ladd</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">如果删除库文件，程序不能运行</span></span><br><span class="line"><span class="regexp">恢复/</span>更新文件，不需要重新链接</span><br><span class="line"></span><br><span class="line">动态库的更新：</span><br><span class="line">	<span class="number">1</span>.生成目标文件：</span><br><span class="line">		gcc -c add.c -o add.o -fpic</span><br><span class="line">	<span class="number">2</span>.打包成动态库  </span><br><span class="line">		gcc -shared -o libadd.so.<span class="number">0.0</span>.<span class="number">1</span> add.o</span><br><span class="line">	<span class="number">3</span>.将新库文件转移到系统库目录：</span><br><span class="line">		sudo cp libadd.so.<span class="number">0.0</span>.<span class="number">1</span> /usr/<span class="class"><span class="keyword">lib</span></span></span><br><span class="line">	<span class="number">4</span>.删除原软链接</span><br><span class="line">		sudo rm /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">libadd</span>.<span class="title">so</span></span></span><br><span class="line">	<span class="number">5</span>.建立软链接</span><br><span class="line">		sudo ln -s /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">libadd</span>.<span class="title">so</span>.0.0.1 /<span class="title">usr</span>/<span class="title">lib</span>/<span class="title">libadd</span>.<span class="title">so</span></span></span><br><span class="line">		可执行程序大小    部署      更新</span><br><span class="line">静态库：      大  	     容易 	 困难</span><br><span class="line">动态库：      小          困难		 容易</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday05_01</title>
    <url>/category/39Linuxday05_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础010"><a href="#王道训练营C-方向–Linux基础010" class="headerlink" title="王道训练营C++方向–Linux基础010"></a>王道训练营C++方向–Linux基础010</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 在一个目录有多个.c文件，每个文件都需要单独编译一个可执行程序，书写makefile文件。注意，尽量提升通用性，而且要有rebuild和clean功能</li><li>(b). 一个项目有多个目录，其中可执行程序和makefile文件在主目录，.c文件在src目录，.h文件在header目录（使用gcc的-I选项），书写编译项目的makefile文件</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">CC:=gcc</span><br><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> *.c)</span></span><br><span class="line">EXE:=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line"><span class="section">all:<span class="variable">$(EXE)</span></span></span><br><span class="line"><span class="section">%:%.c</span></span><br><span class="line">	<span class="variable">$(CC)</span> <span class="variable">$^</span> -o <span class="variable">$@</span> - </span><br><span class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>:clean rebuild</span></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	<span class="variable">$(RM)</span> <span class="variable">$(EXE)</span></span><br><span class="line"><span class="section">rebuild:clean all</span></span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">CC:=gcc</span><br><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> src/*.c)</span></span><br><span class="line">EXE:=<span class="variable">$(<span class="built_in">patsubst</span> src/%.c,%,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line"><span class="section">all:<span class="variable">$(EXE)</span></span></span><br><span class="line"><span class="section">%:src/%.c</span></span><br><span class="line">	<span class="variable">$(CC)</span>  <span class="variable">$^</span>  -I header/ -o <span class="variable">$@</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>:clean rebuild                                                                            clean:</span></span><br><span class="line">	<span class="variable">$(RM)</span> <span class="variable">$(EXE)</span></span><br><span class="line"><span class="section">rebuild:clean all</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday05_02</title>
    <url>/category/39Linuxday05_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础011"><a href="#王道训练营C-方向–Linux基础011" class="headerlink" title="王道训练营C++方向–Linux基础011"></a>王道训练营C++方向–Linux基础011</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 文件里面存放了5行数据，使用追加模式打开文件，打印前3行，并写入一行，期间使用ftell打印当前位置。</li><li>(b). 修改文件的权限，注意必须使用命令行参数。</li><li>(c). 打印当前目录，然后改变当前目录，再打印当前目录。</li><li>(d). 创建一个目录，然后删除掉它。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">man -f fopen/ftell    <span class="comment">//查看对应的系统接口在哪个帮助手册</span></span><br><span class="line">	file：就是系统命令</span><br><span class="line">	permission：就是提供给用户的接口，可以进行系统编程</span><br><span class="line">shift+insert  <span class="comment">//win到vim</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chmod中有 mode_t mode,如何查看mode_t的相关信息</span><br><span class="line">	vim chmod<span class="selector-class">.c</span>  <span class="comment">//里面导入chmod的头文件</span></span><br><span class="line">	gcc -E chmod<span class="selector-class">.c</span> -o chmod.i</span><br><span class="line">	grep -nE <span class="string">"mode_t"</span> chmod.i</span><br><span class="line">	<span class="comment">//或者在用时vimplus会提示</span></span><br></pre></td></tr></table></figure><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    FILE *fp = fopen(argv[<span class="number">1</span>],<span class="string">"a+"</span>);</span><br><span class="line">    ERROR_CHECK(fp,<span class="literal">NULL</span>,<span class="string">"fopen"</span>); </span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">200</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"before fgets, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line">        fgets(str,<span class="keyword">sizeof</span>(str),fp);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s"</span>,str);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"after fgets, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line"><span class="comment">//        if(str[strlen(str)-1]=='\n')</span></span><br><span class="line">  <span class="comment">//           str[strlen(str)-1]=0;</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    fseek(fp,<span class="number">0</span>,SEEK_SET);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before fputs, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">"me too"</span>,fp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after fputs, pos = %ld\n"</span>, ftell(fp));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//./chmod 0600 file</span></span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> mode;</span><br><span class="line">    <span class="built_in">sscanf</span>(argv[<span class="number">1</span>],<span class="string">"%o"</span>,&amp;mode);</span><br><span class="line">    <span class="keyword">int</span> ret=chmod(argv[<span class="number">2</span>],mode);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chmod"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">int</span> ret=chdir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="built_in">mkdir</span>(argv[<span class="number">1</span>],<span class="number">0777</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"mkdir"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="built_in">rmdir</span>(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday05_03</title>
    <url>/category/39Linuxday05_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础012"><a href="#王道训练营C-方向–Linux基础012" class="headerlink" title="王道训练营C++方向–Linux基础012"></a>王道训练营C++方向–Linux基础012</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 传递一个路径名，还有一个文件名，搜索对应路径下是否有该文件，有就打印显示该文件的绝对路径。</li><li>(b). 传递任意一个目录路径，能够显示该目录的ls -l的效果。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=chdir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line"></span><br><span class="line">    DIR* dirp=opendir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(dirp,<span class="literal">NULL</span>,<span class="string">"opendir"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dirent</span>* <span class="title">pdirent</span>;</span></span><br><span class="line">    <span class="keyword">long</span> loc;</span><br><span class="line">    <span class="keyword">while</span>((pdirent=readdir(dirp))!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(pdirent-&gt;d_name,argv[<span class="number">2</span>])==<span class="number">0</span>) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> buf[<span class="number">512</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">            <span class="built_in">sprintf</span>(buf,<span class="string">"%s%s%s"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>),<span class="string">"/"</span>,argv[<span class="number">2</span>]);</span><br><span class="line">            <span class="built_in">puts</span>(buf);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">otostr</span><span class="params">(<span class="keyword">mode_t</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> oth_ath=x&amp;<span class="number">7</span>;</span><br><span class="line">    x&gt;&gt;=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> gro_ath=x&amp;<span class="number">7</span>;</span><br><span class="line">    x&gt;&gt;=<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">int</span> usr_ath=x&amp;<span class="number">7</span>;</span><br><span class="line">    <span class="keyword">char</span> *str_oth=(<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">20</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));       <span class="comment">//要在堆上申请，不然函数结束时栈上分配的空间就被释放，所以返回的是null</span></span><br><span class="line">    <span class="keyword">char</span> *str_gro=(<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">20</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    <span class="keyword">char</span> *str_usr=(<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">20</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span>(oth_ath)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"---"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"--x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"-w-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"-wx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"r--"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"r-x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"rw-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_oth,<span class="string">"rwx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">switch</span>(gro_ath)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"---"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"--x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"-w-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"-wx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"r--"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"r-x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"rw-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_gro,<span class="string">"rwx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">switch</span>(usr_ath)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"---"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"--x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"-w-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"-wx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"r--"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"r-x"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"rw-"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            <span class="built_in">strcpy</span>(str_usr,<span class="string">"rwx"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">strcat</span>(str_usr, str_gro);</span><br><span class="line">    <span class="built_in">strcat</span>(str_usr, str_oth);</span><br><span class="line">    <span class="keyword">return</span> str_usr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=chdir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"chdir"</span>);</span><br><span class="line"></span><br><span class="line">    DIR* dirp=opendir(argv[<span class="number">1</span>]);</span><br><span class="line">    ERROR_CHECK(dirp,<span class="literal">NULL</span>,<span class="string">"opendir"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dirent</span>* <span class="title">pdirent</span>;</span></span><br><span class="line">    <span class="keyword">while</span>((pdirent=readdir(dirp))!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">statbuf</span>;</span>  <span class="comment">//文件信息结构体</span></span><br><span class="line">        <span class="keyword">char</span> buf[<span class="number">512</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="built_in">sprintf</span>(buf,<span class="string">"%s%s"</span>,<span class="string">"./"</span>,pdirent-&gt;d_name);</span><br><span class="line">        <span class="keyword">int</span> ret=stat(buf,&amp;statbuf);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"stat"</span>);</span><br><span class="line">        <span class="keyword">char</span> type;</span><br><span class="line">        <span class="keyword">if</span>(pdirent-&gt;d_type==<span class="number">4</span>) type=<span class="string">'d'</span>;</span><br><span class="line">        <span class="keyword">else</span> type=<span class="string">'-'</span>;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">tm</span>* <span class="title">lt</span> = <span class="title">localtime</span>(&amp;<span class="title">statbuf</span>.<span class="title">st_mtime</span>);</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%c%s %3ld %s %s %10ld %4d月  %2d %2d:%2d %s\n"</span>,</span><br><span class="line">               type,</span><br><span class="line">               otostr(statbuf.st_mode),</span><br><span class="line">               statbuf.st_nlink,</span><br><span class="line">               getpwuid(statbuf.st_uid)-&gt;pw_name,</span><br><span class="line">               getgrgid(statbuf.st_gid)-&gt;gr_name,</span><br><span class="line">               statbuf.st_size,</span><br><span class="line">               lt-&gt;tm_mon+<span class="number">1</span>,</span><br><span class="line">               lt-&gt;tm_mday,</span><br><span class="line">               lt-&gt;tm_hour,</span><br><span class="line">               lt-&gt;tm_min,</span><br><span class="line">               pdirent-&gt;d_name</span><br><span class="line">                   );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday06_01</title>
    <url>/category/39Linuxday06_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础013"><a href="#王道训练营C-方向–Linux基础013" class="headerlink" title="王道训练营C++方向–Linux基础013"></a>王道训练营C++方向–Linux基础013</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现tree命令的效果。</li><li>(b). (选做)实现cp -r命令的效果。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">treePrint</span><span class="params">(<span class="keyword">char</span>* pathname,<span class="keyword">int</span> <span class="built_in">width</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> temp_path[<span class="number">512</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    DIR* dirp=opendir(pathname);</span><br><span class="line">    ERROR_CHECK(dirp,<span class="literal">NULL</span>,<span class="string">"opendir"</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">dirent</span>* <span class="title">pdirent</span>;</span></span><br><span class="line">    <span class="keyword">while</span>((pdirent=readdir(dirp))!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(pdirent-&gt;d_name,<span class="string">"."</span>)==<span class="number">0</span>||<span class="built_in">strcmp</span>(pdirent-&gt;d_name,<span class="string">".."</span>)==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%*s%s%s\n"</span>,<span class="built_in">width</span><span class="number">-5</span>,<span class="string">""</span>,<span class="string">"|----"</span>,pdirent-&gt;d_name);</span><br><span class="line">            <span class="keyword">if</span>(pdirent-&gt;d_type==<span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">sprintf</span>(temp_path,<span class="string">"%s%s%s"</span>,pathname,<span class="string">"/"</span>,pdirent-&gt;d_name);</span><br><span class="line">                treePrint(temp_path,<span class="built_in">width</span>+<span class="number">5</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    closedir(dirp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,argv[<span class="number">1</span>]);</span><br><span class="line">    treePrint(argv[<span class="number">1</span>],<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;      //有空再改，因为考虑的情况比较多</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cpr</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dir_src</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_file</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_dir</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    cpr(argv[<span class="number">1</span>],argv[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dir_src</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"dir"</span>); </span><br><span class="line">   <span class="comment">// char temp_path[512]=&#123;0&#125;;</span></span><br><span class="line">   <span class="comment">// DIR* dirp=opendir(dir_src);</span></span><br><span class="line">   <span class="comment">// ERROR_CHECK(dirp,NULL,"opendir");</span></span><br><span class="line">   <span class="comment">// struct dirent* pdirent;</span></span><br><span class="line">   <span class="comment">// </span></span><br><span class="line">   <span class="comment">//     int ret2=chdir(argv[1]);</span></span><br><span class="line">   <span class="comment">//     ERROR_CHECK(ret2,-1,"chdir");</span></span><br><span class="line">   <span class="comment">//     int ret3=mkdir(pdirent-&gt;d_name,statbuf.st_mode&amp;4095);</span></span><br><span class="line">   <span class="comment">//     ERROR_CHECK(ret3,-1,"mkdir");</span></span><br><span class="line">   <span class="comment">//     if(strcmp(pdirent-&gt;d_name,".")==0||strcmp(pdirent-&gt;d_name,"..")==0) continue;</span></span><br><span class="line">   <span class="comment">//             sprintf(temp_path,"%s%s%s",pathname,"/",pdirent-&gt;d_name);</span></span><br><span class="line">   <span class="comment">//             treePrint(temp_path,width+5);</span></span><br><span class="line">   <span class="comment">//         &#125;</span></span><br><span class="line">   <span class="comment">//     &#125;</span></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_file</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret1=<span class="built_in">open</span>(src,O_RDONLY);</span><br><span class="line">    ERROR_CHECK(ret1,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> ret2=<span class="built_in">open</span>(dest,O_WRONLY|O_CREAT|O_TRUNC);</span><br><span class="line">    ERROR_CHECK(ret2,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">file_dir</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cpr</span><span class="params">(<span class="keyword">char</span>* src,<span class="keyword">char</span>* dest)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">statbuf1</span>;</span></span><br><span class="line">    <span class="keyword">int</span> ret1=stat(src,&amp;statbuf1);</span><br><span class="line">    ERROR_CHECK(ret1,<span class="number">-1</span>,<span class="string">"stat"</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">statbuf2</span>;</span></span><br><span class="line">    <span class="keyword">int</span> ret2=stat(dest,&amp;statbuf2);</span><br><span class="line">    ERROR_CHECK(ret2,<span class="number">-1</span>,<span class="string">"stat"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(statbuf1.st_mode&gt;&gt;<span class="number">12</span>==<span class="number">4</span>)  dir_src(src,dest);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(statbuf2.st_mode&gt;&gt;<span class="number">12</span>!=<span class="number">4</span>)</span><br><span class="line">            file_file(src,dest);</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            file_dir(src,dest);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday07_01</title>
    <url>/category/39Linuxday07_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础014"><a href="#王道训练营C-方向–Linux基础014" class="headerlink" title="王道训练营C++方向–Linux基础014"></a>王道训练营C++方向–Linux基础014</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 定义一个学生结构体类型struct student，里边含有学号，姓名，分数，定义结构体数组struct student s[3],给数组赋初值后，写入文件，然后通过lseek偏移到开头，然后再读取进行打印输出</li><li>(b). 新建一个文件，里边内容为hello，通过mmap映射该文件后，修改hello为world，然后解除映射。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> noName[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">double</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">s</span>[3]=</span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        &#123;<span class="string">"16130188039"</span>,<span class="string">"chen"</span>,<span class="number">90</span>&#125;,</span><br><span class="line">        &#123;<span class="string">"16130188028"</span>,<span class="string">"shi"</span>,<span class="number">98</span>&#125;,</span><br><span class="line">        &#123;<span class="string">"16130188020"</span>,<span class="string">"wang"</span>,<span class="number">95</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(argv[<span class="number">1</span>], O_RDWR|O_CREAT|O_TRUNC,<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(fd,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1024</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">    	<span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">sprintf</span>(buf,<span class="string">"%s%5s% lf\n"</span>,s[i].noName,s[i].name,s[i].score);</span><br><span class="line">        <span class="built_in">write</span>(fd,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ret=lseek(fd,<span class="number">0</span>,SEEK_SET);</span><br><span class="line">    <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">    <span class="built_in">read</span>(fd,buf,<span class="keyword">sizeof</span>(buf));     <span class="comment">//遇到\n不停止</span></span><br><span class="line">    <span class="built_in">puts</span>(buf);</span><br><span class="line">    <span class="built_in">close</span>(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(argv[<span class="number">1</span>], O_RDWR|O_CREAT|O_TRUNC,<span class="number">0666</span>);   <span class="comment">//创建文件都药给个权限</span></span><br><span class="line">    ERROR_CHECK(fd,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="built_in">write</span>(fd,<span class="string">"hello"</span>,<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">char</span> *p = (<span class="keyword">char</span> *)mmap(<span class="literal">NULL</span>,<span class="number">5</span>,PROT_READ|PROT_WRITE,MAP_SHARED,fd,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(p,MAP_FAILED,<span class="string">"mmap"</span>);</span><br><span class="line">    <span class="comment">//p[0] ~ p[4]是属于映射区的</span></span><br><span class="line">   <span class="comment">// p[5] = '\0';</span></span><br><span class="line">    <span class="built_in">strcpy</span>(p,<span class="string">"world"</span>);</span><br><span class="line">    munmap(p,<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">close</span>(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday07_02</title>
    <url>/category/39Linuxday07_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础015"><a href="#王道训练营C-方向–Linux基础015" class="headerlink" title="王道训练营C++方向–Linux基础015"></a>王道训练营C++方向–Linux基础015</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 将标准输出重定向到log1文件，标准错误输出重定向到log2文件。</li><li>(b). 通过mkfifo命令新建两个管道文件，然后两个进程通过管道文件实现简陋即时聊天效果。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fd1=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd1,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    <span class="keyword">int</span> fd2=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd2,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> fd3=<span class="number">10</span>,fd4=<span class="number">11</span>;</span><br><span class="line">    dup2(STDOUT_FILENO,fd3);</span><br><span class="line">    dup2(fd1,STDOUT_FILENO);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"stdout\n"</span>);    <span class="comment">//瑕佸甫\n涓嶇劧鍐欎笉杩涘幓锛宭inux bug</span></span><br><span class="line">    dup2(fd3,STDOUT_FILENO);</span><br><span class="line">    <span class="built_in">close</span>(fd1);</span><br><span class="line">    <span class="built_in">close</span>(fd3);</span><br><span class="line"></span><br><span class="line">    dup2(STDERR_FILENO,fd4);</span><br><span class="line">    dup2(fd2,STDERR_FILENO);</span><br><span class="line">    perror(<span class="string">"stderr"</span>);</span><br><span class="line">    dup2(fd4,STDOUT_FILENO);</span><br><span class="line">    <span class="built_in">close</span>(fd2);</span><br><span class="line">    <span class="built_in">close</span>(fd4);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//mkfifo 1.pipe</span></span><br><span class="line"><span class="comment">//mkfifo 2.pipe</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//chat1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDONLY);</span><br><span class="line">    ERROR_CHECK(fdr,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_WRONLY);</span><br><span class="line">    ERROR_CHECK(fdw,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"get message from lichen:"</span>);</span><br><span class="line">        <span class="built_in">puts</span>(buf);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//chat1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_WRONLY);</span><br><span class="line">    ERROR_CHECK(fdw,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_RDONLY);</span><br><span class="line">    ERROR_CHECK(fdr,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">puts</span>(buf);</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"get message from chenlipeng:"</span>);</span><br><span class="line">        <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday07_03</title>
    <url>/category/39Linuxday07_03/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础016"><a href="#王道训练营C-方向–Linux基础016" class="headerlink" title="王道训练营C++方向–Linux基础016"></a>王道训练营C++方向–Linux基础016</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 实现即时聊天，要求显示对方发送的消息的本地时间。此外，如果一方1分钟未发送消息，应该主动断开连接。</li><li>(b). 实现管道写阻塞的监听。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//chenlipeng.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDONLY);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_WRONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">timeout</span>;</span></span><br><span class="line">        timeout.tv_sec=<span class="number">60</span>;</span><br><span class="line">        <span class="keyword">int</span> ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,&amp;timeout);</span><br><span class="line">        <span class="keyword">if</span>(ret==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"timeout"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));<span class="comment">//read会读入\n</span></span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>);<span class="comment">//所以要减去最后的\n</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"get message from lichen:"</span>);</span><br><span class="line">            <span class="built_in">puts</span>(buf);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//lichen.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_WRONLY);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">2</span>],O_RDONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timeval</span> <span class="title">timeout</span>;</span></span><br><span class="line">        timeout.tv_sec=<span class="number">60</span>;</span><br><span class="line">        <span class="keyword">int</span> ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,&amp;timeout);</span><br><span class="line">        <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>; </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">"timeout"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"get message from chenlipeng:"</span>);</span><br><span class="line">            <span class="built_in">puts</span>(buf);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDWR);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(argv[<span class="number">1</span>],O_RDWR);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    fd_set wrset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> cnt_r=<span class="number">0</span>,cnt_w=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_ZERO(&amp;wrset);    </span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        FD_SET(fdw,&amp;wrset);</span><br><span class="line">        select(fdw+<span class="number">1</span>,&amp;rdset,&amp;wrset,<span class="literal">NULL</span>,<span class="literal">NULL</span>);   <span class="comment">//写阻塞</span></span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="built_in">read</span>(fdr,buf,<span class="number">2048</span>);</span><br><span class="line">            cnt_r++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"I can read %d\n"</span>,cnt_r);</span><br><span class="line">            sleep(<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdw,&amp;wrset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="number">4096</span>);</span><br><span class="line">            cnt_w++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"I can write %d\n"</span>,cnt_w);</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday08_02</title>
    <url>/category/39Linuxday08_02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础018"><a href="#王道训练营C-方向–Linux基础018" class="headerlink" title="王道训练营C++方向–Linux基础018"></a>王道训练营C++方向–Linux基础018</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是孤儿进程，什么是僵尸进程，他们对操作系统有什么影响？</li><li>(b). 进程的结束方式有哪些？return和exit有什么区别？</li><li>(c). 请问下面的程序一共输出多少个“-”<pre><code>int main()
{
    int i=0;
    for(i=0;i&lt;2;i++)
    {
        fork();
        printf(&quot;-&quot;);
    }
    return 0;
}</code></pre></li><li>(d). 上题中的printf(“-“)换成printf(“-\n”)；程序会输出多少个“-”?思考一下为什么？</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">孤儿进程：子进程的父进程先挂了，它被<span class="number">1</span>号进程（init）收养了，子进程结束后，它的资源由新父亲（init）回收，但在init结束子进程之前，会一直占用资源</span><br><span class="line">僵尸进程：子进程结束，父进程很忙，都没时间回收资源（wait/waitpid），子进程就会成为僵尸进程</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight isbl"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">waitpid</span>()返回值非<span class="number">0</span>：子进程终止了</span></span><br><span class="line"><span class="function"><span class="title">waitpid</span>()返回值为<span class="number">0</span>：子进程还没终止</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">在<span class="variable">main</span>中调用<span class="variable">return</span> 正常终止进程</span></span><br><span class="line"><span class="function">调用<span class="title"><span class="built_in">exit</span></span>()  正常终止进程  但<span class="title"><span class="built_in">exit</span></span>()会清空<span class="variable">stdout</span></span></span><br><span class="line"><span class="function">调用<span class="title">_exit</span>()/<span class="title">_Exit</span>()  正常终止进程  但会丢弃<span class="variable">stdout</span></span></span><br><span class="line"><span class="function"><span class="title">abort</span>()  异常终止进程   </span></span><br><span class="line"><span class="function">接收到异常终止信号    异常终止进程</span></span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>遇到\n会输出<span class="built_in">stdout</span>内容</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday08_01</title>
    <url>/category/39Linuxday08_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础017"><a href="#王道训练营C-方向–Linux基础017" class="headerlink" title="王道训练营C++方向–Linux基础017"></a>王道训练营C++方向–Linux基础017</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 什么是进程？进程和程序文件有哪些差异？</li><li>(b). 编写程序，打印当前进程pid，父进程pid，真实用户ID，真实组ID，有效用户ID，有效组ID。</li><li>(c). A用户编写一个程序，用来往file文件中写入内容hello，然后编译后，增加s权限，这时B用户执行该程序，能够往file文件中写入hello。</li><li>(d). 创建一个目录，通过设置粘滞位，让用户只能删除自己创建的文件，不能删除其他用户的文件。</li><li>(e). 后台运行一个进程，用命令拉回到前台，再使其变成T状态在后台挂起，再让它后台继续运行，然后通过kill命令杀掉。提交操作记录。</li><li>(f). 验证ps命令显示的是有效用户ID，还是真实用户ID。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">程序是静态的</span><br><span class="line">进程是一个程序动态执行的过程</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前进程的pid:%d,父进程的pid:%d\n"</span>,getpid(),getppid());</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前进程的真实用户id:%d,真实组id:%d\n"</span>,getuid(),getgid());</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前进程的有效用户id:%d,有效组id:%d\n"</span>,geteuid(),getegid());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//chmod u+s getuid  该文件运行时，修改自己的有效用户id为文件拥有者的id,使得其他用户也可以运行文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//chmod g+s getgid  该文件运行时，修改自己的有效组id为文件拥有者的组id,使得同一个组的其他用户也可以运行文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//chmod o+w dir  让目录有写权限</span></span><br><span class="line"><span class="comment">//chmod o+t dir  让非root的其他用户，不能删除别人创建的文件</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"uid = %d, euid = %d\n"</span>, getuid(), geteuid());</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"gid = %d, egid = %d\n"</span>, getgid(), getegid());</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(<span class="string">"file1"</span>, O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd,<span class="number">-1</span>,<span class="string">"open"</span>);</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="built_in">write</span>(fd,<span class="string">"hello"</span>,<span class="number">5</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"write"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">默认优先级是<span class="number">80</span>,数值越低，优先级越高</span><br><span class="line">Pri=<span class="number">80</span>+nice</span><br><span class="line">普通调度策略：</span><br><span class="line">	非root用户，nice只能为正数</span><br><span class="line">	root用户可以</span><br><span class="line">实时调度策略：</span><br><span class="line">修改nice值不会改变调度策略</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">kill -l  <span class="comment">//以什么方式终止进程</span></span><br><span class="line">kill <span class="number">-9</span>  <span class="number">57260</span> <span class="comment">//以异常方式终止进程</span></span><br><span class="line">前台：直接接受键盘信号的称为前台，其他称为后台</span><br><span class="line">ctrl+c：终止信号，ctrl+z:暂停信号</span><br><span class="line">./<span class="keyword">while</span> &amp;     <span class="comment">//运行当前目录下while的后台进程</span></span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/qht.jpg" height="250" width="550"><ul><li>(f)</li></ul><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">crontab -e    <span class="comment">//定期执行任务</span></span><br><span class="line"><span class="comment">//分钟（0～60）、小时（0～23）、日期（1～31）、月份（1～12）、周（0～7 0和7都代表周日）和要执行的命令</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>遇到\n输出缓冲区</span><br><span class="line"><span class="keyword">int</span> x=atoi(<span class="keyword">char</span>字符串)   <span class="comment">//将char转为对应的int</span></span><br><span class="line"></span><br><span class="line">system 函数以及从bash或者是其他shell启动进程的本质就是fork+exec </span><br><span class="line"></span><br><span class="line"><span class="comment">//execl("./add","add","3","4",(char *)0);</span></span><br><span class="line"><span class="keyword">char</span> *<span class="keyword">const</span> argv[] = &#123;<span class="string">"add"</span>,<span class="string">"3"</span>,<span class="string">"4"</span>,<span class="literal">NULL</span>&#125;;</span><br><span class="line">execv(<span class="string">"./add"</span>,argv);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"you can not see me!\n"</span>);   <span class="comment">//这句话并不会打印</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday09_01</title>
    <url>/category/39Linuxday09_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础019"><a href="#王道训练营C-方向–Linux基础019" class="headerlink" title="王道训练营C++方向–Linux基础019"></a>王道训练营C++方向–Linux基础019</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 思考一下WIFEXITED(wstatus)和WEXITSTATUS(wstatus)是怎么实现的？</li><li>(b). 进程、进程组、会话的关系是什么样的？bash进程和进程组的关系？进程组、会话和控制终端的关系？</li><li>(c). 守护进程和后台进程组的区别是什么？</li><li>(d). 通过execl拉起来一个进程，传递两个数字，比如15和65。被拉起的进程创建一个随机数，该随机数的范围在15-65之间。</li><li>(e). 写一个mysystem程序，实现跟system函数类似的功能。</li></ul><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">WIFEXITED(wstatus)  <span class="comment">//如果子进程正常退出返回非0</span></span><br><span class="line">WEXITSTATUS(wstatus)  <span class="comment">//子进程正常退出的返回值</span></span><br><span class="line">wstatus是一个<span class="number">32</span>位的整数，其中<span class="number">24</span>位用来保存进程的退出状态，<span class="number">8</span>位用来保存进程正常结束时的返回值</span><br><span class="line"></span><br><span class="line">getpgid(<span class="number">0</span>)  <span class="comment">//获取本进程所在组id</span></span><br><span class="line">子进程创建出来，它就被归到父进程所在的进程组中</span><br><span class="line">setpid(<span class="number">0</span>,<span class="number">0</span>);  <span class="comment">//子进程可用于创建新的进程组，</span></span><br><span class="line"></span><br><span class="line">前台进程会被键盘输入的信号所影响，而后台不会。</span><br><span class="line">前台进程组：<span class="number">0</span>~<span class="number">1</span>组，后台进程组：<span class="number">0</span>~多个</span><br><span class="line">如果父子进程在同一个进程组，ctrl+c可以终止两个进程</span><br><span class="line">如果子进程在另一个进程组，ctrl+c终止父进程</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">会话是进程组的集合，进程组是进程的集合</span><br><span class="line">使用bash创建的进程，被创建的进程是bash的子进程，随后该进程新建了一个进程组，并任组长</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">守护进程(Daemon)是在后台运行的一种特殊进程，它脱离于终端，从而这可避免进程被任何终端所产生的信号打断，它在执行进程中的产生信息也不在任何终端上显示。守护进程周期性地执行某种任务或等待处理某些发生的事件。</span><br><span class="line">	<span class="number">1</span>：守护进程已经完全脱离终端的控制，当终端关闭时，并不影响守护进程的运行；而后台进程是受终端的影响的，只是不会接受键盘的中断信号，当终端关闭，后台进程也运行结束；不同终端上看到的后台进程是不同的；</span><br><span class="line">	<span class="number">2</span>：守护进程创建时，其父进程一定已经结束，因此守护进程一定是孤儿进程，守护进程的会话组，文件描述符都是独立的。而后端进程并不是。</span><br><span class="line">	<span class="number">3.</span>后台进程组在当前会话之内，运行在后台的进程组，用jobs命令可查看</span><br><span class="line">	  守护进程脱离当前会话，不受任何终端控制，默默运行在后台的服务进程，一般以d结尾，如sshd</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//execl.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before execl, you can see me!\n"</span>);</span><br><span class="line">    execl(<span class="string">"./rand"</span>,<span class="string">"./rand"</span>,<span class="string">"15"</span>,<span class="string">"65"</span>,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after execl, you can't see me!\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//rand.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num1=atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">int</span> num2=atoi(argv[<span class="number">2</span>]);</span><br><span class="line">    srand(time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,rand()%(num2-num1)+num1);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(e)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//测试命令</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">pid_t</span> pid=fork();</span><br><span class="line">    <span class="keyword">if</span>(pid==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        execl(<span class="string">"/bin/./bash"</span>,<span class="string">"/bin/./bash"</span>,<span class="string">"-c"</span>,argv[<span class="number">1</span>],<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday10_01</title>
    <url>/category/39Linuxday10_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础day10作业"><a href="#王道训练营C-方向–Linux基础day10作业" class="headerlink" title="王道训练营C++方向–Linux基础day10作业"></a>王道训练营C++方向–Linux基础day10作业</h1><p>概念题：</p><ol><li>无名管道和命名管道有哪些特点和区别？</li><li>共享内存相比管道的优点？</li></ol><p>代码题：</p><ol><li>新建共享内存，连接，然后往共享内存写入How are you,然后另外一个进程连接共享内存，读取数据并打印显示,最后删除共享内存。</li></ol><p>预习：</p><ol><li>预习进程间通信方式-信号量、消息队列</li></ol><a id="more"></a><h3 id="概念题"><a href="#概念题" class="headerlink" title="概念题"></a>概念题</h3><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">无名管道：</span><br><span class="line"><span class="number">1.</span> 无名管道只能在有亲缘关系之间的进程进行通信（父子，兄弟）</span><br><span class="line"><span class="number">2.</span> 半双工</span><br><span class="line"><span class="number">3.</span> 依赖于文件系统，生命周期随进程的结束而结束</span><br><span class="line"><span class="number">4.</span> 管道是基于字节流来通信的，数据没有边界，多次写管道，数据是粘在一起的。</span><br><span class="line"><span class="number">5.</span> 管道关闭读端，写管道，程序回收到SIGPIPE信号，进程的退出码是<span class="number">141</span>，（echo $? 查看进</span><br><span class="line">程退出，若大于<span class="number">128</span>，就说明，进程是被信号打断的）</span><br><span class="line"><span class="number">6.</span> 关闭管道的写端，使用read读管道，那么read会变成非阻塞的，返回<span class="number">0</span>；</span><br><span class="line"></span><br><span class="line">有名管道（命名管道）：</span><br><span class="line"><span class="number">1.</span> 可以在非亲缘关系的进程间通信</span><br><span class="line"><span class="number">2.</span> 是一种特殊类型的文件，不会随着进程的结束而消失。</span><br></pre></td></tr></table></figure><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/bj.png"><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">共享内存所映射的进程结束了，共享内存的硬链接数可能为减到<span class="number">0</span>，但共享内存并没有因为进程结束而消失。</span><br></pre></td></tr></table></figure><h3 id="代码题"><a href="#代码题" class="headerlink" title="代码题"></a>代码题</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//shm_1.c  让key相同两个进程就指向了同一块共享内存</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> shmid = shmget(<span class="number">1000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//讲共享内存映射到本进程的地址空间</span></span><br><span class="line">    <span class="keyword">char</span> *p = (<span class="keyword">char</span>*)shmat(shmid, <span class="literal">NULL</span>, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(p, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(p,<span class="string">"How are you"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//shm_2.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> shmid = shmget(<span class="number">1000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//讲共享内存映射到本进程的地址空间</span></span><br><span class="line">    <span class="keyword">char</span> *p = (<span class="keyword">char</span>*)shmat(shmid, <span class="literal">NULL</span>, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(p, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s"</span>,p); </span><br><span class="line">    <span class="comment">//删除共享内存</span></span><br><span class="line">    <span class="keyword">int</span> ret = shmctl(shmid, IPC_RMID, <span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"shmctl"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday12_01</title>
    <url>/category/39Linuxday12_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础day12作业"><a href="#王道训练营C-方向–Linux基础day12作业" class="headerlink" title="王道训练营C++方向–Linux基础day12作业"></a>王道训练营C++方向–Linux基础day12作业</h1><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>使用sigaction实现信号不断重入的执行效果(来回打断的效果)。</li><li>实现一个简单的bash程序，2号信号到来时，打印一下当前的路径，可以创建子进程执行其他程序，父进程等待（其他内容自己添加，比如输入exit就退出，ls命令等等。）</li></ol><a id="more"></a><h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//signal(2, SIG_DFL)) 接收到2号信号，则按照信号默认的行为去处理</span></span><br><span class="line"><span class="comment">//signal(2, SIG_IGN)) 接收到2号信号，则忽略ctrl+c信号,要终止进程可以用ctrl+\</span></span><br><span class="line"><span class="comment">//SIGSTOP和SIGKILL信号不能被捕获</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newFunc</span><span class="params">(<span class="keyword">int</span> signum,<span class="keyword">siginfo_t</span>* <span class="keyword">info_t</span>,<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before sleep sig %d\n"</span>,signum);</span><br><span class="line">    sleep(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after sleep sig %d\n"</span>,signum);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">act</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;act,<span class="number">0</span>,<span class="keyword">sizeof</span>(act));</span><br><span class="line"></span><br><span class="line">    act.sa_sigaction = newFunc;</span><br><span class="line">    act.sa_flags = SA_SIGINFO;</span><br><span class="line">    </span><br><span class="line">    ret = sigaction(SIGINT,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction1"</span>);</span><br><span class="line">    </span><br><span class="line">    ret = sigaction(SIGQUIT,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = sigaction(SIGTSTP,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction3"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//mybash.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newFunc</span><span class="params">(<span class="keyword">int</span> signum,<span class="keyword">siginfo_t</span>* <span class="keyword">info_t</span>,<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"当前路径是：%s\n"</span>,getcwd(<span class="literal">NULL</span>,<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">if</span>(fork())</span><br><span class="line">    &#123;</span><br><span class="line">    	wait(<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">    	execl(<span class="string">"./1"</span>,<span class="string">"./1"</span>,<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">act</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;act,<span class="number">0</span>,<span class="keyword">sizeof</span>(act));</span><br><span class="line"></span><br><span class="line">    act.sa_sigaction = newFunc;</span><br><span class="line">    act.sa_flags = SA_SIGINFO;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> ret = sigaction(SIGINT,&amp;act,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"sigaction"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1024</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,buf);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(buf,<span class="string">"exit"</span>)==<span class="number">0</span>) <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(buf,<span class="string">"ls"</span>)==<span class="number">0</span>) system(<span class="string">"ls"</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday11_01</title>
    <url>/category/39Linuxday11_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–Linux基础day11作业"><a href="#王道训练营C-方向–Linux基础day11作业" class="headerlink" title="王道训练营C++方向–Linux基础day11作业"></a>王道训练营C++方向–Linux基础day11作业</h1><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>什么是同步？什么是互斥？什么是临界区？什么是临界资源？</li><li>system V IPC方式有哪些？各自的特点是什么？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>使用二进制信号量，让两个进程对同一个数各加1千万次之后，最终每次执行结果都是2千万，看一下需要耗时多长时间。</li><li>使用计数信号量，实现生产者消费者模式。（把上课对商品和货架的一个原子操作，改成两个原子操作方式）</li><li>如果有进程正在使用一个信号量集合中的信号量，此时可以把信号量集合删除吗？写个程序验证你的想法。</li><li>编写一组程序，创建消息队列，实现以下的功能：<pre><code>1：可以按照不同的mtype类型去发送消息，接收消息。
2：可以无差别的接收整个队列中的消息。
3：不阻塞的接收消息。
4：删除消息队列。</code></pre></li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><ol><li><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">同步是直接制约关系，互斥是间接制约关系</span><br><span class="line">临界区：访问临界资源的代码，临界区需要互斥访问</span><br><span class="line">临界资源：进程之间需要互斥访问的资源</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">共享内存：数据没有边界的</span><br><span class="line">信号量：耗时</span><br><span class="line">消息队列：数据是有边界的</span><br></pre></td></tr></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><ol><li></li></ol><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//要用共享内存！</span></span><br><span class="line"><span class="comment">//将共享内存映射到进程地址空间的指针的基类型应该为int</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10000000</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> shmid = shmget(<span class="number">1000</span>,<span class="number">4</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(shmid,<span class="number">-1</span>,<span class="string">"shmid"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>* str = (<span class="keyword">int</span>* )shmat(shmid,<span class="literal">NULL</span>,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(str,(<span class="keyword">void</span>*)<span class="number">-1</span>,<span class="string">"shmat"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(str,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));  <span class="comment">//对指针memset</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">2000</span>, <span class="number">1</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETVAL,<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">p</span>,<span class="title">v</span>;</span></span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    p.sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">    p.sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">    p.sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">    v.sem_num = <span class="number">0</span>;</span><br><span class="line">    v.sem_op = +<span class="number">1</span>;</span><br><span class="line">    v.sem_flg = SEM_UNDO;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork()) <span class="comment">//父进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;p,<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line">        </span><br><span class="line">            (*str)++;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;v,<span class="number">1</span>);  <span class="comment">//第二个参数传的地址，第三个参数当前是一个信号量</span></span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sum:%d\n"</span>,*str);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%llds"</span>, time_end - time_beg);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">//子进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;p,<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line">        </span><br><span class="line">            (*str)++;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;v,<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">2000</span>, <span class="number">2</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">unsigned</span> short arr[<span class="number">2</span>]=&#123;<span class="number">0</span>,<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETALL,arr);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">sop</span>[2];</span> <span class="comment">//结构体初始化用memset</span></span><br><span class="line">    <span class="built_in">memset</span>(sop,<span class="number">0</span>,<span class="keyword">sizeof</span>(sop));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork()) <span class="comment">//父进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">0</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"生产者：商品数量：%d,货架数量：%d\n"</span>,semctl(semid,<span class="number">0</span>,GETVAL),semctl(semid,<span class="number">1</span>,GETVAL));</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">//子进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">0</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">            wait(<span class="literal">NULL</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"消费者：商品数量：%d,货架数量：%d\n"</span>,semctl(semid,<span class="number">0</span>,GETVAL),semctl(semid,<span class="number">1</span>,GETVAL));</span><br><span class="line">            sleep(<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">2000</span>, <span class="number">2</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">unsigned</span> short arr[<span class="number">2</span>]=&#123;<span class="number">1</span>,<span class="number">2</span>&#125;;</span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETALL,arr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; <span class="number">2</span>;i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"arr[%d]:%d\n"</span>,i,semctl(semid,i,GETVAL));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"信号量集合以创建\n"</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">sop</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(sop,<span class="number">0</span>,<span class="keyword">sizeof</span>(sop));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork()) <span class="comment">//父进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;</span><br><span class="line">        <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//p操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">1</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//v操作</span></span><br><span class="line">            ret = semop(semid,&amp;sop[<span class="number">0</span>],<span class="number">1</span>);</span><br><span class="line">            ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">//子进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        sop[<span class="number">0</span>].sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">        sop[<span class="number">0</span>].sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">        sop[<span class="number">1</span>].sem_num = <span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_op = +<span class="number">1</span>;</span><br><span class="line">        sop[<span class="number">1</span>].sem_flg = SEM_UNDO;</span><br><span class="line">        semctl(semid,<span class="number">0</span>,IPC_RMID,arr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//删除消息队列 ipcrm -q  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//msg_rcv.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">10</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">long</span> mtype = atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//将msgrcv参数4改为0，则可以无差别接收</span></span><br><span class="line">    <span class="comment">//参数5改为IPC_NOWAIT,则可以无阻塞接收</span></span><br><span class="line">    ret = msgrcv(msgmid,&amp;mybuf,<span class="keyword">sizeof</span>(mybuf.mtext),mtype,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgrcv"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s %d\n"</span>,mybuf.mtext,ret);</span><br><span class="line">    </span><br><span class="line">    msgctl(msgmid,IPC_RMID,<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//msg_snd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">10</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ARGS_CHECK(argc,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line">    </span><br><span class="line">    mybuf.mtype = atoi(argv[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">strcpy</span>(mybuf.mtext,argv[<span class="number">2</span>]);</span><br><span class="line">    </span><br><span class="line">    ret = msgsnd(msgmid,&amp;mybuf,<span class="built_in">strlen</span>(mybuf.mtext),<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgsnd"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday15_01</title>
    <url>/category/39Linuxday15_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h5 id="简答题："><a href="#简答题：" class="headerlink" title="简答题："></a>简答题：</h5><p>1、OSI模型有哪些层？TCP/IP模型有哪些层？他们之间的对应关系是怎样的？<br>2、TCP/IP协议族常见的协议有哪些？他们分别属于TCP/IP模型的哪一层？<br>3、TCP协议如何保证数据的可靠传输？<br>4、为什么TCP需要三次握手？两次握手为什么不行？<br>5、TCP断开连接时为什么是4次挥手？为什么主动断开的一方要经历TIME_WAIT状态？</p><h5 id="代码题："><a href="#代码题：" class="headerlink" title="代码题："></a><strong>代码题</strong>：</h5><ol><li>什么是大端模式和小端模式，什么是主机字节序和网络字节序，编写代码，验证一下自己的机器是大端模式还是小端模式。</li><li>把ip和端口的主机字节序和网络字节序相互转化一下。（上课代码，建议不看上课代码；要自己编写）</li></ol><h5 id="预习作业："><a href="#预习作业：" class="headerlink" title="预习作业："></a>预习作业：</h5><ul><li>预习一下网络编程课件剩下的内容，明天会讲到epoll</li></ul><a id="more"></a><p>简答题：</p><p>1.</p><figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">OSI</span>模型:  从上到下</span><br><span class="line">	应用层</span><br><span class="line">	表示层</span><br><span class="line">	会话层</span><br><span class="line">	传输层</span><br><span class="line">	网络层</span><br><span class="line">	数据链路层</span><br><span class="line">	物理层</span><br><span class="line"><span class="symbol">TCP</span>/<span class="built_in">IP</span>模型：</span><br><span class="line">	应用层：应用层、表示层、会话层</span><br><span class="line">	传输层</span><br><span class="line">	网络层</span><br><span class="line">	网络接口层：数据链路层、物理层</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">应用层: </span><br><span class="line">FTP、TELNET、DNS、SMTP、POP3	</span><br><span class="line">传输层：</span><br><span class="line">TCP、UDP</span><br><span class="line">网络层：</span><br><span class="line">IP、ICMP、Ping、ARP、RARP</span><br><span class="line">网络接口层：</span><br><span class="line">Ethernet 802.3、Token Ring 802.5、X.25、Frame reley、HDLC、PPP等。</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">序列号、确认重传、滑动窗口</span><br></pre></td></tr></table></figure><p>4.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">在网络状态较好，不会出现丢包的情况下，两次握手也可建立连接，但是一旦网络不稳定，就会出现问题</span><br><span class="line">三次握手的原因：</span><br><span class="line">	防止已失效的请求报文又到达对方</span><br><span class="line">	第三次握手是对第二次握手的确认，确保对方已建立和客户端的连接</span><br></pre></td></tr></table></figure><p>5.</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span>次挥手也可以改为<span class="number">3</span>次的前提是在第一次挥手后，服务端没有数据需要传输了，第二次和第三次挥手可以合并为一次</span><br><span class="line"></span><br><span class="line">保证四次挥手顺利完成，能够正常关闭TCP连接</span><br><span class="line">防止已失效的请求报文段到达对方</span><br></pre></td></tr></table></figure><p><strong>代码题</strong>：</p><p>1.</p><figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//大端是低位放在高地址</span></span><br><span class="line"><span class="comment">//小端是低位放在低地址</span></span><br><span class="line"><span class="comment">//主机字节序：数据在主机内存中的存放方式：小端和大端</span></span><br><span class="line"><span class="comment">//网络字节序：数据流发送时，采用大端方式，从低地址到高地址，接收时在接收缓冲区保存也采取从低到高的方式，这样保证了顺序</span></span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday16_01</title>
    <url>/category/39Linuxday16_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h3 id="简答题"><a href="#简答题" class="headerlink" title="简答题"></a>简答题</h3><ol><li>tcp和udp协议的特点？</li><li>tcp三次握手改成二次握手行不行？</li><li>tcp保证数据安全可靠传输的机制有哪些？（需要解释每种机制）</li><li>序列号为什么是随机的？</li><li>TCP断开连接时为什么是4次挥手？三次挥手行不行？</li><li>为什么主动断开的一方要经历TIME_WAIT状态？</li><li>什么是MSS、MTU</li><li>TCP协议与UDP协议在编程当中如何选择？</li></ol><a id="more"></a><p>1.</p><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">tcp:</span>面向连接的，安全可靠，但速度慢（常用于文件传输）</span><br><span class="line"><span class="symbol">udp:</span>无连接的，不安全，但速度快（常用于游戏，在线直播）</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">在网络状态较好，不会出现丢包的情况下，两次握手也可建立连接，但是一旦网络不稳定，就会出现问题</span><br><span class="line">三次握手的原因：</span><br><span class="line">	防止已失效的请求报文又到达对方</span><br><span class="line">	第三次握手是对第二次握手的确认，确保对方已建立和客户端的连接</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="section">序列号:给每个tcp报文段的seq字段编号是，保证接收的报文段都是顺序的</span></span><br><span class="line">确认重传：接收方成功接收每个报文段后，给发送方发送确认报文</span><br><span class="line">滑动窗口：发送窗口和接收窗口，控制发送速率，保证网络稳定，数据传输</span><br></pre></td></tr></table></figure><p>4.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">从安全的角度来讲：随机值不利攻击者捕获数据包</span><br><span class="line">从稳定角度来讲：防止断开重连后，延迟的数据包重新被接收</span><br></pre></td></tr></table></figure><p>5.</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span>次挥手也可以改为<span class="number">3</span>次的前提是网络状态良好，且在第一次挥手后，服务端没有数据需要传输了，第二次和第三次挥手可以合并为一次</span><br></pre></td></tr></table></figure><p>6.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">保证四次挥手顺利完成，能够正常关闭TCP连接</span><br><span class="line">防止已失效的请求报文段到达对方</span><br></pre></td></tr></table></figure><p>7.</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">MTU是网络传输最大报文包=数据字段+协议头长，<span class="number">1500</span>个字节</span><br><span class="line">MSS是网络传输最大数据长度 <span class="number">1500</span><span class="number">-20</span>(ip头)<span class="number">-20</span>(tcp头)=<span class="number">1460</span></span><br></pre></td></tr></table></figure><p>8.</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> 对于可靠性来讲：要求可靠性高采用tcp协议，反之选择udp</span><br><span class="line"><span class="number">2.</span> 从实时性的角度：对实时性要求高的选择udp协议，反之tcp</span><br><span class="line"><span class="number">3.</span> 根据网络状态选择：网络状态好采用udp，网络状态差选择tcp</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday17_01</title>
    <url>/category/39Linuxday17_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>什么是套接口？</li><li>tcp协议通信服务端的流程？</li><li>tcp建立三次握手时，内核做了哪些事情？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>编写一个程序使其根据输入网址，如<a href="http://www.baidu.com，查看该网站的正式名，别名，地址等消息。" target="_blank" rel="noopener">www.baidu.com，查看该网站的正式名，别名，地址等消息。</a></li><li>用select实现的聊天程序，为什么要用needMonitorSet，不用会有什么问题？还有其他什么解决方法，写程序测试一下。</li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><p>1.</p><figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line">套接口：操作系统内核中的一个数据结构，网络中节点通信的门户，一个文件描述符。</span><br><span class="line"><span class="built_in">ip</span>+端口号</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight perl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">socket</span>  创建一个套接口描述符</span><br><span class="line"><span class="keyword">bind</span>    使<span class="keyword">socket</span>绑定服务器自己的ip和端口</span><br><span class="line"><span class="keyword">listen</span>  <span class="keyword">socket</span>监听服务器ip和端口，等待客户端发来的连接请求</span><br><span class="line"><span class="keyword">accept</span>  当<span class="keyword">accept</span>函数接受一个连接时，会返回一个新的<span class="keyword">socket</span>套接字，以后的数据传输和读取就要通过这个新的<span class="keyword">socket</span>套接字来处理，原来参数中的<span class="keyword">socket</span>也可以继续使用，继续监听其它客户机的连接请求。</span><br><span class="line"><span class="keyword">recv</span>()  接收</span><br><span class="line"><span class="keyword">send</span>()  发送</span><br><span class="line"><span class="keyword">close</span>() 要关闭两个套接口描述符</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">第二次握手时把未完全建立的tcp连接放到半连接队列中，第三次握手时，服务端从半连接队列取出和第三次握手组合成一个完整的tcp连接放入全连接队列中</span><br><span class="line"><span class="keyword">accept</span>时，从全连接队列中取出一个</span><br></pre></td></tr></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">hostent</span>* <span class="title">pHost</span> = <span class="title">gethostbyname</span>(<span class="title">argv</span>[1]);</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == pHost)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"h_name = %s\n"</span>, pHost-&gt;h_name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; pHost-&gt;h_aliases[i] != <span class="literal">NULL</span>; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"alias = %s\n"</span>, pHost-&gt;h_aliases[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"type = %d\n"</span>, pHost-&gt;h_addrtype);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"len = %d\n"</span>, pHost-&gt;h_length);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">64</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; pHost-&gt;h_addr_list[i] != <span class="literal">NULL</span>; ++i)&#123;</span><br><span class="line">        <span class="built_in">memset</span>(buf, <span class="number">0</span>, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        inet_ntop(pHost-&gt;h_addrtype, pHost-&gt;h_addr_list[i], buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"buf = %s\n"</span>, buf);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//客户端关闭，服务端等待新的连接</span></span><br><span class="line"><span class="comment">//服务端关闭，客户端也跟着关闭</span></span><br><span class="line"><span class="comment">//老师方法:服务端</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum,newFd = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    fd_set rdset;</span><br><span class="line">    fd_set needMonitorSet;</span><br><span class="line">    FD_ZERO(&amp;rdset);</span><br><span class="line">    FD_ZERO(&amp;needMonitorSet);</span><br><span class="line"></span><br><span class="line">    FD_SET(STDIN_FILENO,&amp;needMonitorSet);</span><br><span class="line">    FD_SET(sfd,&amp;needMonitorSet);</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memcpy</span>(&amp;rdset,&amp;needMonitorSet,<span class="keyword">sizeof</span>(rdset));</span><br><span class="line"></span><br><span class="line">        readyNum = select(<span class="number">10</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        ERROR_CHECK(readyNum,<span class="number">-1</span>,<span class="string">"select"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(newFd,&amp;rdset))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    FD_CLR(newFd,&amp;needMonitorSet);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(sfd,&amp;rdset))</span><br><span class="line">            &#123;</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                FD_SET(newFd,&amp;needMonitorSet);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自己方法：服务端 设置flag</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>,flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    fd_set rdset;</span><br><span class="line">    FD_ZERO(&amp;rdset);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">            ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        FD_SET(newFd,&amp;rdset);</span><br><span class="line">        readyNum = select(<span class="number">10</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        ERROR_CHECK(readyNum,<span class="number">-1</span>,<span class="string">"select"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(newFd,&amp;rdset))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    FD_CLR(newFd,&amp;rdset);</span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//客户端</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = <span class="built_in">connect</span>(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"connect"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    fd_set rdset;</span><br><span class="line">    FD_ZERO(&amp;rdset);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(sfd,&amp;rdset);</span><br><span class="line">        readyNum = select(sfd+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(FD_ISSET(sfd,&amp;rdset))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(ret == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">close</span>(sfd);</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday23_01</title>
    <url>/category/39Linuxday23_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><a id="more"></a><p>作业：</p><ol><li>把上午讲的数据库操作，像我上课记录那样记录下来（严禁直接交我的笔记，一经发现4KM，改我的笔记我也看的出来~ _~）</li></ol><!--more--><ol><li><pre><code class="mysql">#操作命令
#进入数据库
mysql -u root -p

#查看数据库
show databases；

#创建数据库
create database 39th;

#修改数据库字符集为utf8
alter database 39th CHARACTER SET utf8;

#切换、使用数据库
use + 39th

#删除数据库
drop database 39th;

#创建member表
create table member (id int, name char(20), age int, math float);

#查询当前数据库所有的表
show tables;

#修改表， 表的字段
alter table member modify math int;
alter table member change name mingzi varchar(20);
alter table member change name name varchar(20);
#change可以改变列名，同样可以改变类型， 但是不能单独去修改类型， modify只可以修改类型，不能修改名字

#修改表名
rename table member to chengyuan;

#插入字段
alter table member add english int;

#删除表中字段
alter table member drop english;</code></pre></li><li><p>进程池、线程池代码不熟练的，赶紧复习一下。</p></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday24_01</title>
    <url>/category/39Linuxday24_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><p>作业：</p><ol><li>把上午讲的数据库操作，像我上课记录那样记录下来（严禁直接交我的笔记，一经发现4KM，改我的笔记我也看的出来~ _~）</li></ol><a id="more"></a><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">id</span>,<span class="keyword">name</span>,gender,age,Chinese,Math,English) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'lisi'</span>,<span class="literal">true</span>,<span class="number">18</span>,<span class="number">89</span>,<span class="number">95</span>,<span class="number">90</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student (<span class="keyword">id</span>,<span class="keyword">name</span>,gender) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'Lisi'</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age = <span class="number">19</span>,Chinese = <span class="number">90</span>,Math = <span class="number">70</span>,English = <span class="number">85</span> <span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student <span class="keyword">modify</span> <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pet ( <span class="keyword">id</span> <span class="built_in">int</span> auto_increment primary <span class="keyword">key</span>, <span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">NULL</span>, stu_id <span class="built_in">int</span>, <span class="keyword">foreign</span> <span class="keyword">key</span>(stu_id)d) <span class="keyword">references</span> student(<span class="keyword">id</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'cat'</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet (<span class="keyword">id</span>,<span class="keyword">name</span>,stu_id) <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">'dog'</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet (<span class="keyword">name</span>,stu_id) <span class="keyword">values</span> (<span class="string">'bird'</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> pet (<span class="keyword">name</span>,stu_id) <span class="keyword">values</span> (<span class="string">'turtle'</span>,<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>,Math+<span class="number">10</span> <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> Math &gt; <span class="number">90</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>, Math+<span class="number">8</span> <span class="keyword">as</span> total <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> Math &gt; <span class="number">80</span> <span class="keyword">and</span> English &gt; <span class="number">80</span> <span class="keyword">and</span> Chinese &gt; <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%san'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> Math <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> Math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> Math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span> offet <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student,pet <span class="keyword">where</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">inner</span> <span class="keyword">join</span> pet <span class="keyword">on</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">as</span> s <span class="keyword">inner</span> <span class="keyword">join</span> pet <span class="keyword">as</span> p <span class="keyword">on</span> s.id = p.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">as</span> s,pet <span class="keyword">as</span> p <span class="keyword">where</span> s.id = p.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> pet <span class="keyword">on</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> pet <span class="keyword">on</span> student.id = pet.stu_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> age <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(age),age <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> age <span class="keyword">having</span> <span class="keyword">count</span>(age)&gt;<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">max</span>(age) <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day10笔记</title>
    <url>/category/Linux_day10%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>管道|进程间通信的高级方式|内存管理</p></blockquote><a id="more"></a><h1 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h1><p>gcc, 数字+gcc多行注释</p><p>:e 在当前的代码当中打开另外的代码， ctrl+n就可以切换代码</p><ol><li>无名管道int pipe(int pipefd[2]);<ol><li>成功返回0，失败返回-1，参数是一个数组，保存是管道的两端</li><li>fd[1]是管道的是写端，fd[0]是管道的读端</li></ol></li><li>无名管道的特点<ol><li>无名管道只能在有亲缘关系之间的进程进行通信（父子，兄弟）</li><li>半双工</li><li>依赖于文件系统，生命周期随进程的结束而结束</li><li>管道是基于字节流来通信的，数据没有边界，多次写管道，数据是粘在一起的。</li><li><strong>管道关闭读端，写管道</strong>，程序回收到SIGPIPE信号，进程的退出码是141，（echo $? 查看进程退出，若大于128，就说明，进程是被信号打断的）</li><li>关闭管道的写端，使用read读管道，那么read会变成非阻塞的，返回0；</li></ol></li><li>有名管道（命名管道）特点<ol><li>可以在非亲缘关系的进程间通信</li><li>是一种特殊类型的文件，不会随着进程的结束而消失。</li></ol></li><li><code>int mkfifo(const char *pathname, mode_t mode)</code><ol><li>成功返回0， 失败返回-1，</li><li>参数1：创建的命名管道，</li><li>参数2：权限</li></ol></li><li>删除有名管道<code>int unlink(const char *pathname)</code><ol><li>可以删除有名管道文件，还可以删除普通文件</li><li>删除的连接，当问文件的连接数为0的时候，才真正的删除该文件。</li></ol></li><li>标准流管道</li><li>FILE *popen(const char *command, const char *type)<ol><li>参数1：启动另一个进程</li><li>参数2：打开方式</li></ol></li><li>popen其实就是对管道的操作进行一些封装<ol><li>创建一条管道</li><li>fork一个子进程</li><li>在父进程中关闭不需要使用的文件描述符</li><li>执行exec函数族的调用</li><li>执行函数中所指定的命令</li></ol></li></ol><h1 id="进程间通信的高级方式"><a href="#进程间通信的高级方式" class="headerlink" title="进程间通信的高级方式"></a>进程间通信的高级方式</h1><ol><li>system V的通信方式<ol><li>共享内存</li><li>信号量</li><li>消息队列</li></ol></li><li>共享内存：一段特殊的内存区域， 可以被多个进程共享，进程想要使用这块共享内存，需要把共享区域映射到本进程的地址空间中，就可以实现进程间的数据交互</li><li>创建共享内存的接口： int shmget(key_t key, size_t size, int shmflg)<ol><li>成功返回共享内存id， 失败返回-1，</li><li>key是一个整型值，可以使用ftok函数生成，</li><li>第二个参数：创建共享内存的大小</li><li>参数3：IPC_CREAT|0666；</li></ol></li><li>key_t ftok(const char *pathname, int proj_id)<ol><li>成功返回一个key（8位的整型值），失败返回-1，</li><li>参数1：是一个路径，路径所指向的文件（文件夹）必须真实存在，可访问的文件）</li><li>参数2：是一个整型值（必须是非零值）</li></ol></li><li>ftok函数的参数如果每次都是一样的，那么生成的key值，每次都是一样的、</li><li>查看共享内存ipcs</li><li>删除共享内存的方式<ol><li>ipcrm -m +共享内存id</li><li>ipcrm -M +共享内存的键值</li></ol></li><li>共享内存一旦创建好之后，就会一直存在，不会随进程的结束而消失，直到使用命令删除，或者重启系统</li><li>shmat：at是attach，附加</li><li>映射函数void *shmat(int shmid, const void *shmaddr, int shmflg)<ol><li>成功返回指向该共享内存的指针，失败是返回（void*)-1,</li><li>参数1：共享内存的id，</li><li>参数2：填NULL，表示让内核决定一个合适的位置</li><li>参数3：标志位，填0；</li></ol></li><li>shmdt：dt是detach分离，</li><li>解除映射int shmdt(const void *shmaddr)<ol><li>参数：shmat的返回指针</li></ol></li><li>共享内存控制函数int shmctl(int shmid, int cmd, struct shmid_ds *buf)<ol><li>参数2：IPC_STAT获取共享内存的信息、IPC_SET、设置共享内存相关信息、IPC_RMID删除该共享内存</li><li>参数3：是一个结构体，保存共享内存的相关信息</li></ol></li><li>对于共享内存的这种删除，叫标记删除：此时删除一段共享内存时，该共享内存正在使用（连接数不为0），该共享内存不会立即被删除，当该共享内存不在被使用的时候，才会真正的删除。</li><li>当键值为全0的时候，是私有的共享内存。只能在有亲缘关系间的进程之间使用。</li><li>私有方式的共享内存不受key约束，并且每次执行都会生成新的一块共享内存</li></ol><h1 id="内存管理"><a href="#内存管理" class="headerlink" title="内存管理"></a>内存管理</h1><ol><li>虚拟地址：进程实际看到的地址</li><li>物理地址：存放程序数据的真实位置</li><li>物理地址和虚拟地址转换：使用MMU内存管理单元进行转换（硬件），不同的系统，转换机制不同</li><li>32位系统，进程的地址空间是0-4G(2的32次方)， 64位系统当中，进程的地址空间是2的48次方（256T）。</li><li>可以通过<code>cat /proc/cpuinfo</code> 查看</li><li>内存的最小分配大小4k，对于虚拟地址来讲又叫<strong>页</strong>，对于物理地址叫<strong>页框</strong></li><li>申请内存的时候，系统是采用lazy模式分配的<ol><li>lazy模式：当申请内存时，但是没有使用，系统不会立刻分配内存空间。只有当真正的使用该内存空间的时候，系统才分配内存空间。</li><li>页表：保存虚拟地址和物理地址的对应关系。当申请的内存空间没有被使用的时候，页表是不会存储物理地址和虚拟地址的对应关系。</li></ol></li><li>为什么要采用多级页表？<ol><li>节约内存空间</li></ol></li><li>大页，linux默认的大页是2M， 可以通过 grep Huge /proc/meminfo查看。</li><li>快表TLb：记录下一次或者频率比较高的，虚拟和物理地址的对应关系。FIFO、LRU</li><li>快表存储原理：局部性原理：<ol><li>时间局部性：</li><li>空间局部性：</li></ol></li><li>不同进程 ，不同的虚拟地址是否能对应相同的物理地址？ 可以</li><li>不同进程， 相同的虚拟地址能否对应不同的物理地址？ 可以</li><li>虚拟地址和物理地址并没有一个绝对的对应关系。</li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day11笔记</title>
    <url>/category/Linux_day11%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>大页的使用|信号量|消息队列</p></blockquote><a id="more"></a><h1 id="大页的使用"><a href="#大页的使用" class="headerlink" title="大页的使用"></a>大页的使用</h1><ol><li>想使用大页的方式申请内存，需要系统支持的，默认的情况下不使用大页的方式分配，需要手动设置</li><li>如果切换到root报认证失败，<ol><li>密码写错了</li><li>没有设置密码, <code>sudo passwd root +</code> 密码</li></ol></li><li>设置系统支持大页方式，<ol><li>切换到root用户</li><li><code>echo 10 &gt; /proc/sys/vm/nr_hugepages</code></li><li><code>cat /proc/sys/vm/nr_hugepages</code>发现如果和你设置的大页数量一样，就说明设置好了</li></ol></li><li>查看大页详细信息<code>grep Huge /proc/meminfo</code></li><li>使用mmap实现共享内存<ol><li>创建一个文件touch file</li><li>给文件开辟空间ftruncate 函数， truncate -s +开辟空间的大小 + 文件名</li></ol></li><li>mmap使用大页的方式申请共享内存<ol><li><code>sudo mount none /mnt/huge/ -t hugetlbfs</code></li><li>在huge目录下创建file</li></ol></li><li>不要对一个指针取sizeof，64位系统当中指针占8个字节</li><li>当两个进程对共享每次+1，各自相加100，正确的原因，是进程在+100，没有用完时间片，没有进程间切换，或者切换没有在+1的过程当中进程切换。</li><li>当两个进程对共享区值每次+1，各加1000w，有时候能成功，有时失败的原因是？<ol><li>成功的原因：进程间切换没有在+1这个操作过程中发生切换</li><li>失败的原因：在+1的过程当中发生了进程间切换</li></ol></li></ol><h1 id="信号量"><a href="#信号量" class="headerlink" title="信号量"></a>信号量</h1><ol><li><p>信号量的提出者是荷兰计算机科学家Dijkstra，信号量的作用：可以用于进程间的同步与互斥</p></li><li><p>同步：两个或两个以上的量在变化过程中，保持一定的相对关系。</p></li><li><p>互斥：两个事物不能同时存在。对资源的独占式访问</p></li><li><p>信号量种类分三种：system V、posix、posix基于内存的信号量</p></li><li><p>信号量又叫信号灯：</p></li><li><p>对于只有两种状态的信号量又叫二进制信号量，常用于互斥操作</p></li><li><p>对于具有多个资源的信号量，又称为计数信号量。常用于同步</p></li><li><p>信号量的值：资源的数量</p></li><li><p>二进制信号量：初始值为1， 只有两种值，0和1</p></li><li><p>计数信号量：值要大于1</p></li><li><p>临界资源：可以被共享，但是需要互斥访问的资源</p></li><li><p>临界区：访问临界资源的代码，临界区也需要互斥的访问</p></li><li><p>如何使用信号量控制资源， p v操作</p></li><li><p>P操作：测试、探查操作，测试控制该资源信号量的值是否大于0， 大于0表示有资源可以使用，程序会进入临界区，访问临界资源</p></li><li><p>V操作： 增加操作， 访问完资源之后，释放资源，资源的数量+1；</p></li><li><p>passeren, 通过的意思，vrijgeven 释放</p></li><li><p>p、v是一个原子操作。是由内核保证的</p></li><li><p>创建信号int semget(key_t key, int nsems, int semflg)</p><ol><li>成功返回信号量的id、失败返回-1</li><li>参数2，是信号量的个数，</li><li>参数3：IPC_CREAT|0600;</li></ol></li><li><p>对信号量的操作int semctl(int semid, int semnum, int cmd, …)</p><ol><li>失败返回-1</li><li>参数2：对那个信号量操作，就那个的编号，编号从零开始</li><li>参数3：cmd，IPC_RMID,删除， GETVAL：获取该信号量所代表资源的数量，semctl返回该值， GETALL： 获取所有信号的各自所代表的资源数量，SETVAL：设置当前信号量所代表的资源数量，semctl成功返回0，SETALL：设置所有信号量所代表的资源数量</li></ol></li><li><p>信号量的操作函数int semop(int semid, struct sembuf *sops, size_t nsops)</p><ol><li><p>成功返回0， 失败-1</p></li><li><p>参数2：操作信号的结构体，</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> short sem_num;  <span class="comment">/* semaphore number */</span></span><br><span class="line">short          sem_op;   <span class="comment">/* semaphore operation */</span></span><br><span class="line">short          sem_flg;  <span class="comment">/* operation flags */</span>  一般填<span class="number">0</span></span><br></pre></td></tr></table></figure></li><li><p>参数3：结构体的数量</p></li></ol></li><li><p>如何使用pv操作</p><ol><li>进入临界区前p操作；p: -1</li><li>出临界区V操作 V: +1</li></ol></li><li><p>p、v操作，系统为了保证原子性，所以每次p、v都会消耗比较多的时间</p></li><li><p>sem_flag设置为SEM_UNDO的作用</p><ol><li>如果某个操作指定SEM_UNOD, 那么进程终止时自动撤销资源操作</li><li>好处：可以避免死锁。</li><li>为了防止p操作后，进程意外退出，资源没有被释放，造成信号量的值发生错误。</li></ol></li></ol><h1 id="消息队列（Message-Queue-MQ"><a href="#消息队列（Message-Queue-MQ" class="headerlink" title="消息队列（Message Queue)MQ"></a>消息队列（Message Queue)MQ</h1><ol><li><p>是一种多进程之间通信一种机制：<strong>解耦</strong>、<strong>异步</strong>、<strong>削峰</strong></p><ol><li>解耦：就是解除两个或者两个以上事物之间的关联性，使其具有独立性</li><li>异步：</li><li>削峰：</li></ol></li><li><p>创建消息队列使用的函数int msgget(key_t key, int msgflg)</p><ol><li>成功返回消息队列id，失败返回-1，</li></ol></li><li><p>往消息队列传数据int msgsnd(int msqid, const void *msgp, size_t msgsz, int msgflg)</p><ol><li><p>成功返回0， 失败返回-1，</p></li><li><p>参数1，msgid</p></li><li><p>参数2：该结构体需要重构，重构的地方时结构的第二个成员，改成自己需要使用的大小</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">msgbuf</span> &#123;</span></span><br><span class="line">               <span class="keyword">long</span> mtype;       <span class="comment">/* message type, must be &gt; 0 */</span></span><br><span class="line">               <span class="keyword">char</span> mtext[<span class="number">1</span>];    <span class="comment">/* message data */</span></span><br><span class="line">           &#125;;</span><br></pre></td></tr></table></figure></li><li><p>参数3：发送数据的长度</p></li><li><p>参数4：标志位，填0；</p></li></ol></li><li><p>从消息队列里面接收数据的函数ssize_t msgrcv(int msqid, void *msgp, size_t msgsz, long msgtyp, int msgflg);</p><ol><li>成功返回接收的字节数，失败返回-1，</li><li>参数2：接收的信息保存在该结构体中</li><li>参数3：最多接收的数据量</li><li>参数4：指定接收哪个类型的数据</li><li>参数 5：标志位，填0</li></ol></li><li><p>消息队列，是先进先出结构，相同类型下，先写入队列的数据，先接收；数据之间是有边界的</p></li><li><p>msgrcv接收类型如果是填0，代表无差别类型接收；如果填负数，就取小于等于该负数绝对值消息，按消息类型的由小到大开始接收</p></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day13笔记</title>
    <url>/category/Linux_day13%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>线程</p></blockquote><a id="more"></a><h1 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h1><ol><li><p>进程的特点：进程是资源分配的基本单位，拥有自己独立的资源，拥有自己独立的数据段、代码段、堆栈段，所以cpu切换进程的时候，需要保存较多上下文。为了解决cpu保存进程上下文所付出的较大开销，所以就引入了线程</p></li><li><p>线程：是cpu调度的基本单位，一个进程里面至少拥有一个线程。如果在一个进程里面创建多个线程，那么这些线程共享该地址空间。线程只拥有少量的栈空间。</p></li><li><p>线程的缺点：不利于资源的管理和保护，而进程更利于资源的管理和保护的。</p></li><li><p>线程的种类</p><ol><li>用户级线程：用户自己创建的线程</li><li>核心级线程：cpu实际运行的线程</li></ol></li><li><p>进程： 创建fork() 退出exit() 等待wait()</p></li><li><p>线程： 创建pthread_create() 退出pthread_exit() 等待pthread_join()</p></li><li><p>线程库NPTL，查看方式man 7 pthreads</p></li><li><p>不要使用进程的退出方式退出线程。</p></li><li><p>线程创建</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_create</span><span class="params">(<span class="keyword">pthread_t</span> *thread, <span class="keyword">const</span> <span class="keyword">pthread_attr_t</span> *attr, <span class="keyword">void</span> *(*start_routine) (<span class="keyword">void</span> *), <span class="keyword">void</span> *arg)</span></span></span><br><span class="line"><span class="function"><span class="comment">//成功返回0，失败返回错误码</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数1：线程id</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数2：线程的属性</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数3：线程的处理函数</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数4：线程处理函数的参数</span></span></span><br></pre></td></tr></table></figure></li><li><p>打印三句话的原因（两句 i am child thread): 由于usleep时间太短了，导致子线程刚把数据输出到屏幕上，还没有来得及清空缓冲区，主线程就从usleep苏醒过来，执行return，发现缓冲区没有被清空，就清空缓冲。</p></li><li><p>编程中尽量不要把自己申请的资源交给别人使用，为了资源泄露，更严重的会导致死锁。</p></li><li><p>一个进程当中只有一个主线程，其它都是子线程，主线线程可以等待子线程并且回收子线程的资源，其它子线程级别相同，可以不想等待，但是它们都不能等待主线程。</p></li><li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5CWangYe%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210701164029941.png" alt="image-20210701164029941"></p><p>这种方法采用的值传递，pthread_create第四个参数需要的8个字节，所以我们只需要传递8个字节就可以了。</p></li><li><p>return 是C语言阵营的退出方式，pthread_exit()它是NPTL线程的线程退出方式。</p></li><li><p>线程的等待函数<code>int pthread_join(pthread_t thread, void **retval)</code></p><ol><li><p>成功返回0， 失败返回错误码，</p></li><li><p>参数1：等待退出的线程id，</p></li><li><p>参数2：接收子线程的退出</p></li><li><p>可以接收指针类型的退出状态</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">char</span> *retVal = <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment">//等待子线程的退出，并回收子线程的资源</span></span><br><span class="line">ret = pthread_join(thid, (<span class="keyword">void</span>**)&amp;retVal)</span><br></pre></td></tr></table></figure></li><li><p>还可以接收long类型表的变量</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> retVal = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//等待子线程的退出，并回收子线程的资源</span></span><br><span class="line">ret = pthread_join(thid, (<span class="keyword">void</span>**)&amp;retVal)        <span class="comment">//long ------ void*</span></span><br><span class="line">    											 <span class="comment">//&amp;long ----- void**</span></span><br></pre></td></tr></table></figure></li></ol></li><li><p>线程的退出<code>void pthread_exit(void *retval)</code></p></li><li><p>查看线程相关信息的命令：<strong>ps -elLf</strong> 看到的内核级线程id</p></li><li><p>查看进程相关信息的命令：<strong>ps -elf</strong></p></li><li><p>long ret = pthread_self() 看到的用户级线程id</p></li><li><p>thid也是用户级线程id</p></li></ol><h3 id="线程的取消"><a href="#线程的取消" class="headerlink" title="线程的取消"></a>线程的取消</h3><ol><li>线程可以自己掉线程退出函数退出，也可以被其它线程杀掉，被其它线程杀掉的方式就叫线程的取消。</li><li>被杀掉的线程可以选择自己如何处理这个信号，<strong>忽略</strong>、<strong>立刻终止</strong>、<strong>运行至取消点后终止</strong>。</li><li>什么是取消点？<ol><li>取消其实就是一些特殊函数：一般阻塞函数都是取消点，非阻塞性函数也可能是取消点。</li></ol></li><li>线程取消函数<code>int pthread_cancel(pthread_t thread)</code><ol><li>成功返回0， 失败返回错误码</li><li>参数：想要cancel线程的id</li></ol></li><li>ps -elLf看到的线程id是核心级线程的id，thid是用户级线程的id</li><li>获取线程id的函数pthread_t pthread_self(void)<ol><li>永远不会失败，成功返回线程id</li></ol></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day14笔记</title>
    <url>/category/Linux_day14%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>线程取消函数|线程终止清理函数|线程互斥|线程同步</p></blockquote><a id="more"></a><h3 id="线程取消函数"><a href="#线程取消函数" class="headerlink" title="线程取消函数"></a>线程取消函数</h3><ol><li>另外一个线程收到cancel信号默认行为是运行完取消点才结束</li></ol><h3 id="线程终止清理函数"><a href="#线程终止清理函数" class="headerlink" title="线程终止清理函数"></a>线程终止清理函数</h3><ol><li><p>pthread_cleanup_push(), pthread_cleanup_pop(); 这是一个函数对，管理是一个栈结构，调用push的时候就是把清理函数入栈，调用pop的时候，清理函数出栈。</p></li><li><p>void pthread_cleanup_push(void (*routine)(void *), void *arg);</p><ol><li>参数1：清理函数</li><li>参数2：清理函数的参数</li></ol></li><li><p>void pthread_cleanup_pop(int execute);</p><ol><li>如果填非0值，代表清理函数出栈，后进先出</li><li>如果填0，表示清理函数不出栈</li></ol></li><li><p>使用注意事项：</p><ol><li>必须成对使用</li><li>必须在代码的同一层次使用</li></ol></li><li><p>在清理函数对中间的代码如果意外退出， 执行清理函数才是正确方式。</p></li><li><p>线程清理函数得到响应的时机：三个时机</p><ol><li>线程被cancel掉</li><li>显式的弹栈pop（1）</li><li>pthread_exit()</li></ol></li><li><p>线程清理函数不会响应的时机：两个</p><ol><li>pop(0)</li><li>return ;</li></ol></li><li><p>cancel代码当中尽量不要使用。</p></li><li><p>push放在紧邻需要清理的资源下面</p></li><li><p>pop尽量往后放。</p></li></ol><p><strong>对于 man 不了线程的相关函数需要增加 man 信息 ， apt-get install manpages-posix-dev</strong></p><h3 id="线程互斥"><a href="#线程互斥" class="headerlink" title="线程互斥"></a>线程互斥</h3><ol><li><p>对资源的独占式访问</p></li><li><p>线程锁pthread_mutex_t mutex称为互斥锁或者互斥体。访问共享资源的时候，需要加锁对资源进行访问，访问完成之后解锁。如果已经有锁住该资源，那么就阻塞，直到该资源被释放。</p></li><li><p>锁的初始化</p><ol><li><p>静态方式：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutex_t</span> mutex = PTHREAD_MUTEX_INITIALIZER；</span><br></pre></td></tr></table></figure></li><li><p>动态的方式；int pthread_mutex_init(pthread_mutex_t *mutex, const pthread_mutexattr_t *mutexattr)</p><ol><li>成功返回0， 失败返回错误码</li><li>参数1：需要初始化的锁变量</li><li>参数2：锁的属性</li></ol><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">pthread_mutex_init(&amp;mutex, <span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure></li><li><p>锁的使用</p><ol><li>加锁：int pthread_mutex_lock(pthread_mutex_t *mutex);<ol><li>成功返回0， 失败返回错误码</li><li>参数：需要加锁的变量</li></ol></li><li>解锁：int pthread_mutex_unlock(pthread_mutex_t *mutex);</li><li>锁的销毁：int pthread_mutex_destroy(pthread_mutex_t *mutex)<ol><li>它是阻塞性函数</li></ol></li><li>测试加锁：int pthread_mutex_trylock(pthread_mutex_t *mutex);<ol><li>它是非阻塞性函数，如果一把锁正在使用，那么使用trylock不会加锁成功，也不会阻塞，会返回错误码。如果这把锁没有被使用，那么trylock的行为和lock一样。</li></ol></li></ol></li><li><p>锁的注意事项</p><ol><li>不能对一把正在使用的锁进行销毁操作</li><li>加锁一次：锁的引用值+1；解锁时，引用计数-1。锁的引用计数为0的时候，锁才能被销毁。所以，对一把锁加锁1次，连续解锁两次，destroy不会成功。</li><li>pthread_mutex_lock是一个阻塞性函数。连续加锁会阻塞。</li><li>自死锁：自己连续加锁两次</li></ol></li><li><p>互斥锁的属性</p><ol><li><p>普通锁、快速锁，pthread_mutex_init(&amp;mutex, NULL);</p></li><li><p>嵌套锁：可以对一把锁连续加锁多次</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutexattr_t</span> attr;</span><br><span class="line">pthread_mutexattr_init(&amp;attr);</span><br><span class="line"><span class="comment">//线程锁属性类型设置函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_mutexattr_settype</span><span class="params">(<span class="keyword">pthread_mutexattr_t</span> *attr, <span class="keyword">int</span> type)</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数1：设置锁的属性变量</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数2：需要设置的类型，type填PTHREAD_MUTEX_RECURSIVE，是设置嵌套锁</span></span></span><br></pre></td></tr></table></figure></li><li><p>检错锁：它可以检测最简单的自死锁， 还可以检测多余的解锁。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pthread_mutexattr_t</span> attr;</span><br><span class="line">pthread_mutexattr_init(&amp;attr);</span><br><span class="line"><span class="comment">//线程锁属性类型设置函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_mutexattr_settype</span><span class="params">(<span class="keyword">pthread_mutexattr_t</span> *attr, <span class="keyword">int</span> type)</span></span></span><br><span class="line"><span class="function"><span class="comment">//type填PTHREAD_MUTEX_ERRORCHECK设置检错锁</span></span></span><br></pre></td></tr></table></figure></li></ol></li><li><p>对于不同属性的锁，加锁和解锁的各自表现</p><ol><li>加锁：<ol><li>对于普通锁：不允许连续加锁</li><li>对于嵌套锁：可以连续加锁多次</li><li>对于检错锁：加锁，连续加锁会返回错误码</li></ol></li><li>解锁：<ol><li>对于普通锁：解锁者可以是同进程内任意线程</li><li>对于嵌套锁：文档要求必须由加锁者解锁，但是同进程的任意线程也可以解锁</li><li>对于检错锁：解锁者必须由加锁者解锁</li></ol></li></ol></li><li><p>死锁的概念：指多个进程因竞争资源而造成的一种僵局。若无外力的干预，这些进程将无法向前推进</p></li><li><p>死锁产生的原因：1.系统资源的竞争 2.进程的推进顺序不合理</p></li><li><p>死锁产生的必要条件 1.互斥条件 2.不可剥夺条件 3. 循环等待 4.请求与保持</p></li><li><p>死锁的避免：破坏四个必要条件之一即可。</p></li></ol><h3 id="线程的同步"><a href="#线程的同步" class="headerlink" title="线程的同步"></a>线程的同步</h3><ol><li><p>什么是同步：两个或两个以上随时间变化的量，在变化的过程当中保持一定的相对关系。</p></li><li><p>线程实现同步的方式是条件变量。</p></li><li><pre><code class="c"><span class="keyword">pthread_cond_t</span> cond
&lt;!--￼<span class="number">4</span>--&gt;

<span class="number">2.</span> 静态方式

   &lt;!--￼<span class="number">5</span>--&gt;</code></pre></li><li><p>条件变量的销毁：只有在条件变量没有被使用的时候，才能被销毁</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_destroy</span><span class="params">(<span class="keyword">pthread_cond_t</span> *cond)</span></span></span><br></pre></td></tr></table></figure></li><li><p>条件变量的等待：</p><ol><li><p>无条件等待：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int pthread_cond_wait(pthread_cond_t *restrict cond, pthread_mutex_t *restrict mutex)</span><br></pre></td></tr></table></figure><ol><li>参数1：条件变量</li><li>参数2：互斥锁</li></ol></li><li><p>计时等待：等待一段时间，如果条件没有成立啊，就返回</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_timedwait</span><span class="params">(<span class="keyword">pthread_cond_t</span> *<span class="keyword">restrict</span> cond, <span class="keyword">pthread_mutex_t</span> *<span class="keyword">restrict</span> mutex,  <span class="keyword">const</span> struct timespec *<span class="keyword">restrict</span> abstime)</span></span></span><br></pre></td></tr></table></figure></li></ol></li><li><p>函数的上下半部：指的是函数的行为发生了改变</p><ol><li><p>对比买酒-卖酒模型：pthread_cond_wait的上半部：商店里没有酒，在登记表登记，解锁出商店，回家睡觉</p><p>​ 下半部： 商店老板通知顾客商店有酒了，顾客睡醒，加锁进入商店买酒，删除登记本上的信息。</p></li><li><p>对比代码：pthread_cond_wait的上半部：1.条件变量上排队，2.解锁 3.睡眠</p><p>​ 下半部：1.被唤醒 2.加锁(如果此时该锁没有被使用，那么就加锁成功， 如果此时这个锁正在被使用的，会阻塞，直到该锁被释放，加锁) 3.pthread_cond_wait函数返回。</p></li></ol></li><li><p>条件变量的激发：</p><ol><li><p>每次激发一个条件变量</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_signal</span><span class="params">(<span class="keyword">pthread_cond_t</span> *cond)</span></span></span><br></pre></td></tr></table></figure></li><li><p>激发所有条件变量</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pthread_cond_broadcast</span><span class="params">(<span class="keyword">pthread_cond_t</span> *cond)</span></span></span><br></pre></td></tr></table></figure></li></ol></li></ol></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day15笔记</title>
    <url>/category/Linux_day15%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>线程</p></blockquote><a id="more"></a><ol><li><p>进程间通信方式：管道、共享内存、信号量、消息队列、信号</p></li><li><p>线程是cpu调度的最小单位、与同进程中线程共享进程的地址空间、只拥有少量的占空间、执行速度快、同进程内切换速度快。不利于资源的管理和保护。</p></li><li><p>创建线程：pthread_create(&amp;thid, &amp;attr, threadFunc, void<em>); 线程的等待：pthread_join(thid, (void*</em>)ret);</p><p>​ 线程的退出 pthread_exit（void*）；</p></li><li><p>线程的取消: 收到cancel信号有三种行为：忽略、立刻被杀死、运行到取消点终止</p></li><li><p>pthread_cancel(thid)；发送cancel信号。</p></li><li><p>线程终止清理函数：pthread_cleanup_push, pthread_cleanup_pop.栈结构。</p></li><li><p>线程清理函数三个响应时机：</p><ol><li>被cancel</li><li>pthread_exit()</li><li>显式的pop（1）；</li></ol></li><li><p>不会得到执行的两个：</p><ol><li>return</li><li>pop（0）；</li></ol></li><li><p>线程互斥：使用的式线程锁：</p></li><li><p>互斥锁的创建：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">静态方式：<span class="keyword">pthread_mutex_t</span> mutex = PTHREAD_MUTEX_INITIALIZER;</span><br><span class="line">动态方式：pthread_mutex_init(&amp;mutex, &amp;attr)</span><br></pre></td></tr></table></figure></li><li><p>互斥锁的基本属性：</p><ol><li>普通锁、快速锁：连续的加锁会造成死锁—自死锁</li><li>嵌套所：可以加锁多次</li><li>检错锁：检查最简单的自死锁，还可检查重复、多余的解锁、防止销毁不了该锁</li></ol></li><li><p>锁的销毁pthread_mutex_destroy：没有被使用的锁才能被销毁，而且锁的引用计数为0的时候才能被销毁</p></li><li><p>现成的同步：条件变量</p></li><li><p>条件变量的创建：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">静态方式：<span class="keyword">pthread_cond_t</span> cond = PTHREAD_COND_INITIALIZER;</span><br><span class="line">动态方式：pthread_cond_init(&amp;cond, <span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure></li><li><p>条件变量的激发：</p><ol><li>pthread_cond_signal():一次激发一个在该条件变量上等待的任务</li><li>pthread_cond_broadcast():激发所有等待在该条件变量上的任务</li></ol></li><li><p>条件变量的等待：</p><ol><li>pthread_cond_wait():无条件等待<ol><li>上半部：在条件变量上排队、解锁、睡眠</li><li>下半部：被唤醒、加锁（如果该是正在被使用，等待解锁；如果该锁未被使用、加锁成功）、返回。</li></ol></li><li>pthread_cond_timedwait():计时等待（等待一段时间）</li></ol></li><li><p>线程安全的函数不一定是可重入函数，可冲入函数一定是线程安全函数。</p></li><li><p>线程安全：如果一个函数能够安全的<strong>同时被多个线程调用</strong>而得到正确的结果</p></li><li><p>char *ctime_r(const time_t *timep, char *buf)</p><ol><li>//参数2：保存当前调用ctimr_r函数所生成的时间字符串的内存区。</li></ol></li><li><p>可重入函数 : 简单来说就是可以被中断的函数 （或者说，被中断后重新载入该函数能够正确执行）</p></li><li><p>线程安全函数和可重入函数的关系：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5CWangYe%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210703102154752.png" alt="image-20210703102154752"></p><p>可重入函数一定是线程安全函数，线程安全函数不一定时可重入函数。</p></li><li><p>线程的属性：</p><ol><li><p>设置线程分离属性：</p></li><li><pre><code class="c"><span class="keyword">pthread_attr_t</span> attr; 
pthread_attr_init(&amp;attr);
<span class="function"><span class="keyword">int</span> <span class="title">pthread_attr_setdetachstate</span><span class="params">(<span class="keyword">pthread_attr_t</span> *attr, <span class="keyword">int</span> detachstate)</span></span>;
<span class="comment">//参数2：设置为PTHREAD_CREATE_DETACHED是线程脱离同步，默认是PTHREAD_CREATE_JOINABLE。</span></code></pre></li></ol></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day16笔记</title>
    <url>/category/Linux_day16%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>网络相关概念|tcp|udp</p></blockquote><a id="more"></a><h1 id="网络相关概念"><a href="#网络相关概念" class="headerlink" title="网络相关概念"></a>网络相关概念</h1><ol><li>网络通信才是更广泛的通信方式。</li><li>两台主机通过ip地址连接</li><li>网络通信其实就是两台主机之间的进程通信。是通过端口号找到进程。</li><li>由一个交换机与连接在该设备上的若干个主机就构成了一个局域网。</li><li>通信双方必须遵守的规则：协议</li><li>网络协议分为两种模型：<ol><li>OSI参考模型（7层）（物链网应表会传）：更偏向于理论研究</li><li>TCP/IP四层：应传二网：更利于实际开发</li></ol></li><li>为什么要把协议分层？<ol><li>分层之后，每一层只负责完成自己的任务，下层协议向上层协议提供了基础服务，上层协议使用下层协议, 不关心底层的实现细节，只需要完成各自的职能。</li></ol></li><li>协议除了分层，还分为<strong>公有协议</strong>和<strong>私有协议</strong></li><li>tcp/ip是一类协议，是协议族</li><li>https：http协议+ssl（安全套接字协议）</li><li>传输层两个重要协议：<ol><li>tcp(传输控制协议）:面向连接的，保证数据的安全可靠传输，比较慢。（常用于文件传输）</li><li>udp（用户数据报协议）：非面向连接，速度快，但是传输的数据不可靠（应用场景：实时类游戏上，即时聊天，在线直播）</li></ol></li><li>每一台设备都由唯一的一个物理地址。</li><li>端口号的范围：[0 - 2的16次方)</li><li>ipv4占4个字节，ipv6占16个字节、物理地址占6个字节，端口号占2个字节</li><li>端口号：<ol><li>0-1024不是给普通用户使用的，是给一些常用的协议和应用使用的。</li><li>用户使用的范围：（1024-10000）</li></ol></li><li>以太网是现有局域网最常使用的通信协议标准。</li><li>以太网帧格式数据的长度：46 - 1500字节</li><li>ARP地址转换协议：把ip地址转换成物理地址（mac)</li><li>arp缓存表：记录主机的ip和主机物理地址的对应关系</li><li>生存时间：TTL（time to live)指的是跳数</li><li>ip数据包头长最长是60个字节。20个字节的基本头长+选项长度。</li><li>六度拓朴理论</li><li>路由器：连接两个多个的网络硬件设备，可以解析，各种不同类型的网络传来的数据包的目的地址，在根据特定的路由算法把各数据包按照<strong>最佳路线</strong>传送到指定位置。 <strong>工作在网络层</strong></li><li>路由表：记录两台主机之间最优的路径（类似于高德地图）</li><li>交换机：是一种基于mac地址识别，完成以太网数据帧转发的网络设备。<strong>工作在网络接口层</strong></li></ol><h3 id="tcp协议"><a href="#tcp协议" class="headerlink" title="tcp协议"></a>tcp协议</h3><ol><li><p>面向连接：正在建立连接、还是正在连接、或者正在关闭连接的状态。</p></li><li><p>tcp为保证数据安全可靠的传输：序列号、确认重传（重传的次数一般为10次）、滑动窗口（规定通信双方传输数据的大小）（发送方于接收方的窗口大小不一定是一样大）。</p></li><li><p>ack（Ack）确认号；ACK：确认标志位，表示确认数据信息的，tcp协议规定，三次握手建立完成之后，必须带ACK = 1标志位，</p></li><li><p>SYN标志位：当SYN=1，表示请求建立连接</p></li><li><p>FIN标志位：当SIN=1, 表示请求断开连接</p></li><li><p>序列号其实是一个随机值：</p><ol><li>从安全的角度来讲：随机值不利攻击者捕获数据包。</li><li>从稳定角度来讲：防止断开重连后，延迟的数据包重新被接收。</li></ol></li><li><p>ISN = M+F</p></li><li><p>显示相对序列号的设置方式：编辑-&gt;首选项-&gt;protocols-&gt;tcp。</p></li><li><p>确认号ack是x+1的原因：</p><ol><li>期望下一次收到的数据包的序列是x+1；</li><li>SYN标志位占用一个序列号</li></ol></li><li><p>三次握手的流程：</p><ol><li>A-&gt;B：SYN=1， seq=x;</li><li>B-&gt;A: SYN=1, ACK=1, seq = y, ack=x+1;</li><li>A-&gt;B: ACK=1, seq=x+1, ack=y+1;</li></ol></li><li><p><strong>tcp协议第三次握手数据包的序列号和第一次发送数据的数据包的序列号是相同的。</strong></p></li><li><p>两次握手能不能建立连接？</p><ol><li>可以：前提网络必须通常。</li><li>不可以：如果网络状态不好，造成第一握手在网络中延迟，过了一段时间，主机A重传第一次握手（当前网络状态恢复正常），很快的与与主机B建立连接，数据交互完毕之后关闭连接。此时在网络中延迟的第一次握手重新到达了主机B，主机B发送第二次握手建立连接，但是主机A不会再理会这次连接，所以就造成了，主机B一直等待主机A送数据，浪费主机B的资源。</li></ol></li><li><p>tcp三次握手改成二次握手行不行？</p><ol><li>为了防止丢失的请求报文重新到达对方</li><li>第三次握手是对第二次握手的确认，如果少了这次确认，就无法保证服务端的序列号被客户端成功的接收。</li></ol></li><li><p>三次握手时报文丢失：</p><ol><li>第一次握手丢失：发送方会重传第一次握手</li><li>第二次握手丢失：发送方和接收方都可能会重传。</li><li>第三次握手丢失：<ol><li>通信双方都没有数据要发送：主机B重传第二次握手</li><li>主机B要想先发送数据：主机B会重传第二次握手</li><li>主机A要想先发送数据：可以直接发送数据， 主机B直接接收数据</li></ol></li></ol></li><li><p>Linux系统下2MSL是60秒</p></li><li><p>tcp四次挥手：</p><ol><li>A-&gt;B：FIN=1, seq=u;</li><li>B-&gt;A：ACK=1， seq=v, ack = u+1;</li><li>B-&gt;A数据传输</li><li>B-&gt;A：FIN=1, seq= w, ack=u+1;</li><li>A-&gt;B：ACK=1， seq=u+1, ack= w+1</li></ol></li><li><p>只有断开方才有TIME-WAIT状态</p></li><li><p>为什么主动断开方要有TIME-WAIT状态？</p><ol><li>保证通信双方四次挥手顺利完成，能够正常的关闭tcp连接。</li><li>保证旧的报文在网络中消失。</li></ol></li><li><p>四次挥手改成三次挥手行不行？</p><ol><li>可以：1.前提是网络状态非常好. 2.主机B发送完第二次挥手之后，没有数据发送给主机A，那么第二次挥手可以和第三次挥手合并。B-&gt;A：FIN=1，ACK=1， seq=v, ack=u+1;</li></ol></li><li><p>MTU 是网络传输最大报文包 = 数据的长度 + 协议的头长 1500个字节</p></li><li><p>MSS 是网络传输数据最大值（不包含协议的长度）。 1500 - 20(ip头长) - 20（tcp头长） = 1460字节</p></li><li><p>udp协议的特点：</p><ol><li>没有各种连接：在传输数据前不需要建立连接</li><li>不重新排序：对到达顺序混乱的数据包不进行重新排序。</li><li>没有确认：发送数据包无需等待对方确认。因此，udp协议可以随时发送数据，但是无法保证数据成功被对方接收。</li></ol></li><li><p>可以在应用层对upd进行安全性的封装，使其传输数据安全可靠。已经有开源代码实现该功能，分别是：RUDP、RTP、UDP。</p></li><li><p>协议的选择：</p><ol><li>对于可靠性来讲：要求可靠性高采用tcp协议，反之选择udp</li><li>从实时性的角度：对实时性要求高的选择udp协议，反之tcp</li><li>根据网络状态选择：网络状态好采用udp，网络状态差选择tcp</li></ol></li><li><p>C/S模式是传统的应用模式：含有客户端和服务端</p></li><li><p>B/S模式是浏览器充当客户端。</p></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day18笔记</title>
    <url>/category/Linux_day18%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>udp|epoll</p></blockquote><a id="more"></a><ol><li><p>设置套接口选项</p><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">setsockopt</span><span class="params">(<span class="keyword">int</span> sockfd, <span class="keyword">int</span> level, <span class="keyword">int</span> optname, <span class="keyword">const</span> <span class="keyword">void</span> *optval, <span class="keyword">socklen_t</span> optlen)</span></span></span><br><span class="line"><span class="function"><span class="comment">//成功返回0， 失败返回-1</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数1：sfd</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数2：设置层次</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数3：设置的选项</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数4：设置的选项是否生效,选项值&gt;0时，生效</span></span></span><br><span class="line"><span class="function"><span class="comment">//参数5：对参数取sizeof</span></span></span><br></pre></td></tr></table></figure></li><li><p>udp协议编程流程</p><ol><li>服务端<ol><li>socket</li><li>bind</li><li>ssize_t recvfrom(int sockfd, void *buf, size_t len, int flags, struct sockaddr *src_addr, socklen_t *addrlen)从对端接收数据，并且保存对端的ip和端口</li><li>ssize_t sendto(int sockfd, const void *buf, size_t len, int flags, const struct sockaddr *dest_addr, socklen_t addrlen)向指定的ip和端口的对端发送数据</li><li>close</li></ol></li><li>客户端：<ol><li>socket</li><li>sendto</li><li>recvfrom</li><li>close</li></ol></li></ol></li><li><p>对于udp通信来讲，服务端必须要先recvfrom，然后sendto</p><ol><li>因为，udp时非面向连接的，所以最开始不知道对端的ip和端口，所以先接收对方发来的而数据，并且记录对端的ip和端口。</li></ol></li></ol><h3 id="epoll多路复用"><a href="#epoll多路复用" class="headerlink" title="epoll多路复用"></a>epoll多路复用</h3><ol><li><p>什么是epoll？为什么要引入epoll？</p><ol><li>linux为处理大批量的文件描述符，而对select与poll做的改进，它能显著提高程序在大量并发的连接中，只有少量描述符活跃的情况下，提高cpu的利用率。epoll利用一个文件描述符管理多个文件描述符。epoll号称可以监控百万级别的文件描述符。</li><li>解决select和poll不足之处。</li></ol></li><li><p>select在使用的过程的缺点：</p><ol><li>select监控文件描述符数量有限制，默认是1024.</li><li>select每次都会修改监控的集合，</li><li>所以每次都需要把监听文件描述符重新加入到集合中</li><li>select检查就绪文件描述符时候，轮询集合。</li><li>每次都需要把监听的集合从用户态拷贝到内核态，返回时，会从内核态拷贝数据到用户态</li></ol></li><li><p>epoll是如何改进的?</p><ol><li>epoll监听的文件描述符没有限制，具体监控数量与内存大小有关，1GB可以监控约10w个文件描述符</li></ol></li><li><p>epoll的使用：</p><ol><li><p>int epoll_create(int size);</p><ol><li>成功返回一个文件描述符（管理后续需要监听的文件描述符），失败返回-1，</li><li>参数：必须填大于0的值</li></ol></li><li><p>int epoll_ctl(int epfd, int op, int fd, struct epoll_event *event);</p><ol><li>成功返回0，失败返回-1</li><li>参数1：epoll_create()的返回值epfd</li><li>参数2：操作epfd，增加、修改、删除</li><li>参数3：需要操作的文件描述符</li><li>参数：告诉内核操作文件的事件</li></ol></li><li><p>int epoll_wait(int epfd, struct epoll_event *events, int maxevents, int timeout)</p><ol><li><p>成功返回就绪文件描述符的数量，失败返回-1</p></li><li><p>参数1：epfd</p></li><li><p>参数2：结构体数组，保存就绪文件描述符</p></li><li><p>参数3：结构体数组的大小</p></li><li><p>参数4：epoll等待时间，如果填-1,表示epol无限等待，直到有就绪的文件描述符。</p></li></ol></li></ol></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day17笔记</title>
    <url>/category/Linux_day17%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>网络相关概念|tcp|udp|select</p></blockquote><a id="more"></a><h1 id="网络相关概念"><a href="#网络相关概念" class="headerlink" title="网络相关概念"></a>网络相关概念</h1><ol><li><p>什么是套接口（socket）：又称为套接字，是操作系统内核中的一个<strong>数据结构</strong>， 它是网络中的节点进行<strong>相互通信的</strong>门户 ，是网络进程的ID。是一个文件描述符。</p></li><li><p>套接口的组成：ip+端口号</p></li><li><p>NAT技术(网络地址转换技术）：内部私有的网络地址转换成合法的网络ip地址。可以有效的解决公网ip分配不足的问题。</p></li><li><p>一个完整的套接字：协议、本机IP、本机的端口、对端ip、对端的端口。</p></li><li><p>tcp像管道、udp像消息队列</p></li><li><p>小端模式：内存的低地址存储数据的低字节，高地址存数据的高字节。</p></li><li><p>大端模式：内存低地址存储数据的高字节，高地址存放数据低字节。</p></li><li><p>IBM公司最初存储数据采用的是大端模式。因特尔、AMD采用小端模式。</p></li><li><p>主机字节序：电脑采用什么方式存储数据的。</p></li><li><p>网络字节序：二进制值，大端模式。</p></li><li><p>在编程中，需要把主机字节序转换成网络字节序。</p></li><li><p>更常用的将ip地址由主机字节序转换为网络字节序in_addr_t inet_addr(const char *cp);</p><ol><li>成功返回，转换的结果，</li><li>参数是ip地址</li></ol></li><li><p>int inet_aton(const char *cp, struct in_addr *inp);</p><ol><li>参数1：需要转换的ip地址</li><li>参数：保存转换后的网络ip地址。</li></ol></li><li><p>16进制与10进制对应关系：a:10 、 b:11 、c :12、 d:13、 e:14、f:15</p></li><li><p>可以将ipv4或者ipv6的ip的网络字节序转换成主机字节序：const char *inet_ntop(int af, const void *src, char *dst, socklen_t size);</p><ol><li>参数1：地址类型：</li><li>参数2：需要转换的网络字节序</li><li>参数3：保存转换后的结果</li><li>参数4：保存结果的大小</li></ol></li></ol><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">主机字节序&lt;-------&gt;网络字节序</span><br><span class="line"><span class="function"><span class="title">htons</span><span class="params">()</span></span>         h:host    </span><br><span class="line"><span class="function"><span class="title">ntohs</span><span class="params">()</span></span>         n:network </span><br><span class="line"><span class="function"><span class="title">htonl</span><span class="params">()</span></span>         s:short--&gt;端口</span><br><span class="line"><span class="function"><span class="title">ntohl</span><span class="params">()</span></span>         l:long--&gt;ip地址</span><br></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">ip地址：  点分十进制&lt;------&gt;网络字节序的二进制数</span><br><span class="line"><span class="function"><span class="title">inet_aton</span><span class="params">()</span></span>  char点分十进制 --&gt; 网络字节序的二进制数</span><br><span class="line"><span class="function"><span class="title">inet_ntoa</span><span class="params">()</span></span>  网络字节序的二进制数 --&gt; char点分十进制</span><br><span class="line"><span class="function"><span class="title">inet_addr</span><span class="params">()</span></span>  和inet_aton() 功能相同但，结果是通过返回值传递的</span><br><span class="line"></span><br><span class="line">可以使用ipv6</span><br><span class="line"><span class="function"><span class="title">inet_pton</span><span class="params">()</span></span>  char点分十进制 --&gt; 网络字节序的二进制数</span><br><span class="line"><span class="function"><span class="title">inet_ntop</span><span class="params">()</span></span>  网络字节序的二进制数 --&gt; char点分十进制</span><br></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">gethostname() 域名 --&gt; ip</span><br><span class="line">gethostaddr()<span class="built_in"> ip </span>--&gt; 域名</span><br></pre></td></tr></table></figure><ol><li><h5 id="tcp协议socket编程，服务端的流程"><a href="#tcp协议socket编程，服务端的流程" class="headerlink" title="tcp协议socket编程，服务端的流程"></a>tcp协议socket编程，服务端的流程</h5><ol><li>int socket(int domain, int type, int protocol);使用该函数生成一个套接口、用于与客户端建立连接时使用的。<ol><li>成功返回socket文件描述符，失败返回-1，</li><li>参数1：ipv4（AF_INET)，或者ipv6（AF_INET6)</li><li>参数2：通信的类型，tcp或者udp</li><li>参数：协议编号，一般为0；</li></ol></li><li>int bind(int sockfd, const struct sockaddr <em>addr, socklen_t addrlen)；绑定*</em>本机**的ip和端口号，绑定到sfd(socket函数返回值)<ol><li>成功返回0，失败返回-1，</li><li>参数1：socket函数的返回值，</li><li>参数2：保存ip和端口的结构体</li><li>参数3：结构体的大小</li></ol></li><li>int listen(int sockfd, int backlog)；监听在sfd上的客户端的连接<ol><li>参数1：sfd</li><li>参数2：代表同时监听的最大连接数</li></ol></li><li>int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen)；接收对端的连接<ol><li>返回值：成功返回一个新的socket文件描述符newFd，该描述符作用，是与连接上服务器的客户端进行数据交互时使用的。失败返回-1；</li><li>参数1：sfd</li><li>参数2：保存对端的ip和端口号</li><li>参数3：结构体长度的变量指针</li></ol></li><li>ssize_t recv(int sockfd, void *buf, size_t len, int flags)；从对端接收数据，该函数时一个阻塞性函数<ol><li>返回值：成功返回接收到的字节数，返回0的时候，代表发送方连接断开，失败返回-1</li><li>参数1：newFd</li><li>参数2：保存数据的位置</li><li>参数3：最多接收的字节数</li><li>参数4：标志位，一般置为0</li></ol></li><li>ssize_t send(int sockfd, const void *buf, size_t len, int flags); 向对端发送数据<ol><li>返回值：成功返回成功发送的字节数，失败返回-1，</li><li>参数1：newFd</li><li>参数2：发送的数据</li><li>参数3：发送数据的大小</li><li>参数4：标志位，一般置为0；</li></ol></li><li>int close(int fd); 关闭文件描述符</li></ol></li><li><p>客户端的流程</p><ol><li>socket</li><li>int connect(int sockfd, const struct sockaddr *addr, socklen_t addrlen); 连接服务器<ol><li>返回值：成功返回0， 失败返回-1</li><li>参数1：sfd</li><li>参数2：服务器的ip和端口</li><li>参数3：结构体的大小</li></ol></li><li>send</li><li>recv</li><li>close</li></ol></li><li><p>select的底层实现：位图，只能保存0和1。FD_ZERO初始化时，位图所有的位为0.</p><ol><li>FD_SET：把需要监听的描述符加入到集合当中，位图所对应的位置为1。</li><li>如果select监控到描述符就绪，他就不去修改该描述符在位图所对应值。如果该文件描述符没有就绪，select会将该文件描述符所对应位图的值置为0。</li></ol></li><li><p><code>：修改的行数起始位置，修改行数的末尾位置s/旧词/新词/g</code> <code>:28,42s/newFd/sfd/g</code></p></li><li><p>tcp_chat聊天结束后（客户端ctrl+c)，服务端疯狂打印（newFd就绪）</p><ol><li>原因：客户端主动断开，处于close_wait状态，所以内核检测到与newFd连接的对端断开了，内核会使用newFd告诉服务端，对方已经断开，你也可以断开了。</li></ol></li><li><p>查看网络相关状态命令：<code>netstat -nat</code></p></li><li><p>客户端开的端口又叫临时端口，这个端口范围大于10000， 小于65535.</p></li><li><p>编程中goto尽量少使用</p><ol><li>goto会破坏程序的局部性。</li><li>goto一般应用于嵌入式开发</li></ol></li><li><p>tcp建立三次握手的时候，内核做了哪些事情。</p><ol><li>客户端发送第一次握手，请求建立连接，服务端接收第一次握手，并且回复第二次握手，回复完的同时，把未建立完的tcp连接加入到半连接队列里面；当客户端回复第三次握手的时候，服务端从半连接队列里面取出第一个连接与第三次握手合并成一个完整的tcp连接，并且加入到全连接队列里面。</li><li>accept其实就是全连接队列里面取出第一个连接。accept函数实在内核空闲的时候从全连接队列里面取数据。</li><li>listen的第二个参数就是指定全连接队列（半连接）的大小。</li><li>全连接队列（半连接）大小是由listen的第二个参数与 /proc/sys/net/core/somaxconn这个配置共同决定（取二者最小值）。</li><li>查看backlog的最大值<code>cat /proc/sys/net/ipv4/tcp_max_syn_backlog</code></li></ol></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day19笔记</title>
    <url>/category/Linux_day19%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>epoll原理刨析|select总结|epoll的两种触发方式|五种io模型</p></blockquote><a id="more"></a><h3 id="epoll原理刨析"><a href="#epoll原理刨析" class="headerlink" title="epoll原理刨析"></a>epoll原理刨析</h3><ol><li><p>调用epoll_create函数：返回一个epfd，与此同时内核会创建eventpoll这个结构体，该结构体有两个非常重要的成员<strong>红黑树</strong>和<strong>双向链表</strong></p><ol><li>红黑树的作用：保存需要监听的描述符</li><li>双向链表：保存就绪的文件描述符</li></ol></li><li><p>调用epoll_ctl函数时：就是对红黑树操作，可以添加节点到红黑树，修改、删除。</p><ol><li>添加、修改、删除节点到红黑树，需要不要遍历？<ol><li>需要查找，logn</li></ol></li><li>添加描述符到红黑树上时，有一次内存拷贝，从用户空间拷贝到内核空间，一次注册文件描述符，永久生效</li><li>当描述符添加到红黑树上时，内核会给每一个节点注册一个回调函数，当该描述符就绪的时候，会主动调用自己的回调函数，将其加入到双向链表当中。</li></ol></li><li><p>调用epoll_wait时：去监控双向链表，如果双向链表里面有数据，取数据，返回用户空间；如果没有数据，就阻塞。</p><ol><li>取数据时，会从内核空间拷贝数据到用户空间。</li><li>用户空间存放就绪文件描述符的结构体数组大小如何选择？<ol><li>要根据实际业务逻辑</li></ol></li></ol><h3 id="select总结："><a href="#select总结：" class="headerlink" title="select总结："></a>select总结：</h3><ol><li>select的底层实现：位图</li><li>select缺点：监控的文件描述符数量有限，默认是1024，这个值可以改，但是不能解决效率问题</li><li>每次调用select时，会发生用户空间到内核空间的数据拷贝，select返回时，又要从内核空间拷贝数据到用户空间</li><li>select每次检查就绪描述符的时候，需要遍历所有的文件描述符</li></ol><h3 id="epoll的总结："><a href="#epoll的总结：" class="headerlink" title="epoll的总结："></a>epoll的总结：</h3><ol><li>epoll的底层实现：红黑树+双向链表</li><li>epoll的优点：epoll监控的文件描述符没有限制，仅跟内存大小有关（cat /proc/sys/fs/file-max）</li><li>把需要监听的描述符加入红黑树，一次加入永久生效；</li><li>内核会给每一个加入到红黑树上的文件描述符注册一个回调函数，当就绪的时候，主动调用自己的回调函数，将其加入到双向链表中。</li><li>epoll每次只检查就绪链表，不需要遍历所有文件描述符，效率高</li></ol><h3 id="epoll的效率一定比select高？"><a href="#epoll的效率一定比select高？" class="headerlink" title="epoll的效率一定比select高？"></a>epoll的效率一定比select高？</h3><ol><li>不一定，</li><li>一般认为，在并发量低，socket都比较活跃的情况下，select的效率更高</li></ol></li></ol><h3 id="epoll的两种触发方式："><a href="#epoll的两种触发方式：" class="headerlink" title="epoll的两种触发方式："></a>epoll的两种触发方式：</h3><ol><li><p>水平触发LT（level trigger）</p></li><li><p>边沿触发（边缘触发）ET（edge trigger）</p></li><li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:%5CUsers%5CWangYe%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210708111741295.png" alt="image-20210708111741295"></p></li><li><p>LT特点：如果该文件描述符数据没有一次性的读取完成，那么还需继续触发epoll_wait，直到数据全部读完</p></li><li><p>ET特点：如果该文件描述符数据没有一次性的读取完成，那么只会触发一次epoll_wait，直到该文件描述符有第二次可读写发生时，才会继续调用epoll_wait.</p></li><li><p>将recv函数设置为非阻塞性的，把flag设置为MSG_DONTWAIT.</p></li><li><p>再et模式下，当接收缓冲区比较小，需要循环接收数据；把recv设置为非阻塞的。</p></li><li><p>et模式一般要配合非阻塞接口去使用</p></li><li><p>int fcntl(int fd, int cmd, … /* arg */ );</p><ol><li>修改（获取）文件描述符属性</li><li>参数1：需要修改的文件描述符，</li><li>参数2：修改（获取）文件描述符的操作</li></ol></li><li><p>函数的阻塞性和文件描述符属性有关。</p></li><li><p>epoll的超时时间：单位是毫秒，1秒=1000毫秒。</p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">readyNum</span> = epoll_wait(epfd, evs, <span class="number">2</span>, <span class="number">5000</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure></li><li><p>epoll设置超时时间的作用：为了断开已经没有和服务端有数据交互的客户端，节约系统资源。</p></li><li><p>SYN Flood攻击：攻击者利用了tcp协议的漏洞，只发送第一次握手，服务端回复第二次握手，并且把这个半连接状态加入到半连接队列里。攻击者不回复第三次握手，造成服务端半连接队列满，无法接收正常客户端的连接请求。</p></li><li><p>如何防护SYN Flood攻击</p><ol><li>增加半连接队列长度</li><li>减少服务端重传服务端重传第二次握手的次数及时间。</li><li>syn cookie</li></ol></li><li><p>缓冲区的大小默认64k，所以一个tcp连接系统至少要分配128k的空间。如过业务逻辑每次的数据量比较少，那么可以减小缓冲区的大小，来节约服务器成本，增加连接数。</p><h3 id="五种io模型"><a href="#五种io模型" class="headerlink" title="五种io模型"></a>五种io模型</h3></li><li><h5 id="1-阻塞IO（blocking-I-O）"><a href="#1-阻塞IO（blocking-I-O）" class="headerlink" title="1.阻塞IO（blocking I/O）"></a>1.阻塞IO（blocking I/O）</h5><p>​ A拿着一支鱼竿在河边钓鱼，并且一直在鱼竿前等，在等的时候不做其他的事情，十分专心。只有鱼上钩的时，才结束掉等的动作，把鱼钓上来。</p><h5 id="2-非阻塞IO（noblocking-I-O）"><a href="#2-非阻塞IO（noblocking-I-O）" class="headerlink" title="2.非阻塞IO（noblocking I/O）"></a>2.非阻塞IO（noblocking I/O）</h5><p>​ B也在河边钓鱼，但是B不想将自己的所有时间都花费在钓鱼上，在等鱼上钩这个时间段中，B也在做其他的事情（一会看看书，一会读读报纸，一会又去看其他人的钓鱼等），但B在做这些事情的时候，每隔一个固定的时间检查鱼是否上钩。一旦检查到有鱼上钩，就停下手中的事情，把鱼钓上来。</p><h5 id="3-信号驱动IO（signal-blocking-I-O）"><a href="#3-信号驱动IO（signal-blocking-I-O）" class="headerlink" title="3.信号驱动IO（signal blocking I/O）"></a>3.信号驱动IO（signal blocking I/O）</h5><p>​ C也在河边钓鱼，但与A、B不同的是，C比较聪明，他给鱼竿上挂一个铃铛，当有鱼上钩的时候，这个铃铛就会被碰响，C就会将鱼钓上来。</p><h5 id="4-IO多路复用（I-O-multiplexing）"><a href="#4-IO多路复用（I-O-multiplexing）" class="headerlink" title="4.IO多路复用（I/O multiplexing）"></a>4.IO多路复用（I/O multiplexing）</h5><p>​ D同样也在河边钓鱼，但是D生活水平比较好，D拿了很多的鱼竿，一次性有很多鱼竿在等，（对于select）而且每个鱼杆上都挂了铃铛，当铃铛响了的时候，D轮询的查找是哪个鱼杆上的铃铛响的。（对于epoll）给每个鱼杆都设置了不同的响铃方式，这样不用轮询，直接到相应鱼杆把鱼拉上来即可</p><h5 id="5-异步IO（asynchronous-I-O）"><a href="#5-异步IO（asynchronous-I-O）" class="headerlink" title="5.异步IO（asynchronous I/O）"></a>5.异步IO（asynchronous I/O）</h5><p>​ E也想钓鱼，但E有事情，于是他雇来了F，让F帮他钓鱼，一旦有鱼上钩，F就钓鱼上来，然后打电话通知E钓鱼完成。</p></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day20笔记</title>
    <url>/category/Linux_day20%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>进程池|进程池流程</p></blockquote><a id="more"></a><h3 id="进程池："><a href="#进程池：" class="headerlink" title="进程池："></a>进程池：</h3><ol><li>管道不可以传递文件描述符，只能传递描述符所对应的数值。</li><li>int socketpair(int domain, int type, int protocol, int sv[2]) 该函数作用，创建一对套接口，这一对套接口创建的时候就是相连，只能在本机使用。</li><li>对于一个没有长度的数组叫可变长数组又叫柔性数组；、<ol><li>柔性数组不能取sizeof</li><li>一般配合结构体使用，结构体中必须有一个明确类型的成员，而且柔性数组要放在结构体的最后面。</li><li>优先使用堆空间申请内存。</li><li>cmsghdr的第一个成员：cmsg_len保存该结构的前三个成员的大小+柔性数组保存数据的大小</li></ol></li><li>写iovec结构体数据使用的函数是ssize_t writev(int fd, const struct iovec *iov, int iovcnt)<ol><li>参数1：往哪写数据，</li><li>参数2：结构体</li><li>参数3：结构体的个数</li></ol></li></ol><h3 id="进程池流程："><a href="#进程池流程：" class="headerlink" title="进程池流程："></a>进程池流程：</h3><ol><li>父进程的流程：<ol><li>循环创建子进程，记录子进程相关信息（子进程id，子进程状态，子进程通信使用的文件描述符）</li><li>创建tcp监听套接字，等待客户端的连接</li><li>创建epoll，把需要监听的描述符添加到epoll当中，</li><li>如果客户端连接服务器，使用accept函数接收这次连接请求，返回newFd， 交给空闲子进程</li><li>如果epoll监听的管道可读，表示子进程工作完成，把子进程的工作状态置为空闲。</li></ol></li><li>子进程的流程：<ol><li>子进程调用recvFd阻塞在管道上，如果管道中有数据到来，那么从recvmsg返回，服务客户端</li><li>服务完客户端之后，关闭连接，通知父进程，并且由父进程将子进程的工作状态置为非忙碌</li><li>继续等待下一次任务</li></ol></li></ol><p>客户端想要从服务器上下载文件，该文件该如何传输？</p><ol><li>发送方：<ol><li>要打开文件，发送文件名</li><li>读取文件，发送文件内容</li></ol></li><li>接收方：<ol><li>接收文件，创建同名文件</li><li>接收文件内容，把接收的内容写到文件中。</li></ol></li></ol><p>什么是tcp粘包问题：多次发送的数据，可以被一次接收，数据之间没有分界线，所有数据全粘在一起</p><p>如何去解决粘包问题？人为去规定数据的分界线。私有协议。</p><p>查看文件大小du -sh + filename</p><p>查看磁盘相关信息df</p><p>查看socket : netstat -nat</p><p>​</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day22笔记</title>
    <url>/category/Linux_day22%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>零拷贝|进程池的退出|线程池</p></blockquote><a id="more"></a><h3 id="零拷贝"><a href="#零拷贝" class="headerlink" title="零拷贝"></a>零拷贝</h3><ol><li>void *mmap(void *addr, size_t length, int prot, int flags, int fd, off_t offset);<ol><li>成功返回指向映射空间的指针，失败-1</li><li>参数1：填NULL，让系统指定分配位置</li><li>参数2：映射空间大小</li><li>参数3：期望的内存保护标志</li><li>参数4：指定映射对象的类型，是否可以被共享</li><li>参数5：文件描述符</li><li>参数6：被映射的内容起始位置</li></ol></li><li>ssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count);<ol><li>参数1：往哪个文件描述符写数据</li><li>参数2：从哪个文件描述符取数据</li><li>参数3：文件偏移量</li><li>参数4：传输数据长度</li></ol></li><li>sendfile只能用于发送方发送数据，不能用于接收数据</li><li>ssize_t splice(int fd_in, loff_t *off_in, int fd_out, loff_t *off_out, size_t len, unsigned int flags);<ol><li>成功返回接收到的字节数，失败-1，</li><li>参数1：从哪取数据</li><li>参数2：偏移量</li><li>参数3：数据写到哪</li><li>参数4：偏移量</li><li>参数5：单次写入长度，最多65536</li><li>参数6：0</li></ol></li><li>mmap和sendfile最大可以传输两个G的文件。</li><li>当今数据传输瓶颈在于网络。</li><li>零拷贝接口移植性不是特别好</li></ol><h3 id="进程池的退出"><a href="#进程池的退出" class="headerlink" title="进程池的退出"></a>进程池的退出</h3><ol><li>两种退出方式：<ol><li>发信号给父进程，父进程收到信号后依次杀死子进程</li><li>父进程收到信号后，给子进程发送退出标记，如果子进程正在忙碌，那么就等待忙完后退出；对于没有在忙碌，直接退出</li></ol></li></ol><h3 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h3><ol><li>线程池中线程的数量不是越多越好：一下方案效率高<ol><li>对io密集型，线程数量一般等于cpu核心数的二倍</li><li>对cpu密集型，线程的数量一般等于核心数加1</li></ol></li></ol><h5 id="防止头文件重复包含："><a href="#防止头文件重复包含：" class="headerlink" title="防止头文件重复包含："></a>防止头文件重复包含：</h5><ol><li>#ifndef … #define … “code” #endif</li><li>#pragma once</li></ol><p>创建结构体时，小类型优先放到前面</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day23笔记</title>
    <url>/category/Linux_day23%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3></blockquote><a id="more"></a><ol><li><p>什么是数据库？为什么要使用数据库？</p><ol><li>数据库是一个实体，是保存和管理数据的“仓库”</li><li>数据库是数据管理的技术和方法，它能更合适的组织数据，更方便的维护数据，更严密的控制数据，更有效的利用数据。</li></ol></li><li><p>《r系统：数据库关系理论》标志着关系型数据库的诞生</p></li><li><p>oracle：老板 拉里埃里森，</p><p>数据库注释有三种：# 、– （空格）、/* */</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#进入数据库的方式</span><br><span class="line">sudo mysql -u root -p</span><br><span class="line"></span><br><span class="line">#查看数据库</span><br><span class="line">show databases；</span><br><span class="line"></span><br><span class="line">#创建数据库</span><br><span class="line">create database 39th;</span><br><span class="line"></span><br><span class="line">#数据库操作每一条语句都要以；号结尾</span><br><span class="line">#操作数据成功，只会报Query OK，</span><br><span class="line"></span><br><span class="line">#修改数据库字符集为utf8</span><br><span class="line">alter database 39th CHARACTER SET utf8;</span><br><span class="line"></span><br><span class="line">#切换、使用数据库</span><br><span class="line">use + 数据库名</span><br><span class="line"></span><br><span class="line">#删除数据库</span><br><span class="line">drop database 39th;</span><br></pre></td></tr></table></figure></li></ol><p>char(size)，提高效率</p><p>VARCHAR(size):降低存储容量，节约空间</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">#创建member表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">member</span> (<span class="keyword">id</span> <span class="built_in">int</span>, <span class="keyword">name</span> <span class="built_in">char</span>(<span class="number">20</span>), age <span class="built_in">int</span>, math <span class="built_in">float</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询当前数据库所有的表</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看表的结构信息</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">member</span>;</span><br><span class="line">desc member;</span><br><span class="line"></span><br><span class="line"><span class="comment">#数据库中  列 = 域 = 字段</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#修改表， 表的字段</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">modify</span> math <span class="built_in">int</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">change</span> <span class="keyword">name</span> mingzi <span class="built_in">varchar</span>(<span class="number">20</span>);</span><br><span class="line"><span class="comment">#change可以改变列名，同样可以改变类型， 但是不能单独去修改类型， modify只可以修改类型，不能修改名字</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#修改表名</span></span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">to</span> chengyuan;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> chengyuan <span class="keyword">rename</span> <span class="keyword">to</span> <span class="keyword">member</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#插入字段</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">add</span> english <span class="built_in">float</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">add</span> chinese <span class="built_in">float</span> <span class="keyword">first</span>; <span class="comment">/*插入到最前面*/</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">add</span> cs <span class="built_in">float</span> <span class="keyword">after</span> <span class="keyword">id</span>; <span class="comment">/* 插入数据到id后面*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#删除表中字段</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="keyword">member</span> <span class="keyword">drop</span> cs;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday04_ Linux部分习题答案</title>
    <url>/category/Linux%E9%83%A8%E5%88%86%E4%B9%A0%E9%A2%98%E7%AD%94%E6%A1%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="Linux部分习题答案"><a href="#Linux部分习题答案" class="headerlink" title="Linux部分习题答案"></a>Linux部分习题答案</h1><a id="more"></a><h2 id="基础005"><a href="#基础005" class="headerlink" title="基础005"></a>基础005</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(c)</span><br><span class="line"><span class="variable">$find</span> /usr/share/doc -name <span class="string">"*.html"</span> -a -size +100 -a -<span class="built_in">type</span> f -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure><h2 id="基础006"><a href="#基础006" class="headerlink" title="基础006"></a>基础006</h2><figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">b) </span>从标准输入中读取</span><br></pre></td></tr></table></figure><h2 id="基础-007"><a href="#基础-007" class="headerlink" title="基础 007"></a>基础 007</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">(c) </span><br><span class="line"><span class="variable">$find</span> . <span class="literal">-name</span> <span class="string">"*.c"</span>|xargs grep <span class="operator">-nE</span> <span class="string">"\(.*\).*;<span class="variable">$</span>"</span></span><br></pre></td></tr></table></figure><h2 id="基础009"><a href="#基础009" class="headerlink" title="基础009"></a>基础009</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(c)</span><br><span class="line">	.file	&quot;test.c&quot;</span><br><span class="line">	.text</span><br><span class="line">	.globl	func1</span><br><span class="line">	.type	func1, @function</span><br><span class="line">func1:</span><br><span class="line">.LFB0:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp</span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp # 压栈</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	movq	%rdi, -24(%rbp) #将参数arr存入rbp-24的位置</span><br><span class="line">	movl	%esi, -28(%rbp) #将参数size存入rbp-28的位置</span><br><span class="line">	movl	$0, -8(%rbp) #保存立即数0 cnt</span><br><span class="line">	movl	$0, -4(%rbp) #保存立即数0 i</span><br><span class="line">	jmp	.L2 #转到.L2</span><br><span class="line">.L3:#</span><br><span class="line">	movl	-4(%rbp), %eax #拷贝i到eax</span><br><span class="line">	cltq    #将long转换成quad eax-&gt;rax </span><br><span class="line">	leaq	0(,%rax,4), %rdx #将rax内容*4 存入rdx中（就是i*4）</span><br><span class="line">	# arr[i]中，arr是8个字节而i是4个字节，所以首先要把i拓展成8个字节</span><br><span class="line">	movq	-24(%rbp), %rax #将arr拷贝到rax中</span><br><span class="line">	addq	%rdx, %rax #将rax加上rdx</span><br><span class="line">	movl	(%rax), %eax #访问rax所指内存的内容，存入eax中</span><br><span class="line">	addl	%eax, -8(%rbp) #cnt加上eax的内容</span><br><span class="line">	addl	$1, -4(%rbp) #i加1</span><br><span class="line">.L2:</span><br><span class="line">	movl	-4(%rbp), %eax #拷贝cnt到eax</span><br><span class="line">	cmpl	-28(%rbp), %eax #比较i和size</span><br><span class="line">	jl	.L3 #小于则跳转到.L3</span><br><span class="line">	movl	-8(%rbp), %eax #拷贝cnt到eax中 作为返回值</span><br><span class="line">	popq	%rbp #弹栈</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret #返回</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE0:</span><br><span class="line">	.size	func1, .-func1</span><br><span class="line">	.globl	func2</span><br><span class="line">	.type	func2, @function</span><br><span class="line">func2:</span><br><span class="line">.LFB1:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp</span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp #压栈</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	movl	%edi, -20(%rbp) #传参 存入rbp-20</span><br><span class="line">	movl	%esi, -24(%rbp) #传参 存入rbp-24</span><br><span class="line">	movl	-20(%rbp), %eax</span><br><span class="line">	movl	%eax, -4(%rbp) #rbp-20 -&gt; rbp-4</span><br><span class="line">	movl	-24(%rbp), %eax</span><br><span class="line">	movl	%eax, -20(%rbp) #rbp-24 -&gt; rbp-20</span><br><span class="line">	movl	-4(%rbp), %eax</span><br><span class="line">	movl	%eax, -24(%rbp) #rbp-4 -&gt; rbp-24</span><br><span class="line">	nop</span><br><span class="line">	popq	%rbp #弹栈</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret #返回</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE1:</span><br><span class="line">	.size	func2, .-func2</span><br><span class="line">	.globl	func3</span><br><span class="line">	.type	func3, @function</span><br><span class="line">func3:</span><br><span class="line">.LFB2:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp </span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp #压栈</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	movq	%rdi, -24(%rbp) #传参 指针a</span><br><span class="line">	movq	%rsi, -32(%rbp) #传参 指针b</span><br><span class="line">	movq	-24(%rbp), %rax #将rbp-24所指内存的内容存入rax 存储a</span><br><span class="line">	movl	(%rax), %eax #将rax所指内存的内容存入eax 存储*a</span><br><span class="line">	movl	%eax, -4(%rbp)#将eax所指内存的内容存入rbp-4 拷贝*a到rbp-4</span><br><span class="line">	movq	-32(%rbp), %rax # 存储b</span><br><span class="line">	movl	(%rax), %edx #将rbp-32所指内存的内容存入edx 存储*b</span><br><span class="line">	movq	-24(%rbp), %rax #rbp-24所指内存的内容存入rax 用a覆盖b</span><br><span class="line">	movl	%edx, (%rax)#将edx的内容存入rax所指的内存 用*b覆盖*a</span><br><span class="line">	movq	-32(%rbp), %rax#将rbp-32所指内存内容存入rax 取出b</span><br><span class="line">	movl	-4(%rbp), %edx#将rbp-4所指内存内容存入edx 取出*a</span><br><span class="line">	movl	%edx, (%rax) #将edx的内存存入rax所指的内存 用*a覆盖*b</span><br><span class="line">	nop</span><br><span class="line">	popq	%rbp</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE2:</span><br><span class="line">	.size	func3, .-func3</span><br><span class="line">	.globl	main</span><br><span class="line">	.type	main, @function</span><br><span class="line">main:</span><br><span class="line">.LFB3:</span><br><span class="line">	.cfi_startproc</span><br><span class="line">	pushq	%rbp</span><br><span class="line">	.cfi_def_cfa_offset 16</span><br><span class="line">	.cfi_offset 6, -16</span><br><span class="line">	movq	%rsp, %rbp</span><br><span class="line">	.cfi_def_cfa_register 6</span><br><span class="line">	subq	$48, %rsp #分配48字节的栈帧</span><br><span class="line">	movq	%fs:40, %rax</span><br><span class="line">	movq	%rax, -8(%rbp) #存储金丝雀值</span><br><span class="line">	xorl	%eax, %eax</span><br><span class="line">	movl	$1, -48(%rbp) #i</span><br><span class="line">	movl	$3, -40(%rbp) #j</span><br><span class="line">	movl	$5, -44(%rbp) #k</span><br><span class="line">	movl	$1, -32(%rbp) #arr[0] ~arr[5]</span><br><span class="line">	movl	$2, -28(%rbp)</span><br><span class="line">	movl	$3, -24(%rbp)</span><br><span class="line">	movl	$4, -20(%rbp)</span><br><span class="line">	movl	$5, -16(%rbp)</span><br><span class="line">	movl	$6, -12(%rbp)</span><br><span class="line">	leaq	-32(%rbp), %rax #取出arr的首地址 存入rax</span><br><span class="line">	movl	$6, %esi #将立即数6存入esi</span><br><span class="line">	movq	%rax, %rdi #将rax（arr的首地址）存入rdi</span><br><span class="line">	call	func1 #调用func1函数</span><br><span class="line">	movl	%eax, -36(%rbp) #将返回值存入rbp-36</span><br><span class="line">	movl	-48(%rbp), %eax</span><br><span class="line">	movl	-40(%rbp), %edx</span><br><span class="line">	movl	%edx, %esi</span><br><span class="line">	movl	%eax, %edi #将i和j传入edi和esi</span><br><span class="line">	call	func2 #调用func2函数</span><br><span class="line">	leaq	-44(%rbp), %rdx</span><br><span class="line">	leaq	-48(%rbp), %rax</span><br><span class="line">	movq	%rdx, %rsi</span><br><span class="line">	movq	%rax, %rdi #取出i和k的地址存入rdi和rsi</span><br><span class="line">	call	func3 #调用func3</span><br><span class="line">	movl	$0, %eax</span><br><span class="line">	movq	-8(%rbp), %rcx</span><br><span class="line">	xorq	%fs:40, %rcx #检查金丝雀</span><br><span class="line">	je	.L9</span><br><span class="line">	call	__stack_chk_fail@PLT</span><br><span class="line">.L9:</span><br><span class="line">	leave</span><br><span class="line">	.cfi_def_cfa 7, 8</span><br><span class="line">	ret</span><br><span class="line">	.cfi_endproc</span><br><span class="line">.LFE3:</span><br><span class="line">	.size	main, .-main</span><br><span class="line">	.ident	&quot;GCC: (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0&quot;</span><br><span class="line">	.section	.note.GNU-stack,&quot;&quot;,@progbits</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS初识</title>
    <url>/category/css%E5%88%9D%E8%AF%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了3种常见的层叠样式表： 行内式、内部样式表和外部样式表，并对它们做出了比较</p></blockquote><a id="more"></a><h2 id="css层叠样式表-cascading-style-sheets"><a href="#css层叠样式表-cascading-style-sheets" class="headerlink" title="css层叠样式表 (cascading style sheets)"></a>css层叠样式表 (cascading style sheets)</h2><h3 id="1-引入css样式表（书写位置）"><a href="#1-引入css样式表（书写位置）" class="headerlink" title="1. 引入css样式表（书写位置）"></a>1. 引入css样式表（书写位置）</h3><h4 id="1-1-行内式（内联样式）"><a href="#1-1-行内式（内联样式）" class="headerlink" title="1.1 行内式（内联样式）"></a>1.1 行内式（内联样式）</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> <span class="attr">style</span>=<span class="string">"属性1:属性值1; 属性2:属性值2; 属性3:属性值3;"</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">标签名</span>&gt;</span></span><br></pre></td></tr></table></figure><p>缺点：没有实现样式和结构相分离</p><h4 id="1-2-内部样式表（内嵌样式表）"><a href="#1-2-内部样式表（内嵌样式表）" class="headerlink" title="1.2 内部样式表（内嵌样式表）"></a>1.2 内部样式表（内嵌样式表）</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/CSS"</span>&gt;</span></span><br><span class="line">	选择器1</span><br><span class="line">    &#123;</span><br><span class="line">        属性1：属性值1</span><br><span class="line">        属性2：属性值2</span><br><span class="line">    &#125;</span><br><span class="line">    选择器2</span><br><span class="line">    &#123;</span><br><span class="line">        属性1：属性值1</span><br><span class="line">        属性2：属性值2</span><br><span class="line">    &#125;</span><br><span class="line">    ...    </span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><ul><li>style标签一般位于head标签中，当然理论上它可以放在html文档的任何地方</li><li>html5可以省略type=”text/CSS”</li><li>只能控制当前页面</li></ul><p>缺点：没有实现结构和样式彻底分离</p><h4 id="1-3-外部样式表（外链式）"><a href="#1-3-外部样式表（外链式）" class="headerlink" title="1.3 外部样式表（外链式）"></a>1.3 外部样式表（外链式）</h4><p>是将所有的样式放在以.css为扩展名的外部样式文件中，通过link标签链接到html文件中</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"sytlesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"css文件路径"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">属性</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">rel</td><td align="center">定义当前文档与所链接文档的关系</td></tr><tr><td align="center">type</td><td align="center">定义所链接的文件类型，type=”text/css含义：所链接的是css样式文件，一般我们可以省略</td></tr><tr><td align="center">href</td><td align="center">定义所链接的外部样式文件的url，可以是相对地址，也可以是绝对地址</td></tr></tbody></table><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/外链式.jpg"><h4 id="1-4-三种样式表比较"><a href="#1-4-三种样式表比较" class="headerlink" title="1.4 三种样式表比较"></a>1.4 三种样式表比较</h4><table><thead><tr><th align="center">样式表</th><th align="center">优点</th><th align="center">缺点</th><th align="center">使用情况</th><th align="center">控制范围</th></tr></thead><tbody><tr><td align="center">行内样式表</td><td align="center">书写方便，权重高</td><td align="center">没有实现结构和样式的分离</td><td align="center">较少</td><td align="center">控制一个标签</td></tr><tr><td align="center">内部样式表</td><td align="center">部分结构和样式的分离</td><td align="center">没有彻底分离</td><td align="center">较多</td><td align="center">控制一个页面</td></tr><tr><td align="center">外部样式表</td><td align="center">完全实现结构和样式的分离</td><td align="center">需要link下</td><td align="center">最多，强烈推荐</td><td align="center">控制整个站点</td></tr></tbody></table><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css01</category>
      </categories>
      <tags>
        <tag>样式表</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS基础选择器</title>
    <url>/category/css%E5%9F%BA%E7%A1%80%E9%80%89%E6%8B%A9%E5%99%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了4种常见的基础选择器：标签选择器、类选择器、id选择器和通配符选择器的作用和用法</p></blockquote><a id="more"></a><h2 id="1-css选择器的作用"><a href="#1-css选择器的作用" class="headerlink" title="1. css选择器的作用"></a>1. css选择器的作用</h2><ul><li>找出特定的html元素</li><li>选择器分为基础选择器和复合选择器</li></ul><h2 id="2-css基础选择器"><a href="#2-css基础选择器" class="headerlink" title="2. css基础选择器"></a>2. css基础选择器</h2><h3 id="2-1-标签选择器"><a href="#2-1-标签选择器" class="headerlink" title="2.1 标签选择器"></a>2.1 标签选择器</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        标签名1 &#123;</span><br><span class="line">            属性1: 属性值1</span><br><span class="line">            属性2: 属性值2</span><br><span class="line">        &#125;</span><br><span class="line">        标签名2 &#123;</span><br><span class="line">            属性1: 属性值1</span><br><span class="line">            属性2: 属性值2</span><br><span class="line">        &#125;</span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-2-类选择器"><a href="#2-2-类选择器" class="headerlink" title="2.2 类选择器"></a>2.2 类选择器</h3><ul><li>类名选择器</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        .类名 &#123;</span><br><span class="line">			属性1：属性值1</span><br><span class="line">    		属性2：属性值2</span><br><span class="line">		&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>标签</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"类名"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>优点：可以为一个或多个标签定义相同的样式</p><h3 id="2-3-类选择器的特殊用法-多类名"><a href="#2-3-类选择器的特殊用法-多类名" class="headerlink" title="2.3 类选择器的特殊用法-多类名"></a>2.3 类选择器的特殊用法-多类名</h3><ul><li>我们可以给标签指定多个类名</li><li>各个类名之间用空格隔开</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"blue font"</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-4-id选择器"><a href="#2-4-id选择器" class="headerlink" title="2.4 id选择器"></a>2.4 id选择器</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        #类名 &#123;</span><br><span class="line">			属性1：属性值1</span><br><span class="line">    		属性2：属性值2</span><br><span class="line">		&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>标签</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> <span class="attr">id</span>=<span class="string">"类名"</span>&gt;</span> <span class="tag">&lt;/<span class="name">标签名</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>类选择器与id选择器区别：id选择器只用于修饰文档中某一具体元素</li><li>类似身份证上姓名和身份证号的区别，姓名可能重名，身份证号唯一</li></ul><h3 id="2-5-通配符选择器"><a href="#2-5-通配符选择器" class="headerlink" title="2.5 通配符选择器"></a>2.5 通配符选择器</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line">			属性1：属性值1</span><br><span class="line">    		属性2：属性值2</span><br><span class="line">		&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css01</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>选择器</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS文字文本样式</title>
    <url>/category/css%E6%96%87%E5%AD%97%E6%96%87%E6%9C%AC%E6%A0%B7%E5%BC%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>本文主要介绍:css字体font的一些样式属性、外观属性、chrome开发者工具和sublime快捷操作emmet语法</p></blockquote><a id="more"></a><h1 id="CSS字体样式属性调试工具"><a href="#CSS字体样式属性调试工具" class="headerlink" title="CSS字体样式属性调试工具"></a>CSS字体样式属性调试工具</h1><h2 id="1-font字体"><a href="#1-font字体" class="headerlink" title="1. font字体"></a>1. font字体</h2><h3 id="1-1-font-size：字号"><a href="#1-1-font-size：字号" class="headerlink" title="1.1 font-size：字号"></a>1.1 font-size：字号</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">font-size:16px;</span><br></pre></td></tr></table></figure><ul><li>由于不同浏览器默认显示的字体大小可能不同，所以我们在设置字体大小时应该给定明确值</li><li>谷歌浏览器的默认字体大小是16px</li></ul><h3 id="1-2-font-family-字体"><a href="#1-2-font-family-字体" class="headerlink" title="1.2 font-family:字体"></a>1.2 font-family:字体</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">font-family:Arial,"Microsoft Yahei","黑体";</span><br></pre></td></tr></table></figure><ul><li>字体名中含有空格，$，#等，要用英文状态下的双引号</li><li>中文字体要用英文状态下的双引号</li><li>英文不区分大小写</li></ul><h4 id="CSS-Unicode字体"><a href="#CSS-Unicode字体" class="headerlink" title="CSS Unicode字体"></a>CSS Unicode字体</h4><table><thead><tr><th align="center">字体名称</th><th align="center">英文名称</th><th align="center">Unicode 编码</th></tr></thead><tbody><tr><td align="center">宋体</td><td align="center">SimSun</td><td align="center">\5B8B\4F53</td></tr><tr><td align="center">新宋体</td><td align="center">NSimSun</td><td align="center">\65B0\5B8B\4F53</td></tr><tr><td align="center">黑体</td><td align="center">SimHei</td><td align="center">\9ED1\4F53</td></tr><tr><td align="center">微软雅黑</td><td align="center">Microsoft YaHei</td><td align="center">\5FAE\8F6F\96C5\9ED1</td></tr><tr><td align="center">楷体_GB2312</td><td align="center">KaiTi_GB2312</td><td align="center">\6977\4F53_GB2312</td></tr><tr><td align="center">隶书</td><td align="center">LiSu</td><td align="center">\96B6\4E66</td></tr><tr><td align="center">幼园</td><td align="center">YouYuan</td><td align="center">\5E7C\5706</td></tr><tr><td align="center">华文细黑</td><td align="center">STXihei</td><td align="center">\534E\6587\7EC6\9ED1</td></tr><tr><td align="center">细明体</td><td align="center">MingLiU</td><td align="center">\7EC6\660E\4F53</td></tr><tr><td align="center">新细明体</td><td align="center">PMingLiU</td><td align="center">\65B0\7EC6\660E\4F53</td></tr></tbody></table><p><strong>注意：</strong>Unicode字体也要用引号包起来</p><h3 id="1-3-font-weight-字体粗细"><a href="#1-3-font-weight-字体粗细" class="headerlink" title="1.3 font-weight:字体粗细"></a>1.3 font-weight:字体粗细</h3><ul><li>在html中我们使用b和strong标签来设置字体粗细</li><li>而在CSS中：</li></ul><table><thead><tr><th align="center">属性值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">normal</td><td align="center">默认值（400）</td></tr><tr><td align="center">bold</td><td align="center">加粗（700）</td></tr><tr><td align="center">number</td><td align="center">100-900</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">我们平时更喜欢用数字来表示是否加粗</span><br></pre></td></tr></table></figure><h3 id="1-4-font-style-字体风格"><a href="#1-4-font-style-字体风格" class="headerlink" title="1.4 font-style:字体风格"></a>1.4 font-style:字体风格</h3><ul><li>在html中我们使用em标签哎设置字体风格</li><li>而在CSS中</li></ul><table><thead><tr><th align="center">属性值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">normal</td><td align="center">正常</td></tr><tr><td align="center">italic</td><td align="center">斜体</td></tr></tbody></table><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">我们平时几乎被怎么给文字设置斜体，相反更喜欢将<span class="keyword">em</span>标签改为普通模式</span><br></pre></td></tr></table></figure><h3 id="1-5-font：综合设置字体样式"><a href="#1-5-font：综合设置字体样式" class="headerlink" title="1.5 font：综合设置字体样式"></a>1.5 font：综合设置字体样式</h3><figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">选择器 &#123;<span class="built_in">font</span>: <span class="built_in">font</span>-<span class="built_in">style</span> <span class="built_in">font</span>-weight <span class="built_in">font</span>-size/line-<span class="built_in">height</span> <span class="built_in">font</span>-family;&#125;</span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><ul><li>上面的书写顺序要严格遵循</li><li>font-size和font-family一定要写，其他可不写（取默认值），否则font属性将不起作用</li></ul><h2 id="2-CSS外观属性"><a href="#2-CSS外观属性" class="headerlink" title="2. CSS外观属性"></a>2. CSS外观属性</h2><h3 id="2-1-color：文本颜色"><a href="#2-1-color：文本颜色" class="headerlink" title="2.1 color：文本颜色"></a>2.1 color：文本颜色</h3><table><thead><tr><th align="center">属性值</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">预定义的颜色值</td><td align="center">red,green,blue等</td></tr><tr><td align="center">十六进制</td><td align="center">#000000黑色，#ffffff白色，#ff0000红色,#ccc灰色等</td></tr><tr><td align="center">RGB三原色</td><td align="center">rgb(255,0,0)</td></tr></tbody></table><p>一般十六进制用的多一些，且可采用简写：如<code>#ffffff</code> 可写为#fff</p><h3 id="2-2-text-align：文本水平对齐方式"><a href="#2-2-text-align：文本水平对齐方式" class="headerlink" title="2.2 text-align：文本水平对齐方式"></a>2.2 text-align：文本水平对齐方式</h3><table><thead><tr><th align="center">属性值</th><th align="center">文本水平对齐方式</th></tr></thead><tbody><tr><td align="center">left</td><td align="center">左对齐（默认）</td></tr><tr><td align="center">center</td><td align="center">居中对齐</td></tr><tr><td align="center">right</td><td align="center">右对齐</td></tr></tbody></table><ul><li>注意：是设置盒子里内容的水平对齐方式，而不是盒子水平对齐方式</li></ul><h3 id="2-3-line-height：行间距"><a href="#2-3-line-height：行间距" class="headerlink" title="2.3 line-height：行间距"></a>2.3 line-height：行间距</h3><ul><li>一般只设置为比字号大7-8px左右就可以了</li></ul><h3 id="2-4-text-indent：文本缩进"><a href="#2-4-text-indent：文本缩进" class="headerlink" title="2.4 text-indent：文本缩进"></a>2.4 text-indent：文本缩进</h3><ul><li>单位为em</li><li>1em就是一个字的宽度，如果是汉字，1em就是一个汉字的宽度，一般我们缩进2em</li></ul><h3 id="2-5-text-decoration：文本装饰"><a href="#2-5-text-decoration：文本装饰" class="headerlink" title="2.5 text-decoration：文本装饰"></a>2.5 text-decoration：文本装饰</h3><table><thead><tr><th align="center">属性值</th><th align="center">含义</th></tr></thead><tbody><tr><td align="center">none</td><td align="center">文本默认，也可以用来取消下划线</td></tr><tr><td align="center">underline</td><td align="center">给文本加下划线（a标签链接默认）</td></tr><tr><td align="center">overline</td><td align="center">给文本加上划线</td></tr><tr><td align="center">line-through</td><td align="center">给文本加删除线</td></tr></tbody></table><h2 id="3-chrome开发者工具"><a href="#3-chrome开发者工具" class="headerlink" title="3. chrome开发者工具"></a>3. chrome开发者工具</h2><ul><li>ctrl+滚轮 ：可放大缩小开发者页面</li><li>左侧是html元素结构，右侧是css样式</li><li>右侧css样式可以改动数值和颜色并动态查看效果</li><li>ctrl + 0 复原开发者页面大小</li></ul><h2 id="4-sublime快捷操作emmet语法"><a href="#4-sublime快捷操作emmet语法" class="headerlink" title="4. sublime快捷操作emmet语法"></a>4. sublime快捷操作emmet语法</h2><ol><li>快速生成标签：标签名 +tab键</li></ol><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">div</span></span><br></pre></td></tr></table></figure><ol start="2"><li>快速生成多个标签：标签名*数量 +tab键</li></ol><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">div*<span class="number">3</span></span><br></pre></td></tr></table></figure><ol start="3"><li>快速生成父子标签</li></ol><figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">ul&gt;<span class="built_in">li</span></span><br><span class="line">ul&gt;<span class="built_in">li</span>*<span class="number">3</span></span><br></pre></td></tr></table></figure><ol start="4"><li>快速生成兄弟标签</li></ol><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">div</span>+p</span><br></pre></td></tr></table></figure><ol start="5"><li>快速生成带有类名的div</li></ol><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="title">.demo</span></span><br><span class="line"><span class="title">.demo*3</span></span><br></pre></td></tr></table></figure><ol start="6"><li>生成的div类名带有顺序</li></ol><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">.demo$*<span class="number">3</span></span><br></pre></td></tr></table></figure><ol start="7"><li>快速生成带有类名的标签</li></ol><figure class="highlight coq"><table><tr><td class="code"><pre><span class="line">p.<span class="built_in">red</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css01</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>emmet</tag>
        <tag>字体</tag>
      </tags>
  </entry>
  <entry>
    <title>gdb调试</title>
    <url>/category/gdb%E8%B0%83%E8%AF%95%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h3 id="demo-c"><a href="#demo-c" class="headerlink" title="demo.c"></a>demo.c</h3><h4 id="启动gdb"><a href="#启动gdb" class="headerlink" title="启动gdb"></a>启动gdb</h4><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">gdb demo</span></span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/l.png"><figure class="highlight erlang"><table><tr><td class="code"><pre><span class="line">l</span><br><span class="line">Gdb列出的源代码中明确地给出了对应的行号, 这样就可以大大地方便代码的定位.</span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/b.png"><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">b <span class="number">6</span></span><br><span class="line">设置断点，第<span class="number">5</span>行结束，第<span class="number">6</span>行未执行</span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/ib.png"><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">i</span> b</span><br><span class="line">查看断点信息：主要是断点编号和在断点这停了几次</span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/r.png"><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">r</span><br><span class="line">运行到第<span class="number">6</span>行暂停（第<span class="number">5</span>行结束，第<span class="number">6</span>行未执行）</span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/p.png"><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">p</span>  <span class="string">打印变量值  </span></span><br><span class="line"><span class="attr">display</span> <span class="string">自动打印</span></span><br></pre></td></tr></table></figure><h3 id="单步执行"><a href="#单步执行" class="headerlink" title="单步执行"></a>单步执行</h3><figure class="highlight excel"><table><tr><td class="code"><pre><span class="line">s：能进入函数调用内部</span><br><span class="line"><span class="built_in">n</span>：不进入函数调用内部</span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/bt.png"><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">打印全部栈帧</span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/c.png"><figure class="highlight llvm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">c</span></span><br><span class="line">查看变量值和堆栈后，可以让程序继续运行下去</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>gdb</tag>
      </tags>
  </entry>
  <entry>
    <title>html常用标签</title>
    <url>/category/html%E5%B8%B8%E7%94%A8%E6%A0%87%E7%AD%BE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了html常用的几个标签，又对相对和绝对路径进行阐述，最后记录一些扩展语法</p></blockquote><a id="more"></a><h1 id="1-html常用标签"><a href="#1-html常用标签" class="headerlink" title="1. html常用标签"></a>1. html常用标签</h1><h2 id="1-1-排版标签"><a href="#1-1-排版标签" class="headerlink" title="1.1 排版标签"></a>1.1 排版标签</h2><h3 id="1）标题标签：共6种"><a href="#1）标题标签：共6种" class="headerlink" title="1）标题标签：共6种"></a>1）标题标签：共6种</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2）段落标签：paragraph段落"><a href="#2）段落标签：paragraph段落" class="headerlink" title="2）段落标签：paragraph段落"></a>2）段落标签：paragraph段落</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span> 内容 <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3）水平线标签hr：horizontal-横线"><a href="#3）水平线标签hr：horizontal-横线" class="headerlink" title="3）水平线标签hr：horizontal   横线"></a>3）水平线标签hr：horizontal 横线</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-换行标签br：break，打断，换行"><a href="#4-换行标签br：break，打断，换行" class="headerlink" title="4) 换行标签br：break，打断，换行"></a>4) 换行标签br：break，打断，换行</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><code>注意：</code>与段落标签的区别</p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/p与br区别.png"><h3 id="5-div和span标签-：无语义，用于网页布局"><a href="#5-div和span标签-：无语义，用于网页布局" class="headerlink" title="5) div和span标签 ：无语义，用于网页布局"></a>5) div和span标签 ：无语义，用于网页布局</h3><ul><li>div和span标签是两个用来装网页元素的盒子</li><li>div：division的缩写，分割，分区</li><li>span：跨度，范围</li><li>一行只能放一个div</li><li>一行能放多个span</li></ul><h2 id="1-2-文本格式化标签"><a href="#1-2-文本格式化标签" class="headerlink" title="1.2 文本格式化标签"></a>1.2 文本格式化标签</h2><table><thead><tr><th align="center">标签</th><th align="center">显示效果</th></tr></thead><tbody><tr><td align="center"><b></b> / <code>&lt;strong&gt;&lt;/strong&gt;</code></td><td align="center">文字以<strong><code>粗体</code></strong>方式显示</td></tr><tr><td align="center"><i></i> / <code>&lt;em&gt;&lt;/em&gt;</code></td><td align="center">文字以<em><code>斜体</code></em>方式显示 (emphasize)</td></tr><tr><td align="center"><s></s> / <del></del></td><td align="center">文字以加<del><code>删除线</code></del>方式显示</td></tr><tr><td align="center"><u></u> / <ins></ins></td><td align="center">文字以加<u><code>下划线</code></u>方式显示</td></tr></tbody></table><p><strong>注：</strong></p><ul><li>文本格式化应在强调符号外</li><li>现普遍用后面一组标签</li></ul><h2 id="1-3-标签属性"><a href="#1-3-标签属性" class="headerlink" title="1.3 标签属性"></a>1.3 标签属性</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> 属性<span class="attr">1</span>=<span class="string">"属性值1"</span> 属性<span class="attr">2</span>=<span class="string">"属性值2"</span> …&gt;</span> 内容 <span class="tag">&lt;/<span class="name">标签名</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-4-图像标签img"><a href="#1-4-图像标签img" class="headerlink" title="1.4 图像标签img"></a>1.4 图像标签img</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"图像URL"</span> /&gt;</span></span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/img属性.png"><p><strong>注意：</strong></p><ul><li>标签可以有多个属性，但这些属性必须放在开始标签之后，src属性必须要写</li><li>多个属性没有先后顺序，标签名与属性、属性与属性都以空格隔开</li><li>采用key=”value”的格式</li></ul><h2 id="1-5-链接标签"><a href="#1-5-链接标签" class="headerlink" title="1.5 链接标签"></a>1.5 链接标签</h2><p>anthor的缩写， 锚</p><p><strong>基本语法：</strong></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"url地址"</span> <span class="attr">target</span>=<span class="string">"目标窗口的弹出方式"</span>&gt;</span>文本或图像<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><ul><li>外部链接</li><li>内部链接</li><li>空链接 暂时无url地址，则href属性值可定义为”#”</li><li>图像链接（点击图片，跳转到url地址）：</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"1.png"</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>不仅可以创建文本超链接，在网页中各种网页元素，如图像、表格、音频、视频等都可以添加超链接。</li><li>target值默认为<code>_self</code>,可以设置为 <code>_blank</code>为在新窗口中打开</li></ul><h2 id="1-6-注释标签"><a href="#1-6-注释标签" class="headerlink" title="1.6 注释标签"></a>1.6 注释标签</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 注释内容 --&gt;</span></span><br></pre></td></tr></table></figure><ul><li>快捷键：ctrl+？</li><li>注释写在上方</li></ul><h2 id="2-路径"><a href="#2-路径" class="headerlink" title="2. 路径"></a>2. 路径</h2><h3 id="2-1-相对路径"><a href="#2-1-相对路径" class="headerlink" title="2.1 相对路径"></a>2.1 相对路径</h3><ul><li>同一级</li><li>下一级 /</li><li>上一级 ../</li><li>上两级 ../../</li></ul><h3 id="2-2-绝对地址"><a href="#2-2-绝对地址" class="headerlink" title="2.2 绝对地址"></a>2.2 绝对地址</h3><ul><li>一换电脑，路径就变了，不提倡使用</li><li>还可以保存网上图片地址，显示图片</li></ul><h2 id="3-扩展"><a href="#3-扩展" class="headerlink" title="3. 扩展"></a>3. 扩展</h2><h3 id="3-1-锚点定位"><a href="#3-1-锚点定位" class="headerlink" title="3.1 锚点定位"></a>3.1 锚点定位</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">1.   <span class="tag">&lt;<span class="name">hx</span> <span class="attr">id</span>=<span class="string">"id名"</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">hx</span>&gt;</span>  （跳转目标）</span><br><span class="line">2.   <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#id名"</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">a</span>&gt;</span> （被点链接）</span><br></pre></td></tr></table></figure><h3 id="3-2-base标签"><a href="#3-2-base标签" class="headerlink" title="3.2 base标签"></a>3.2 base标签</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">target</span>=<span class="string">"_blank"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>注意：</p><ul><li>base标签放在head标签之间</li><li>作用是使所有链接默认以target=”_blank”打开</li></ul><h3 id="3-3-预格式化文本pre标签："><a href="#3-3-预格式化文本pre标签：" class="headerlink" title="3.3 预格式化文本pre标签："></a>3.3 预格式化文本pre标签：</h3><p>作用：让文本按照已有的格式显示到页面上</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">     文本</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-4-特殊字符"><a href="#3-4-特殊字符" class="headerlink" title="3.4 特殊字符"></a>3.4 特殊字符</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/zifu.png"><p><strong>推荐：</strong></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>more <span class="symbol">&amp;gt;</span><span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>不推荐：</strong></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>more &gt;&gt; <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-5-xhtml"><a href="#3-5-xhtml" class="headerlink" title="3.5 xhtml"></a>3.5 xhtml</h3><p>xhtml是更严格更纯净的html代码，是以xml的格式编写html元素</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html01</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>标签</tag>
      </tags>
  </entry>
  <entry>
    <title>linux学习总结</title>
    <url>/category/linux%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h3 id="linux系统分层结构"><a href="#linux系统分层结构" class="headerlink" title="linux系统分层结构"></a>linux系统分层结构</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">应用程序</span><br><span class="line"><span class="keyword">shell</span><span class="bash"> 命令解释器</span></span><br><span class="line">公用函数库：封装系统调用</span><br><span class="line">系统调用：内核提供给外部的接口</span><br><span class="line">内核</span><br></pre></td></tr></table></figure><h3><a href="#" class="headerlink"></a></h3><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>markdown基本语法</title>
    <url>/category/markdown%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><p>摘要</p><blockquote><p>主要介绍了一些基础的markdown语法，以备遗忘时回忆一下:rocket:</p></blockquote><a id="more"></a><h2 id="1-标题"><a href="#1-标题" class="headerlink" title="1.标题"></a>1.标题</h2><ul><li>总共六级标题，在#后面要有一个空格</li></ul><figure class="highlight clean"><table><tr><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br></pre></td></tr></table></figure><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><h2 id="2-列表"><a href="#2-列表" class="headerlink" title="2.列表"></a>2.列表</h2><p>无序列表每一行前面加上*或-，符号与文字之间要加一个空格</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">* <span class="number">1</span></span><br><span class="line">* <span class="number">2</span></span><br><span class="line">* <span class="number">3</span></span><br></pre></td></tr></table></figure><ul><li><p>1</p></li><li><p>2</p></li><li><p>3</p></li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">- <span class="number">1</span></span><br><span class="line">- <span class="number">2</span></span><br><span class="line">- <span class="number">3</span></span><br></pre></td></tr></table></figure><ul><li><p>1</p></li><li><p>2</p><p>有序列表行第一行加上1.，第二行加上2.，依次类推，然后每个字符与文字间也要加上空格</p></li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="number">1</span></span><br><span class="line"><span class="number">2.</span> <span class="number">2</span></span><br><span class="line"><span class="number">3.</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><ol><li>1</li><li>2</li><li>3</li></ol><h2 id="3-引用"><a href="#3-引用" class="headerlink" title="3.引用"></a>3.引用</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="quote">&gt; 引用</span></span><br></pre></td></tr></table></figure><blockquote><p>引用</p></blockquote><p><strong>引用嵌套</strong></p><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line">&gt; 第一层引用</span><br><span class="line"><span class="meta">&gt;&gt;</span> 第二层引用</span><br></pre></td></tr></table></figure><blockquote><p>第一层引用</p><blockquote><p>第二层引用</p></blockquote></blockquote><h2 id="4-分割线"><a href="#4-分割线" class="headerlink" title="4.分割线"></a>4.分割线</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br></pre></td></tr></table></figure><hr><h2 id="5-粗体与斜体"><a href="#5-粗体与斜体" class="headerlink" title="5.粗体与斜体"></a>5.粗体与斜体</h2><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">*<span class="strong">*粗体*</span><span class="strong">*</span></span><br></pre></td></tr></table></figure><p><strong>粗体</strong></p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="strong">*斜体*</span></span><br></pre></td></tr></table></figure><p><em>斜体</em></p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">**<span class="strong">*即是粗体也是斜体*</span>*<span class="strong">*</span></span><br></pre></td></tr></table></figure><p><strong><em>即是粗体也是斜体</em></strong></p><h2 id="6-代码框"><a href="#6-代码框" class="headerlink" title="6.代码框"></a>6.代码框</h2><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">`hello <span class="keyword">my</span> friend`</span><br></pre></td></tr></table></figure><p><code>hello my friend</code></p><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">`hello <span class="keyword">my</span> friend</span><br><span class="line">   <span class="keyword">me</span> too`</span><br></pre></td></tr></table></figure><p><code>hello my friend me too</code></p><h2 id="7-表格"><a href="#7-表格" class="headerlink" title="7.表格"></a>7.表格</h2><ul><li>简单方式</li></ul><figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">Name |<span class="string"> Academy </span>|<span class="string"> score </span></span><br><span class="line"><span class="string">- </span>|<span class="string"> :-: </span>|<span class="string"> -: </span></span><br><span class="line"><span class="string">Harry Potter </span>|<span class="string"> Gryffindor</span>|<span class="string"> 90 </span></span><br><span class="line"><span class="string">Hermione Granger </span>|<span class="string"> Gryffindor </span>|<span class="string"> 100 </span></span><br><span class="line"><span class="string">Draco Malfoy </span>|<span class="string"> Slytherin </span>|<span class="string"> 90</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>Name</th><th align="center">Academy</th><th align="right">score</th></tr></thead><tbody><tr><td>Harry Potter</td><td align="center">Gryffindor</td><td align="right">90</td></tr><tr><td>Hermione Granger</td><td align="center">Gryffindor</td><td align="right">100</td></tr><tr><td>Draco Malfoy</td><td align="center">Slytherin</td><td align="right">90</td></tr></tbody></table><ul><li>原生方式</li></ul><figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">|<span class="string"> Name </span>|<span class="string"> Academy </span>|<span class="string"> score </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> - </span>|<span class="string"> :-: </span>|<span class="string"> -: </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> Harry Potter </span>|<span class="string"> Gryffindor</span>|<span class="string"> 90 </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> Hermione Granger </span>|<span class="string"> Gryffindor </span>|<span class="string"> 100 </span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> Draco Malfoy </span>|<span class="string"> Slytherin </span>|<span class="string"> 90 </span>|</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">Name</th><th align="center">Academy</th><th align="center">score</th></tr></thead><tbody><tr><td align="center">Harry Potter</td><td align="center">Gryffindor</td><td align="center">90</td></tr><tr><td align="center">Hermione Granger</td><td align="center">Gryffindor</td><td align="center">100</td></tr><tr><td align="center">Draco Malfoy</td><td align="center">Slytherin</td><td align="center">90</td></tr></tbody></table><h2 id="8-插入图片"><a href="#8-插入图片" class="headerlink" title="8.插入图片"></a>8.插入图片</h2><p>插入图片有插入本地图片和插入图片外链两种方式</p><p>本地图片：不容易丢失</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/media/name.png"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>图片外链：推荐大家使用 <a href="https://sm.ms/" target="_blank" rel="noopener">sm.ms</a></p><ul><li>使用SM.MS官方API，图床稳定，支持 <strong>HTTPS</strong>。</li><li>支持多文件同时上传（每次最多选择十个图片，且每个图片大小不超过5M）</li><li>支持常见的图片格式 (.png|.jpg|.gif|.webp|.jpeg)</li></ul><h2 id="9-高亮"><a href="#9-高亮" class="headerlink" title="9.高亮"></a>9.高亮</h2><figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line">​```你的内容</span><br></pre></td></tr></table></figure><figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">```你的内容</span><br></pre></td></tr></table></figure><p>v</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>pat刷题心得</title>
    <url>/category/pat%E5%88%B7%E9%A2%98%E5%BF%83%E5%BE%97/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">输入密码，查看文章。</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="50f86acaf6bcf79e016b2035a0d01659152c663aedab94deda8cf450ebbf7381">729f9bd5a1111cd0bec91be462d41b8114108122286e1c5e89b2d8ef665ee83493a6a664585ac22ffdf7cdae361fe109e43ae5454ee83747a34785e663ec0346ccd781a9a48b72d7d1912c4c9c4886d7b73b38efdd21f064858206384c36e4941271b9e9013293d4cc5199b2227964add0a66da52ef8048b25499c838d9e989bed5cd2db9723d4de1be531af547ad22d76a59e827cd7603170c8463aad71d63683308e49aff39b0dd2828df37991141c92d7f25ecaa3aba0efdc428663235a711e8f8c0ce75bf1979befb0d071f7cde40a3ba9fc29f642521aec1f1b2845e529ffe4dd59f8078b37d68d1ef2e00fa880ba5d105c8572ee64f58bfd0c478162411ed0689cb36d4ac2e1a66a8d1ddcf4887b4cfd9cba404359020cf4445b48e708858af259e4190b14594db7ffff66ff9ec971d104738158bbdf3ead1c9a7601034b1e29332f952a3089e0c4ddbdbbeb6831b873360ce529a69592e4d2c391cd99820284ec3dd4ad6be9713030bcfc621ce4b242f334ec64f012286bfcf7a87ab49501e505c42d075cdb3de246095ec7c0b9efcf2dea363011ad577f36e191a865899a9f0cf8101a69329d151fcbbbe7fe532ab2d464ce60a9c79f2e4dc9117c2446118aaa90b71c95575b473d673a8e76c5368d6f9398aa83189fd64dfbb7a0f1f0bc64918386d117053ad00e520b4c8f9c9737175eb11e6b6a8e32aee10d5eb849b196f656b12a34a0538e9b3847a6e971fd65923accfa2c60c004bae03550f7d242a1113dc1dda25c8ad65f441a5ad8d22f99bff513e88ec5e6a3687035edae7019ecab6a5979a328a7c64a77d8a7df75336a83c70b334a0d3dca81ba379d6346ed5ccc9080a68187995b509b8849b7046073310ddc80ca83d9eb8a2b46f3d8d1769dd092a40868266d5a78d2335faced7892adaa6c15dd7ce0739739f0c69ad79af2531410d2721eaacf6b7981214e24dc2b7e24037c6a25f72e309e5cec28900d1cf5e513a4f8b7ba0e15832c0454bf2b44a6055f8a3a93eb679c83521ff8465b894548eb0ceb106d4028f130c05b32d6038a245e0f1f16b85be8d4d4ac3b0257531aafc0aa95dae52cb4b11fb562038ef9977fad8edad5953e593d1f54226d5b309e0f2f6e82641cc8f1ef844a8d9e14de275841451c1118b671ee215075d05b34ae0f70e49da0405d57f8b29f3af14ae3631c5a8bd11717ee76b9c25b5f5d5c48b72bf70b60cc1279d1b4cd325dff683de93540b7e79cb94ea06ea78bcbdf760f136fa73ba96badb44c812c90891fb61d64abcce75b8db0bb6540eb1ee4f269193d1240076bd98c59e666db1156e0d8e80083167efd05f4bf8829e624de71f3a260d65d0fb1656ecfb507df3f9a023229ad96e164b601ece20534c7541f2e859dea3a267a1f9412cf2a8508a2c8630837a9e6d5471cc8e146d5bf296f10ffe0744d7fb6d81b1475dfefd29e8402a7a493c36815d61840924a8343775b047f48849e83685192793985f3b5a165498006d9ebd90add33646f68f4695b3deaa2ab66f7e85c61a9861bc4c58d17d4441c9b3603140abbe5afe617067345e7862401afab2d716bbb42403f5f275550a60c5cf80f0ddcb0c7e443b1e947b0fe52f04a61c071d31c210919794993bb8e1ea7602d9b2cd3e60704afcb612c5794341f04d70ed0aa18981e0bf265d5affc3ab74d9ae3d4955097c21611cb7446bb482fc0f0e4a36b617fae2dce23285cca471d4dfbd35ff6ca5ad52ce22726e91514f89857eb16e01efb23b962518f7a6f76219b4072790c5c6c9a159e36d99ca1a08d04b7e85e0eb137b169377317a01f7dd557bf3d2476204d1adc0607983d488179e6a73508f415b2ff668e3fac1e006ad7e5dc8fe1b35ef3faf87b92c53cc06a04ff0d8bdb5c623cbb839634a672fb0eb1bbe35a2ceb4af69c91f1ce027cf6b96c69c202f449c6a9b63244707a7a925ee931f227b42791fa9b3b64a07f8b518a1b7822e038804d8865731ff10bb02199d2547c346faa8c31df1e1b2422ba6137e6702cc639a0d79bf95db4ee43096cf11b8e16e301096537bcf662cfd5732c589c0b2a5f23fa2620fd2a84849db21ccca356b6ae07e10dd337f06e7f32eb781c5d3d4d1bab7d53caabfbd58554c3f67213bec45150839c6934a0ec18fc3cfd23c79b83fa64b99f2d9c40adcbe81b3fd28dc39366bf31453d2f0de6a373bc12604d132ef5f5079fd909e61728d5b1bead898ac6bfff2971ca99b6c652d6eb1ea4fe77df5f3719c7665e1046b33280b9704d626f76667c05b65d96fbaa2db6de4ab140217f32986284c628a7f3ddac8a01c29c8ae4ad2664960585bbbc5d25fd917dd0a75b7fc7908495b8ab3b89762ca242ea2253eea7e7f543ac8fb61052991d4ad543828afdd9ee643806eb0e439a7bffec7d0ef06ccd56bc2f8b6dbc997ec107154532eca1fab11cdb0e793b17cffb032bf1f917a336f43372a9beb1d05d6b4b87e1464cbe55c0971d8c446ba529b37c9619db24fc374cc5830775f11ad07c4ebaeacec1118f2e3dbf01555afac3f73e0fe3ad1fb53d60c676b5f6ab7ebc67499747b65f0d609a3ec8a45228eb57650629068ff4288f19cc86bee3756c7206c3d2bed7b58482e08b4c6eaec04b39d0f178e8cd0b5e0a2687a4736ac26b9a3c861a010eb6a5c62d0f2f6e2edad135dafee3877adceb4dcd370cbb24e7c5320d03c2f83555accc09396d180734f4e667e5cffabecce365e1f59c6eb315a07736f8568564cb7664dbdc0ec8989ee3ed93d6c54651f946b19d72a908735161f432bd3e1d02eb8eec38b733e2f1b612bb507a94ddf180727273cc3087a5f28ae1cb97c96356a53b24b6c2773d1698042ffbc9a7c135f36b27602295d38b96e75a2717a4a05acf1f35e95a064446988f96b211a4580ad0055bd89c8e7a2a19b1d84dc371eaf2bab0346442a8ff76caa782257dbaa847d9ea85543a861630805f286d270308c30d2974b338c27ae9f973cf0d774647e8f71bc6aa21a17098e633b584c5219946801d6c4b5db772401a96ede7c093962f9379430d78c4da2cc7175d6e663b5f07b6bdc23931955fc679d36969eacfb5db3884cace020fb608bae3fde23e94d2c0814d4a28d34e2a448361c677ebc927d3eca5b72a93bbdca16626c22c3e2e7c0bf1b16c4f4b8207d83d5e67488ef3da728fd75a384fd5b66c986a4cb3a1a23f8d58cfbdceb8f7e95d2e727f538cc8dd511b96033b69878f153f4fb414b83a7f2c0782b659968cac3fd002f8d536205bc09d5b36aa34ccb6048e0ff05bf1e29cc485bc1b4a8766a47f0a0a47f1e8aae0e8e69600212bad0c2f3c3de4beb704e60601a8f2fe1a06cde8c00442903d8e000a60729df4d12de92ce823a5718e22b4045d7bd8f8bd3a414b5c74abf4d50aa8ce6bbebafe025953585b0d2e6069eab38f1116aff6486b587417e990e46af8d7cd06bfdb03ead0a24299a71dcf92ba481e8436dff9bfb257e7b751a4f0cf187a20f094b19537bb3ed476877f6f3e7c98f2aed60c513914c471d95839cc8daab85234847aa19284f4ddf48d75cc1796f37ed437d2fef946e78abfeed8dfb059dde507639af50adfaca1e1807e0a5b1ce08f8f4da740e6dc8173c5c524e8e126f4421297caab1fc46b379c95a9ab711a107a9fd33484cc9d99d114237fb49c8693be66ab2fe477d3640e1893729074c9fc3b384ec439cea7d84574d38af5eed79a563f5f71bda3acc673fe14099856f41932a18b3e64ccd4f8d5fce1e26a0767527da277afc9b9962e4a89b14287b6c4ad2304330bc20429193fc03677f21ec546c6231ea1a42da48f4a40366347995604fe29add228c03531b0040ae7cdfe22ad4f23d5503563d6de314bb6528a3b223427d422a3ed6a15de78f362e98bcb11b4eb92807b48b42067b1f4f4a7c3cc91ad831d1431f2ec36c2b7fd357c610473149a54cd2b12789ce4dbac4c9dea5c96e730a5cd91007ab0b44f2164116d7b04ac44595bf2fcad86b260bc6ff220b1d0697cbd686cd39e3a9c98bc17d968236ce70f1495c3ab078b635322c865133ca406001bb31836059a9448e6e1c2e17606b9ce9af2b6907c08b7e9518bf7e6ccc1516701c4c1a5cd7038caf8a754c492ba20544b0d7718617c134b4943759ef2830cf6683d8a8f9c690d2352df20e2fbfebe539bbba0992f02675f0f49ca7610a94c419b41ea74c007c0252361998d9959febb793f18cbf11349a24480c56fb7baa876b922e95064504e00adf630bdf3a8353776b5058b8e1b6d529e866a61446cde92bb49d2427c9ee165e995d12c2f22d19ec47cee84d4e6a668f9d923dae9cb0573ea5424fead392cfade8a9a13c336e479969b17d01db8984c2be4e12eba13f3c9ae49b77bfebc1527af9df0026758a744f8df814c3e272f2bef03537ed67444930a1977edd911d230ea88c1c320a93df3d526cfba573da60275fdd0674c0fae61096be9e7cae510ecb9b0c1ffa653af0c58db407d9064b0ba548f796cdf86cd0a070a7c640c0a88abdba6f379beab40e111c8d6c90ba18a35e66eebd23ce9a08c8c0760a0d5472a17b1bd91e5fa868242678b940b94d9a6e032ef3c4f43afa6c8c74841ab4bd44ab201fd6e6ba8a5a79d638d19c8194de0a354f01183b6c11f4e6d52788a59c9f631e332574d5366ca78b4a41e638513c047c25274d0e83800a1e9b3812d9332a5910fb6dc1d904b8bcfb91a464680d029982ef084d53114b1bfef66aae86d47ba86f3007563e3d9b8e92be564ea81d43b3ddcec609d0808c06866dcffb12b3cff6bd0f9492c32664885e17a872777e138de44d0de48ed3309548ab0db1f45010b31d555b2c05348e6a3edaa8e16e3696c74a607975692b5133c058b58abf7957a682246ee825ae851d42459666b7775e84c71907f3f10b0a409472bfe16a2c581b97e4859ca38d03255217434e9453ded9d040ceb4865ee694df5acf8191a3111263f569081ccb99a507a5d68db21fc280dc8cd8010226ecd3bf99ab3bc37832dbe507620ef120aba0fb7c77b7ca5fcf1106daf087576077cbd603d7d7be56a1c34b2404381b73df1a4eefc44f62b7420bf631ead8a05e88c77f3166b60cbb8a90a6cdc3a096a8f222b9acbfc8451fae454a7ce720e9b52bb15982feefc931c8c7ed4db60f7d21ad544e5e557f8dcfa250ca443ad2cd9e0cab950d4776d9ecc5fc41c4232aaf52e7cec7de698be1d647bb920ba2ab831a1f391f6f360c9e6e48148294ce76a152d1f0724f7433bcb28ddb9e139ab1881960ace277e52cceed42c99ec2d99e17cba5e4337e4dd3689095b6e894724ea797c60b8bbca69a7b2103241f63a096ce0b13fe8f01f7aae08770cfecc4dcacbc16382aecd61056ad4b32e36b5305b28516dbbf3411abddc97ed770cbd7f590535360fb36d491696d0dc9012eaf33cbd857647451da93eb41b811bf99c65ec25cb3804437cd2dbe28cb130d7fb944e41a4e86478f44103bbf211e852fee8ce0d2c9bd760b880e42807e04dd68b20eaefb01df1682a1cbba5fa2507aa898bfd1f839ed3c87ad97d2a5f61c97bd3758040da0a0685610f02dda120ad5da6d2af7b56c279bc652a9e037febe18c8e239f27721667021893d2d8838a58b5e228e67671ebc3aaeecbdefc1aca3784380972a8686ccd6eb2f363fe27f0a6244f2f66d4af6bba316bc8e176a56b746fbcd43f2da9e587563ad6b45a950e0b8a042446e1fbc66d6d02dc68c3587a89a59e1798237a962ebd4273ce8ca960111de148ecb86be137cc65295c46d8a30352b86fa53ba07dbbceb3b43f0ed9b8401273a6dbb8a3e86e66ce28fae41a22395435022f2f627f4d62f83c5f369d31735c1e0d5e17690215ae3534d7a64f8a673c6fb3cca11f5ea8835fb31ca1bbcdb820ea4604c9a78dd3848c909498e2399d9cb56d8937b24cba5e70adecf12a645781273443411a52e8ac42b04eade2def00af128dfc9ac74697e525b4ae402b82a3f1dffa998fc9200007c7d320a48b4844fc90975b07b55f5326acf7d0a287445e22b3ec4067d455d3faddafc4ec528a21575d6eb197aa3380b7e4d8c797c2675834be243b379dda2639cdf0626d04b9a53f4eb771c5455b73be4bf885c745d56119c094c8859f1d1c3c51db3b2ced724c6a8b9d7a45eef52ee31d3af4cf9ec6d8c9459f117719451c4741f98c17f0612d05a9303980b84091becb9095a7389c8abc3138955865f31be34cb03ecd17b32bf342fd4d9956df248f8302f7e22570abe0368961fead101bb9b242b7b1bb877c93f504bc3284211fd75d3551b061e5b7cab047dc91ad4c2daa06a0e1eefb8d300e47a76e14a4c9c48a6dcd7214cc8fed43d44a6c51c84f47d5c138915cadabf2692413430f8c1b9a35279498ca117242d3849314d346f0ff0cbbaa8a11418252ebeb9a97facd8fc16b6a34c9de88fbf239386ac3a2f5b2cb56f198f1be0d775eca089779a16607704eed299a56470922d2597e0440450e896919bd193e8fc30378792052bb88474ec6d5d5a96d9e806d86b64f099073a73a7f68334bdc4f55894271ab762b76eaae469cd99219117f35894801a79fa3c65598981707a3be1ffd4e7ff1dc570a567f6f3db5c0aaa029bb754965d8c9d4f0db2316b07fa38f153ddabaa1e0c1eef46b926a533c2f0a3a283384e32dde7d5fa0b700934a610cd3c9c8ff1c88cec71d34dc110fa5cd5f6c9f61963657481e96509c1924c785b007d69a0e62582f8175db7632a751320b9fa1e9f4880a80478b93b2a6c980aa018706a77f436792779dc27047c93753835f4c499d012459698cfc0d7d335bc772c20525f6822617b217316eb60594f63813cc5842944407b703889d4a10e0d9cb10a0b29fc8e51515ba1c3ff888a75e54f1554fb5c613c80f39858aa454b2e43fa5eb8c9d61e239c8c67ba63bf6d0d73ac47679310f9d64c14114ce8d591f670250df04b0ade6ced35cffcb4fc3b26dddf67ed71770e8dad2e6c1a5d49ad3a124b23422c23121bac3c133af17dd5851bdd8c71c17ace638b1f6d02bfe854ef09e0a9f6458f5978fb12e53a7f9186244ac1c1b29b025b59ba9994ce0d03aabaae258cae21c23a792210d6b73d075473de888ec2c3301209bef9d2435b2c36cf03e6a1032292d31bb65b9f117c097b8be044756fdd689bd35d0275501c751d50ba7dff2aea651dbc8b7a2972528ea304ba7ad9fcfbf35ac746d2e721fcda9e3a698ba28d09edde3b20e92d84ebea8bfa95282d0e420d6732468d606b7aa670f634cdf83172d05e79809a02808811422b12f8c6eca432cdcf0181e5755634c358330cc31697575335eca17afd62223fdcb924c832cc5aa36bbd891ac9d6785cc8430bd5cdaec03a6a040634131213049bdfd86df91183ca1f2563716e738a2dd315a17c817cdaaa2f3b17ae93824fdda71ae9ed79bf87ab40387b9bd737c9cab1c43d238b157512ddcd6f0e06e9d6bd45995f463f10b98af447bba4d62101c8a22482bab9e0a2824a1f34a2c96803694ce4903a39ef8ab4e1d212a9466fe14e99fab8188e72f62d37d2f26d2d6221bf64b303d3dc6aa164114071521330597120623d6eca38bb96f81a46cec264b58c38f9b541b30f1be267f1bdcafb65ae012ccf270dfcdd7eee50bbddfa81e8e5c943884327fadb98ff040936a3471a47b606ae94880cd94a67073d3f1d08c3800fee2c978265bf34cba53cae8fbff17bee7d2c9242922fa6c2b8ccf8ac94abc676c8114971bf051aaf1f9ac5407e8e242a4721536d7d78f7413bb76b5268643f938c98e79b066b4593e648e820ef8af068ad7f4a4eb7ad63e1a395ea094d5d8bf4972e31e7a08cf09ea27f0d64898541143ff0aa23a1204a7dea15abc6bf92040de463c2166700b54e0fc5b5c169bf37a35d7a8fee11b2efb78bf6bea42a533d28be05e88ac576fb70e47adab24e049b2a0fe8abee0f1e6271825653a656a1cfbfb72b6994de167137aea58fb3ce037bc8325ac3f6197f0db420daa67a17cb49cedf2c445b34b4a8180f6aa548804bb1df634010caa06f4bd9eaf2e637ade9bb9d579c7a4e8956ab79816033b4c74dc8fd2717c190c614eaf532cb135d826d58b54cb3e2cd77fc2386bb32b3591c218c32f4a5a0a105ae06b08c024a18e725452ded385a9c89105292ebebd9e33cbddbf79278f755909273b1b216d1569659efabea52c4f2d7a063d25d368f2d19b34bd32df38a78e6035afd857d0f72dbf0cb206ff70ed029e117a13f5f40cf2a19564e3e38e5b322c3ff340b268990e7f31f9ea0a9bf594960459b3ab9a2b82dc6c5e7895fc5e94d4f4dec9d0da3e7e3783ad8fd5f964d429fa2f0b14e4ac0f56ebb725c63aca3ed8a95f25394b531d479efb9cb35c5ecbc19220494d6a9078996820d907c71fc9be94c671e5028a77f02e51bb8da5e9d7999abc1d36c05eed8da928288db3101749e99ce010933e98096eaf168446fbd018855fd12702b769170a14b194fbe9d13a804a03c8d6882c76e71bc13457bb45ee58ae2738a0e27eece66da251f19a69f1c0a084e972c5f3d8e551424542f42b19bb79a9595490081d8db800a2cdd6715b19b53e89d58a3c93237d3721b6c11280adbc7a6c052389a3f910df60ebfcfbb5f36f412a74f235ac785fe33fb45fd5c7eea16e2f9c38610f7bed7bd1a2b19f855bf4469a70870e605d8a188dd1a1559e0399cd008e450265125a80b291605b6a5983cf5556e75ef0c5584c3bf10e41cc7125a610eba679c61ba3a7bc0fd2425d08a70f8d112f592000235bc65cdd50d4b5daaf71cc53b7023228a85d96b0174eb0af9e8f01fd45d425e19a8efebe960fe94e8442c91071b8bee2b58ea308858c6c55cc149bcab1c5ad6d069af180bede807f5e30c52f285c078825fbdceeb637a484110db0f01cfedba057fb6325bf2d14bc2ad3c0bf83e9448323e85d168960f27f94d55a12b57bec5c9c3d983a03d1a760f7b15d89fd8aa0238e69c6d59a4959b79e1bcd34a5605f72577e74a83e02b64083eee15fe81b6b1183bf7cf4c7545087e08c0d471e368477a0a8185003078dc16fd2215f24751524c01accc71122ed02ba377db3f679ae6ca3fd9e7f3eab42bfffe69afa1c24c08473aa8ed5e637c2bd0299d17e00a01648bb5ffba0da5d15c3bdab59815209baf686f9b093f1a00d1a8b9b064db960406c82d40cbf0b8f65142b440be9ebd040e44bb8b243be91ead2c29570380176bec3f7fc1c35b4a9453a0e87404c10dceca5398788bd440dec20c19535c724a8d0df8302edd6b0e0f328c5354be22f1409ba4fdbbff8961e76214978c0e6a3a791e4800d4d4f3b929676f26c103027356049342148c16a59bc1157180bbfb93fef07c1f4a499a874ae015f5ceb72b76b59dd037d949a8b4c0ccf4867326ea82cd519ddd3b3b4d2bc961ccde168653f395a23c0150d4339fc6bec56955746f91d6e51f540b68d4595f3a5500eb36042554529a350f8a6a95487e0b814c92546d5e5badcb15ad384f17d952b131607fc5c0e23292b5aba05b49c282b2a3905c3a81973a958de03c65101c6708b87dc8475335338a8ceef4a1c9529da684725db0e691cd83dac5a4b134f08b012685e25b5a7b00f2649f82ed6ec911178a12f325d7ec67f31aa56507d9a8060725e40e3c631a1eeeba2b6666bacc2df0c2819b508c43266c1ba36ddfbbfa137ec3d56f3fd705f0b257a5d81f6efd93864b22b4511a7e5a390db5695d7d98318c3c68c9fdae11cdf24533095b8b8d80109d97bc99d660a63b801a5b6e5984af22702a93663d591b21a93bb84f11784cff12e33940bc8d8c67cad170a58388276b5fd45b8e8e6deb8d2705233122dbdf15657e8df863cdd7b63488df81e05c79e10066419ae8d06b69ef687ac3f00b9d322425bbad3bd62eea5e2cd3816a6ceb4ab9d1f34f6105b00a26882895a190514323f228f122d4d34485b2b813cb4477ec191ff7870bfceda63e42c39e49e1cec58671da76a5ee98cf3a76f9f2209910d1f10208d1a960595f8512a60769320bc9ce964548678988d24ac842d3992299452c6ce4f82885523336eaed1398852366b53e84c7ad0dcefe13cdfce5843967555f40a141a97db13ee358ff50eca6735228381f0e17f605d053b47f90bf7fe4b9dbe738bfc7d561b0e87800a353f14ae81fb55d5120828a28b82b3958a718b2dd2ab4c82bd6c55be29b8e9e9edf032bfd01037c7748818913c14fa8b86bd54ae7a9fe63782c87fffd79853cb08cc3e18105075633f56edf8c7b05204806115d5c7aca00c97696f71963125226bd9e424653af46c17730d7059e09de51e12bba05fa6c5a77028deaa44ce7a8415ef01d8f9b0d4fd5b1aa5a4a550da23b450eaec79fbb2637b8f2dac745569d5440d6cb191f13a40e67c93e9685829a593235b910d3d0f5c53f57b0a1f0c9072ca2719e40ad0675edaaa7c8202b7c7377b83f628f7e1c92b5b796e8b30125de2c17d303733b041eee931362124a4f9d338c830f733425d47ba9a117d1a3437d4add9ccb9cc80cd2e91049eddadf121ece05a75370415bf5a3260ad1f8f13ffe9b4e14371b96e1d0fa66b707a907f65fc1bca6ea27a6a0a8944e455be6bb605de26977fd95a46afcac475349f4e857a7e8b0827dfe84545c0287c5f941e4b7d87905c9d5cfa631880353ae4b3656dc7b4f8397c75b35de65eaba9d6f159a99cd9bde3f5f2592738b49dad9c064a427328d16e2e3ab58fa7f2e0db9c308bdbcd550886c2451a19ab192af4a4f24eb556c8f341ee8ffc34d5d993b9550dbea41cf19e99ca8baf8a31a92593c811b3ac578835186d8e344bd2bc8bdff5c06d68d6037a33d6f5342108421c23138bcb4c8b57bccee6f125d9c8db07fd522ed7e03658d2487a0fc10f57800ff016b6f1e5e18c8a4e50631b2f59691216f6ac142ed009c1ae830cf8cc6d91d6d4135c632706033d3348b186a524922d89a921de399bf7d122a1a2ed7e84e6680097912f06db95279c7d4138c89d9bf0d250c79f7a027ca797ea19286e66671db09ab64617e28d394fe1dd74c69bac2515e30b7164391e9774bc3dbc504d7e500b29655ed908b5b191097235a07cb23f7b0ccd9e0496b9558eb8ffd368830bd8693c9b382deba1c0b007c31a42b0e7fe03be174b690d0f5d589e4b1533a06a27a02032af0236c90d6cd2d82825013e2cddd2223f9648ecf270dd820faa685cdcf593206376295be19c928407df30213a16ed841d882cd24b361937fbf9dec84625cc2f283aa1f129c60df62f1f5a9c68f053931858a4da65c9708cd7ccca7dfbe9b7ccc53ec8d40c2f8f62ade92da8a8a9c842ebf04d0102d6eb9aa0ba84f506f65a7f1972cc7b750582562b29e074b853b6ace1a33fdee1946626eaf1bf92c1a87a344047ecdd6ec75060adbe488f46077105bee3241b043bf778a9ac9f6adb276d2952076e7e1d6a0214351d6bc104a1218a1ea953d2b2b82b34e82f4651f2152560cc8b46b6c38be93afd76870cd671860b4070ef145aa23d999eefb847e3dff6f58236d7ec250d2b736cae5cd231ef609a272a1a09d24a7c14f2b845406efb6b1a642c3d5ca94410a418bf4ac1a722b180e635f39df4c43f6560269a1e0328bdd53f7ff012958839deb54a24a8c00fec5935f673678a3ef2127437b024c00e08ee912f0850a1da48c3b1263a8d5a6049d94c854d9f4a971fc857b6bf9b1a8dc1e00c6e071823e11c5a9607097c19591312b21bf6d91789a746bbdfa76986ea0a9462f2034b19be3c9804620876b06e551b3d352483d3b71fc2fdd881b3b4b55a650a8be375944381ac2222f3f0db0cb954fdff7d2175dddd15c3822a9cc862a6636d0dafdcd25569fe413ae0a69af53bb1c75d928b0f9b27ba26d0e49cf4501024df60c154559c7c46c0d1a7dcaae2d2fd24c38523f9e2a7217c5e381595dae3b8671f8910b0a7d205bb0f047b41ccacc423c6cca050e1a52137f551509247dd9d9833e9e892653f3b1e0a1a652f0a870f1381d1d7436ecdaa171c7744dcccd28b08f9d998bdf7c4ea22ecc4f8238e34324f8510aa4193afe8142ade4fc68d2e488a822f1d497d8ee25eff554631ff58e28cd505c59b6eb266062bb2ac05ba153af141555558cff2e9775fdec118f549cf7a00332d5f9d097b7ffad8127b06b2497f2b80679c8abe70eb16cd0678a70c0887e545714a9843cb6c1285dbfc1457f538f41bba26dcaa27732fb43f06e17c4dd03b52d6b93e4d1fe548dafe2798ad92acb1a09b7e0b4a24829d9a564a9b1be7ed2afd874177609991b52c00e54d2bb91282e0c7e4cc4e75a7a45db0d163841c9e9f7ab0d0a9164a3983a4ef92b0c2516ade23ea5fe8641aa2b381f77cec5fc133ec94ab1a6a9bad625c0fffae63c27ce9b9a0bb67434ffd0aa978a17531e4788477dc03aa9e863206747e40793af2a0ae83bc8296c67fa11e6a641bf321e4a9f551cc4e1b98e4f7e1ef91bbe2b1b60d7dfae4d31dd25375607d40bbc946db2764bd99f21a2e193baa6596ec7d0c72594ca7ff73f7a47492a51534914aede976db77b5db61d7d35d0edb7f3baf31901e739c0e024f69441848e577fc1be550807409eb6c90048f07da57ae5e460010b8faf8fb6bb49df02d3e1c0e2e38a9f4ed862361cf6eaf96952b19085fc5de9da97333b2067a301149494c80a30be7d3e5eb83a5faa3421ef049f7e1aab9820861e5dfe79fd6720221cc443b2164e194f1c2cfb48cf842775d5feba03587f5b31bbb2f8c2ec4878905daa84433b6fe25fb1981f8bafa8e535acdeed76a49ae91084a989cd6c9da4820968de8fd93fe7ae4067c043deb1dc1e787031c05cdce234f55b41dd4a1aa9c71d58e3e8bd5d3aaec8d06d3b72289ff50cfc10a607dcd64aa4282e51d10fa83454f9ed711b8e6e5c33d6e1d7a810364d0dc5fead80bd550fb38e9d7abc0e549faea0a271472fb99688348df97569b10219b735e63b39e4d12ec49ce78323fd67d47c7c364f8eae6ce9f148e67be8f03989bef44428056b961fde23c4e5e75d8db733b1a051a915239658b2e17672b1f9715fc38f5974529e47377c6cc50644c99bdc5dce270ce0153a190bc5909551120e097d64cb09042bac78f1da0fc9c1c3d352608cbc7835299a2fd7fdb1530ee97368933858184833d52b1c2160387d8c54932d7055e9cd105d1080f0f0a357e2847f94bc4a8847fb4e7ad7c8b59f2a9e893a3fe7cdc5227d067b71949406bd4452ebcab6b41c2542b3ad677020bd21cdce617823cb1c3db6fd95d4bba2c0244ba6298c93c87900b194eea971cb3c3e99af71889bfffe1881fa76e5b1ffa21ac6ef3333e78fa5ec7afda59db79bb7fabc1b69f11ef6cb00e4033184b69ee297bbfb51f598ef6ec1d03a1d06dddabac6acd015f4e49648f3cb2a71f461193c9caa2b739664b42279f13ada0a05b6b5e55ca0f7904af9e7f2463235cb71166d8ac111cb9130f203536ae76830927c8b50988ccc9e0fe2daad0ac62f97020de5239e16f0ee4a961bf87530f2918153a244b9dc9726b38f0367feee2a6990d51295c88ce044bfb090170be562f360f328b303e8e0ebb975e1e003d96395d84b2b3bf93b0a68dc9b3b1b9ac031beb6fbe307f8e4c7bd7032a5f5762328cb495e9e25a5b9306ba154096fa735a4cd1d8b71560cbe8fce3acb1612c04c8dca5dbb7784b9a5fd0e75122f8a5427fdc8612694cba5ae65b7f26223fb101cce49a9b966ff63188da8f23c21be88a2899f968ec394bbc5df283c2f1554edf9f507bacd636cd012e2e235860486fe22e1cd2cf7d4ef41f2032c15ebcfb66fc1bf67f22aee85ccf6d6cf88fcefcf2cde3351bf193cfe28f614191e130f4502bbbcd8557c5eb9fcf07fb441afad0b4e5b561ea8ad440b056e178a966454d89c75012d5d67421ed9ecaa19fb6a524c86793c0a34ce6e6508b2e150c6b669c23d449215dcce6f3f1ded3788bfc18d270ad6ac35e0875d2dba7a989c16b9f2d525ac736e251e0332275b01a778a9fe9b2c5f6eec0fde12c28fdf7b3a4d4e7c43ed6d4022dfea3e5b7fd564aab7f9ae2de985d3bf0b663c82fd915750849abcc5e940e95cb483f438f198a74faf9a93ae8badb05e75a629e071b86aa816d9282e00a531d2af515a993425249cc98df0d14c32b4d1d5ec0142d904f17660a3d3b26a43dab3ba89e8dab9e7531354d7859c306d8c4f110b1013399599f3246a9220f995e4a7e29d94982d0a682570b7f5c161639d07b317d1bef02c653d634c5fb547415695182893efaa430e2538bfe475ec0d81f233b3f977e7571a21e70c317612f7478944b2cfcc81e537a857bdd3aa89641aa3b469a8a9598d6759a8b1087c46e4d56368043e4e8ab80ec8f0630003dbc9a43813fa7a4d4714c4a55f9478202fdfd3c38b41d1257d1d914fb2be76c96e0490007c5bb426696f8cd8ebcb4e1db428ccac1b016921d9e2e4f502f8000a41759901e2cb437e831e3a5981094be5413c749a5d9f9a66281efcac807f402a0c95df59b02993df5ccf24a69995fd749c89bb48a30130206d121b5ccbb267613a120d1c06fb3dc3a46fd09b1deda00d2322b89613e79a91793a64219257fe6f058541da488e3fbed9b860ee139afa7c380c4bdbef554f356124cec4d9298b8e37d9ffcaaaf21c57a2bbb3ca606502a0f1901c1ced8c1f427d30b1191c48bde3db90727a7ea7cc8ccda3277edcfef0d7913bcd730288ea7555ab653e6725cf13db3e88d8ab0e599e8045aa033e1103a964a9a6e3b63d7e181ec16521b062718e8b7bd1ac2c7b85524220e427a47974219b62c72a7fec0cc1d1ccacafca627132204bfd264fa42168d4da76a49a877a174818a93c28207a221b5460db0a3e4759113c37127b1fb6406030cd3385596311858fc05322d15f51a60d180d9fa69181a1b2f69592af166298965b6fdb0b706533d2b13542d1de62d0b1401b96ea667952300709dfa228c19968c63f427f8c322580498a0280088a2e6ca42237c36348b7f9df3dfb17216700c5fbe1fbd16f12b042b354b8513f86853e472e30131de48587ecef4e7cbfcc120a4ea4bdb717d67e81566522490a69a179865d6fce101c88db3af437942871d48491dbe505ca3fbe59c23812d9d6a79fc14cadd242cfdf4940fbc7b980ae55b366c981a93cd9de621ecba7f9c32845bd48cd646cebc049b5977374bb5bbf32a2c5fa6fd086dcf5776a364f4c1ce65da7c1ff8d76d970cd884665ba4e76ef5c5a2929bd04caa31d5a0f52f12817de2b7244f7fc3454baf73ae7696c734107831405affa2a3331e47f7a600559abcd6c4a9f305b8a12a38f2313cdd5f62e78a9e5559bbbe2cb5ff089dbcd9c40472173419999a9076857e05c7011d247268690ad0f32877bd8645817a1ca5dadfa93aaddd3d0ef0aabf40f76663f23b2ae67f7e653575294dea4a25c4c7f8ef4fcfcc76a53234afedafc196e5c16e8940c446b5c9d115953b392d3c62fa37ef364c9e66d36c351edc61945a3244e737f71c5321ed1d83ee0923b2326f3bbd247d3a511efe1e02b1e3acc02d26e04be866ddda084ba0d34ea257fe019b125dbb7edacb18d2a93daef7e87c86779ebbb1e3de995ed1fa3c9ec75c16461ecb2651191778087e6319ade474e6f52386558ff4d09f4c855d8053fdff9e6ee8e7915911d5a39f9e63acee8f8a4bd1a420c899cc461e735a5efdc46ccb485ff23f435538e5d61008d645b930e5f32d68d38be68a417623ec57cb2e36b88a3e4c2e7140ba80750d3348844e936e1dec11000e756896be5260b07513eafe7779064b611715177516d00bf2921cd8a72795c5e14d4ca2961cf1b74fd110c0ff107d60234fdc2c1cfa04f580b784bd0373b82e0be791d3a0663a53fa16ce5946f8315f494fd191994073cc4a104816b406b4e83f50ba9d4cd87f5e3cdcc1091204e3fa36d9a06c6d1bd8d0a400dbb0001efcab1cacb75c6759fea895ed51aee2f27f765e13cadae3bd1594a6b302c4dedb4e66316a431506e4b6b611d4a60495ddb71b20f75e1f48205640a2dae9880dddfa6301896b3d1a647c2f9a840d45d38c2287b9ec2a0d0ccfd5d2d42c3fbe99bab54fe5ae5f5513302d8a8163bb0d17ba589aa9a16254b8e68b8fe2d936bb2f6321909c69c93e8faeb52dd2602825b11329c0d9fc9e8c088c41dc8469f473f7281eb1ca3458beb184179095834e478e3a7ad26c5e233c2c84ee062bc6be02904882577250a76a188c970adf0f4440155d909e312d656bfc3e78f41060d427709e3b3f7f854d1e0c7de852f2d4e4bc5bd2a985247c0b02bc1abe7eefdfa456792ecf7ba91e5e17e817805e4e47944af32784f00748300c64a51ad73285410243ae4f1acb694ae723074f616f768d6d1c4716d6b7403fedbe78ca32f546a32c83eac47d036341e329ab1d7d118917120ee28a34b4e73d3dabab9240bac71a58b5b349facaaeb4cc0ab8313c54b5101b90feea7beb9fac78eebbaae454d9e94eecdda2a2f580e443ee26a3d0cd08495d346cad90be9f56cb5ad9849d9832b38a8dabe61ac362ec40c24657abeae0cde9c96364c57b8c664d74109c8a05c86081809d9b585a462585cbbcb4d4d738575df2c1f38497555f80e67dff925c1b3e19b2649f6b776c599dd697d92b38eccb8466730c47133fa56efd3786dc2e47ef876b989f68d48b77dafc947ac25a95a44d4c028cf929f676a15be6cb8a8ec03650b4a04d54fc244607ffcd4505ded4878815ac60991d4cc37209599781792686e5383332ceb93bb7b22355066a5e74c285ebab83fdba5018053f9bc8cb76e1345aab49515ef6890d000a5f4035b00f02d8378a5b3e3b303e759f52589b013a50f3e1e7e3b90eee3da33ea138fb485cb3d5f7e4ab2cc7f1699eb315b5ab8107607b4e0496aaf60369264e55e416151aa530ee572ee2f853f23682346904ae8ed838f91de3ebf67ed154c6e5c8682db186bdf86a2ceddebefc33cf8189945d705c4d776c5dee44e29d57e1bea52479f6ec0adc99a76e61442c8d5a570901307ce11fe48ab04a09a97e670af59e4bddfa8ff499302df3e0774d97d37cf2545f481d1e68cbb593bb03315c36ad3b5fd57403f154645c23bea46c9f9cfc843c65391dd85985e3dd807020d2cda027e9392cc10b4aa0c7b9a18bafbc77f2d21afcbfb48ce2049fcbaeda117c3e9a97b8c892d6fd9511f26d75214ad9ba42d6ad2810b0309d1fbb3890c4bf115ef06e32c86e63ebdb7a2fd7616c596f6e13f64cceeaf06b72cac6fe1d84d51fb5206fc9c6c64abc7e2c21ed41eb00d07a38dcae43d55bb211a1ddf00b82757474bf0dd59221ffce3f03e690622e245bd26efe34d1be8c818939d6b5811b5bae0c25402f001871da59c49e3aa62c7a15a1b5fe5d8b0dfa6560416286e04ba610ea6694919fc3a340c3bc1317e4170d21224cf0399381839e6bded9175f20aa02360cab2355abdc448a6f276ca06941da90c7bda0e199aab38452313210314fcb97efbc0798ca39cf4b9451ce88d0f3a2fd89622cb4ca3f2fac486b4402669a3ece86c22847bbd139817d2b54bae37134a2b193365ab6942f4246b8cea274e474a99c9a7b2cd368f36770c38307dbefb96f578923b32fb7caa9ca09ca275d1bdafe2ed489e51fc84992b500b051b2b95a790993b0e95544e24e92a1beec8126cd0404947dbda5e7e307360b0808e73b7baaa581a00048041980b24802e432e6a18a602acf99e3c0d2bfbaaba403d8a00d442289366c1a3f6286d3f111f3dc7484ae31a9612f12b1b49e4c1e123fe4988a270865536ed4b77cc5fba3ea8e550ae8f4ad03a268f1e19b73a046ada2065fa53d352d1f7c48d4920427e48efdc1f98eae30f776de6e75f4cd1c41d779f0e4f17709c0102107de51fe715894570037f5e482c8f57c89d43f8c0a0e2e120a8ad9be6083aeb074057ed8c360f08c56d6e7caf15e5b4efee39d437df1ba6b593cf9a2e9b0dfde35a62f15bb15b3878fb5bfd9816f5479a21c46a21e894a92ed44c264f31de92cc0db0e00f307eabc1b1369eeffbd430e2923d311114eb2f7cba7c90de609211023fa33fde92c1e2ba96dd53b4e0b3a8f42f8715f5fd3ff905ac65322a6fc8be5ec9dd54c6b9d8601c32cfa1621f46a726e3d3d686908c084f8aa684f331ef5170500eb6dba0e9f3a99e2db5a2fab18f3b01bbfbac878fb46646a571aadfb46d7bebcfc8a8674f2b002791a8ddf5e0a4c2979a9591ccec5e92744bd88a3c46738febedbd1413f3669b0d94614f0298216d6968f6ac97436beda53c677d132be1b2ed91f72996d449fb6faba09eeb7370c64e5a6d216bc003fe5c62b8e42bd8b6700104e6b1ae5c8afd38b24be5ebcc81ddc2dd5e3db7c6abdf4f297ecf2a3e896fe232473fc9fd71b6b3489e75e8e3d1bd0022dbd9bdce71961b458a113e039f1e92de52ddb9ef033f1d0c4e3e21552fb246e0a461919ddc6887aed80342880971743ad5309e4d79e1ce15dc315041220c450483926671687284183f6efafe0201315fc0b605e7f75383f3589ae2493cad1a96cbe5f17bd0422cf2b80681c33068b56ccdb9e1cd13d0b4eb8c37fb9898a35fd71601911aaf14cb9e58549bf0bf77644e51c8e7e03755acf0528b9f233df692fe6cd924441e18b28b24f2b95d5cec1a925e4c1d1ada6f48430b59b1f9f1fd1d6a6ef02fc46ff097b97ae8508ebfa0ae5602777cef457da0091df4107886152b6834dd07f9e528b7b9d9c5dc7a44e19375716f72cdd35a81beb5fea14d3ddff448e3dd312443a4d8fae589266706801006cc76fe8be9d4ac6a6bd0a7e3fc92c8ad38eb306e9bd56c13845973c43ce9f83642cc63d39543b0a03899d29c824f9de560a0dde988371b59393fadc0725317c2b2ce4388e5c8d9d62f2bf6d45444749d0c4a2b019a5b15baa92ae4f58c91aeabfbff2993941b3efd50ad2f8fa8ac3246899eccd29db48c390ada413a40282629883b94a66e7b4fe2b66c9d2c70a8f16e65afb60dc2e17cde55f236c0730010138d6ffe7d24050c8ee37691065a915deb5ad2ceb53ab6ddafa8f81092ce932c7a871ac45497139239a0bf50aa58879fd09d58ccfb59bdc0f20dc12cee08e0bf1e70c6414cf15ba0da76a6acf48e3f63d62c568bdc67b8ff9ccd66eb42aa55efef62265785b69cb9b184ec1ad1577d8b102322bea6f97b2e353a2979c24f5e1d63d5cbc2ed9f27fe3629469681543f0af717aa4550a2e7fceecf10f241a1eb799bb5e707b5d049064386017d04c2ada3e10e9fd3765a318abf12991670229acedfebb31235b584964c5af21b0dae8725c41ba3de982b5cd16da8536c553a2ec0998978c768bf6238d05ce271a74fc8498f14561694b6379613a1ce9100f991e9478f33b5c0cc64345e6530789a42626ee62b1fe055659e2d6f3dbfa437b03e00ba84cdb733d174e02ae8f2ba655b19b4b545889b3b6aeeb282c2ef9247f7d1367b7dd20e2928717a782ef480f5c40ab0b3293750b488c4b0fd0ed32d2ecbde65bef43e5e76bfd2a2d42401bbcb773607816f6df65576db937dfe44b01547130ca0320abae37a254691d65fd074bc9b6a418609c3049460b1ff9cbee6e731d2c8434459734f2366617496396c97eb7f14e109ab9cf167df579e1ee2a6193f8a26fc8aa3c07c12e3704df7d0852716fff0fc5a4a0c7488cd4c3fbb08f373f245e46cee57f8560f9d014bcb8a7ae9e1f58cfbb7893ac9d542ce11c673c3268566f4f13896a0241794243bade1ddd4db014c3e885c68f2f9523710ddac8fbb587541db2aa966f8db5db3a9ed8b582216a500659b32e10aeb7122ee1d18f2c9036a1442006834c7bce5fe8a49a9f544f54a2c7b6f8bb3939f986b506ebb3958a5b5735e784ec226d51fb56e03f22100f1550510d7241e941569c98ba3c785e0ec2a87b941eb4b85f7c399a2d4aa5d7f48fe914b5b9146f16d43250fc33d2222c81da8f155e54890f7e1ac40b286aea22b10b5bbd4fe54d41bb152dff623ea923ff88ebc8b62aae208fe90319676e6a49064c5c5cdf689d51e1727d7a36f89389c33ab8a0055b164acae69a1f49d0106c833f87542bff979db6144bbc1a80f89d6a5d760e4d82af54ea2c5d9747bfd8b0694de4d1d4b55ddcdbccbd1e8bdded2b5fde6dc2ffb18ae153a5c40915bc3d92f95834f1b71c21e3cd19e93bb4239a47035f396de620a7149cd5228b32375abe14a7eb8d808b037d3019b388869525a66e847bd247bf87bae8f4098c0bfc6e7d7173d4c93562a7a70e86672f410f1f05a399b690007204cb9b6c69decfc37395c812a97a274423f8fd145b06a933f3d440417ece5b1b67469c89817bb5debed5153540a8f0570d5cdc1ba941ccc55044b6ecc0af7e29c7b533bc297b143fd261cd66d49a0a21583dad9f94494244d4f6667e4500809a29a843f1bbf9cee2f9733cb72faed7925d0f58460909c94def6f4ea9c95b3ba6fe384ebdd63677044e023ecbc0e42161bb14802e7f06a1191254cde6099c6586e178d5bf3bdd2e6f670e3301f59716e53530d63605796362c8d641da7cf040eb7698d0a0a8292d73ceced0a782863c10a0023faf7df9107bb18c6a68f91b339801560c4141b26bfe8f9fe238fb9e287af87ae957bc8b44b1eaa4b8beb9ad7cf2d64ad368b670454fca4b194347cd8953be4373be9a81c4faf1a6c763476d2da074c2686199b7a3e1c2af7d9e15c19130f10f2b9e168a80f69180feceaa3dd45b2ca19f5210cd3b69775b61a45a1e4824ca7ea7a5059ede2aaccf60812ec0f6ceda24b55394c765c61fc08e4b02c74dd5ffa9e96a00805f5de0101e917228cf15db728499a356766dd05097ac6f969fef91e72c9ad4337c0c03e14d83ad23079eecbf02a7abaad4e4e07419050d6c1fc23d05117e72c29381f886ed1abd68afe8d011a982d2f3f586613ee15027c27157bc7f5805a8f2184fa32bdaa8ff62d971bf2f2d286bfb6d1646f6ea8ca8074294b3225e50a24988efb33d957a86f2907f81a03713ca234b467c8fda8bf065cfb3cc54c0de4e200bc75b61a4ec612336b873c6eb5037decabc7ee</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>专业相关</category>
        <category>刷题</category>
        <category>pat</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>pat</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>typedef struct与struct区别</title>
    <url>/category/typedef-struct%E4%B8%8Estruct%E5%8C%BA%E5%88%AB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>详细解释c，c++关于struct的区别</p></blockquote><a id="more"></a><h2 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h2><p><code>typedef struct</code>一般用于c语言</p><p>如：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">typdef <span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">&#125;Stu;</span><br></pre></td></tr></table></figure><p><code>Stu</code>表示结构体类型，<code>Stu=Struct Stduent</code></p><p>即 可这样声明 <code>Stu stu1;</code></p><p>​ 也可这样声明 <code>Struct Student stu1;</code></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">typdef <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">&#125;Stu;</span><br></pre></td></tr></table></figure><p>只能用<code>Stu stu1；</code></p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">typdef <span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>只能用<code>Struct Student stu1;</code></p><p>只有struct多用于c++</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> num；</span><br><span class="line">&#125;stu1;</span><br></pre></td></tr></table></figure><p><code>stu1</code>是一个变量</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>其他</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>c++</tag>
        <tag>struct</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu上传文件到gitee</title>
    <url>/category/ubuntu%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0gitee/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>从ubuntu上传代码到仓库gitee，github同理</p></blockquote><a id="more"></a><h2 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h2><h3 id="1-安装git"><a href="#1-安装git" class="headerlink" title="1.安装git"></a>1.安装git</h3><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install git</span><br></pre></td></tr></table></figure><h3 id="2-配置user-name和email-com"><a href="#2-配置user-name和email-com" class="headerlink" title="2.配置user.name和email.com"></a>2.配置user.name和email.com</h3><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">去个人设置中看：</span><br><span class="line">gitee用户名</span><br><span class="line">绑定的邮箱</span><br><span class="line"></span><br><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"你的名字"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"你的邮箱地址"</span></span><br></pre></td></tr></table></figure><h3 id="3-生成ssh公钥"><a href="#3-生成ssh公钥" class="headerlink" title="3.生成ssh公钥"></a>3.生成ssh公钥</h3><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line">ssh-keygen -C -t rsa <span class="string">"邮箱地址"</span></span><br><span class="line">然后在个人用户家目录下生成了<span class="string">.ssh</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">.ssh</span></span><br><span class="line">打开id_rsa.pub，复制公钥到gitee设置一下</span><br></pre></td></tr></table></figure><h2 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h2><h3 id="4-初始化为本地仓库或者想要在已有的项目中提交代码"><a href="#4-初始化为本地仓库或者想要在已有的项目中提交代码" class="headerlink" title="4.初始化为本地仓库或者想要在已有的项目中提交代码"></a>4.初始化为本地仓库或者想要在已有的项目中提交代码</h3><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">进入想上传代码的文件夹内  git init</span><br><span class="line"><span class="keyword">or</span>:</span><br><span class="line">git <span class="keyword">clone</span> <span class="title">克隆的ssh</span>链接</span><br></pre></td></tr></table></figure><h3 id="5-在想要上传代码的文件夹下"><a href="#5-在想要上传代码的文件夹下" class="headerlink" title="5.在想要上传代码的文件夹下"></a>5.在想要上传代码的文件夹下</h3><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="bash"> .                        //上传当前文件夹下所有文件</span></span><br><span class="line">or:</span><br><span class="line">git <span class="keyword">add</span><span class="bash">  文件名</span></span><br></pre></td></tr></table></figure><h3 id="6-提交"><a href="#6-提交" class="headerlink" title="6.提交"></a>6.提交</h3><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">git remote add origin 克隆的SSH链接</span><br><span class="line">git pull origin <span class="keyword">master</span>                <span class="title">//同步Gitee</span>仓库</span><br><span class="line">git commit -m <span class="string">"信息备注，例如 几月几号  方便日后查看"</span></span><br><span class="line">git push origin <span class="keyword">master</span>               <span class="title">//开始上传文件至Gitee</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>其他</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>gitee</tag>
      </tags>
  </entry>
  <entry>
    <title>列表和表单</title>
    <url>/category/%E5%88%97%E8%A1%A8%E5%92%8C%E8%A1%A8%E5%8D%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了ul、ol列表，常见的表单input、label、textarea和select，最后引出了form表单域来存放以上表单控件</p></blockquote><a id="more"></a><h2 id="1-列表标签"><a href="#1-列表标签" class="headerlink" title="1. 列表标签"></a>1. 列表标签</h2><ul><li>列表的自由度比表格高</li></ul><h3 id="1-1-无序列表ul（unordered-list）"><a href="#1-1-无序列表ul（unordered-list）" class="headerlink" title="1.1 无序列表ul（unordered list）"></a>1.1 无序列表ul（unordered list）</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><ul><li>ul标签只能嵌套li标签,而不能嵌套其他标签</li><li>li标签是一个容器，可以容纳所有元素</li></ul><h3 id="1-2-有序列表ol（ordered-list）"><a href="#1-2-有序列表ol（ordered-list）" class="headerlink" title="1.2 有序列表ol（ordered list）"></a>1.2 有序列表ol（ordered list）</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-3-自定义列表"><a href="#1-3-自定义列表" class="headerlink" title="1.3 自定义列表"></a>1.3 自定义列表</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词1<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释3<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词2<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词2解释3<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-表单标签"><a href="#2-表单标签" class="headerlink" title="2. 表单标签"></a>2. 表单标签</h2><ul><li>一个完整的表单通常由表单控件、提示信息、表单域3个部分构成<ul><li>表单控件：是一些具体的表单功能项，如单行文本输入框、密码输入框、复选框、提交按钮、重置按钮等</li><li>提示信息：包括一些说明性文字，提示用户怎么填写操作和填写</li><li>表单域：相当于一个容器，容纳表单控件和提示信息。告诉将数据传到服务器的方法和表单数据处理程序的url。如果不定义表单域，用户填写的数据将无法送至服务器</li></ul></li></ul><h3 id="2-1-input控件"><a href="#2-1-input控件" class="headerlink" title="2.1 input控件"></a>2.1 input控件</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"属性值"</span> <span class="attr">value</span>=<span class="string">"你好"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h4 id="几种常见属性："><a href="#几种常见属性：" class="headerlink" title="几种常见属性："></a>几种常见属性：</h4><h4 id="1-type属性"><a href="#1-type属性" class="headerlink" title="1. type属性"></a>1. type属性</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span></span><br><span class="line">密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"passward"</span> /&gt;</span></span><br><span class="line">单选按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> /&gt;</span></span><br><span class="line">复选按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span></span><br><span class="line">普通按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> /&gt;</span></span><br><span class="line">提交按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line">重置按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span> /&gt;</span></span><br><span class="line">图像形式按钮：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"image"</span> /&gt;</span></span><br><span class="line">文件域：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> /&gt;</span></span><br></pre></td></tr></table></figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/type属性.png"><h4 id="2-value属性"><a href="#2-value属性" class="headerlink" title="2. value属性"></a>2. value属性</h4><ul><li>表单默认显示的文本</li></ul><h4 id="3-name属性"><a href="#3-name属性" class="headerlink" title="3. name属性"></a>3. name属性</h4><ul><li>name用于区分不同的表单</li><li>radio如果是一组，给它们命名相同的name，可以多选一</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">男<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span></span><br><span class="line">女<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li>checkbox如果是一组，给它们命名相同的name，可以多选</li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">睡觉<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span> </span><br><span class="line">游戏<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span></span><br><span class="line">篮球<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span></span><br><span class="line">足球<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobby"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-checked属性"><a href="#4-checked属性" class="headerlink" title="4. checked属性"></a>4. checked属性</h4><ul><li><p>默认选中状态，常见于单选按钮和复选框</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">男<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span></span><br><span class="line">女<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="2-2-label标签"><a href="#2-2-label标签" class="headerlink" title="2.2 label标签"></a>2.2 label标签</h3><p><code>绑定元素</code>：当点击label标签里的文本时，光标自动定位到表单中</p><ol><li>第一种方法(也是最常用的)</li></ol><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"yhm"</span>&gt;</span> 用户名： <span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"yhm"</span> /&gt;</span>        设置id和锚点定位相似</span><br></pre></td></tr></table></figure><ol start="2"><li>第二种方法</li></ol><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span>&gt;</span> 用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span> <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-3-textarea控件（文本域）"><a href="#2-3-textarea控件（文本域）" class="headerlink" title="2.3 textarea控件（文本域）"></a>2.3 textarea控件（文本域）</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">表单</th><th align="center">名称</th><th align="center">区别</th><th align="center">默认值显示</th><th align="center">用于场景</th></tr></thead><tbody><tr><td align="center">intput type=”text”</td><td align="center">文本框</td><td align="center">只能显示一行文本</td><td align="center">单标签，通过value显示默认值</td><td align="center">用户名、昵称、密码等</td></tr><tr><td align="center">textarea</td><td align="center">文本域</td><td align="center">能显示多行文本</td><td align="center">双标签，默认值写在标签中间</td><td align="center">留言板</td></tr></tbody></table><h3 id="2-4-select下拉列表"><a href="#2-4-select下拉列表" class="headerlink" title="2.4 select下拉列表"></a>2.4 select下拉列表</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span>        option标签中设置属性selected为selected表示默认选中状态</span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    ......</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>缺点：</strong></p><ul><li>在不同浏览器中可能显示不同</li><li>样式不能改</li></ul><h2 id="3-form表单域"><a href="#3-form表单域" class="headerlink" title="3. form表单域"></a>3. form表单域</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"get/post"</span> <span class="attr">name</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    各种表单控件</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">属性</th><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">action</td><td align="center">url地址</td><td align="center">确定表单数据提交的url地址</td></tr><tr><td align="center">method</td><td align="center">get/post</td><td align="center">确定表单数据的提交方式</td></tr><tr><td align="center">name</td><td align="center">名称</td><td align="center">确定表单名称，以区分同一个页面中的多个表单</td></tr></tbody></table><h2 id="4-查文档"><a href="#4-查文档" class="headerlink" title="4. 查文档"></a>4. 查文档</h2><p>W3C：<a href="http://www.w3school.com.cn/" target="_blank" rel="noopener">http://www.w3school.com.cn/</a></p><p>MDN：<a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/</a></p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html02</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>列表和表单</tag>
      </tags>
  </entry>
  <entry>
    <title>创建音乐和歌单</title>
    <url>/category/%E5%88%9B%E5%BB%BA%E9%9F%B3%E4%B9%90%E5%92%8C%E6%AD%8C%E5%8D%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><blockquote><p>在文章需要的地方，插入自己喜欢的音乐吧!:baby_chick:</p></blockquote><a id="more"></a><h2 id="1-进入网易云音乐（网页版）点击"><a href="#1-进入网易云音乐（网页版）点击" class="headerlink" title="1. 进入网易云音乐（网页版）点击"></a>1. 进入网易云音乐（网页版）<a href="https://music.163.com/" target="_blank" rel="noopener">点击</a></h2><ul><li>获取音乐id</li></ul><h2 id="2-获取网易云音乐url"><a href="#2-获取网易云音乐url" class="headerlink" title="2. 获取网易云音乐url"></a>2. 获取网易云音乐url</h2><p>将id替换到下面链接里</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">http:<span class="regexp">//mu</span>sic.<span class="number">163</span>.com<span class="regexp">/song/m</span>edia<span class="regexp">/outer/u</span>rl?id=<span class="number">461080452</span>.mp3</span><br></pre></td></tr></table></figure><h2 id="3-获取音乐封面-点击"><a href="#3-获取音乐封面-点击" class="headerlink" title="3. 获取音乐封面 点击"></a>3. 获取音乐封面 <a href="https://dev.yii2.cc/cover" target="_blank" rel="noopener">点击</a></h2><ul><li>放在blog/source/media 文件夹里</li><li>博客文章当前路径是在blog/source/</li></ul><h2 id="4-创建音乐外链"><a href="#4-创建音乐外链" class="headerlink" title="4. 创建音乐外链"></a>4. 创建音乐外链</h2><figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line">&#123;<span class="meta">%</span> aplayer <span class="string">"五月雨"</span> <span class="string">"高梨康治"</span> <span class="string">"http://m10.music.126.net/20200409153934/619d54dcd5398a74d8536875729c05ad/ymusic/d741/ca68/da8c/f6110877fc505a5c4c9a2a1de92a9dc1.mp3"</span> <span class="string">"/media/wyy.jpg"</span> <span class="meta">%</span>&#125;</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：<code>直接写</code>，不像这里一样写在代码块里</p><p>或者还有一种方式：<a href="http://music.aitao456.com/?name=%E4%BA%94%E6%9C%88%E9%9B%A8&type=netease" target="_blank" rel="noopener">点击</a></p><h2 id="5-创建音乐歌单"><a href="#5-创建音乐歌单" class="headerlink" title="5. 创建音乐歌单"></a>5. 创建音乐歌单</h2><figure class="highlight clojure"><table><tr><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;&#123;<span class="string">"narrow"</span>: <span class="literal">false</span>,<span class="string">"autoplay"</span>: <span class="literal">true</span>,<span class="string">"showlrc"</span>: <span class="number">3</span>,<span class="string">"mode"</span>: <span class="string">"random"</span>,<span class="string">"music"</span>: [&#123;<span class="string">"title"</span>: <span class="string">"五月雨"</span>,<span class="string">"author"</span>: <span class="string">"高梨康治"</span>,<span class="string">"url"</span>: <span class="string">"http://m10.music.126.net/20200409153934/619d54dcd5398a74d8536875729c05ad/ymusic/d741/ca68/da8c/f6110877fc505a5c4c9a2a1de92a9dc1.mp3"</span>,<span class="string">"pic"</span>: <span class="string">"/media/wyy.jpg"</span>&#125;,&#123;<span class="string">"title"</span>: <span class="string">"认真地老去"</span>,<span class="string">"author"</span>: <span class="string">"张希 / 曹方"</span>,<span class="string">"url"</span>: <span class="string">"http://music.163.com/song/media/outer/url?id=461080452.mp3"</span>,<span class="string">"pic"</span>: <span class="string">"/media/rzdlq.jpg"</span>&#125;]&#125;&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>next</tag>
      </tags>
  </entry>
  <entry>
    <title>剑指offer逐题题解</title>
    <url>/category/%E5%89%91%E6%8C%87offer/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>刷题</category>
        <category>剑指offer</category>
      </categories>
      <tags>
        <tag>剑指offer</tag>
      </tags>
  </entry>
  <entry>
    <title>经典话术结构</title>
    <url>/category/%E7%BB%8F%E5%85%B8%E8%AF%9D%E6%9C%AF%E7%BB%93%E6%9E%84/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>你有没有经历这样的场景？老板找你谈话，让你汇报，在朋友婚礼上被邀请上台讲话，在工作和生活中，我们无时无刻不面临着要发言的情况。如果我们说话没有逻辑，没有重点，废话一大堆，就会产生很多麻烦。所以掌握一些经典话术结构对我们来说极其重要</p></blockquote><a id="more"></a><h2 id="1-PRS结构"><a href="#1-PRS结构" class="headerlink" title="1. PRS结构"></a>1. PRS结构</h2><blockquote><p><strong>P</strong>(Problem)阐述问题，<strong>R</strong>(Reason)分析原因，<strong>S</strong>(solution)提出解决方案</p></blockquote><p><strong>举例：老婆抱怨老公又去出差，怎么回答才会更好呢？</strong></p><p>若是按PRS结构回答：</p><p>P：亲爱的，这段时间出差确实很多</p><p>R：而这次的项目很重要，如果做的不好，可能会丢掉工作，好的话，可能会升职</p><p>S：我这次出差就是去落实这个项目，以后，我可以有很多时间来陪你了</p><h2 id="2-ORS结构：提建议"><a href="#2-ORS结构：提建议" class="headerlink" title="2. ORS结构：提建议"></a>2. ORS结构：提建议</h2><blockquote><p>O(Order)说明目的，R(Reason)分析原因,S(Support)期望得到支持</p></blockquote><p><strong>举例：你希望公司开展一个新项目，想要得到得到100w资金支持，你可以这样说：</strong></p><p>O：老板，我想为公司开展一个项目</p><p>R：这个项目经调查分析利润很可观，最近竞争对手公司也在开展这样的新项目，对我们的威胁很大</p><p>S：所以期望得到100w资金支持，尽快实施这个项目</p><h2 id="3-否新高：给人一种先抑后扬的痛快感和信任感"><a href="#3-否新高：给人一种先抑后扬的痛快感和信任感" class="headerlink" title="3. 否新高：给人一种先抑后扬的痛快感和信任感"></a>3. 否新高：给人一种先抑后扬的痛快感和信任感</h2><blockquote><ol><li>否定现存的观点或者方案</li><li>提出新观点或方案</li><li>站在更高的层次上去论证</li></ol></blockquote><p>罗永浩在开英语培训学校的时候，先否定推崇“N天搞定”过度营销的同行。</p><p>接着提出自己的观点，来老罗培训学校学习需要吃苦，对于结果，我们还不能保证。</p><p>最后站在更高的层次上去论证，虽然效果没有别人承诺的那么夸张，但是我们实实在在的，不忽悠，你们能学到真正的东西的。</p><h2 id="4-赶过猪"><a href="#4-赶过猪" class="headerlink" title="4. 赶过猪"></a>4. 赶过猪</h2><blockquote><p>感恩，过去，祝愿，先感恩被邀请发言，接着回顾过去，最后祝愿未来</p></blockquote><p>举例：你刚刚加入一个销售公司，老板邀请你在同事面前做个即兴发言，你改怎么做呢？</p><p>感恩：感谢老板给我这个机会跟大家做个自我介绍</p><p>过去：大家好，我叫XXX，毕业于XXX大学，大学期间做过很多和销售有关的兼职，销售是我最喜欢的事情</p><p>祝愿：我已经感受到了我们团队的温暖和强大，我也愿意贡献出我自己所有能贡献的力量，让我们团队更强大，谢谢大家！</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>课外知识</category>
        <category>演讲</category>
      </categories>
      <tags>
        <tag>话术</tag>
      </tags>
  </entry>
  <entry>
    <title>表格table</title>
    <url>/category/%E8%A1%A8%E6%A0%BCtable/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了html中的表格table、table的各种属性、表头单元格th标签、表格标题caption标签、合并单元格和扩展讲了下表格划分结构</p></blockquote><a id="more"></a><h2 id="1-创建表格"><a href="#1-创建表格" class="headerlink" title="1. 创建表格"></a>1. 创建表格</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>table:表格标签</li><li>tr：行标签 （table row）</li><li>td：单元格标签（table data）</li></ul><h2 id="2-表格属性"><a href="#2-表格属性" class="headerlink" title="2. 表格属性"></a>2. 表格属性</h2><table><thead><tr><th align="center">属性名</th><th align="center">含义</th><th align="center">常用属性值</th></tr></thead><tbody><tr><td align="center">border</td><td align="center">设置表格的边框（默认border为0，无边框）</td><td align="center">像素值</td></tr><tr><td align="center">cellspacing</td><td align="center">设置单元格与单元格之间的距离</td><td align="center">像素值（默认为2）</td></tr><tr><td align="center">cellpadding</td><td align="center">设置单元格里文字距离</td><td align="center">像素值（默认为1）</td></tr><tr><td align="center">width</td><td align="center">设置表格的宽度</td><td align="center">像素值</td></tr><tr><td align="center">height</td><td align="center">设置表格的高度</td><td align="center">像素值</td></tr><tr><td align="center">align</td><td align="center">设置表格在网页中的水平对齐方式</td><td align="center">left/center/right</td></tr></tbody></table><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/table表格属性.jpg"><h2 id="3-表头单元格th标签"><a href="#3-表头单元格th标签" class="headerlink" title="3. 表头单元格th标签"></a>3. 表头单元格th标签</h2><ul><li><p>表头单元格th（ table head）和普通单元格td 差不多，但它会使表格内容居中、加粗</p></li><li><p>多行tr换th技巧：按住滑轮往下拖</p><p>​</p></li></ul><h2 id="4-表格标题caption标签"><a href="#4-表格标题caption标签" class="headerlink" title="4. 表格标题caption标签"></a>4. 表格标题caption标签</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-合并单元格"><a href="#5-合并单元格" class="headerlink" title="5.合并单元格"></a>5.合并单元格</h2><h3 id="5-1-合并方式"><a href="#5-1-合并方式" class="headerlink" title="5.1 合并方式"></a>5.1 合并方式</h3><ul><li>跨行合并：rowspan=”合并单元格个数”</li><li>跨列合并：colspan=”合并单元格个数”</li></ul><h3 id="5-2-合并顺序"><a href="#5-2-合并顺序" class="headerlink" title="5.2 合并顺序"></a>5.2 合并顺序</h3><ul><li>先上后下，先左后右</li></ul><h3 id="5-3-合并单元格三部曲"><a href="#5-3-合并单元格三部曲" class="headerlink" title="5.3 合并单元格三部曲"></a>5.3 合并单元格三部曲</h3><ol><li><p>先确定是跨行还是跨列合并</p></li><li><p>根据由上到下，由左到右的顺序确定目标单元格，并设置要合并的单元格数量</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">td</span> <span class="attr">rowspan</span>=<span class="string">"3"</span>&gt;</span> <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>删除多余的单元格</p></li></ol><h2 id="6-表格划分结构"><a href="#6-表格划分结构" class="headerlink" title="6. 表格划分结构"></a>6. 表格划分结构</h2><ul><li><thead></thead>用于定义表格头部</li><li><tbody></tbody>用于定义表格主体</li><li><tfoot></tfoot>用于定义表格脚注</li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html02</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>table</tag>
      </tags>
  </entry>
  <entry>
    <title>认识html</title>
    <url>/category/%E8%AE%A4%E8%AF%86html/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>介绍了html骨架结构</p></blockquote><a id="more"></a><h2 id="1-html初识"><a href="#1-html初识" class="headerlink" title="1. html初识"></a>1. html初识</h2><ul><li><p>html指的是超文本标记语言</p></li><li><p>网页元素用<code>html标签</code>描述出来</p></li><li><p>html标签都由&lt;&gt;构成</p><blockquote><p>html有自己的骨架格式：</p></blockquote></li></ul><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2020/03/12/MJEYK2FypbOxUBV.png" alt="pig.png"></p><h3 id="1-1-html标签分类"><a href="#1-1-html标签分类" class="headerlink" title="1.1 html标签分类"></a>1.1 html标签分类</h3><p><strong>分类：</strong></p><ol><li>常规元素（双标签）</li></ol><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span>&gt;</span> 内容 <span class="tag">&lt;/<span class="name">标签名</span>&gt;</span>   比如 <span class="tag">&lt;<span class="name">body</span>&gt;</span>  我是文字  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>空元素（单标签）</li></ol><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">标签名</span> /&gt;</span>  比如 <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-2-html标签关系"><a href="#1-2-html标签关系" class="headerlink" title="1.2 html标签关系"></a>1.2 html标签关系</h3><ol><li><p>嵌套关系</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span> <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>并列关系</p></li></ol><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>倡议：</strong></p><blockquote><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">如果两个标签是嵌套关系，子标签最好缩进一个tab单位（<span class="number">4</span>个空格）</span><br><span class="line">如果两个标签是并列关系，子标签最好保持上下对齐</span><br></pre></td></tr></table></figure></blockquote><h2 id="2-代码开发工具"><a href="#2-代码开发工具" class="headerlink" title="2. 代码开发工具"></a>2. 代码开发工具</h2><p><strong>sublime 生成html骨架小技巧：</strong></p><ul><li>新建文件（ctrl+n）（n是new的意思）</li><li>立马保存（ctrl+s），保存为：文件名.html (注意后缀名为.html)</li><li>输入<html>&lt;/ 可快捷输入<html></html></html></li><li>快捷输入子标签</li><li>快速生成骨架结构<ul><li>html:5 +tab键</li><li>！ +tab键</li><li>输入标签名称+tab 可快速输入完整标签</li></ul></li><li>在浏览器中预览页面<ul><li>右键 在浏览器中打开</li></ul></li></ul><h2 id="3-文档类型"><a href="#3-文档类型" class="headerlink" title="3. 文档类型"></a>3. 文档类型</h2><p><strong>用法：</strong>告诉浏览器按照html5规范解析页面</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-页面语言"><a href="#4-页面语言" class="headerlink" title="4. 页面语言"></a>4. 页面语言</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span>  指定html语言种类</span><br></pre></td></tr></table></figure><ol><li>en 指定语言为英文</li><li>zh-CN 指定语言为中文</li></ol><h2 id="5-字符集"><a href="#5-字符集" class="headerlink" title="5. 字符集"></a>5. 字符集</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>html文件按照UTF-8编码存储，然后浏览器按照编码去解码显示</p><p>几种常见的编码方式：</p><ul><li>gb2312 简单中文 包括6763个汉字 GUO BIAO</li><li>BIG5 繁体中文 港澳台等用</li><li>GBK包含全部中文字符 是GB2312的扩展，加入对繁体字的支持，兼容GB2312</li><li>UTF-8则基本包含全世界所有国家需要用到的字符</li><li><strong>这句代码非常关键， 是必须要写的代码，否则可能引起乱码的情况。</strong></li></ul><h2 id="6-html标签的语义化"><a href="#6-html标签的语义化" class="headerlink" title="6. html标签的语义化"></a>6. html标签的语义化</h2><p>根据标签的语义，在合适的地方放合适的标签，使结构更清晰</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html01</category>
      </categories>
      <tags>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>认识web</title>
    <url>/category/%E8%AE%A4%E8%AF%86web/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了web网页的构成，浏览器内核和web标准</p></blockquote><a id="more"></a><h2 id="1-WEB-网页"><a href="#1-WEB-网页" class="headerlink" title="1. WEB(网页)"></a>1. WEB(网页)</h2><ul><li>网页由各种元素组成，包括音频，视频等</li></ul><h2 id="2-浏览器（显示代码）"><a href="#2-浏览器（显示代码）" class="headerlink" title="2. 浏览器（显示代码）"></a>2. 浏览器（显示代码）</h2><ul><li>浏览器是网页显示、运行的平台</li></ul><h3 id="2-1-常见浏览器内核（解释引擎）"><a href="#2-1-常见浏览器内核（解释引擎）" class="headerlink" title="2.1 常见浏览器内核（解释引擎）"></a>2.1 常见浏览器内核（解释引擎）</h3><ul><li>英文名：Rendering Engine</li></ul><table><thead><tr><th align="center">浏览器</th><th align="center">内核</th><th align="center">备注</th></tr></thead><tbody><tr><td align="center">Safari</td><td align="center">webkit</td><td align="center"></td></tr><tr><td align="center">chrome</td><td align="center">Chromium/blink</td><td align="center">blink属于webkit的分支，是二次开发，现国产浏览器大多基于blink</td></tr></tbody></table><h2 id="3-Web标准构成"><a href="#3-Web标准构成" class="headerlink" title="3. Web标准构成"></a>3. Web标准构成</h2><ul><li>浏览器内核不同，显示出的页面可能存在差异，所以必须遵循web标准</li><li>W3C万维网联盟，类似现实中的联合国</li></ul><h3 id="3-1-Web标准"><a href="#3-1-Web标准" class="headerlink" title="3.1 Web标准"></a>3.1 Web标准</h3><ul><li><p><strong>构成</strong>：结构（structure），表现（presentation）和行为（behavior）</p><ul><li>结构：对网页元素进行整理和分类,相当于人的身体结构 ————html</li><li>表现：设置外观形式，相当于人的着装打扮 ———css</li><li>行为：主要是网页模型的定义和交互，相当于人的行为 ———javascript</li></ul><p>理想情况下，网页源码有.html，.css，.js</p></li></ul><p>​</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>html</category>
        <category>html01</category>
      </categories>
      <tags>
        <tag>web</tag>
      </tags>
  </entry>
  <entry>
    <title>记录考研的这两年</title>
    <url>/category/%E8%AE%B0%E5%BD%95%E8%80%83%E7%A0%94%E7%9A%84%E8%BF%99%E4%B8%A4%E5%B9%B4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:45 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>寒灯纸上，梨花雨凉</p></blockquote><a id="more"></a><h2 id="危机"><a href="#危机" class="headerlink" title="危机"></a>危机</h2><p>​ 大三上的时候，感觉自己保不了研了，于是迷迷糊糊中选择要考研，也只有考研才能改变平庸的命运，改变大学一成不变的生活，混混沌沌过了这四年，人云亦云，看着别人学什么前沿技术，就去盲目追逐，最后竹篮打水一场空，什么都没落着，本末倒置忽略了基础知识的学习。考研也是，在大三下的时候，觉得考研最重要，就不去上课，其实要考的专业课就是这学期要学的。</p><h2 id="转机"><a href="#转机" class="headerlink" title="转机"></a>转机</h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/dream.jpg" height="250" width="550"><p>​ 3月的时候做了个梦，梦见在故乡老房子前，一位北大的导师收了我，只见那位老者白发苍苍风度翩翩，当我还想梦下去的时候，梦醒了，可是我心里却是甜的，要是真的是那样该多好。印象里老房子附近山清水秀，绿树成荫，小时候回老家时还扬言要去森林里找恐龙，去山顶溜坡，地上都是绿油油的草，一点也不伤到身体，去河边看别人钓鱼，可惜现在都快干了，老房子那一片都被挖土机挖了。回到做的梦这件事上，我觉得很不可思议，为什么会做这样的梦？我自己也不知道，因为没想过，也不敢想，就像一潭水，谁也不知道有多深，这对于第一次考研完全没有任何经验的我来说一切未知，而当时目标院校也没有确定，糊糊涂涂的学着，每两个星期出去吃一次海底捞出去玩一次，觉得似乎考研也不是很累…</p><p>​ 这样的日子一直持续到9月放暑假，回家又玩了一个月，我觉得一切还早，还有时间。到9月底的时候刚把复习全书做完，但是当我回来翻翻的时候发现都忘了，于是又想重新看一遍。回到学校，从10月到考研那段时间真是漫长又短暂，那段时光和高三一样充实且满足，只有这一个目标，而不用迷茫，高中时每次有时间能出去打一把撸真是幸福至极了，能玩下手机就已经很开心了，而现在这些东西能触手可及时又觉得索然无味，到这个时候我的目标院校还没有定，但我心里还是想回武汉，女朋友告诉我要不要考虑一下北大软微，于是我稍微了解了一下再联系到三月份做的那个梦便很快做出了决定。</p><h2 id="进行时"><a href="#进行时" class="headerlink" title="进行时"></a>进行时</h2><p>​ 可能是平时一睡一早上或者起的晚的缘故，在两天的早上都出现了问题，在考政治开始时大脑一片空白，考数学时也出现了这样的状况，当然另一方面因素是数学去年头几个选择题确实把我难住了，好在后来慢慢做出了感觉，心态也稳住了。最后专业课考完，还询问前面哥们情况，超级“自信”地和他说，咱们复试见，现在想想是多么大的笑话…</p><h2 id="出分"><a href="#出分" class="headerlink" title="出分"></a>出分</h2><p>​ 记得是晚上出的分，总分338，政治64，英语73，数学100，专业课101，比我预估的低了10多分，低在专业课上，我的直觉告诉我我过不了线，果然我确实没有过线，分数线350，疫情期间在家隔离那么长时间，除了准备毕设，就是整天在家打游戏。时间就这样被消磨殆尽，调剂和找工作都被我抛之脑后。</p><p>​ 申请南科大调剂复试通过了，但是复试被刷，英语面试准备的稀烂，再加上说话吞吞吐吐的紧张的不行，复试完，我就觉得自己没希望了，转手想准备工作，刷了一些题，准备面西安华为外包，最后选择了逃避，兴许再来一年，我会抓住这次机会，战胜心里的对失败的恐惧。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>碎碎念</category>
      </categories>
      <tags>
        <tag>考研</tag>
      </tags>
  </entry>
  <entry>
    <title>雨</title>
    <url>/category/%E9%9B%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h3 id="健康"><a href="#健康" class="headerlink" title="健康"></a>健康</h3><p>最近感冒一直没好</p><p>没适应没有暖气的<a href="https://baike.baidu.com/item/%E5%AE%89%E9%99%86/746007?fr=aladdin" target="_blank" rel="noopener"><strong>家</strong></a></p><p>也许只有在生病的时候</p><p>才能体会到健康的重要性</p><h3 id="新年愿"><a href="#新年愿" class="headerlink" title="新年愿"></a>新年愿</h3><p>一愿：自己，家人，爱的人身体健康</p><p>二愿：能一起考上那所学校</p><a id="more"></a><h3 id="最近在听的一首歌"><a href="#最近在听的一首歌" class="headerlink" title="最近在听的一首歌"></a>最近在听的一首歌</h3><div id="aplayer-lHfPuMhZ" class="aplayer aplayer-tag-marker" style="margin-bottom:20px"><pre class="aplayer-lrc-content"></pre></div><script>var ap=new APlayer({element:document.getElementById("aplayer-lHfPuMhZ"),narrow:!1,autoplay:!1,showlrc:!1,music:{title:"认真地老去",author:"张希 / 曹方",url:"http://music.163.com/song/media/outer/url?id=461080452.mp3",pic:"/media/rzdlq.jpg",lrc:""}});window.aplayers||(window.aplayers=[]),window.aplayers.push(ap)</script><p>别错过年轻的疯狂</p><p>时光很匆忙</p><p>别错过日落和夕阳</p><p>不论在哪里呀</p><p>来不及认真地年轻过</p><p>就认真地老去</p><p>又一次和你擦肩而过</p><p>一毫米的距离</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>碎碎念</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title>39C_day02_05</title>
    <url>/category/39C_day02_05/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h1 id="王道训练营C-方向–测试006"><a href="#王道训练营C-方向–测试006" class="headerlink" title="王道训练营C++方向–测试006"></a>王道训练营C++方向–测试006</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><ul><li>(a). 输入某一天的年月日，输出下一天的年月日。</li><li>(b). 输入某两天的年月日，输出这两天的相距多少天。</li><li>(c). 已知1970年1月1日是星期四，输入之后的某一天的年月日，判断它是周几？</li><li>(e). 输入1970年之后任意一年的年份，输出年历</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">$Please input the year whose calendear you want to know?</span><br><span class="line">$<span class="number">2004</span> &lt;-------这是输入的内容</span><br><span class="line">|=====================The Calendar of Year <span class="number">2004</span>====================|</span><br><span class="line">:  <span class="number">1</span>  SUN MON TUE WED THU FRI SAT   <span class="number">7</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:                       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>                        <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span> :</span><br><span class="line">:       <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>        <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span> :</span><br><span class="line">:      <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>       <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span> :</span><br><span class="line">:      <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>       <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span> :</span><br><span class="line">:      <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>       <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span> :</span><br><span class="line">:  <span class="number">2</span>  SUN MON TUE WED THU FRI SAT   <span class="number">8</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>        <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span> :</span><br><span class="line">:       <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>        <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span> :</span><br><span class="line">:      <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>       <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span> :</span><br><span class="line">:      <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>       <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span> :</span><br><span class="line">:      <span class="number">29</span>                               <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>                 :</span><br><span class="line">:  <span class="number">3</span>  SUN MON TUE WED THU FRI SAT   <span class="number">9</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:           <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>                    <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span> :</span><br><span class="line">:       <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>        <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span> :</span><br><span class="line">:      <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>       <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span> :</span><br><span class="line">:      <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>       <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span> :</span><br><span class="line">:      <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>                   <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>         :</span><br><span class="line">:  <span class="number">4</span>  SUN MON TUE WED THU FRI SAT  <span class="number">10</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:                       <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>                            <span class="number">1</span>   <span class="number">2</span> :</span><br><span class="line">:       <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>        <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span> :</span><br><span class="line">:      <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>       <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span> :</span><br><span class="line">:      <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>       <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span> :</span><br><span class="line">:      <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>           <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span> :</span><br><span class="line">:                                       <span class="number">31</span>                         :</span><br><span class="line">:  <span class="number">5</span>  SUN MON TUE WED THU FRI SAT  <span class="number">11</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:                               <span class="number">1</span>            <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span> :</span><br><span class="line">:       <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>        <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span> :</span><br><span class="line">:       <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>       <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span> :</span><br><span class="line">:      <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>       <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span> :</span><br><span class="line">:      <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>       <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>                 :</span><br><span class="line">:      <span class="number">30</span>  <span class="number">31</span>                                                      :</span><br><span class="line">:  <span class="number">6</span>  SUN MON TUE WED THU FRI SAT  <span class="number">12</span>  SUN MON TUE WED THU FRI SAT :</span><br><span class="line">:               <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>                    <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span> :</span><br><span class="line">:       <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span>  <span class="number">12</span>        <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">11</span> :</span><br><span class="line">:      <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span>  <span class="number">19</span>       <span class="number">12</span>  <span class="number">13</span>  <span class="number">14</span>  <span class="number">15</span>  <span class="number">16</span>  <span class="number">17</span>  <span class="number">18</span> :</span><br><span class="line">:      <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span>  <span class="number">26</span>       <span class="number">19</span>  <span class="number">20</span>  <span class="number">21</span>  <span class="number">22</span>  <span class="number">23</span>  <span class="number">24</span>  <span class="number">25</span> :</span><br><span class="line">:      <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>                   <span class="number">26</span>  <span class="number">27</span>  <span class="number">28</span>  <span class="number">29</span>  <span class="number">30</span>  <span class="number">31</span>     :</span><br><span class="line">|==================================================================|</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><ul><li>(a)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> year, month, day;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入年月日：\n"</span>);</span><br><span class="line">	<span class="keyword">while</span> (rewind(<span class="built_in">stdin</span>), <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year, &amp;month, &amp;day) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> flag = <span class="number">0</span>, a[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line">		<span class="keyword">if</span> (year &lt; <span class="number">0</span> || month &lt; <span class="number">1</span> || month&gt;<span class="number">12</span> || day &lt; <span class="number">1</span> || day&gt;<span class="number">31</span>) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"这一天不存在\n"</span>);</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (year % <span class="number">400</span> == <span class="number">0</span> || year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">			flag = <span class="number">1</span>;</span><br><span class="line">			a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (flag == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day == <span class="number">28</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day &gt;= <span class="number">29</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"这一天不存在\n"</span>);	</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day == <span class="number">29</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year, <span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (month == <span class="number">2</span> &amp;&amp; day &gt; <span class="number">29</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"这一天不存在\n"</span>);</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (month == <span class="number">12</span> &amp;&amp; day == <span class="number">31</span>) <span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year + <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"下一天为：%d年%d月%d日\n"</span>, year, month, day + <span class="number">1</span>);</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(b)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">from_days</span><span class="params">(<span class="keyword">int</span> year1, <span class="keyword">int</span> month1, <span class="keyword">int</span> day1, <span class="keyword">int</span> year2, <span class="keyword">int</span> month2, <span class="keyword">int</span> day2)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>, a[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;, b[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line">	<span class="keyword">if</span> (year1 % <span class="number">400</span> == <span class="number">0</span> || year1 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year1 % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">		flag1 = <span class="number">1</span>;</span><br><span class="line">		a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (year2 % <span class="number">400</span> == <span class="number">0</span> || year2 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year2 % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">		flag2 = <span class="number">1</span>;</span><br><span class="line">		b[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; year2 - year1; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> ((year1 + i) % <span class="number">400</span> == <span class="number">0</span> || (year1 + i) % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; (year1 + i) % <span class="number">100</span> != <span class="number">0</span>)</span><br><span class="line">			sum += <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum += <span class="number">365</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//补余year1这一年剩下的时间</span></span><br><span class="line">	sum += a[month1] - day1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = month1 + <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) &#123;</span><br><span class="line">		sum += a[i];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//计算year2这一年已过的时间</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; month2; i++) &#123;</span><br><span class="line">		sum += b[i];</span><br><span class="line">	&#125;</span><br><span class="line">	sum += day2;</span><br><span class="line">	<span class="keyword">if</span> (year1 == year2) &#123;</span><br><span class="line">		<span class="keyword">if</span> (flag1 == <span class="number">1</span>) sum -= <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum -= <span class="number">365</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"两个时期相差%d天\n"</span>, sum);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> year1, month1, day1, year2, month2, day2;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入第一个年月日："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year1, &amp;month1, &amp;day1);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入第二个年月日："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year2, &amp;month2, &amp;day2);</span><br><span class="line">	<span class="keyword">if</span> (year1 &gt; year2) &#123; <span class="comment">//换</span></span><br><span class="line">		<span class="keyword">int</span> temp = year1;</span><br><span class="line">		year1 = year2;</span><br><span class="line">		year2 = temp;</span><br><span class="line"></span><br><span class="line">		temp = month1;</span><br><span class="line">		month1 = month2;</span><br><span class="line">		month2 = temp;</span><br><span class="line"></span><br><span class="line">		temp = day1;</span><br><span class="line">		day1 = day2;</span><br><span class="line">		day2 = temp;</span><br><span class="line">	&#125;</span><br><span class="line">	from_days(year1, month1, day1, year2, month2, day2);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(c)</li></ul><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">from_days</span><span class="params">(<span class="keyword">int</span> year1, <span class="keyword">int</span> month1, <span class="keyword">int</span> day1, <span class="keyword">int</span> year2, <span class="keyword">int</span> month2, <span class="keyword">int</span> day2)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>, a[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;, b[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line">	<span class="keyword">if</span> (year1 % <span class="number">400</span> == <span class="number">0</span> || year1 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year1 % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">		flag1 = <span class="number">1</span>;</span><br><span class="line">		a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (year2 % <span class="number">400</span> == <span class="number">0</span> || year2 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year2 % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">		flag2 = <span class="number">1</span>;</span><br><span class="line">		b[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; year2 - year1; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> ((year1 + i) % <span class="number">400</span> == <span class="number">0</span> || (year1 + i) % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; (year1 + i) % <span class="number">100</span> != <span class="number">0</span>)</span><br><span class="line">			sum += <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum += <span class="number">365</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//补余year1这一年剩下的时间</span></span><br><span class="line">	sum += a[month1] - day1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = month1 + <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) &#123;</span><br><span class="line">		sum += a[i];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//计算year2这一年已过的时间</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; month2; i++) &#123;</span><br><span class="line">		sum += b[i];</span><br><span class="line">	&#125;</span><br><span class="line">	sum += day2;</span><br><span class="line">	<span class="keyword">if</span> (year1 == year2) &#123;</span><br><span class="line">		<span class="keyword">if</span> (flag1 == <span class="number">1</span>) sum -= <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum -= <span class="number">365</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> year, month, day;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入年月日："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;year, &amp;month, &amp;day);</span><br><span class="line">	<span class="keyword">int</span> sum = from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, month, day);</span><br><span class="line">	<span class="keyword">switch</span> ((sum + <span class="number">4</span>) % <span class="number">7</span>) &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>: <span class="built_in">printf</span>(<span class="string">"星期天\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>: <span class="built_in">printf</span>(<span class="string">"星期一\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">2</span>: <span class="built_in">printf</span>(<span class="string">"星期二\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">3</span>: <span class="built_in">printf</span>(<span class="string">"星期三\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">4</span>: <span class="built_in">printf</span>(<span class="string">"星期四\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">5</span>: <span class="built_in">printf</span>(<span class="string">"星期五\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">printf</span>(<span class="string">"星期六\n"</span>); <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>(d)</li></ul><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">#define _CRT_SECURE_NO_WARNINGS</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line"><span class="built_in">int</span> from_days(<span class="built_in">int</span> year1, <span class="built_in">int</span> month1, <span class="built_in">int</span> day1, <span class="built_in">int</span> year2, <span class="built_in">int</span> month2, <span class="built_in">int</span> day2) &#123;</span><br><span class="line">	<span class="built_in">int</span> sum = <span class="number">0</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>, a[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;, b[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line">	<span class="keyword">if</span> (year1 % <span class="number">400</span> == <span class="number">0</span> || year1 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year1 % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">		flag1 = <span class="number">1</span>;</span><br><span class="line">		a[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (year2 % <span class="number">400</span> == <span class="number">0</span> || year2 % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year2 % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">		flag2 = <span class="number">1</span>;</span><br><span class="line">		b[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; year2 - year1; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> ((year1 + i) % <span class="number">400</span> == <span class="number">0</span> || (year1 + i) % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; (year1 + i) % <span class="number">100</span> != <span class="number">0</span>)</span><br><span class="line">			sum += <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum += <span class="number">365</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//补余year1这一年剩下的时间</span></span><br><span class="line">	sum += a[month1] - day1;</span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = month1 + <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) &#123;</span><br><span class="line">		sum += a[i];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//计算year2这一年已过的时间</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; month2; i++) &#123;</span><br><span class="line">		sum += b[i];</span><br><span class="line">	&#125;</span><br><span class="line">	sum += day2;</span><br><span class="line">	<span class="keyword">if</span> (year1 == year2) &#123;</span><br><span class="line">		<span class="keyword">if</span> (flag1 == <span class="number">1</span>) sum -= <span class="number">366</span>;</span><br><span class="line">		<span class="keyword">else</span> sum -= <span class="number">365</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">int</span> main()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">int</span> year, day_i, c[<span class="number">13</span>] = &#123; <span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span> &#125;;</span><br><span class="line">	printf(<span class="string">"$Please input the year whose calendear you want to know ?\n"</span>);</span><br><span class="line">	printf(<span class="string">"$"</span>);</span><br><span class="line">	scanf(<span class="string">"%d"</span>, &amp;year);</span><br><span class="line">	<span class="keyword">if</span> (year % <span class="number">400</span> == <span class="number">0</span> || year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) &#123;</span><br><span class="line">		c[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(<span class="string">"|=====================The Calendar of Year %d====================|\n"</span>, year);</span><br><span class="line">	<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(<span class="string">":  %d  SUN MON TUE WED THU FRI SAT  %2d  SUN MON TUE WED THU FRI SAT :\n"</span>, i, i + <span class="number">6</span>);</span><br><span class="line">		<span class="built_in">int</span> a = <span class="number">1</span>, b = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; <span class="number">6</span>; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (j == <span class="number">5</span> &amp;&amp; (i == <span class="number">1</span> || i == <span class="number">2</span> || i == <span class="number">3</span> || i == <span class="number">6</span>)) <span class="keyword">break</span>;</span><br><span class="line">			printf(<span class="string">":    "</span>);</span><br><span class="line">			day_i = (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i, a) + <span class="number">4</span>) % <span class="number">7</span>; <span class="comment">//得到星期几</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; day_i; k++) &#123;</span><br><span class="line">				printf(<span class="string">"    "</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> p = day_i; p &lt;= <span class="number">6</span>&amp;&amp;a&lt;=c[i]; p++) &#123;</span><br><span class="line">				printf(<span class="string">"  "</span>);</span><br><span class="line">				printf(<span class="string">"%2d"</span>, a++); <span class="comment">//右对齐</span></span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">int</span> temp_tab;</span><br><span class="line">			<span class="keyword">if</span> (c[i] == a - <span class="number">1</span>) &#123;</span><br><span class="line">				temp_tab = <span class="number">6</span> - (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i, c[i]) + <span class="number">4</span>) % <span class="number">7</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="built_in">int</span> s = <span class="number">0</span>; s &lt; temp_tab; s++) &#123;</span><br><span class="line">					printf(<span class="string">"    "</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			 </span><br><span class="line">			printf(<span class="string">"     "</span>);</span><br><span class="line">			day_i = (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i+<span class="number">6</span>, b) + <span class="number">4</span>) % <span class="number">7</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; day_i; k++) &#123;</span><br><span class="line">				printf(<span class="string">"    "</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="built_in">int</span> p = day_i; p &lt;= <span class="number">6</span>&amp;&amp; b&lt;=c[i+<span class="number">6</span>]; p++) &#123;</span><br><span class="line">				printf(<span class="string">"  "</span>);</span><br><span class="line">				printf(<span class="string">"%2d"</span>, b++); <span class="comment">//右对齐</span></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (c[i+<span class="number">6</span>] == b - <span class="number">1</span>) &#123;</span><br><span class="line">				temp_tab = <span class="number">6</span> - (from_days(<span class="number">1970</span>, <span class="number">1</span>, <span class="number">1</span>, year, i+<span class="number">6</span>, c[i+<span class="number">6</span>]) + <span class="number">4</span>) % <span class="number">7</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="built_in">int</span> m = <span class="number">0</span>; m &lt; temp_tab; m++) &#123;</span><br><span class="line">					printf(<span class="string">"    "</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			printf(<span class="string">" :\n"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(<span class="string">"|==================================================================|"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><ul><li>按照顺序处理问题，解决本题的问题的时候可以不可以用到上一题的结论。</li><li>当处理年历题目的时候，首先需要思考的事情怎么样给循环分层？<ul><li>首先可以将年历分成六块</li><li>每一块中又可以分成两个部分：<ul><li>一部分是打印SUN等信息</li><li>另一部分是打印日期（如果不知道循环执行多少次，可以先使用while(1)，然后根据条件break）</li></ul></li><li>打印日期又可以划分成两个部分，前面7次是打印i月，后面7次是打印i+6月的</li><li>在打印日期可以设置一个条件，检查是打印空白还是日期</li></ul></li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday13_01</title>
    <url>/category/39Linuxday13_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>什么是线程？线程和进程有哪些区别？各自的优缺点是什么？</li><li>为什么pthread_join的第二个参数是void**？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li><p>通过sigprocmask阻塞2号信号，睡眠5秒后，解除阻塞，2号信号得到执行；在睡眠后，解除阻塞之前，通过sigpending检测是否有信号挂起</p></li><li><p>使用真实计时器，实用计时器，统计程序执行时间，在实用计时器及虚拟计时器设定计时后，先睡眠，再让程序处于while(1)</p></li><li><p>实现一个自己的kill命令，传参时传入信号编号和进程id。</p></li><li><p>完成4窗口聊天</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line">需求：</span><br><span class="line">通信方式：</span><br><span class="line">- <span class="number">4</span>个进程，A进程和B进程负责通信，从标准输入读到的字符串通过管道发给对方，A1和B1进程负责显示。</span><br><span class="line">- A进程从标准输入读到的字符串发给B进程后，放到共享内存里，从管道中读到的字符串也放到共享内存里，A1进程到共享内存中拿到字符串，打印到屏幕上。</span><br><span class="line">- B进程从标准输入读到的字符串发给A进程，同时通过消息队列发给B1进程，B1进程从消息队列中读出消息，打印到屏幕上。</span><br><span class="line">退出方式：</span><br><span class="line">- 第一种：可以通过ctrl+C退出，任意一个进程收到CTRL+C时，给所有进程（包括自己）发送<span class="number">10</span>号信号，每个进程收到<span class="number">10</span>号信号后，开始执行有序退出。</span><br><span class="line">- 第二种：通过kill命令给<span class="number">4</span>个进程中的任何一个进程发送<span class="number">10</span>号信号，收到信号的进程再给其他<span class="number">3</span>个进程发送<span class="number">10</span>号信号。每个进程在自己的信号处理函数中执行有序退出。</span><br><span class="line">有序退出的工作内容：</span><br><span class="line">- 有序退出要做的主要有：关闭管道，解除对共享内存的映射，删除共享内存，删除信号量，删除消息队列。</span><br><span class="line"></span><br><span class="line">  注意：A和A1进程都要访问共享内存，需要同信号量完成同步，所以退出时要也删除信号量。</span><br><span class="line">  提示：A1进程和B1进程需要知道每条消息是对方发来的消息还是发给对方的消息，用消息队列的一方可以通过mtype的值来标识，</span><br><span class="line">  用共享内存的进程可以自己定义一个类似 msgbuf的结构体，然后结构体中也用一个类似mtype的成员来标记。</span><br></pre></td></tr></table></figure></li><li><p>使用pthread_join接收子线程退出时，传出来的堆空间</p></li><li><p>使用pthread_join接收子线程退出时，传出来的栈空间</p></li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><ol><li><figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line">进程是资源分配的基本单位，每个进程拥有自己独立的资源（代码段，数据段，堆栈段），为了解决进程切换时<span class="meta">cpu</span>保存进程上下文的较大开销，引入线程。</span><br><span class="line">线程是<span class="meta">cpu</span>调度的基本单位，一个进程有一个主线程和（<span class="number">0</span>到多个）子线程，这些线程共享所属进程地址空间。</span><br><span class="line">此外，线程拥有少量的栈空间，所以线程不利于资源的管理和保护，而进程更利于资源的管理和保护的。</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">void pthread<span class="constructor">_exit(<span class="params">void</span> <span class="operator">*</span><span class="params">retval</span>)</span>里的retval是一个指针，在<span class="built_in">int</span> pthread<span class="constructor">_join(<span class="params">pthread_t</span> <span class="params">thread</span>, <span class="params">void</span> <span class="operator">**</span><span class="params">retval</span>)</span>中要改变指针的指向要用到二级指针</span><br></pre></td></tr></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><ol><li><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">newFunc</span><span class="params">(<span class="keyword">int</span> sigNum, <span class="keyword">siginfo_t</span> * pInfo, <span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"new  sig %d is comming\n"</span>, sigNum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sigaction</span> <span class="title">act</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;act, <span class="number">0</span>, <span class="keyword">sizeof</span>(act));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">sigset_t</span> <span class="built_in">set</span>;</span><br><span class="line">    sigemptyset(&amp;<span class="built_in">set</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//把2号信号放到阻塞集合当中</span></span><br><span class="line">    sigaddset(&amp;<span class="built_in">set</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用新类型</span></span><br><span class="line">    act.sa_sigaction = newFunc;</span><br><span class="line">    act.sa_flags = SA_SIGINFO;</span><br><span class="line"></span><br><span class="line">    ret = sigaction(<span class="number">2</span>, &amp;act, <span class="literal">NULL</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"sigaction"</span>);</span><br><span class="line">    <span class="comment">//设置阻塞</span></span><br><span class="line">    sigprocmask(SIG_BLOCK, &amp;<span class="built_in">set</span>, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"before sleep\n"</span>);</span><br><span class="line">    sleep(<span class="number">5</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"after sleep\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">sigset_t</span> pending;</span><br><span class="line">    sigemptyset(&amp;pending);</span><br><span class="line">    sigpending(&amp;pending);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//sigismember成功返回1, 如果信号不在阻塞集合，返回0， 失败返回-1</span></span><br><span class="line">    <span class="keyword">if</span>(sigismember(&amp;pending, <span class="number">2</span>))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"sig is pending\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//解除阻塞</span></span><br><span class="line">    sigprocmask(SIG_UNBLOCK, &amp;<span class="built_in">set</span>, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//kill.c   ./kill 2 进程pid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = kill(atoi(argv[<span class="number">2</span>]), atoi(argv[<span class="number">1</span>]));</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"kill"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//while.c   ./while &amp; 后台执行进程   top显示耗cpu大的后台进程</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//A.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span> //自定义</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(<span class="string">"1.pipe"</span>,O_RDONLY);</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(<span class="string">"2.pipe"</span>,O_WRONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> buf_shmid = shmget(<span class="number">2000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(buf_shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span>* <span class="title">mybuf</span> = (<span class="title">struct</span> <span class="title">myshmbuf</span>*)<span class="title">shmat</span>(<span class="title">buf_shmid</span>, <span class="title">NULL</span>, 0);</span></span><br><span class="line">    ERROR_CHECK(mybuf, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">memset</span>(mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(struct myshmbuf));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">5000</span>, <span class="number">1</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(semid, <span class="number">-1</span>, <span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETVAL,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">p</span>,<span class="title">v</span>;</span></span><br><span class="line"></span><br><span class="line">    p.sem_num = <span class="number">0</span>;</span><br><span class="line">    p.sem_op = <span class="number">-1</span>;</span><br><span class="line">    p.sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">    v.sem_num = <span class="number">0</span>;</span><br><span class="line">    v.sem_op = +<span class="number">1</span>;</span><br><span class="line">    v.sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">        semop(semid,&amp;p,<span class="number">1</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(mybuf-&gt;mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">            <span class="keyword">int</span> ret=<span class="built_in">read</span>(STDIN_FILENO,mybuf-&gt;mtext,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));<span class="comment">//read会读入\n</span></span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,mybuf-&gt;mtext,<span class="built_in">strlen</span>(mybuf-&gt;mtext));</span><br><span class="line">                </span><br><span class="line">            mybuf-&gt;mtype = <span class="number">1</span>; <span class="comment">//A1要显示的消息来自标准输入</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(mybuf-&gt;mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">            ret=<span class="built_in">read</span>(fdr,mybuf-&gt;mtext,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;    </span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s"</span>,mybuf-&gt;mtext);</span><br><span class="line">            mybuf-&gt;mtype = <span class="number">2</span>; <span class="comment">//A1要显示的消息来自B</span></span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        semop(semid,&amp;v,<span class="number">1</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//B.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fdw=<span class="built_in">open</span>(<span class="string">"1.pipe"</span>,O_WRONLY);</span><br><span class="line">    <span class="keyword">int</span> fdr=<span class="built_in">open</span>(<span class="string">"2.pipe"</span>,O_RDONLY);</span><br><span class="line">    fd_set rdset;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1024</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FD_ZERO(&amp;rdset);    </span><br><span class="line">        FD_SET(STDIN_FILENO,&amp;rdset);</span><br><span class="line">        FD_SET(fdr,&amp;rdset);</span><br><span class="line">        ret=select(fdr+<span class="number">1</span>,&amp;rdset,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(STDIN_FILENO,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            ret=<span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="built_in">write</span>(fdw,buf,<span class="built_in">strlen</span>(buf));</span><br><span class="line"></span><br><span class="line">            mybuf.mtype = <span class="number">1</span>;   <span class="comment">//B1要显示的消息来自标准输入</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(FD_ISSET(fdr,&amp;rdset))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            ret=<span class="built_in">read</span>(fdr,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">            <span class="keyword">if</span>(ret==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            </span><br><span class="line">            mybuf.mtype = <span class="number">2</span>;   <span class="comment">//B1要显示的消息来自A</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(mybuf.mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf.mtext));</span><br><span class="line">        <span class="built_in">strcpy</span>(mybuf.mtext,buf);</span><br><span class="line">        ret = msgsnd(msgmid,&amp;mybuf,<span class="built_in">strlen</span>(mybuf.mtext),<span class="number">0</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgsnd"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//A1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span> //自定义</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> buf_shmid = shmget(<span class="number">2000</span>, <span class="number">1024</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(buf_shmid, <span class="number">-1</span>, <span class="string">"shmget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">myshmbuf</span>* <span class="title">mybuf</span> = (<span class="title">struct</span> <span class="title">myshmbuf</span>*)<span class="title">shmat</span>(<span class="title">buf_shmid</span>,<span class="title">NULL</span>,0);</span></span><br><span class="line">    ERROR_CHECK(mybuf, (<span class="keyword">void</span>*)<span class="number">-1</span>, <span class="string">"shmat"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> semid = semget(<span class="number">5000</span>, <span class="number">1</span>, IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置信号量资源数</span></span><br><span class="line">    semctl(semid,<span class="number">0</span>,SETVAL,<span class="number">1</span>);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sembuf</span> <span class="title">p</span>,<span class="title">v</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    p.sem_num = <span class="number">0</span>;  <span class="comment">/* semaphore number */</span></span><br><span class="line">    p.sem_op = <span class="number">-1</span>;  <span class="comment">/* semaphore operation */</span></span><br><span class="line">    p.sem_flg = SEM_UNDO;   <span class="comment">/* operation flags  一般填0  */</span></span><br><span class="line"></span><br><span class="line">    v.sem_num = <span class="number">0</span>;</span><br><span class="line">    v.sem_op = +<span class="number">1</span>;</span><br><span class="line">    v.sem_flg = SEM_UNDO;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        semop(semid,&amp;p,<span class="number">1</span>);                          </span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop1"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strlen</span>(mybuf-&gt;mtext))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(mybuf-&gt;mtype==<span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">"从键盘输入了：%s"</span>,mybuf-&gt;mtext);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"B发送消息到A：%s"</span>,mybuf-&gt;mtext);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(mybuf-&gt;mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf-&gt;mtext));</span><br><span class="line">        semop(semid,&amp;v,<span class="number">1</span>);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"semop2"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//B1.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> mtype;</span><br><span class="line">    <span class="keyword">char</span> mtext[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> msgmid = msgget(<span class="number">1000</span>,IPC_CREAT|<span class="number">0666</span>);</span><br><span class="line">    ERROR_CHECK(msgmid,<span class="number">-1</span>,<span class="string">"msgget"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">mymsgbuf</span> <span class="title">mybuf</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;mybuf,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(mybuf.mtext,<span class="number">0</span>,<span class="keyword">sizeof</span>(mybuf.mtext));</span><br><span class="line">        ret = msgrcv(msgmid,&amp;mybuf,<span class="keyword">sizeof</span>(mybuf.mtext)<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>); </span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"msgrcv"</span>); </span><br><span class="line">        <span class="keyword">if</span>(mybuf.mtype == <span class="number">1</span>)  <span class="built_in">printf</span>(<span class="string">"从键盘输入了：%s"</span>,mybuf.mtext);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"A发送消息到B：%s"</span>,mybuf.mtext);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">newFunc</span><span class="params">(<span class="keyword">void</span>* arg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am child\n"</span>);</span><br><span class="line">    <span class="keyword">char</span>* p = (<span class="keyword">char</span>*)<span class="built_in">calloc</span>(<span class="number">10</span>,<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    <span class="built_in">strcpy</span>(p,<span class="string">"hello"</span>);</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)p);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> pthread;</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;pthread,<span class="literal">NULL</span>,newFunc,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am father\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> *retval = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(pthread,(<span class="keyword">void</span>**)&amp;retval);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,(<span class="keyword">char</span>*)retval);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li></li></ol><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">newFunc</span><span class="params">(<span class="keyword">void</span>* arg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am child\n"</span>);</span><br><span class="line">    <span class="keyword">long</span> retVal = <span class="number">2</span>;</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)retVal);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> pthread;</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;pthread,<span class="literal">NULL</span>,newFunc,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I am father\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> retval;</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(pthread,(<span class="keyword">void</span>**)&amp;retval);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%ld\n"</span>,(<span class="keyword">long</span>)retval);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday18_01</title>
    <url>/category/39Linuxday18_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><p>查看Ubuntu下，epoll能监控的文件描述符的数量命令： cat /proc/sys/fs/file-max</p><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>select效率低的原因是什么？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li>用代码测试一下tcp的安全可靠传输的特点，udp的不安全可靠。（提示：接收的buf定义的小一点，然后发送的字节数超过接收buf的大小）</li><li>用epoll实现TCP聊天的程序，客户端断开后可以重新连接，客户端也使用epoll，注意写好对端断开时的应对机制，服务器主动断开后，也可以继续绑定TIME_WAIT状态的端口。</li><li>使用epoll实现UDP聊天。</li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><p>1.</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span>监听的文件描述符的数量有限制，默认为<span class="number">1024</span>，轮询检查文件描述符是否就绪</span><br><span class="line"><span class="keyword">select</span>每次都会修改监听的集合，所以需要每次<span class="keyword">select</span>之前将要监听的文件描述符加入到集合当中</span><br><span class="line">每次<span class="keyword">select</span>都会把监听的集合从用户态拷贝到内核态，返回时，又将集合从内核态拷贝到用户态</span><br></pre></td></tr></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line">测试结果：</span><br><span class="line"><span class="symbol">	tcp:</span>会分段接收</span><br><span class="line"><span class="symbol">	udp:</span>会直接截断接收</span><br><span class="line">	所以tcp是安全的，udp是不安全的</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//epoll_client.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">connect</span>(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"connect"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">close</span>(sfd);</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_udp_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_DGRAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr,<span class="number">0</span>,<span class="keyword">sizeof</span>(serAddr));</span><br><span class="line"></span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;serAddr,<span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">cliAddr</span>;</span></span><br><span class="line">    <span class="keyword">socklen_t</span> len = <span class="keyword">sizeof</span>(cliAddr);</span><br><span class="line">    <span class="built_in">memset</span>(&amp;cliAddr,<span class="number">0</span>,len); </span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = sendto(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>,(struct sockaddr*)&amp;cliAddr,len);                 </span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"send"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recvfrom(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>,(struct sockaddr*)&amp;cliAddr,&amp;len);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"recvfrom"</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//epoll_udp_client.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_DGRAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr,<span class="number">0</span>,<span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">socklen_t</span> len = <span class="keyword">sizeof</span>(serAddr);</span><br><span class="line"></span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = sendto(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>,(struct sockaddr*)&amp;serAddr,len);                 </span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"send"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recvfrom(sfd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>,(struct sockaddr*)&amp;serAddr,&amp;len);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"recvfrom"</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday19_01</title>
    <url>/category/39Linuxday19_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a>概念题：</h3><ol><li>epoll高效的原因是什么？epoll底层实现是什么？以及epoll三个函数被调用的时候，底层都分别做了哪些事情？</li><li>什么是epoll的边沿触发？什么是水平触发？用边沿触发，优势在哪？</li><li>什么是SYN FLood攻击？如何防护？</li></ol><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><ol><li><p>分别使用两种方式改变recv函数的阻塞性，应用在tcp断开重连的代码（服务端采用epoll的et模式接数据）</p></li><li><p>设置一下接收缓冲区大小为4K，及接收缓冲区下限为10个字节</p></li><li><p><strong>难度题：</strong></p><ul><li>通过tcp协议实现一个聊天室，多个客户端登录服务器，登录后一个客户端发送的消息，服务器转发给其他客户端。</li></ul></li></ol><a id="more"></a><h3 id="概念题：-1"><a href="#概念题：-1" class="headerlink" title="概念题："></a>概念题：</h3><p>1.</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">epoll底层实现：红黑树+双向链表</span><br><span class="line">epoll监听的文件描述符的数量没有限制，和内存有关</span><br><span class="line">把需要监听的文件描述符加入到红黑树中，一经注册，永远生效</span><br><span class="line">在把监听的文件描述符加入到红黑树中时，内核会给每个节点注册一个回调函数，文件描述符就绪时，将调用该回调函数，将文件描述符加入到双向链表中</span><br><span class="line">epoll每次只检查双向链表中的文件描述符，而不用遍历所有文件描述符，所以效率高</span><br><span class="line"></span><br><span class="line"><span class="bullet">1. </span>调用epoll_create函数：返回一个epfd，与此同时内核会创建eventpoll这个结构体，该结构体有两个非常重要的成员<span class="strong">**红黑树**</span>和<span class="strong">**双向链表**</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">   1. </span>红黑树的作用：保存需要监听的描述符</span><br><span class="line"><span class="bullet">   2. </span>双向链表：保存就绪的文件描述符</span><br><span class="line"></span><br><span class="line"><span class="bullet">2. </span>调用epoll_ctl函数时：就是对红黑树操作，可以添加节点到红黑树，修改、删除。</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1. </span>添加、修改、删除节点到红黑树，需要不要遍历？</span><br><span class="line"><span class="bullet">      1. </span>需要查找，logn</span><br><span class="line"><span class="bullet">   2. </span>添加描述符到红黑树上时，有一次内存拷贝，从用户空间拷贝到内核空间，一次注册文件描述符，永久生效</span><br><span class="line"><span class="bullet">   3. </span>当描述符添加到红黑树上时，内核会给每一个节点注册一个回调函数，当该描述符就绪的时候，会主动调用自己的回调函数，将其加入到双向链表当中。</span><br><span class="line"></span><br><span class="line"><span class="bullet">3. </span>调用epoll_wait时：去监控双向链表，如果双向链表里面有数据，取数据，返回用户空间；如果没有数据，就阻塞。</span><br><span class="line"></span><br><span class="line"><span class="bullet">   1. </span>取数据时，会从内核空间拷贝数据到用户空间。</span><br><span class="line"><span class="bullet">   2. </span>用户空间存放就绪文件描述符的结构体数组大小如何选择？</span><br><span class="line"><span class="bullet">      1. </span>要根据实际业务逻辑</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line"><span class="keyword">lt</span>特点：如果文件描述符数据没有一次读取完，那么还会继续触发epoll_wait，直到数据全部读取完。</span><br><span class="line">et特点：如果文件描述符数据没有一次读取完，那么只会触发一次epoll_wait,直到该文件描述符下一次读写事件发生，才会触发epoll_wait。</span><br><span class="line"></span><br><span class="line">et优势：在高并发情况下，et效率比<span class="keyword">lt</span>高</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">SYN Flood攻击：攻击者利用了tcp协议的漏洞，只发送第一次握手，服务端回复第二次握手，并且把这个半连接状态加入到半连接队列里。攻击者不回复第三次握手，造成服务端半连接队列满，无法接收正常客户端的连接请求。</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 增加半连接队列长度</span><br><span class="line"><span class="number">2.</span> 减少服务端重传服务端重传第二次握手的次数及时间。</span><br><span class="line"><span class="number">3.</span> syn cookie</span><br></pre></td></tr></table></figure><h3 id="编程题：-1"><a href="#编程题：-1" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                    ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf)<span class="number">-1</span>,MSG_DONTWAIT);</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                    &#123;</span><br><span class="line"></span><br><span class="line">                        ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                        <span class="built_in">close</span>(newFd);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">-1</span> == ret)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN|EPOLLET;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_fcntl_server.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setNoBlock</span><span class="params">(<span class="keyword">int</span> fd)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> status = <span class="number">0</span>;</span><br><span class="line">    status = fcntl(fd,F_GETFL);</span><br><span class="line">    status |= O_NONBLOCK;</span><br><span class="line">    fcntl(fd,F_SETFL,status);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                    ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                    &#123;</span><br><span class="line"></span><br><span class="line">                        ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                        <span class="built_in">close</span>(newFd);</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">-1</span> == ret)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line">                </span><br><span class="line">                setNoBlock(newFd);</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN|EPOLLET;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//epoll_client.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">connect</span>(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"connect"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">2</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(sfd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(sfd,buf,<span class="keyword">sizeof</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">close</span>(sfd);</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sfd = socket(AF_INET,SOCK_STREAM,<span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd,<span class="number">-1</span>,<span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> optval = <span class="number">1</span>;</span><br><span class="line">    ret = setsockopt(sfd,SOL_SOCKET,SO_REUSEADDR,&amp;optval,<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;addr,<span class="number">0</span>,<span class="keyword">sizeof</span>(addr));</span><br><span class="line"></span><br><span class="line">    addr.sin_family = AF_INET;</span><br><span class="line">    addr.sin_port = htons(atoi(argv[<span class="number">2</span>])); </span><br><span class="line">    addr.sin_addr.s_addr = inet_addr(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    ret = bind(sfd,(struct sockaddr*)&amp;addr,<span class="keyword">sizeof</span>(addr));</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"bind"</span>);</span><br><span class="line"></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd,<span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>,<span class="title">evs</span>[3];</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events,<span class="number">0</span>,<span class="keyword">sizeof</span>(events));</span><br><span class="line">    <span class="comment">//告诉内核监听读事件</span></span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = STDIN_FILENO;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,STDIN_FILENO,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl1"</span>);</span><br><span class="line"></span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = sfd;</span><br><span class="line">    ret = epoll_ctl(epfd,EPOLL_CTL_ADD,sfd,&amp;events);</span><br><span class="line">    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">4096</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">3</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == STDIN_FILENO)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                <span class="built_in">read</span>(STDIN_FILENO,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                send(newFd,buf,<span class="built_in">strlen</span>(buf)<span class="number">-1</span>,<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == newFd)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">memset</span>(buf,<span class="number">0</span>,<span class="keyword">sizeof</span>(buf));</span><br><span class="line">                ret = recv(newFd,buf,<span class="keyword">sizeof</span>(buf),<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span>(<span class="number">0</span> == ret)  <span class="comment">//写端关闭</span></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    ret = epoll_ctl(epfd,EPOLL_CTL_DEL,newFd,&amp;events);</span><br><span class="line">                    ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl3"</span>);</span><br><span class="line">                    <span class="built_in">close</span>(newFd);</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"buf:%s\n"</span>,buf);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                ERROR_CHECK(newFd,<span class="number">-1</span>,<span class="string">"accept"</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">socklen_t</span> rcvbuf = <span class="number">4096</span>;</span><br><span class="line">                <span class="keyword">socklen_t</span> len =<span class="number">0</span>;</span><br><span class="line">                setsockopt(newFd,SOL_SOCKET,SO_RCVBUF,&amp;rcvbuf,len);</span><br><span class="line"></span><br><span class="line">                getsockopt(newFd,SOL_SOCKET,SO_RCVBUF,&amp;rcvbuf,&amp;len);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"rcvbuf = %d\n"</span>,rcvbuf);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">socklen_t</span> lowat = <span class="number">10</span>;</span><br><span class="line">                setsockopt(newFd,SOL_SOCKET,SO_RCVLOWAT,&amp;lowat,<span class="keyword">sizeof</span>(lowat));</span><br><span class="line"></span><br><span class="line">                events.events = EPOLLIN;</span><br><span class="line">                events.data.fd = newFd;</span><br><span class="line">                ret = epoll_ctl(epfd,EPOLL_CTL_ADD,newFd,&amp;events);</span><br><span class="line">                ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"epoll_ctl2"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(newFd);</span><br><span class="line">    <span class="built_in">close</span>(sfd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday21_01</title>
    <url>/category/39Linuxday21_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><p><strong>概念题：</strong></p><ol><li><p>发送大文件时，为什么客户端有时候会崩溃？为什么服务器的会刷屏打印子进程非忙碌？如何解决？</p></li><li><p>发送大文件的时候，客户端为什么会报栈损坏、段错误？如何解决？</p></li></ol><p><strong>编程题：</strong></p><ol><li>修改进程池1.0版本，使其可以传输大文件</li><li>优化打印进度条，使其传输效率获得提升。</li></ol><p><strong>预习：</strong></p><ol><li>探索一下使用mmap方式怎么传输文件</li></ol><a id="more"></a><p><strong>概念题：</strong></p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">为解决tcp协议的粘包问题，我定义了一个“小火车”结构体，对于该结构体，前<span class="number">4</span>个字节dataLen表示长度，databuf表示要传送的数据。</span><br><span class="line">当发送速率小于接收速率，客户端recv接收时，还没接收完dataLen的数据就提前返回了，下一次再接收时，就接收上一次剩余数据的前<span class="number">4</span>个字节，它表示的是dataLen长度，某些情况下，这个dataLen可以很大，导致栈溢出，严重地话会导致客户端的崩溃</span><br><span class="line"></span><br><span class="line">客户端读端关闭，服务端的子进程第一次send写返回<span class="number">-1</span>，第二次send接收到SIGPIPE信号，导致子进程崩溃，子进程给父进程发送就绪信号，父进程疯狂打印</span><br></pre></td></tr></table></figure><p>编程题：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//第一个参数：ip  第二个参数：端口 第三个参数：创建的子进程(用于处理客户端请求)的数量</span></span><br><span class="line">    <span class="keyword">int</span> processNum = atoi(argv[<span class="number">3</span>]);    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//在堆空间上创建数组，保存子进程节点</span></span><br><span class="line">    pProcess_data_t pData = (pProcess_data_t)<span class="built_in">calloc</span>(processNum,<span class="keyword">sizeof</span>(<span class="keyword">process_data_t</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建子进程</span></span><br><span class="line">    makeChild(pData,processNum);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试创建子进程是否正确，后用ps -elf|grep 2000</span></span><br><span class="line">    <span class="comment">/* while(1); */</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建tcp套接字，并监听ip和端口</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>],argv[<span class="number">2</span>],&amp;sfd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试监听套接字</span></span><br><span class="line">    <span class="comment">/* while(1); */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll,并把要监听的文件描述符加入到epoll中</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd,sfd);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; processNum ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        epollAddFd(epfd,pData[i].pipeFd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum,newFd;</span><br><span class="line">    <span class="comment">//就绪的文件描述符要放到evs</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[4];</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">4</span>,<span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//有新客户端连接过来</span></span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                <span class="comment">//看哪个子进程空闲，就通过对应管道把newFd传给它(通过参数接收)，然后子进程通过newFd直接与客户端通信</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(pData[j].flag == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">//子进程pipeFd保存服务端管道写端,传newFd</span></span><br><span class="line">                        sendFd(pData[j].pipeFd,newFd);</span><br><span class="line">                        pData[j].flag = <span class="number">1</span>;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is busy\n"</span>,pData[j].pid);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//newFd已经传过去了，关闭服务端的newFd</span></span><br><span class="line">                <span class="built_in">close</span>(newFd);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//如果监听到服务端某个管道写端就绪,就表示子进程已完成传输工作，可以设置成空闲状态</span></span><br><span class="line">                    <span class="keyword">if</span>(evs[i].data.fd == pData[j].pipeFd)</span><br><span class="line">                    &#123;</span><br><span class="line">                        pData[j].flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//读取管道里的完成信号</span></span><br><span class="line">                        <span class="keyword">char</span> buf[<span class="number">2</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">                        <span class="built_in">read</span>(pData[j].pipeFd,buf,<span class="keyword">sizeof</span>(buf));</span><br><span class="line"></span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is not busy\n"</span>,pData[j].pid);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//child.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建子进程</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData,<span class="keyword">int</span> processNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fds[<span class="number">2</span>],ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = socketpair(AF_LOCAL,SOCK_STREAM,<span class="number">0</span>,fds);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"socketpair"</span>);</span><br><span class="line"></span><br><span class="line">        pid = fork();</span><br><span class="line">        <span class="keyword">if</span>(pid) <span class="comment">//父进程只写文件描述符</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">0</span>]);</span><br><span class="line">            pData[i].flag = <span class="number">0</span>;</span><br><span class="line">            pData[i].pid = pid;  <span class="comment">//pid是子进程</span></span><br><span class="line">            pData[i].pipeFd = fds[<span class="number">1</span>]; <span class="comment">//保存管道对端父进程(服务端)的写文件描述符</span></span><br><span class="line">            <span class="comment">/* wait(NULL); 创建多个子进程不要加wait*/</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>  <span class="comment">//子进程只读文件描述符</span></span><br><span class="line">        &#123;   </span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">1</span>]);</span><br><span class="line">            childFunc(fds[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//第一个参数：子进程管道的读端，第二个参数：用于与客户端的通信</span></span><br><span class="line">        recvFd(pipeFd,&amp;newFd);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//给客户端传送文件</span></span><br><span class="line">        transFile(newFd);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//通知服务端，子进程完成传输工作</span></span><br><span class="line">        <span class="comment">//如果服务端一直没读取管道里的“完成信号”，就阻塞在这</span></span><br><span class="line">        <span class="built_in">write</span>(pipeFd,<span class="string">"a"</span>,<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//如果关闭newFd的话，客户端收到数据后，不会卡在那，而是直接退出</span></span><br><span class="line">        <span class="built_in">close</span>(newFd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//tcpInit.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span>* ip,<span class="keyword">char</span>* port,<span class="keyword">int</span>* temp_sfd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> sfd = socket(AF_INET, SOCK_STREAM, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd, <span class="number">-1</span>, <span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//保存本机的ip和端口</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr, <span class="number">0</span>, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(ip);</span><br><span class="line">    serAddr.sin_port = htons(atoi(port));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> reuse = <span class="number">1</span>;</span><br><span class="line">    setsockopt(sfd, SOL_SOCKET, SO_REUSEADDR, &amp;reuse, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置发送缓冲区的大小</span></span><br><span class="line">    <span class="keyword">int</span> buf = <span class="number">65536</span>;</span><br><span class="line">    setsockopt(sfd, SOL_SOCKET, SO_SNDBUF, &amp;buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//绑定本机的IP和端口，绑定到sfd上</span></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = bind(sfd, (struct sockaddr*)&amp;serAddr, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//监听的最大连接数是10</span></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd, <span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    *temp_sfd = sfd;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//transFile.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sigFunc</span><span class="params">(<span class="keyword">int</span> sigNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"sig is comming\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">transFile</span><span class="params">(<span class="keyword">int</span> newFd)</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    signal(SIGPIPE, sigFunc);</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fd = <span class="built_in">open</span>(<span class="string">"1.pdf"</span>, O_RDWR);</span><br><span class="line">    ERROR_CHECK(fd, <span class="number">-1</span>, <span class="string">"open"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">stat</span> <span class="title">fileInfo</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;fileInfo, <span class="number">0</span>, <span class="keyword">sizeof</span>(fileInfo));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取当前文件的状态</span></span><br><span class="line">    fstat(fd, &amp;fileInfo);</span><br><span class="line"></span><br><span class="line">    Train_t train;</span><br><span class="line">    <span class="built_in">memset</span>(&amp;train, <span class="number">0</span>, <span class="keyword">sizeof</span>(train));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//发送文件名字</span></span><br><span class="line">    train.dataLen = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(train.buf, <span class="string">"1.pdf"</span>);</span><br><span class="line">    send(newFd, &amp;train, <span class="number">4</span> + train.dataLen, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//发送文件的总长度的指针</span></span><br><span class="line">    train.dataLen = <span class="keyword">sizeof</span>(fileInfo.st_size);</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="built_in">memcpy</span>(train.buf, &amp;fileInfo.st_size, <span class="keyword">sizeof</span>(<span class="keyword">off_t</span>));</span><br><span class="line">    send(newFd, &amp;train, <span class="number">4</span> + train.dataLen, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//直接复制到train.buf里节约栈空间</span></span><br><span class="line">        train.dataLen = <span class="built_in">read</span>(fd, train.buf, <span class="keyword">sizeof</span>(train.buf));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//发送文件内容</span></span><br><span class="line">        ret = send(newFd, &amp;train, <span class="number">4</span> + train.dataLen, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">-1</span> == ret)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == train.dataLen)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//epollAddFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd,<span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events, <span class="number">0</span>, <span class="keyword">sizeof</span>(events));                    </span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = fd; </span><br><span class="line"></span><br><span class="line">    ret = epoll_ctl(epfd, EPOLL_CTL_ADD, fd, &amp;events);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"epoll_ctl"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//sendFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   *(<span class="keyword">int</span>*)CMSG_DATA(cmsg) = fd;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   sendmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//recvFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   recvmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line">   *fd = *(<span class="keyword">int</span>*)CMSG_DATA(cmsg);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//func.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;errno.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;dirent.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pwd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;grp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netdb.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/mman.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/select.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;setjmp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/ipc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/sem.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/msg.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/shm.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/epoll.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ARGS_CHECK(argc, val) \</span></span><br><span class="line">    <span class="keyword">if</span>(argc != val) &#123; \</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"error args\n"</span>); \</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>; \</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR_CHECK(ret, retVal, funcName) &#123; \</span></span><br><span class="line">    <span class="keyword">if</span>(ret == retVal) &#123; \</span><br><span class="line">        perror(funcName); \</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>; \</span><br><span class="line">    &#125; \</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> THREAD_ERROR_CHECK(ret, funcName) \</span></span><br><span class="line">    <span class="keyword">do</span> &#123; \</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> != ret) &#123; \</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s : %s\n"</span>, funcName, strerror(ret)); \</span><br><span class="line">        &#125; \</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//保存子进程相关信息</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">data</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    <span class="keyword">int</span> pipeFd;</span><br><span class="line">&#125;<span class="keyword">process_data_t</span>, *pProcess_data_t;</span><br><span class="line"></span><br><span class="line"><span class="comment">//私有协议-小火车</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> dataLen;</span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">1000</span>];</span><br><span class="line">&#125;Train_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData, <span class="keyword">int</span> processNum)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span> *ip, <span class="keyword">char</span> *port, <span class="keyword">int</span> *sockFd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd, <span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">transFile</span><span class="params">(<span class="keyword">int</span> clientFd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> *.c)</span></span><br><span class="line">OBJS:=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line">ELF:=process_pool</span><br><span class="line">CC:=gcc</span><br><span class="line">CFLAGS:=-g -Wall </span><br><span class="line"><span class="variable">$(ELF)</span>:<span class="variable">$(OBJS)</span></span><br><span class="line">		gcc -o <span class="variable">$@</span> <span class="variable">$^</span> -pthread </span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">		rm -rf <span class="variable">$(OBJS)</span> <span class="variable">$(ELF)</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday20_01</title>
    <url>/category/39Linuxday20_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><p><strong>概念题：</strong></p><ol><li>什么是TCP粘包问题，原因是什么，怎么解决粘包问题？（理解我们的应用层协议，也就是小火车）</li></ol><p><strong>编程题：</strong></p><ol><li>不看上课代码，看着流程笔记把进程池实现一下。（先实现1.0版本，只发送一句话的，采用增量编写）</li></ol><p><strong>预习</strong>：写一下2.0版本进程池（不交），探索一下为啥会出现我上课所说的问题</p><a id="more"></a><p>概念题：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">多次发送的数据，可以被一次接收，数据之间没有分界线，所有数据全粘在一起</span><br><span class="line">人为去规定数据的分界线。私有协议。</span><br></pre></td></tr></table></figure><p>编程题：</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//func.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/epoll.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/types.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/ipc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/sem.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/msg.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/shm.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;syslog.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;dirent.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netinet/in.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/socket.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;netdb.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;arpa/inet.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pwd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;grp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/mman.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/select.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ARGS_CHECK(argc,val) &#123;<span class="meta-keyword">if</span>(argc!=val) \</span></span><br><span class="line">    &#123;<span class="built_in">printf</span>(<span class="string">"error args\n"</span>); <span class="keyword">return</span> <span class="number">-1</span>;&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR_CHECK(ret,retVal,funcName) &#123;<span class="meta-keyword">if</span>(ret==retVal) &#123;perror(funcName);return -1;&#125;&#125;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> THREAD_ERROR_CHECK(ret,funcName) \</span></span><br><span class="line">    <span class="keyword">do</span>&#123; \</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> != ret)&#123; \</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s : %s\n"</span>, funcName,strerror(ret)); \</span><br><span class="line">        &#125; \</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//保存子进程相关信息</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Process_data_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> flag; <span class="comment">//0表示空闲，1表示忙碌</span></span><br><span class="line">    <span class="keyword">pid_t</span> pid;  <span class="comment">//保存子进程pid</span></span><br><span class="line">    <span class="keyword">int</span> pipeFd; <span class="comment">//保存管道的另一端，这里指父进程(服务端)的写端</span></span><br><span class="line">&#125;Process_data_t,*pProcess_data_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData,<span class="keyword">int</span> processNum)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span>* ip,<span class="keyword">char</span>* port,<span class="keyword">int</span>* temp_sfd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd,<span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//第一个参数：ip  第二个参数：端口 第三个参数：创建的子进程(用于处理客户端请求)的数量</span></span><br><span class="line">    <span class="keyword">int</span> processNum = atoi(argv[<span class="number">3</span>]);    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//在堆空间上创建数组，保存子进程节点</span></span><br><span class="line">    pProcess_data_t pData = (pProcess_data_t)<span class="built_in">calloc</span>(processNum,<span class="keyword">sizeof</span>(Process_data_t));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//创建子进程</span></span><br><span class="line">    makeChild(pData,processNum);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试创建子进程是否正确，后用ps -elf|grep 2000</span></span><br><span class="line">    <span class="comment">/* while(1); */</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建tcp套接字，并监听ip和端口</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>],argv[<span class="number">2</span>],&amp;sfd);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//测试监听套接字</span></span><br><span class="line">    <span class="comment">/* while(1); */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll,并把要监听的文件描述符加入到epoll中</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd,<span class="number">-1</span>,<span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd,sfd);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; processNum ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        epollAddFd(epfd,pData[i].pipeFd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum,newFd;</span><br><span class="line">    <span class="comment">//就绪的文件描述符要放到evs</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[4];</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        readyNum = epoll_wait(epfd,evs,<span class="number">4</span>,<span class="number">-1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; readyNum ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//有新客户端连接过来</span></span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)</span><br><span class="line">            &#123;</span><br><span class="line">                newFd = accept(sfd,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br><span class="line">                <span class="comment">//看哪个子进程空闲，就通过对应管道把newFd传给它(通过参数接收)，然后子进程通过newFd直接与客户端通信</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(pData[j].flag == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">//子进程pipeFd保存服务端管道写端,传newFd</span></span><br><span class="line">                        sendFd(pData[j].pipeFd,newFd);</span><br><span class="line">                        pData[j].flag = <span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//newFd已经传过去了，关闭服务端的newFd</span></span><br><span class="line">                <span class="built_in">close</span>(newFd);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; processNum ; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//如果监听到服务端某个管道写端就绪,就表示子进程已完成传输工作，可以设置成空闲状态</span></span><br><span class="line">                <span class="keyword">if</span>(evs[i].data.fd == pData[j].pipeFd)</span><br><span class="line">                &#123;</span><br><span class="line">                    pData[j].flag = <span class="number">0</span>;</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">//读取管道里的完成信号</span></span><br><span class="line">                    <span class="keyword">char</span> buf[<span class="number">2</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">                    <span class="comment">/* read(pData[j].pipeFd,buf,sizeof(buf)); */</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//child.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建子进程</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData,<span class="keyword">int</span> processNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fds[<span class="number">2</span>],ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = socketpair(AF_LOCAL,SOCK_STREAM,<span class="number">0</span>,fds);</span><br><span class="line">        ERROR_CHECK(ret,<span class="number">-1</span>,<span class="string">"socketpair"</span>);</span><br><span class="line"></span><br><span class="line">        pid = fork();</span><br><span class="line">        <span class="keyword">if</span>(pid) <span class="comment">//父进程只写文件描述符</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">0</span>]);</span><br><span class="line">            pData[i].flag = <span class="number">0</span>;</span><br><span class="line">            pData[i].pid = pid;  <span class="comment">//pid是子进程</span></span><br><span class="line">            pData[i].pipeFd = fds[<span class="number">1</span>]; <span class="comment">//保存管道对端父进程(服务端)的写文件描述符</span></span><br><span class="line">            <span class="comment">/* wait(NULL); 创建多个子进程不要加wait*/</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>  <span class="comment">//子进程只读文件描述符</span></span><br><span class="line">        &#123;   </span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">1</span>]);</span><br><span class="line">            childFunc(fds[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//第一个参数：子进程管道的读端，第二个参数：用于与客户端的通信</span></span><br><span class="line">        recvFd(pipeFd,&amp;newFd);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//给客户端传送数据</span></span><br><span class="line">        send(newFd,<span class="string">"helloclient"</span>,<span class="number">11</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果关闭newFd的话，客户端收到数据后，不会卡在那，而是直接退出</span></span><br><span class="line">        <span class="built_in">close</span>(newFd);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//通知服务端，子进程完成传输工作</span></span><br><span class="line">        <span class="comment">//如果服务端一直没读取管道里的“完成信号”，就阻塞在这</span></span><br><span class="line">        <span class="comment">/* write(pipeFd,"a",1); */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//tcpInit.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">tcpInit</span><span class="params">(<span class="keyword">char</span>* ip,<span class="keyword">char</span>* port,<span class="keyword">int</span>* temp_sfd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> sfd = socket(AF_INET, SOCK_STREAM, <span class="number">0</span>);</span><br><span class="line">    ERROR_CHECK(sfd, <span class="number">-1</span>, <span class="string">"socket"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//保存本机的ip和端口</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">serAddr</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;serAddr, <span class="number">0</span>, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line">    serAddr.sin_family = AF_INET;</span><br><span class="line">    serAddr.sin_addr.s_addr = inet_addr(ip);</span><br><span class="line">    serAddr.sin_port = htons(atoi(port));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> reuse = <span class="number">1</span>;</span><br><span class="line">    setsockopt(sfd, SOL_SOCKET, SO_REUSEADDR, &amp;reuse, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//绑定本机的IP和端口，绑定到sfd上</span></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    ret = bind(sfd, (struct sockaddr*)&amp;serAddr, <span class="keyword">sizeof</span>(serAddr));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//监听的最大连接数是10</span></span><br><span class="line">    ret = <span class="built_in">listen</span>(sfd, <span class="number">10</span>);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"listen"</span>);</span><br><span class="line"></span><br><span class="line">    *temp_sfd = sfd;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//epollAddFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">epollAddFd</span><span class="params">(<span class="keyword">int</span> epfd,<span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">events</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;events, <span class="number">0</span>, <span class="keyword">sizeof</span>(events));                    </span><br><span class="line">    events.events = EPOLLIN;</span><br><span class="line">    events.data.fd = fd; </span><br><span class="line"></span><br><span class="line">    ret = epoll_ctl(epfd, EPOLL_CTL_ADD, fd, &amp;events);</span><br><span class="line">    ERROR_CHECK(ret, <span class="number">-1</span>, <span class="string">"epoll_ctl"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//sendFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   *(<span class="keyword">int</span>*)CMSG_DATA(cmsg) = fd;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   sendmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//recvFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> buf[<span class="number">8</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">strcpy</span>(buf, <span class="string">"a"</span>);</span><br><span class="line">    iov.iov_base = buf;</span><br><span class="line">    iov.iov_len = <span class="built_in">strlen</span>(buf);</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   recvmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line">   *fd = *(<span class="keyword">int</span>*)CMSG_DATA(cmsg);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编译生成.o文件，然后将多个.ow文件和函数库链接一起打包生成一个可执行文件，每次运行时直接运行该可执行程序即可</p><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">SRCS:=<span class="variable">$(<span class="built_in">wildcard</span> *.c)</span></span><br><span class="line">OBJS:=<span class="variable">$(<span class="built_in">patsubst</span> %.c,%.o,<span class="variable">$(SRCS)</span>)</span></span><br><span class="line">ELF:=process_pool</span><br><span class="line">CC:=gcc</span><br><span class="line">CFLAGS:=-g -Wall </span><br><span class="line"><span class="variable">$(ELF)</span>:<span class="variable">$(OBJS)</span></span><br><span class="line">	gcc -o <span class="variable">$@</span> <span class="variable">$^</span> -pthread </span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -rf <span class="variable">$(OBJS)</span> <span class="variable">$(ELF)</span></span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday22_01</title>
    <url>/category/39Linuxday22_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h3 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h3><ol><li>进程池使用三个零拷贝接口mmap、sendfile、splice实现数据的收发，并测试效率，并且温和的方式对进程池退出</li><li>实现线程池、并且温和的方式退出线程池</li></ol><p>（严禁直接拷贝上课代码当作业，一经发现一次4KM）</p><a id="more"></a><p>1.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> exitPipe[<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sigFunc1</span><span class="params">(<span class="keyword">int</span> sigNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"sig is comming\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//异步拉起同步</span></span><br><span class="line">    <span class="built_in">write</span>(exitPipe[<span class="number">1</span>], &amp;sigNum, <span class="number">4</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> processNum = atoi(argv[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line">    pProcess_data_t pData = (pProcess_data_t)<span class="built_in">calloc</span>(processNum, <span class="keyword">sizeof</span>(<span class="keyword">process_data_t</span>));</span><br><span class="line">    <span class="comment">//1.创建子进程</span></span><br><span class="line">    makeChild(pData, processNum);</span><br><span class="line">    signal(SIGUSR1, sigFunc1);</span><br><span class="line">    pipe(exitPipe);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建tcp监听套接字</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>], argv[<span class="number">2</span>], &amp;sfd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll,把需要监听的描述符加入到epoll中，</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line">    ERROR_CHECK(epfd, <span class="number">-1</span>, <span class="string">"epoll_create"</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd, sfd);</span><br><span class="line">    epollAddFd(epfd, exitPipe[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum; ++i)&#123;</span><br><span class="line">        epollAddFd(epfd, pData[i].pipeFd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(evs, <span class="number">0</span>, <span class="keyword">sizeof</span>(evs));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        readyNum = epoll_wait(epfd, evs, <span class="number">2</span>, <span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; readyNum; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)&#123;</span><br><span class="line">                newFd = accept(sfd, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="number">0</span> == pData[j].flag)&#123;</span><br><span class="line">                        sendFd(pData[j].pipeFd, newFd, <span class="number">0</span>);</span><br><span class="line">                        pData[j].flag = <span class="number">1</span>;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is busy\n"</span>, pData[j].pid);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">close</span>(newFd);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == exitPipe[<span class="number">0</span>])&#123;</span><br><span class="line">                <span class="comment">//第一种退出方式，比较暴力</span></span><br><span class="line">                <span class="comment">/* for(int j = 0; j &lt; processNum; ++j)&#123; */</span></span><br><span class="line">                <span class="comment">/*     kill(pData[j].pid, SIGUSR1); */</span></span><br><span class="line">                <span class="comment">/* &#125; */</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//第二种退出方式</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j)&#123;</span><br><span class="line">                    <span class="comment">//发送退出标记，标记为1表示退出，0，表示不退出</span></span><br><span class="line">                    sendFd(pData[j].pipeFd, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j)&#123;</span><br><span class="line">                   wait(<span class="literal">NULL</span>);  <span class="comment">//或者用waitpid</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"main process exit\n"</span>);</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; processNum; ++j)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(evs[i].data.fd == pData[j].pipeFd)&#123;</span><br><span class="line">                        <span class="keyword">char</span> buf[<span class="number">2</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">                        <span class="comment">//读管道内容，否则管道一直就绪</span></span><br><span class="line">                        <span class="built_in">read</span>(pData[j].pipeFd, buf, <span class="keyword">sizeof</span>(buf));</span><br><span class="line"></span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"child %d is not busy\n"</span>, pData[j].pid);</span><br><span class="line"></span><br><span class="line">                        pData[j].flag = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//查找就绪的管道属于哪个进程</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//child.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">makeChild</span><span class="params">(pProcess_data_t pData, <span class="keyword">int</span> processNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> fds[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">pid_t</span> pid;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; processNum; ++i)&#123;</span><br><span class="line">        <span class="comment">//创建一对描述符，用于父子进程传输数据</span></span><br><span class="line">       socketpair(AF_LOCAL, SOCK_STREAM, <span class="number">0</span>, fds);</span><br><span class="line">       pid = fork();</span><br><span class="line">       <span class="keyword">if</span>(<span class="number">0</span> == pid)&#123;</span><br><span class="line">            <span class="built_in">close</span>(fds[<span class="number">1</span>]);</span><br><span class="line">            childFunc(fds[<span class="number">0</span>]);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="built_in">close</span>(fds[<span class="number">0</span>]);</span><br><span class="line">       pData[i].pid = pid;</span><br><span class="line">       pData[i].pipeFd = fds[<span class="number">1</span>];</span><br><span class="line">       <span class="comment">//如果flag为0，表示子进程非忙碌，1忙碌。</span></span><br><span class="line">       pData[i].flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">childFunc</span><span class="params">(<span class="keyword">int</span> pipeFd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> clientFd = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> exitFlag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        recvFd(pipeFd, &amp;clientFd, &amp;exitFlag);</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span> == exitFlag)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"child exit\n"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        transFile(clientFd);</span><br><span class="line">        <span class="comment">//通知父进程，我已工作完成</span></span><br><span class="line">        <span class="built_in">write</span>(pipeFd, <span class="string">"a"</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">close</span>(clientFd);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//sendFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> fd, <span class="keyword">int</span> exitFlag)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    iov.iov_base = &amp;exitFlag;</span><br><span class="line">    iov.iov_len = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   *(<span class="keyword">int</span>*)CMSG_DATA(cmsg) = fd;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   sendmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//recvFd.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"head.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvFd</span><span class="params">(<span class="keyword">int</span> pipeFd, <span class="keyword">int</span> *fd, <span class="keyword">int</span> *exitFlag)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">msghdr</span> <span class="title">msg</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;msg, <span class="number">0</span>, <span class="keyword">sizeof</span>(msg));</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>;</span></span><br><span class="line">    <span class="built_in">memset</span>(&amp;iov, <span class="number">0</span>, <span class="keyword">sizeof</span>(iov));</span><br><span class="line"></span><br><span class="line">    iov.iov_base = exitFlag;</span><br><span class="line">    iov.iov_len = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">    msg.msg_iov = &amp;iov;</span><br><span class="line">    msg.msg_iovlen = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">size_t</span> len = CMSG_LEN(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">cmsghdr</span> *<span class="title">cmsg</span> = (<span class="title">struct</span> <span class="title">cmsghdr</span> *)<span class="title">calloc</span>(1, <span class="title">len</span>);</span></span><br><span class="line">    cmsg-&gt;cmsg_len = len;</span><br><span class="line">    cmsg-&gt;cmsg_level = SOL_SOCKET;</span><br><span class="line">    cmsg-&gt;cmsg_type = SCM_RIGHTS;</span><br><span class="line"></span><br><span class="line">   msg.msg_control = cmsg;</span><br><span class="line">   msg.msg_controllen = len;</span><br><span class="line"></span><br><span class="line">   recvmsg(pipeFd, &amp;msg, <span class="number">0</span>);</span><br><span class="line">   *fd = *(<span class="keyword">int</span>*)CMSG_DATA(cmsg);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/head.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/threadPool.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/workque.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> exitPipe[<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sigFunc1</span><span class="params">(<span class="keyword">int</span> sigNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"sig is comming\n"</span>);</span><br><span class="line">    <span class="built_in">write</span>(exitPipe[<span class="number">1</span>], &amp;sigNum, <span class="number">4</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    signal(SIGUSR1, sigFunc1);</span><br><span class="line">    pipe(exitPipe);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(fork())&#123;</span><br><span class="line">        <span class="built_in">close</span>(exitPipe[<span class="number">0</span>]);</span><br><span class="line">        wait(<span class="literal">NULL</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"threadPool exit\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">close</span>(exitPipe[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">int</span> threadNum = atoi(argv[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line">    ThreadPool_t pool;</span><br><span class="line">    <span class="built_in">memset</span>(&amp;pool, <span class="number">0</span>, <span class="keyword">sizeof</span>(pool));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化线程池</span></span><br><span class="line">    threadPoolInit(&amp;pool, threadNum);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启动线程池</span></span><br><span class="line">    threadPoolStart(&amp;pool);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//创建tcp监听套接字</span></span><br><span class="line">    <span class="keyword">int</span> sfd = <span class="number">0</span>;</span><br><span class="line">    tcpInit(argv[<span class="number">1</span>], argv[<span class="number">2</span>], &amp;sfd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建epoll</span></span><br><span class="line">    <span class="keyword">int</span> epfd = epoll_create(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    epollAddFd(epfd, sfd);</span><br><span class="line">    epollAddFd(epfd, exitPipe[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">epoll_event</span> <span class="title">evs</span>[2];</span></span><br><span class="line">    <span class="built_in">memset</span>(evs, <span class="number">0</span>, <span class="keyword">sizeof</span>(evs));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> readyNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> newFd = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        readyNum = epoll_wait(epfd, evs, <span class="number">2</span>, <span class="number">-1</span>);   </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; readyNum; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == sfd)&#123;</span><br><span class="line">                <span class="comment">//接收连接请求，并把newFd加入节点中</span></span><br><span class="line">                newFd = accept(sfd, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">                pNode_t pNew = (pNode_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Node_t));</span><br><span class="line">                pNew-&gt;clientFd = newFd;</span><br><span class="line"></span><br><span class="line">                pthread_mutex_lock(&amp;pool.que.mutex);</span><br><span class="line">                queInsert(&amp;pool.que, pNew);</span><br><span class="line">                pthread_cond_broadcast(&amp;pool.que.cond);</span><br><span class="line">                pthread_mutex_unlock(&amp;pool.que.mutex);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(evs[i].data.fd == exitPipe[<span class="number">0</span>])&#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//第一种线程池退出方式，比较暴力</span></span><br><span class="line">                <span class="comment">/* for(int j = 0; j &lt; threadNum; ++j)&#123; */</span></span><br><span class="line">                <span class="comment">/*     pthread_cancel(pool.pThid[j]); */</span></span><br><span class="line">                <span class="comment">/* &#125; */</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//第二种线程池退出方式，比较温和，如果exitFlag = 0， 表示不退出，1表示退出</span></span><br><span class="line">                pool.que.exitFlag = <span class="number">1</span>;</span><br><span class="line">                pthread_cond_broadcast(&amp;pool.que.cond);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; threadNum; ++j)&#123;</span><br><span class="line">                    pthread_join(pool.pThid[j], <span class="literal">NULL</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"child process exit\n"</span>);</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//threadPool.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/head.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/threadPool.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../include/workque.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cleanFunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pQue_t pQue = (pQue_t)p;</span><br><span class="line">    pthread_mutex_unlock(&amp;pQue-&gt;mutex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> *<span class="title">threadFunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pQue_t pQue = (pQue_t)p;</span><br><span class="line">    pNode_t pCur = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> getSuccess = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">        pthread_mutex_lock(&amp;pQue-&gt;mutex);</span><br><span class="line">        pthread_cleanup_push(cleanFunc, pQue);</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == pQue-&gt;<span class="built_in">size</span>)&#123;</span><br><span class="line">            pthread_cond_wait(&amp;pQue-&gt;cond, &amp;pQue-&gt;mutex);</span><br><span class="line">        &#125;</span><br><span class="line">        getSuccess = queGet(pQue, &amp;pCur);</span><br><span class="line">        pthread_mutex_unlock(&amp;pQue-&gt;mutex);</span><br><span class="line"></span><br><span class="line">        pthread_cleanup_pop(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="number">0</span> == getSuccess)&#123;</span><br><span class="line">            transFile(pCur-&gt;clientFd);</span><br><span class="line">            <span class="built_in">free</span>(pCur);</span><br><span class="line">            pCur = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span>(<span class="number">1</span> == pQue-&gt;exitFlag)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"thread exit\n"</span>); </span><br><span class="line">            pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">threadPoolInit</span><span class="params">(pThreadPool_t pPool, <span class="keyword">int</span> threadNum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pPool-&gt;threadNum = threadNum;</span><br><span class="line">    pPool-&gt;pThid = (<span class="keyword">pthread_t</span> *)<span class="built_in">calloc</span>(threadNum, <span class="keyword">sizeof</span>(<span class="keyword">pthread_t</span>));</span><br><span class="line"></span><br><span class="line">    queInit(&amp;pPool-&gt;que);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">threadPoolStart</span><span class="params">(pThreadPool_t pPool)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pPool-&gt;threadNum; ++i)&#123;</span><br><span class="line">        <span class="comment">/* pthread_create(pPool-&gt;pThid+i, NULL, threadFunc, &amp;pPool-&gt;que); */</span></span><br><span class="line">        pthread_create(&amp;pPool-&gt;pThid[i], <span class="literal">NULL</span>, threadFunc, &amp;pPool-&gt;que);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Android项目目录结构解析</title>
    <url>/category/Android%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>eclipse总是出现莫名其妙的bug，于是改投向Android Studio的怀抱</p><p>文章主要介绍了android创建的项目根目录架构和目录文件的作用</p></blockquote><a id="more"></a><h2 id="Android项目根目录"><a href="#Android项目根目录" class="headerlink" title="Android项目根目录"></a>Android项目根目录</h2><p><a href="https://i.loli.net/2019/02/23/5c716c663de09.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c663de09.png" alt="1.png"></a></p><p><strong>整个项目架构</strong></p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">├── .idea</span><br><span class="line">|	 ├── codeStyles</span><br><span class="line">|		 └── Project.xml</span><br><span class="line">|	 ├── .name</span><br><span class="line">|    ├── gradle.xml</span><br><span class="line">|    ├── misc.xml</span><br><span class="line">|    ├── modules.xml</span><br><span class="line">|    ├── runConfigurations.xml</span><br><span class="line">|    └── workspace.xml</span><br><span class="line">		  </span><br><span class="line">├── app</span><br><span class="line">|	 ├── libs</span><br><span class="line">|	 ├── src</span><br><span class="line">|		 ├── androidTest</span><br><span class="line">|		 ├── main</span><br><span class="line">|		 	 ├── java</span><br><span class="line">|		 	 ├── res</span><br><span class="line">|		 	 └── AndroidManifest.xml</span><br><span class="line">|		 └── test</span><br><span class="line">|    ├── .gitignore</span><br><span class="line">|    ├── build.gradle</span><br><span class="line">|    └── proguard-rules.pro</span><br><span class="line"></span><br><span class="line">├── gradle</span><br><span class="line">|	 ├── <span class="keyword">wrapper</span></span><br><span class="line">|		 ├── gradle-<span class="keyword">wrapper</span></span><br><span class="line">|		 └── gradle-<span class="keyword">wrapper</span>.properties</span><br><span class="line"></span><br><span class="line">├── .gitignore</span><br><span class="line">├── build.gradle</span><br><span class="line">├── gradle.properties</span><br><span class="line">├── gradlew</span><br><span class="line">├── gradlew.bat</span><br><span class="line">├── <span class="keyword">local</span>.properties</span><br><span class="line">├── MyApplication.iml</span><br><span class="line">└── settings.gradle</span><br></pre></td></tr></table></figure><p>(java和res部分省略)</p><h4 id="1-gradle和-idea"><a href="#1-gradle和-idea" class="headerlink" title="1. gradle和.idea"></a>1. <strong>gradle</strong>和.idea</h4><p>这两个目录下放置的都是Android Studio自动生成的一些文件，我们无须关心，也不要去手动编辑它</p><h4 id="2-app"><a href="#2-app" class="headerlink" title="2. app"></a>2. <strong>app</strong></h4><p>项目中的代码和各种资源几乎放置在这个目录中，后续的开发工作也是在这个目录下进行</p><h4 id="3-gitignore"><a href="#3-gitignore" class="headerlink" title="3. .gitignore"></a>3. .gitignore</h4><p>这个文件是用来将指定的目录或文件排除在版本控制之外的</p><h4 id="4-build-gradle"><a href="#4-build-gradle" class="headerlink" title="4. build.gradle"></a>4. build.gradle</h4><p>这是项目全局的gradle构建脚本，通常这个文件中的内容是不需要修改的</p><p><a href="https://i.loli.net/2019/02/23/5c716c6650e25.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6650e25.png" alt="2.png"></a></p><p>两处repositories的闭包中都声明了jcenter()这行配置，那么这个jcenter是什么意思呢？其实它是一个代码托管仓库，很多Android开源项目都会选择将代码托管到jcenter上，声明了这行配置之后，我们就可以在项目中轻松引用任何jcenter上的开源项目了。</p><p>接下来，dependencies闭包中使用classpath声明了一个Gradle插件。为什么要声明这个插件呢？因为Gradle并不是专门为构建Android项目而开发的，Java、C++等很多种项目都可以使用Gradle来构建。因此如果我们要想使用它来构建Android项目，则需要声明com.android. tools.build:gradle:3.2.1这个插件</p><h4 id="5-gradle-properties"><a href="#5-gradle-properties" class="headerlink" title="5. gradle.properties"></a>5. gradle.properties</h4><p>这个文件是全局的gradle配置文件，在这里配置的属性将会影响到项目中所有的gradle编译脚本</p><h4 id="6-gradlew和gradlew-bat"><a href="#6-gradlew和gradlew-bat" class="headerlink" title="6. gradlew和gradlew.bat"></a>6. gradlew和gradlew.bat</h4><p>这两个文件是用来在命令行界面中执行gradle命令的，其中gradlew是在Linux或Mac系统中使用的，gradlew.bat是在Windows系统中使用的</p><h4 id="7-local-properties"><a href="#7-local-properties" class="headerlink" title="7. local.properties"></a>7. local.properties</h4><p>这个文件用于指定本机中的Android SDK路径，通常内容都是自动生成的，我们并不需要修改。除非你本机中的Android SDK位置发生了变化，那么就将这个文件中的路径改成新的位置即可</p><h4 id="8-MyApplication-iml"><a href="#8-MyApplication-iml" class="headerlink" title="8. MyApplication.iml"></a>8. MyApplication.iml</h4><p>iml文件是所有IntelliJ IDEA项目都会自动生成的一个文件（Android Studio是基于IntelliJ IDEA开发的），用于标识这是一个IntelliJ IDEA项目，我们不需要修改这个文件中的任何内容</p><h4 id="9-settings-gradle"><a href="#9-settings-gradle" class="headerlink" title="9. settings.gradle"></a>9. settings.gradle</h4><p>这个文件用于指定项目中所有引入的模块。由于HelloWorld项目中就只有一个app模块，因此该文件中也就只引入了app这一个模块。通常情况下模块的引入都是自动完成的，需要我们手动去修改这个文件的场景可能比较少</p><h4 id="10-gradle类似php的composer"><a href="#10-gradle类似php的composer" class="headerlink" title="10. gradle类似php的composer"></a>10. gradle类似php的composer</h4><p>这个目录下包含了gradle wrapper的配置文件，使用gradle wrapper的方式不需要提前将gradle下载好，而是会自动根据本地的缓存情况决定是否需要联网下载gradle。Android Studio默认没有启用gradle wrapper的方式，如果需要打开，可以点击Android Studio导航栏→File→Settings→Build, Execution, Deployment→Gradle，进行配置更改</p><p><a href="https://i.loli.net/2019/02/23/5c716c66413a1.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c66413a1.png" alt="3.png"></a></p><h4 id="11-app目录"><a href="#11-app目录" class="headerlink" title="11. app目录"></a>11. app目录</h4><p><a href="https://i.loli.net/2019/02/23/5c716c6640b35.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6640b35.png" alt="4.png"></a></p><ul><li><p>libs</p><p>如果你的项目中使用到了第三方jar包，就需要把这些jar包都放在libs目录下，放在这个目录下的jar包都会被自动添加到构建路径里去</p></li><li><p>.gitignore</p><p>这个文件用于将app模块内的指定的目录或文件排除在版本控制之外，作用和外层的.gitignore文件类似</p></li><li><p>build.gradle</p><p>这是app模块的gradle构建脚本，这个文件中会指定很多项目构建相关的配置</p><p><a href="https://i.loli.net/2019/02/23/5c716c666bc38.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c666bc38.png" alt="5.png"></a></p><ol><li><p>第一行应用了一个插件，一般有两种值可选：</p><p>com.android.application表示这是一个应用程序模块</p><p>com.android.library表示这是一个库模块。</p><p>应用程序模块和库模块的最大区别在于，一个是可以直接运行的，一个只能作为代码库依附于别的应用程序模块来运行</p></li><li><p>接下来是一个大的android闭包，在这个闭包中我们可以配置项目构建的各种属性。</p><p>其中compileSdkVersion用于指定项目的编译版本</p><p>然后我们看到，这里在android闭包中又嵌套了一个defaultConfig闭包，defaultConfig闭包中可以对项目的更多细节进行配置。</p><p>其中，applicationId用于指定项目的包名，前面我们在创建项目的时候其实已经指定过包名了，如果你想在后面对其进行修改，那就是在这里修改的。minSdkVersion用于指定项目最低兼容的Android系统版本，这里指定成15表示最低兼容到Android 4.0系统。targetSdkVersion指定的值表示你在该目标版本上已经做过了充分的测试，系统将会为你的应用程序启用一些最新的功能和特性。比如说Android 6.0系统中引入了运行时权限这个功能，如果你将targetSdkVersion指定成23或者更高，那么系统就会为你的程序启用运行时权限功能，而如果你将targetSdkVersion指定成22，那么就说明你的程序最高只在Android 5.1系统上做过充分的测试，Android 6.0系统中引入的新功能自然就不会启用了。剩下的两个属性都比较简单，versionCode用于指定项目的版本号，versionName用于指定项目的版本名</p></li></ol></li></ul><ol start="3"><li><p>接下来我们看一下buildTypes闭包。buildTypes闭包中用于指定生成安装文件的相关配置，通常只会 有两个子闭包，一个是debug，一个是release</p><p>debug闭包用于指定生成测试版安装文件的配置，release闭包用于指定生成正式版安装文件的配置。另外，debug闭包是可以忽略不写的，因此我们看到上面的代码中就只有一个release闭包。下面来看一下release闭包中的具体内容吧，minifyEnabled用于指定是否对项目的代码进行混淆，true表示混淆，false表示不混淆。proguardFiles用于指定混淆时使用的规则文件，这里指定了两个文件，第一个proguard-android.txt是在Android SDK目录下的，里面是所有项目通用的混淆规则，第二个proguard-rules.pro是在当前项目的根目录下的，里面可以编写当前项目特有的混淆规则。需要注意的是，通过Android Studio直接运行项目生成的都是测试版安装文件</p></li></ol><ol start="4"><li>接下来还剩一个dependencies闭包。这个闭包的功能非常强大，它可以指定当前项目所有的依赖关系。通常Android Studio项目一共有3种依赖方式：本地依赖、库依赖和远程依赖。本地依赖可以对本地的Jar包或目录添加依赖关系，库依赖可以对项目中的库模块添加依赖关系，远程依赖则可以对jcenter库上的开源项目添加依赖关系。观察一下dependencies闭包中的配置，第一行的implementation fileTree就是一个本地依赖声明，它表示将libs目录下所有.jar后缀的文件都添加到项目的构建路径当中。而第二行和第三行则是远程依赖声明，com.android.support:appcompat-v7:28.0.0就是一个标准的远程依赖库格式，其中com.android.support是域名部分，用于和其他公司的库做区分；appcompat-v7是组名称，用于和同一个公司中不同的库做区分；28.0.0是版本号，用于和同一个库不同的版本做区分。加上这句声明后，Gradle在构建项目时会首先检查一下本地是否已经有这个库的缓存，如果没有的话则会去自动联网下载，然后再添加到项目的构建路径当中。至于库依赖声明这里没有用到，它的基本格式是compile project后面加上要依赖的库名称，比如说有一个库模块的名字叫helper，那么添加这个库的依赖关系只需要加入compile project(‘:helper’)这句声明即可。另外剩下的一句testCompile是用于声明测试用例库的，这个我们暂时用不到，先忽略它就可以了</li></ol><ul><li><p>proguard-rules.pro</p><p>这个文件用于指定项目代码的混淆规则，当代码开发完成后打成安装包文件，如果不希望代码被别人破解，通常会将代码进行混淆，从而让破解者难以阅读</p></li></ul><ul><li><p>src</p><p><a href="https://i.loli.net/2019/02/23/5c716c6643501.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6643501.png" alt="6.png"></a></p></li></ul><ol><li><p>androidTest</p><p>此处是用来编写Android Test测试用例的，可以对项目进行一些自动化测试</p><ol start="2"><li>test</li></ol><p>此处是用来编写Unit Test测试用例的，是对项目进行自动化测试的另一种方式</p><ol start="3"><li>main</li></ol><p><a href="https://i.loli.net/2019/02/23/5c716c6642df2.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6642df2.png" alt="7.png"></a></p><p><strong>java</strong></p><p>毫无疑问，java目录是放置我们所有Java代码的地方，展开该目录，你将看到我们刚才创建的MainActivity文件就在里面</p><p><a href="https://i.loli.net/2019/02/23/5c716c66424be.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c66424be.png" alt="8.png"></a></p><p><strong>res</strong></p><p><a href="https://i.loli.net/2019/02/23/5c716c6643ba6.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716c6643ba6.png" alt="9.png"></a></p><p>这个目录下的内容就有点多了。简单点说，就是你在项目中使用到的所有图片、布局、字符串等资源都要存放在这个目录下。当然这个目录下还有很多子目录，</p><p>图片放在drawable目录下，</p><p>布局放在layout目录下，</p><p>字符串放在values目录下，</p><p>所以你不用担心会把整个res目录弄得乱糟糟的</p></li></ol><p><strong>AndroidManifest.xml</strong></p><p>这是你整个Android项目的配置文件，你在程序中定义的所有四大组件都需要在这个文件里注册，另外还可以在这个文件中给应用程序添加权限声明</p><p><a href="https://i.loli.net/2019/02/23/5c716d5253c56.png" target="_blank" rel="noopener"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.loli.net/2019/02/23/5c716d5253c56.png" alt="2019-02-23_235654.png"></a></p><p>这段代码表示对HelloWorldActivity这个活动进行注册，没有在AndroidManifest.xml里注册的活动是不能使用的。其中intent-filter里的两行代码非常重要，和表示HelloWorldActivity是这个项目的主活动，在手机上点击应用图标，首先启动的就是这个活动</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>android</category>
      </categories>
      <tags>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day12笔记</title>
    <url>/category/Linux_day12%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><blockquote><p>信号</p></blockquote><a id="more"></a><h1 id="信号"><a href="#信号" class="headerlink" title="信号"></a>信号</h1><ol><li><p>信号不同于信号量</p></li><li><p>信号也是进程间通信的一种</p></li><li><p>系统当中信号的定义：信号是进程运行过程中，由自身产生，或者由进程外部发过过来的消息。</p></li><li><p>中断：中断是指计算运行过程当中，出现某些意外情况需要主机干预，机器能自动停止正在运行的程序，并且转入处理新情况的程序，处理完毕之后，又会返回原来被暂停的程序中继续运行</p><ol><li>硬中断：硬中断是由外设产生的，硬中断信号是由中断控制器提供，硬中断可以屏蔽的。</li><li>软中断：软中断是利用硬中断的概念，用软件的方式进行的模拟。宏观上异步的执行效果</li><li>软中断是实现系统API函数调用的手段</li></ol></li><li><p>软中断不会去抢占另一个软中断，硬中断可以抢占软件中断。硬件中断可以保证时效性</p></li><li><p>每一个信号都自己的默认行为，它决定了收到信号后的行为。</p><ol><li>Term：终止当前进程</li><li>Ign：忽略该信号</li><li>Core：终止当前进程，并且产生core dump</li><li>Stop：停止（挂起）一个进程</li><li>Cont：使当前停止的进程，继续运行</li></ol></li><li><p>常见信号</p><ol><li>SIGINT 2 term 中断来自键盘 ctrl c</li><li>SIGQUIT 3 Core 从键盘退出 ctrl \</li><li>SIGKILL 9 Term Kill signal 不能被捕捉也能被修改</li><li>SIGPIPE 13 Term 写一个关闭读端的管道回收这个信号</li><li>SIGALRM 14 Term sleep函数就是使用这个信号</li><li>SIGUSR1 SIGUSR2 是提供给用户使用的信号 默认行为 Term</li></ol></li><li><p>signal、sigaction这两个函数可以捕捉信号，并且可以修改信号的行为</p></li><li><p>由进程内部产生的信号又称为同步信号， 由进程外部产生的信号又叫异步信号</p></li><li><p>进程收到信号后有<strong>三种行为</strong>处理该信号</p><ol><li>接收默认处理</li><li>忽略信号</li><li>捕捉信号并处理</li></ol></li><li><pre><code class="c"><span class="function"><span class="keyword">typedef</span> <span class="title">void</span> <span class="params">(*<span class="keyword">sighandler_t</span>)</span><span class="params">(<span class="keyword">int</span>)</span></span>;
<span class="function"><span class="keyword">sighandler_t</span> <span class="title">signal</span><span class="params">(<span class="keyword">int</span> signum, <span class="keyword">sighandler_t</span> handler)</span></span>;
<span class="comment">//失败返回SIG_ERR， </span>
<span class="comment">//参数1：捕捉或处理的信号， </span>
<span class="comment">//参数2：处理信号的函数</span>
&lt;!--￼<span class="number">0</span>--&gt;</code></pre></li><li><p>两个函数功能类似，参数越多，功能越强</p></li><li><pre><code class="c"><span class="function"><span class="keyword">int</span> <span class="title">sigaction</span><span class="params">(<span class="keyword">int</span> signum, <span class="keyword">const</span> struct sigaction *act, struct sigaction *oldact)</span></span>
<span class="function"><span class="comment">//参数1：信号值</span></span>
<span class="function"><span class="comment">//参数2：struct sigaction {</span></span>
<span class="function">               <span class="title">void</span>     <span class="params">(*sa_handler)</span><span class="params">(<span class="keyword">int</span>)</span></span>;   <span class="comment">//旧类型的信号处理函数</span>
               <span class="keyword">void</span>     (*sa_sigaction)(<span class="keyword">int</span>, <span class="keyword">siginfo_t</span> *, <span class="keyword">void</span> *);  <span class="comment">// 新类型的信号处理函数</span>
               <span class="keyword">sigset_t</span>   sa_mask;  <span class="comment">//阻塞信号的结合</span>
               <span class="keyword">int</span>        sa_flags;  <span class="comment">//信号处理的方式，旧的类型填0， 新的类型SA_SIGINFO</span>
               <span class="keyword">void</span>     (*sa_restorer)(<span class="keyword">void</span>);  <span class="comment">//保留不用</span>
           };
<span class="comment">// siginfo_t这个结构体保存该信号一些相关信息，如信号值，信号产生的时间</span>
<span class="comment">//参数3：保存原来的信号一些相关信息</span>
&lt;!--￼<span class="number">1</span>--&gt;

<span class="number">3.</span> sigaction 使用新类型sa_flags填SA_SIGINFO才可精确保存该信号的相关信息。

<span class="number">4.</span> 查看bash的进程id  echo $$

<span class="number">5.</span>  echo $？查看上一条命令的返回状态</code></pre></li><li><p>信号的阻塞</p><ol><li><p>阻塞与忽略的区别，</p><ol><li>阻塞：阻塞一会，之后还会继续执行</li><li>忽略：不会在理会该信号</li></ol></li><li><p>使用sigaction阻塞信号，阻塞的作用域就在信号处理函数这个范围内</p><p>2号信号模拟处理订单，生成订单信息，这个过程需要花费一段时间，我们知道当一个信号正在处理时，其他信号突然来了，会切换到新信号，而当我们将该信号阻塞时，该信号再执行这个过程，就不会切换。</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">sigset_t</span> <span class="built_in">set</span>;</span><br><span class="line">sigemptyset(&amp;<span class="built_in">set</span>);</span><br><span class="line">  </span><br><span class="line"><span class="comment">//把3号信号放到阻塞集合当中</span></span><br><span class="line">sigaddset(&amp;<span class="built_in">set</span>, <span class="number">3</span>);                                    </span><br><span class="line">  </span><br><span class="line"><span class="comment">//使用新类型</span></span><br><span class="line">act.sa_sigaction = newFunc;</span><br><span class="line">act.sa_flags = SA_SIGINFO;</span><br><span class="line">act.sa_mask = <span class="built_in">set</span>;</span><br></pre></td></tr></table></figure></li><li><p>sigprocmask它可以实现全局范围内的信号阻塞</p></li><li><p>查看进程中阻塞集合路径 vim include/linux/sched.h +931</p></li><li><pre><code class="c"><span class="function"><span class="keyword">int</span> <span class="title">sigprocmask</span><span class="params">(<span class="keyword">int</span> how, <span class="keyword">const</span> <span class="keyword">sigset_t</span> *<span class="built_in">set</span>, <span class="keyword">sigset_t</span> *oldset)</span></span>
<span class="function"><span class="comment">//成功返回0， 失败返回错误码</span></span>
<span class="function"><span class="comment">//参数1：表示怎么处理第二个参数这个集合</span></span>
    SIG_BLOCK：把集合加入到原有的阻塞集合当中
    SIG_UNBLOCK：把集合从原有的集合中删除
    SIG_SETMASK：把集合替换原有的阻塞集合
<span class="comment">//参数2：阻塞集合</span>
<span class="comment">//参数3：原有的集合，一般为NULL</span>

<span class="keyword">sigset_t</span> pending;
sigemptyset(&amp;pending);

sigpending(&amp;pending);

<span class="comment">//sigismember成功返回1, 如果信号不在阻塞集合，返回0， &gt;</span>
<span class="keyword">if</span>(sigismember(&amp;pending, <span class="number">2</span>)){
    <span class="built_in">printf</span>(<span class="string">"sig is pending\n"</span>);
}
&lt;!--￼<span class="number">3</span>--&gt;
















</code></pre></li></ol></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux_day24笔记</title>
    <url>/category/Linux_day24%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><blockquote><p>DML语言|DQL|<strong>数据完整性</strong>|多表设计|数据库的备份</p></blockquote><a id="more"></a><p>DML语言</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#向表中插入数据</span><br><span class="line">insert into member (id, name , age , math) values (1, &#39;zhansan&#39;, 27, 59);</span><br><span class="line"></span><br><span class="line">#查询刚才插入的结果</span><br><span class="line">select * from member；</span><br><span class="line"></span><br><span class="line">#可以向表中插入部分数据</span><br><span class="line">insert into member (id, name) values (2, &#39;lisi&#39;);</span><br><span class="line"></span><br><span class="line">#不写列名插入数据，必须把所有列都赋值</span><br><span class="line">insert into member values (3, &#39;wangwu&#39;, 21, 86);</span><br><span class="line"></span><br><span class="line">#快速的插入多条数据</span><br><span class="line">insert into member values (4, &#39;zhouliu&#39;, 21, 89), (5, &#39;wuqi&#39;, 19, 99);</span><br><span class="line"></span><br><span class="line">#修改表中元素值，更新数据</span><br><span class="line">update member set age &#x3D; 31 where id &#x3D; 2;</span><br><span class="line">update member set math &#x3D; 77 where name &#x3D; &#39;lisi&#39;;</span><br><span class="line"></span><br><span class="line">#一次更新多个数据</span><br><span class="line"> update member set age &#x3D; 18, math &#x3D; 89 where name &#x3D; &#39;wuqi&#39;;</span><br><span class="line"> </span><br><span class="line">#删除表中数据</span><br><span class="line">delete from member where id &#x3D; 5;</span><br><span class="line"> </span><br><span class="line">#可以对表中插入空值</span><br><span class="line">insert into member (id) values (NULL);</span><br><span class="line"></span><br><span class="line">#删除表中空值</span><br><span class="line">delete from member where id is NULL;</span><br></pre></td></tr></table></figure><p>DQL</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">#查询表中单个数据的信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询表中部分数据的情况</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>, math <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">#对查询结果去重distinct</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">distinct</span> age <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#对查询结果做表达式运算</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">name</span>, math + <span class="number">10</span>  <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line">  +<span class="comment">---------+-----------+</span></span><br><span class="line">| name    | math + 10 |</span><br><span class="line">+<span class="comment">---------+-----------+</span></span><br><span class="line">| zhansan |        69 |</span><br><span class="line">| lisi    |        87 |</span><br><span class="line">| wangwu  |        96 |</span><br><span class="line">| zhouliu |        99 |</span><br><span class="line">+<span class="comment">---------+-----------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#对表达式计算取别名</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">name</span>, math + <span class="number">10</span> + <span class="number">19</span>*<span class="number">21</span> <span class="number">-29</span>+<span class="number">18</span>  <span class="keyword">as</span> total  <span class="keyword">from</span> <span class="keyword">member</span>;</span><br><span class="line">+<span class="comment">---------+-------+</span></span><br><span class="line">| name    | total |</span><br><span class="line">+<span class="comment">---------+-------+</span></span><br><span class="line">| zhansan |   457 |</span><br><span class="line">| lisi    |   475 |</span><br><span class="line">| wangwu  |   484 |</span><br><span class="line">| zhouliu |   487 |</span><br><span class="line">+<span class="comment">---------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查询某些特定的列</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math &gt; <span class="number">80</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"> <span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math &lt;&gt; <span class="number">89</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math != <span class="number">89</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">#查询某范围的数据between ...  and ... 查询范围是闭区间</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math <span class="keyword">between</span> <span class="number">60</span> <span class="keyword">and</span> <span class="number">89</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询集合中的数据 in（set）</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> math <span class="keyword">in</span> (<span class="number">10</span>, <span class="number">29</span>, <span class="number">59</span>, <span class="number">77</span>, <span class="number">100</span>);</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#模糊查询like</span></span><br><span class="line"> <span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%san'</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%u'</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%i_'</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">'%i__'</span>;</span><br><span class="line">+<span class="comment">------+------+------+------+</span></span><br><span class="line">| id   | name | age  | math |</span><br><span class="line">+<span class="comment">------+------+------+------+</span></span><br><span class="line">|    2 | lisi |   31 |   77 |</span><br><span class="line">+<span class="comment">------+------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#数据库的退出方式</span></span><br><span class="line"><span class="number">1.</span>quit;  </span><br><span class="line">2.exit;</span><br><span class="line">3.ctrl + d </span><br><span class="line"></span><br><span class="line"><span class="comment">#查询多个条件同时成立</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> age =<span class="number">21</span> <span class="keyword">and</span> <span class="keyword">id</span> =<span class="number">3</span>;</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">| id   | name   | age  | math |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">|    3 | wangwu |   21 |   86 |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询的结果中任一条件成立or</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> age =<span class="number">27</span> <span class="keyword">or</span> <span class="keyword">id</span> =<span class="number">3</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查询条件不成立的</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">not</span>(math = <span class="number">59</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> <span class="keyword">not</span> math = <span class="number">59</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#对查询结果结果排序 （默认是升序的方式）</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> age;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">(按照降序排序)</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span> ;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">|    1 | zhansan |   27 |   59 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">4 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#显示固定范围的数据limit</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">3</span>;</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">| id   | name    | age  | math |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">|    4 | zhouliu |   21 |   89 |</span><br><span class="line">|    3 | wangwu  |   21 |   86 |</span><br><span class="line">|    2 | lisi    |   31 |   77 |</span><br><span class="line">+<span class="comment">------+---------+------+------+</span></span><br><span class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">#对查询结果偏移offset</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span>  <span class="keyword">order</span> <span class="keyword">by</span> math <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span> <span class="keyword">offset</span> <span class="number">1</span>;</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">| id   | name   | age  | math |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">|    3 | wangwu |   21 |   86 |</span><br><span class="line">+<span class="comment">------+--------+------+------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p><strong>数据完整性</strong>：分为三类</p><ol><li>实体完整性：通过主键（类似于身份证号）保证插入的数据（一行）是表中唯一的实体，防止重复插入数据，浪费空间</li><li>域完整性：保证列的数据类型和约束</li><li>参照完整性：保证一个表外键与另一个表的主键相关联，要求关系中不允许引用不存在的实体</li></ol><p>数据完整性只能尽量保证插入的数据是正确的， 不能百分百保证数据正确</p><p><strong>多表设计</strong>：</p><ol><li>一对多：避免数据的冗余，节约空间</li><li>多对多：避免数据的冗余，节约空间</li><li>一对一：为了方便扩展，可以扩展成一对多，也可以扩展成多对多</li></ol><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#复杂查询</span><br><span class="line">create table hero (</span><br><span class="line">	-&gt; id int auto_increment,</span><br><span class="line">    -&gt; name char(20),</span><br><span class="line">    -&gt; age int,</span><br><span class="line">    -&gt; primary key(id)</span><br><span class="line">    -&gt; );</span><br><span class="line">#把某字段设置为主键后， 默认不为NULL，设置主键的列，不能有重复值</span><br><span class="line"></span><br><span class="line">insert into hero (name, age) values(&#39;yasuo&#39;, 5), (&#39;jie&#39;, 7), (&#39;nuoshou&#39;, 7);</span><br><span class="line">Query OK, 3 rows affected (0.01 sec)</span><br><span class="line">Records: 3  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from hero;</span><br><span class="line">+----+---------+------+</span><br><span class="line">| id | name    | age  |</span><br><span class="line">+----+---------+------+</span><br><span class="line">|  1 | timo    |   21 |</span><br><span class="line">|  2 | dema    |   29 |</span><br><span class="line">|  3 | yasuo   |    5 |</span><br><span class="line">|  4 | jie     |    7 |</span><br><span class="line">|  5 | nuoshou |    7 |</span><br><span class="line">+----+---------+------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#某字段设置为自动增长后，不赋值该字段，那么它会接着之前表中已有最大的值继续增加。</span><br><span class="line"></span><br><span class="line">#创建装备表，并且把hero_id设置为外键，关联hero表的id</span><br><span class="line">create table equipment (</span><br><span class="line">    -&gt; id int auto_increment primary key,</span><br><span class="line">    -&gt; name char(20) not NULL,</span><br><span class="line">    -&gt; price float,</span><br><span class="line">    -&gt; hero_id int,</span><br><span class="line">    -&gt; foreign key(hero_id) references hero(id)</span><br><span class="line">    -&gt; );</span><br><span class="line">    </span><br><span class="line">#删除含有外键约束的表中数据，如果不解除外键，无法删除</span><br><span class="line">delete from hero where name &#x3D; &#39;timo&#39;;</span><br><span class="line">delete from hero;</span><br><span class="line">truncate table hero;</span><br><span class="line"> drop table hero;</span><br><span class="line"> #以上方法都不能删除</span><br><span class="line"> </span><br><span class="line"> #只复制表数据，不复制表结构</span><br><span class="line"> create table hero1 select * from hero;</span><br><span class="line"> #只复制表结构，不复制表中数据</span><br><span class="line"> create table hero2 like hero;</span><br><span class="line"> </span><br><span class="line">#对一个没有设置主键的表设置主键</span><br><span class="line"> alter table hero1 modify id int primary key;</span><br><span class="line"> </span><br><span class="line"> #删除主键</span><br><span class="line"> alter table hero3 drop primary key;</span><br><span class="line"> #如果有外键关联该表的主键，是不能删除该表的主键</span><br><span class="line"> </span><br><span class="line"> #对一个没有外键的表设置外键</span><br><span class="line"> alter table equipment add foreign key(hero_id) references hero1(id);</span><br><span class="line"> #设置外键的时候， 关联的必须是另一个表的主键，而且类型需要相同，</span><br><span class="line"> </span><br><span class="line"> #可以主动设置外键名</span><br><span class="line"> alter table equipment1 add CONSTRAINT equipment1_foreign_key FOREIGN KEY(hero_id) REFERENCES hero1(id);</span><br><span class="line"> </span><br><span class="line"> #删除外键</span><br><span class="line"> alter table equipment1 drop FOREIGN KEY equipment1_ibfk_1;</span><br><span class="line"> </span><br><span class="line"> #查看当前是在哪个数据工作</span><br><span class="line"> select database();</span><br><span class="line"> </span><br><span class="line"> #交叉查询</span><br><span class="line">  select * from hero cross join equipment ;</span><br><span class="line">  </span><br><span class="line">  #内连接查询</span><br><span class="line">  select * from hero inner join  equipment  on hero.id &#x3D; equipment.hero_id;</span><br><span class="line">  </span><br><span class="line">  #隐式内连接不加inner join</span><br><span class="line">  select * from hero, equipment  where  hero.id &#x3D; equipment.hero_id;</span><br><span class="line">  </span><br><span class="line">  #可以对查询的表名起别名as</span><br><span class="line">  select * from hero as h inner join  equipment as e on h.id &#x3D; e.hero_id;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  #左外连接（以左表为基准）</span><br><span class="line">  select * from hero left outer join equipment on hero.id &#x3D; equipment.hero_id;</span><br><span class="line">  </span><br><span class="line">  #右外连接（以右表为基准）</span><br><span class="line">   select * from hero right outer join equipment on hero.id &#x3D; equipment.hero_id;</span><br><span class="line">   </span><br><span class="line">   #子查询</span><br><span class="line">   select *from hero where id &#x3D;(select id from hero where name like &#39;%suo&#39;);</span><br><span class="line">   </span><br><span class="line">   #联合查询</span><br><span class="line">   select age from hero where id &gt; 3 union select age from hero where age &lt; 10;</span><br><span class="line">   </span><br><span class="line">   #对联合查询结果不去重union all</span><br><span class="line">   select age from hero where id &gt; 3 union all select age from hero where age &lt; 10;</span><br><span class="line">+------+</span><br><span class="line">| age  |</span><br><span class="line">+------+</span><br><span class="line">|    7 |</span><br><span class="line">|    7 |</span><br><span class="line">|    5 |</span><br><span class="line">|    7 |</span><br><span class="line">|    7 |</span><br><span class="line">+------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select *from hero;</span><br><span class="line">+----+---------+------+</span><br><span class="line">| id | name    | age  |</span><br><span class="line">+----+---------+------+</span><br><span class="line">|  1 | timo    |   21 |</span><br><span class="line">|  2 | dema    |   29 |</span><br><span class="line">|  3 | yasuo   |    5 |</span><br><span class="line">|  5 | nuoshou |    7 |</span><br><span class="line">|  6 | jie     |    7 |</span><br><span class="line">+----+---------+------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#报表查询</span><br><span class="line"> select age from hero group by age；</span><br><span class="line"> </span><br><span class="line"> #统计函数和报表查询联合使用</span><br><span class="line"> select count(age),age  from hero group by age;</span><br><span class="line"> #group by后面的组要是同样的， 不然查不到</span><br><span class="line"> </span><br><span class="line"> #查询表中最大的年纪</span><br><span class="line"> select max(age)  from hero;</span><br><span class="line"> </span><br><span class="line"> #同时查询最大值和最小值</span><br><span class="line"> select min(age), max(age)  from hero;</span><br><span class="line">+----------+----------+</span><br><span class="line">| min(age) | max(age) |</span><br><span class="line">+----------+----------+</span><br><span class="line">|        5 |       29 |</span><br><span class="line">+----------+----------+</span><br><span class="line"></span><br><span class="line">#对报表查询做条件查询group by ... having ...</span><br><span class="line">select count(age), age from hero group by age having age &lt; 10;</span><br><span class="line">+------------+------+</span><br><span class="line">| count(age) | age  |</span><br><span class="line">+------------+------+</span><br><span class="line">|          1 |    5 |</span><br><span class="line">|          2 |    7 |</span><br><span class="line">+------------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#对查询出来的临时表再次查询</span><br><span class="line"> select count(age), age from hero group by age having count(age) &gt; 1;</span><br><span class="line"> +------------+------+</span><br><span class="line">| count(age) | age  |</span><br><span class="line">+------------+------+</span><br><span class="line">|          2 |    7 |</span><br><span class="line">+------------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>数据库的备份</p><p>sudo mysqldump -u root -p 39th &gt; 39th.sql</p><p>数据库的恢复</p><ol><li>先创建该库（create database + 库名）</li><li>sudo mysql -u root -p 39th &lt; 39th.sql</li></ol><p>windows和linux 数据快速传输插件</p><p>sudo apt install lrzsz</p><p>sz是从linux下发数据到win下</p><p>rz从win下传数据到linux下</p><p>运行数据库代码加动态库-lmysqlclient</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS选择器</title>
    <url>/category/cssday02/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h1 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h1><blockquote><p>主要介绍了5种常见的CSS复合选择器，标签显示模式，行高，CSS背景属性（background）和CSS的三大特性</p></blockquote><a id="more"></a><h1 id="1-CSS复合选择器"><a href="#1-CSS复合选择器" class="headerlink" title="1. CSS复合选择器"></a>1. CSS复合选择器</h1><ul><li>CSS选择器分为基础选择器和复合选择器，基础选择器无法满足实际开发中，快速高效地选择标签</li><li>复合选择器是由基础选择器通过不同的方式组合而成</li></ul><h2 id="1-1-后代选择器"><a href="#1-1-后代选择器" class="headerlink" title="1.1 后代选择器"></a>1.1 后代选择器</h2><ul><li><p>又称：包含选择器</p><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line">.col ul <span class="class">li </span>&#123;</span><br><span class="line"><span class="symbol">			color:</span> green;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="params">&lt;div class="col"&gt;</span></span><br><span class="line">		<span class="params">&lt;ul&gt;</span></span><br><span class="line">			<span class="params">&lt;li&gt;</span>春风化雨<span class="params">&lt;/li&gt;</span></span><br><span class="line">			<span class="params">&lt;li&gt;</span>春风化雨<span class="params">&lt;/li&gt;</span></span><br><span class="line">			<span class="params">&lt;li&gt;</span>春风化雨<span class="params">&lt;/li&gt;</span></span><br><span class="line">		<span class="params">&lt;/ul&gt;</span></span><br><span class="line">	<span class="params">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="1-2-子元素选择器"><a href="#1-2-子元素选择器" class="headerlink" title="1.2 子元素选择器"></a>1.2 子元素选择器</h2><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line">.demo&gt;<span class="class">p </span>&#123;</span><br><span class="line"><span class="symbol">			color:</span> pink;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"><span class="params">&lt;div class="demo"&gt;</span></span><br><span class="line">		<span class="params">&lt;p&gt;</span>春风化雨<span class="params">&lt;/p&gt;</span></span><br><span class="line">	<span class="params">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-3-交集选择器"><a href="#1-3-交集选择器" class="headerlink" title="1.3 交集选择器"></a>1.3 交集选择器</h2><ul><li>选择既是p标签和又有red类名</li></ul><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.red</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-4-并集选择器"><a href="#1-4-并集选择器" class="headerlink" title="1.4 并集选择器"></a>1.4 并集选择器</h2><ul><li>选择p标签和col类名</li></ul><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span>, <span class="selector-class">.col</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-5-链接伪类选择器"><a href="#1-5-链接伪类选择器" class="headerlink" title="1.5 链接伪类选择器"></a>1.5 链接伪类选择器</h2><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span>:link   <span class="comment">/*未访问的链接*/</span></span><br><span class="line"><span class="selector-tag">a</span>:visited   <span class="comment">/*已访问的链接*/</span></span><br><span class="line"><span class="selector-tag">a</span>:hover    <span class="comment">/*鼠标放上去但未点击时的链接*/</span></span><br><span class="line"><span class="selector-tag">a</span>:active   <span class="comment">/*鼠标点击时的链接*/</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><ul><li>写的时候顺序不能颠倒，否则会引起错误</li><li>记忆法：<strong>l</strong>o<strong>v</strong>e <strong>h</strong>a<strong>t</strong>e 爱上了讨厌</li><li>实际开发中，我们很少写全四个状态，一般写法为：</li></ul><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;   <span class="comment">/* a是标签选择器  所有的链接 */</span></span><br><span class="line">			<span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">			<span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">			<span class="attribute">color</span>: gray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;   <span class="comment">/* :hover 是链接伪类选择器 鼠标经过 */</span></span><br><span class="line">			<span class="attribute">color</span>: red; <span class="comment">/*  鼠标经过的时候，由原来的 灰色 变成了红色 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-6-复合选择器总结"><a href="#1-6-复合选择器总结" class="headerlink" title="1.6 复合选择器总结"></a>1.6 复合选择器总结</h2><table><thead><tr><th>选择器</th><th>作用</th><th>特征</th><th>使用情况</th><th>隔开符号及用法</th></tr></thead><tbody><tr><td>后代选择器</td><td>用来选择元素后代</td><td>是选择所有的子孙后代</td><td>较多</td><td>符号是<strong>空格</strong> .nav a</td></tr><tr><td>子代选择器</td><td>选择 最近一级元素</td><td>只选亲儿子</td><td>较少</td><td>符号是<strong>&gt;</strong> .nav&gt;p</td></tr><tr><td>交集选择器</td><td>选择两个标签交集的部分</td><td>既是 又是</td><td>较少</td><td><strong>没有符号</strong> p.one</td></tr><tr><td>并集选择器</td><td>选择某些相同样式的选择器</td><td>可以用于集体声明</td><td>较多</td><td>符号是<strong>逗号</strong> .nav, .header</td></tr><tr><td>链接伪类选择器</td><td>给链接更改状态</td><td></td><td>较多</td><td>重点记住 a{} 和 a:hover 实际开发的写法</td></tr></tbody></table><h1 id="2-标签显示模式（display）"><a href="#2-标签显示模式（display）" class="headerlink" title="2. 标签显示模式（display）"></a>2. 标签显示模式（display）</h1><h2 id="2-1-块级元素（block-level）"><a href="#2-1-块级元素（block-level）" class="headerlink" title="2.1 块级元素（block-level）"></a>2.1 块级元素（block-level）</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">常见的块元素有<span class="tag">&lt;<span class="name">h1</span>&gt;</span>~<span class="tag">&lt;<span class="name">h6</span>&gt;</span>、<span class="tag">&lt;<span class="name">p</span>&gt;</span>、<span class="tag">&lt;<span class="name">div</span>&gt;</span>、<span class="tag">&lt;<span class="name">ul</span>&gt;</span>、<span class="tag">&lt;<span class="name">ol</span>&gt;</span>、<span class="tag">&lt;<span class="name">li</span>&gt;</span>等，其中<span class="tag">&lt;<span class="name">div</span>&gt;</span>标签是最典型的块元素。</span><br></pre></td></tr></table></figure><p>块级元素的特点：</p><ul><li>比较霸道，自己独占一行（竖着显示）</li><li>高度，宽度，外边距和内边距都可以自由控制</li><li>宽度默认是容器（父级宽度）的100%</li><li>是一个容器，里面可以放行内或块级元素</li><li>只有 文字才 能组成段落 因此 p 里面不能放块级元素，特别是 p 不能放div</li><li>同理还有这些标签h1,h2,h3,h4,h5,h6,dt，他们都是文字类块级标签，里面不能放其他块级元素。</li></ul><h2 id="2-2-行内元素（inline-level）"><a href="#2-2-行内元素（inline-level）" class="headerlink" title="2.2 行内元素（inline-level）"></a>2.2 行内元素（inline-level）</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">常见的行内元素有<span class="tag">&lt;<span class="name">a</span>&gt;</span>、<span class="tag">&lt;<span class="name">strong</span>&gt;</span>、<span class="tag">&lt;<span class="name">b</span>&gt;</span>、<span class="tag">&lt;<span class="name">em</span>&gt;</span>、<span class="tag">&lt;<span class="name">i</span>&gt;</span>、<span class="tag">&lt;<span class="name">del</span>&gt;</span>、<span class="tag">&lt;<span class="name">s</span>&gt;</span>、<span class="tag">&lt;<span class="name">ins</span>&gt;</span>、<span class="tag">&lt;<span class="name">u</span>&gt;</span>、<span class="tag">&lt;<span class="name">span</span>&gt;</span>等，其中<span class="tag">&lt;<span class="name">span</span>&gt;</span>标签最典型的行内元素。有的地方也成内联元素</span><br></pre></td></tr></table></figure><ul><li>行内元素的特点：</li><li>相邻行内元素在一行上，一行可以显示多个。</li><li>高、宽直接设置是无效的。</li><li>默认宽度就是它本身内容的宽度。</li><li><strong>行内元素只能容纳文本或则其他行内元素。</strong></li></ul><p>注意：</p><ul><li>链接里面不能再放链接。</li><li>特殊情况a里面可以放块级元素，但是给a转换一下块级模式最安全。</li></ul><h2 id="2-3-行内块元素（inline-block）"><a href="#2-3-行内块元素（inline-block）" class="headerlink" title="2.3 行内块元素（inline-block）"></a>2.3 行内块元素（inline-block）</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">在行内元素中有几个特殊的标签——<span class="tag">&lt;<span class="name">img</span> /&gt;</span>、<span class="tag">&lt;<span class="name">input</span> /&gt;</span>、<span class="tag">&lt;<span class="name">td</span>&gt;</span>，可以对它们设置宽高和对齐属性，有些资料可能会称它们为行内块元素。</span><br></pre></td></tr></table></figure><p>行内块元素的特点：</p><ul><li>和相邻行内元素（行内块）在一行上,但是之间会有空白缝隙。一行可以显示多个</li><li>默认宽度就是它本身内容的宽度。</li><li>高度，行高、外边距以及内边距都可以控制。</li></ul><h2 id="2-4-三种显示模式区别总结"><a href="#2-4-三种显示模式区别总结" class="headerlink" title="2.4 三种显示模式区别总结"></a>2.4 三种显示模式区别总结</h2><table><thead><tr><th align="center">元素模式</th><th align="center">元素排列</th><th align="center">设置样式</th><th align="center">默认宽度</th><th align="center">包含</th></tr></thead><tbody><tr><td align="center">块级元素</td><td align="center">一行只能放一个块级元素</td><td align="center">可以设置高度和宽度</td><td align="center">容器的100%</td><td align="center">容器级可以包含任何标签</td></tr><tr><td align="center">行内元素</td><td align="center">一行可以放多个行内元素</td><td align="center">不能直接设置高度和宽度</td><td align="center">它本身的内容宽度</td><td align="center">容纳文本或者行内元素</td></tr><tr><td align="center">行内块元素</td><td align="center">一行可以放多个行内块元素</td><td align="center">可以设置高度和宽度</td><td align="center">它本身的内容宽度</td><td align="center"></td></tr></tbody></table><h2 id="2-5-标签显示模式转换-display"><a href="#2-5-标签显示模式转换-display" class="headerlink" title="2.5 标签显示模式转换 display"></a>2.5 标签显示模式转换 display</h2><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="attribute">display</span>: block;    <span class="comment">/*行内元素转块级元素*/</span></span><br><span class="line"><span class="attribute">display</span>: inline;   <span class="comment">/*块级元素转行内元素*/</span></span><br><span class="line"><span class="attribute">display</span>: inline-block;	<span class="comment">/*块、行内元素转行内块元素*/</span></span><br></pre></td></tr></table></figure><h1 id="3-行高那些事-（line-height）"><a href="#3-行高那些事-（line-height）" class="headerlink" title="3. 行高那些事 （line-height）"></a>3. 行高那些事 （line-height）</h1><h2 id="3-1-测量行高："><a href="#3-1-测量行高：" class="headerlink" title="3.1 测量行高："></a>3.1 测量行高：</h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/line1.png"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/line2.png"><h2 id="3-2-单行文本垂直居中"><a href="#3-2-单行文本垂直居中" class="headerlink" title="3.2 单行文本垂直居中"></a>3.2 单行文本垂直居中</h2><p><strong>行高和高度的三种关系</strong>：</p><ul><li>如果 行高 等 高度 文字会 垂直居中</li><li>如果行高 大于 高度 文字会 偏下</li><li>如果行高小于高度 文字会 偏上</li></ul><h1 id="4-CSS背景属性（background）"><a href="#4-CSS背景属性（background）" class="headerlink" title="4. CSS背景属性（background）"></a>4. CSS背景属性（background）</h1><h2 id="4-1-背景颜色background-color："><a href="#4-1-背景颜色background-color：" class="headerlink" title="4. 1 背景颜色background-color："></a>4. 1 背景颜色background-color：</h2><ul><li>颜色值，默认是transparent（透明的）</li></ul><h2 id="4-2-背景图片background-image"><a href="#4-2-背景图片background-image" class="headerlink" title="4.2 背景图片background-image:"></a>4.2 背景图片background-image:</h2><ul><li>none | url(url地址)</li><li>其中url地址不加引号</li></ul><h2 id="4-3-背景平铺background-repeat-可bgr敲tab快捷打出来"><a href="#4-3-背景平铺background-repeat-可bgr敲tab快捷打出来" class="headerlink" title="4.3 背景平铺background-repeat:可bgr敲tab快捷打出来"></a>4.3 背景平铺background-repeat:可bgr敲tab快捷打出来</h2><table><thead><tr><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">no-repeat</td><td align="center">不平铺</td></tr><tr><td align="center">repeat</td><td align="center">横向和纵向平铺（默认）</td></tr><tr><td align="center">repeat-x</td><td align="center">横向平铺</td></tr><tr><td align="center">repeat-y</td><td align="center">纵向平铺</td></tr></tbody></table><h2 id="4-4背景位置background-position"><a href="#4-4背景位置background-position" class="headerlink" title="4.4背景位置background-position"></a>4.4背景位置background-position</h2><table><thead><tr><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">length</td><td align="center">百分数|由浮点数和单位标识符组成的长度值</td></tr><tr><td align="center">position</td><td align="center">left|center|right|top|bottom 方位名词</td></tr></tbody></table><p>注意：</p><ul><li>必须先指定background-image属性</li><li>position后为x坐标和y坐标，中间以空格相隔</li></ul><h2 id="4-5-背景附着background-attachment"><a href="#4-5-背景附着background-attachment" class="headerlink" title="4.5 背景附着background-attachment"></a>4.5 背景附着background-attachment</h2><table><thead><tr><th align="center">属性值</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">scroll</td><td align="center">背景图像随着内容滚动</td></tr><tr><td align="center">fixed</td><td align="center">背景图像固定</td></tr></tbody></table><h2 id="4-6-背景简写"><a href="#4-6-背景简写" class="headerlink" title="4.6 背景简写"></a>4.6 背景简写</h2><ul><li><p>background: 背景颜色 背景图片地址 背景平铺 背景滚动 背景位置;</p></li><li><p>例如：</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="number">#ccc</span> url(<span class="string">images/1.png</span>) no-repeat fixed center top;</span><br></pre></td></tr></table></figure></li></ul><h2 id="4-7-背景透明（CSS3）"><a href="#4-7-背景透明（CSS3）" class="headerlink" title="4.7 背景透明（CSS3）"></a>4.7 背景透明（CSS3）</h2><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">background: rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</span><br></pre></td></tr></table></figure><ul><li>最后一个参数是alpha透明度，取值在0到1之间</li><li>0.3可以省略前面的0，写成rgba(0,0,0,.3)</li><li>盒子背景半透明，盒子里的内容不受影响</li><li>因为是CSS3，所以只支持ie9以上的版本</li></ul><h2 id="4-8-背景总结"><a href="#4-8-背景总结" class="headerlink" title="4.8 背景总结"></a>4.8 背景总结</h2><table><thead><tr><th align="center">属性</th><th align="center">作用</th><th align="center">值</th></tr></thead><tbody><tr><td align="center">background-color</td><td align="center">背景颜色</td><td align="center">预定义的颜色值/十六进制/RGB代码</td></tr><tr><td align="center">background-image</td><td align="center">背景图片</td><td align="center">url(图片路径)</td></tr><tr><td align="center">background-repeat</td><td align="center">是否平铺</td><td align="center">repeat/no-repeat/repeat-x/repeat-y</td></tr><tr><td align="center">background-position</td><td align="center">背景位置</td><td align="center">length/position 分别是x 和 y坐标， 切记 如果有 精确数值单位，则必须按照先X 后Y 的写法</td></tr><tr><td align="center">background-attachment</td><td align="center">背景固定还是滚动</td><td align="center">scroll/fixed</td></tr><tr><td align="center">背景简写</td><td align="center">更简单</td><td align="center">背景颜色 背景图片地址 背景平铺 背景滚动 背景位置; 他们没有顺序</td></tr><tr><td align="center">背景透明</td><td align="center">让盒子半透明</td><td align="center">background: rgba(0,0,0,0.3); 后面必须是 4个值</td></tr></tbody></table><h1 id="5-CSS三大特性"><a href="#5-CSS三大特性" class="headerlink" title="5. CSS三大特性"></a>5. CSS三大特性</h1><h2 id="5-1-CSS层叠性"><a href="#5-1-CSS层叠性" class="headerlink" title="5.1 CSS层叠性"></a>5.1 CSS层叠性</h2><ul><li>样式冲突，采取就近原则</li><li>样式不冲突，不会层叠</li></ul><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/层叠性.png"><h2 id="5-2-CSS继承性"><a href="#5-2-CSS继承性" class="headerlink" title="5.2 CSS继承性"></a>5.2 CSS继承性</h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/继承性.png"><ul><li>作用：简化代码，降低CSS样式的复杂性</li><li>子元素可以继承父元素的一些样式（如：以text-，font-，line-开头都可以继承，以及color属性）</li></ul><h2 id="5-3-CSS优先级"><a href="#5-3-CSS优先级" class="headerlink" title="5.3 CSS优先级"></a>5.3 CSS优先级</h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/优先级.png"><ul><li>选择器相同，考虑样式层叠性</li><li>选择器不同，考虑优先级问题</li></ul><h3 id="5-3-1-权重计算公式"><a href="#5-3-1-权重计算公式" class="headerlink" title="5.3.1 权重计算公式"></a>5.3.1 权重计算公式</h3><table><thead><tr><th align="center">分类</th><th align="center">计算权重公式</th></tr></thead><tbody><tr><td align="center">继承或*</td><td align="center">0,0,0,0</td></tr><tr><td align="center">每个元素（标签选择器）</td><td align="center">0,0,0,1</td></tr><tr><td align="center">每个类，伪类</td><td align="center">0,0,1,0</td></tr><tr><td align="center">每个ID</td><td align="center">0,1,0,0</td></tr><tr><td align="center">每个行内样式 style=””</td><td align="center">1,0,0,0</td></tr><tr><td align="center">每个!important （添加到属性值后面，分号结尾前） 重要的</td><td align="center">∞ 无穷大</td></tr></tbody></table><h3 id="5-3-2-权重叠加"><a href="#5-3-2-权重叠加" class="headerlink" title="5.3.2 权重叠加"></a>5.3.2 权重叠加</h3><ul><li>div ul li ——&gt; 0,0,0,3</li><li>.nav ul li ——&gt; 0,0,1,2</li><li>a:hover —–—&gt; 0,0,1,1</li><li>.nav a ——&gt; 0,0,1,1</li><li>如果权重相等，则考虑就近原则</li></ul><h3 id="5-3-3-继承的权重为0"><a href="#5-3-3-继承的权重为0" class="headerlink" title="5.3.3 继承的权重为0"></a>5.3.3 继承的权重为0</h3><p>我们修改样式，一定要看该标签有没有被选中。</p><ul><li>如果选中了，那么以上面的公式来计权重。谁大听谁的。</li><li>如果没有选中，即使样式为!important，也没用，权重依然为0，因为继承的权重为0.</li></ul><h1 id="6-CSS注释"><a href="#6-CSS注释" class="headerlink" title="6. CSS注释"></a>6. CSS注释</h1><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line"> <span class="comment">/* 所有的字体是14像素大小*/</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;                 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>css</category>
        <category>css02</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>选择器</tag>
        <tag>标签显示模式</tag>
        <tag>background</tag>
      </tags>
  </entry>
  <entry>
    <title>项目1-学生管理系统</title>
    <url>/category/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h3 id="main-h"><a href="#main-h" class="headerlink" title="main.h"></a>main.h</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXKEY 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Student_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> gender;</span><br><span class="line">	<span class="keyword">double</span> score1;</span><br><span class="line">	<span class="keyword">double</span> score2;</span><br><span class="line">	<span class="keyword">double</span> score3;</span><br><span class="line">	<span class="keyword">char</span> address[<span class="number">20</span>];</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student_s</span>* <span class="title">next1</span>;</span></span><br><span class="line"></span><br><span class="line">&#125;Student_t, * pStudent_t;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">User_s</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">char</span> user_name[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">char</span> pwd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> <span class="class"><span class="keyword">class</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">User_s</span>* <span class="title">next2</span>;</span></span><br><span class="line">&#125;User_t, * pUser_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">char</span>* key)</span><span class="comment">//元素是一个字符串</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> h = <span class="number">0</span>, g;</span><br><span class="line">	<span class="keyword">while</span> (*key)</span><br><span class="line">	&#123;</span><br><span class="line">		h = (h &lt;&lt; <span class="number">4</span>) + *key++;</span><br><span class="line">		g = h &amp; <span class="number">0xf0000000</span>;</span><br><span class="line">		<span class="keyword">if</span> (g)</span><br><span class="line">			h ^= g &gt;&gt; <span class="number">24</span>;</span><br><span class="line">		h &amp;= ~g;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> h % MAXKEY;<span class="comment">//范围从0~MAXKEY-1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">searchStu</span><span class="params">(pStudent_t p1Head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pStudent_t p1 = p1Head;</span><br><span class="line">	<span class="keyword">while</span> (p1)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, p1-&gt;no_name, p1-&gt;name, p1-&gt;gender, p1-&gt;score1, p1-&gt;score2, p1-&gt;score3, p1-&gt;address);</span><br><span class="line">		p1 = p1-&gt;next1;</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">searchAccount</span><span class="params">(pUser_t p2Head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pUser_t p2 = p2Head;</span><br><span class="line">	<span class="keyword">while</span> (p2)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd,p2-&gt;class);</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">	&#125;</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">searchByName</span><span class="params">(<span class="keyword">char</span> name[], pStudent_t hashTable1[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> index = hash(name);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, hashTable1[index]-&gt;no_name, hashTable1[index]-&gt;name, hashTable1[index]-&gt;gender, hashTable1[index]-&gt;score1, hashTable1[index]-&gt;score2, hashTable1[index]-&gt;score3, hashTable1[index]-&gt;address);</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addStudentInfo</span><span class="params">(pStudent_t* p1Head, pStudent_t* p1Tail, <span class="keyword">char</span> str1[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>], name[<span class="number">20</span>], gender, address[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">double</span> score1, score2, score3;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入要添加学生的学号，姓名，性别，分数1，分数2，分数3，家庭住址：\n"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s%s %c%lf%lf%lf%s"</span>, no_name, name, &amp;gender, &amp;score1, &amp;score2, &amp;score3, address);</span><br><span class="line">	pStudent_t pNew = (pStudent_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Student_t));</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;no_name, no_name);</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;name, name);</span><br><span class="line">	pNew-&gt;gender = gender;</span><br><span class="line">	pNew-&gt;score1 = score1;</span><br><span class="line">	pNew-&gt;score2 = score2;</span><br><span class="line">	pNew-&gt;score3 = score3;</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;address, address);</span><br><span class="line">	<span class="keyword">if</span> (*p1Tail == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*p1Head = pNew;</span><br><span class="line">		*p1Tail = pNew;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*p1Tail)-&gt;next1 = pNew;</span><br><span class="line">		*p1Tail = (*p1Tail)-&gt;next1;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	FILE* fp1 = fopen(str1, <span class="string">"w"</span>);</span><br><span class="line">	pStudent_t p1 = *p1Head;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp1, <span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, p1-&gt;no_name, p1-&gt;name, p1-&gt;gender, p1-&gt;score1, p1-&gt;score2, p1-&gt;score3, p1-&gt;address))</span><br><span class="line">	&#123;</span><br><span class="line">		p1 = p1-&gt;next1;</span><br><span class="line">		<span class="keyword">if</span> (p1 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	fclose(fp1);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"添加学生信息成功"</span>);</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addUserInfo</span><span class="params">(pUser_t* p2Head, pUser_t* p2Tail, <span class="keyword">char</span> str2[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> user_name[<span class="number">20</span>], pwd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> <span class="class"><span class="keyword">class</span>;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入要添加用户的用户名，密码，权限等级：\n"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s%s%d"</span>, user_name,pwd, &amp;class);</span><br><span class="line">	pUser_t pNew = (pUser_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(User_t));</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;user_name, user_name);</span><br><span class="line">	<span class="built_in">strcpy</span>(pNew-&gt;pwd, pwd);</span><br><span class="line">	pNew-&gt;<span class="class"><span class="keyword">class</span> = <span class="title">class</span>;</span></span><br><span class="line">	<span class="keyword">if</span> (p2Tail == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		*p2Head = pNew;</span><br><span class="line">		*p2Tail = pNew;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		(*p2Tail)-&gt;next2 = pNew;</span><br><span class="line">		*p2Tail = (*p2Tail)-&gt;next2;</span><br><span class="line">	&#125;</span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"w"</span>);</span><br><span class="line">	pUser_t p2 = *p2Head;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp2,<span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd, p2-&gt;class))</span><br><span class="line">	&#123;</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (p2 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fclose(fp2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"添加用户信息成功"</span>);</span><br><span class="line">	system(<span class="string">"pause\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteStudentInfo</span><span class="params">(pStudent_t* p1Head, pStudent_t* p1Tail, <span class="keyword">char</span> str1[],<span class="keyword">char</span> name[],pStudent_t hashTable1[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> index=hash(name);</span><br><span class="line">	<span class="keyword">if</span> (hashTable1[index])</span><br><span class="line">	&#123;</span><br><span class="line">		pStudent_t pre = *p1Head,cur=pre-&gt;next1;</span><br><span class="line">		<span class="keyword">if</span> (pre == hashTable1[index])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">				*p1Head = <span class="literal">NULL</span>;</span><br><span class="line">				*p1Tail = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				(*p1Head) = (*p1Head)-&gt;next1;</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">while</span> (cur)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (cur == hashTable1[index])</span><br><span class="line">				&#123;</span><br><span class="line">					pre-&gt;next1 = cur-&gt;next1;</span><br><span class="line">					<span class="built_in">free</span>(cur);</span><br><span class="line">					cur = <span class="literal">NULL</span>; <span class="comment">//避免悬空指针</span></span><br><span class="line">					<span class="keyword">break</span>; </span><br><span class="line">				&#125;</span><br><span class="line">				pre = cur;</span><br><span class="line">				cur = cur-&gt;next1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"不存在该学生，请重新输入："</span>);</span><br><span class="line">		system(<span class="string">"cls"</span>);</span><br><span class="line">		<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"请输入要删除学生的名字："</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">		deleteStudentInfo(p1Head, p1Tail, str1, n, hashTable1);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	FILE* fp1 = fopen(str1, <span class="string">"w"</span>);</span><br><span class="line">	pStudent_t p1 = *p1Head;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp1, <span class="string">"%5s%20s%5c%10lf%10lf%10lf%20s\n"</span>, p1-&gt;no_name, p1-&gt;name, p1-&gt;gender, p1-&gt;score1, p1-&gt;score2, p1-&gt;score3, p1-&gt;address))</span><br><span class="line">	&#123;</span><br><span class="line">		p1 = p1-&gt;next1;</span><br><span class="line">		<span class="keyword">if</span> (p1 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fclose(fp1);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">deleteUserInfo</span><span class="params">(pUser_t* p2Head, pUser_t* p2Tail, <span class="keyword">char</span> str2[], <span class="keyword">char</span> name[], pUser_t hashTable2[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> index = hash(name);</span><br><span class="line">	<span class="keyword">if</span>(hashTable2[index])</span><br><span class="line">	&#123;</span><br><span class="line">		pUser_t pre = *p2Head, cur = pre-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (pre == hashTable2[index])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="literal">NULL</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">				*p2Head = <span class="literal">NULL</span>;</span><br><span class="line">				*p2Tail = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				(*p2Head) = (*p2Head)-&gt;next2;</span><br><span class="line">				<span class="built_in">free</span>(pre);</span><br><span class="line">				pre = <span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">while</span> (cur)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (cur == hashTable2[index])</span><br><span class="line">				&#123;</span><br><span class="line">					pre-&gt;next2 = cur-&gt;next2;</span><br><span class="line">					<span class="built_in">free</span>(cur);</span><br><span class="line">					cur = <span class="literal">NULL</span>; <span class="comment">//避免悬空指针</span></span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				pre = cur;</span><br><span class="line">				cur = cur-&gt;next2;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"不存在该学生，请重新输入："</span>);</span><br><span class="line">		system(<span class="string">"cls"</span>);</span><br><span class="line">		<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"请输入要删除用户的名字："</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">		deleteStudentInfo(p2Head, p2Tail, str2, n, hashTable2);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"w"</span>);</span><br><span class="line">	pUser_t p2 = *p2Head;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp2, <span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd, p2-&gt;class))</span><br><span class="line">	&#123;</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (p2 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fp2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updatePwd</span><span class="params">(pUser_t* p2Head, pUser_t* p2Tail, <span class="keyword">char</span> str2[], pUser_t hashTable2[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入用户名："</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">	<span class="keyword">int</span> index = hash(n);</span><br><span class="line">	<span class="keyword">if</span> (hashTable2[index])</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"请输入要修改的密码："</span>);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">		<span class="built_in">strcpy</span>(hashTable2[index]-&gt;pwd, name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"不存在用户名，请重新输入："</span>);</span><br><span class="line">		system(<span class="string">"cls"</span>);</span><br><span class="line">		updatePwd(p2Head, p2Tail, str2, hashTable2);</span><br><span class="line">	&#125;</span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"w"</span>);</span><br><span class="line">	pUser_t p2 = *p2Head;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">fprintf</span>(fp2, <span class="string">"%15s%15s%10d\n"</span>, p2-&gt;user_name, p2-&gt;pwd, p2-&gt;class))</span><br><span class="line">	&#123;</span><br><span class="line">		p2 = p2-&gt;next2;</span><br><span class="line">		<span class="keyword">if</span> (p2 == <span class="literal">NULL</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	fclose(fp2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">"main.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXKEY 1000</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	FILE* fp = fopen(argv[<span class="number">1</span>], <span class="string">"r"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">char</span> str1[<span class="number">20</span>], str2[<span class="number">20</span>];</span><br><span class="line">	<span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, str1);</span><br><span class="line">	<span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, str2);</span><br><span class="line">	FILE* fp1 = fopen(str1, <span class="string">"r+"</span>);</span><br><span class="line">	FILE* fp2 = fopen(str2, <span class="string">"r+"</span>);</span><br><span class="line">	<span class="keyword">if</span> (fp1 == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		perror(<span class="string">"fopen"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//读入stu_info</span></span><br><span class="line">	<span class="keyword">char</span> no_name[<span class="number">20</span>], name[<span class="number">20</span>], gender, address[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">double</span> score1, score2, score3;</span><br><span class="line">	<span class="keyword">int</span> stu_num = <span class="number">0</span>;</span><br><span class="line">	pStudent_t p1Head = <span class="literal">NULL</span>, p1Tail = <span class="literal">NULL</span>, stu_arr[<span class="number">20</span>], hashTable1[MAXKEY] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="keyword">while</span> ((<span class="built_in">fscanf</span>(fp1, <span class="string">"%s%s %c%lf%lf%lf%s"</span>, no_name, name, &amp;gender, &amp;score1, &amp;score2, &amp;score3, address)) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		pStudent_t pNew = (pStudent_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(Student_t));</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;no_name, no_name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;name, name);</span><br><span class="line">		pNew-&gt;gender = gender;</span><br><span class="line">		pNew-&gt;score1 = score1;</span><br><span class="line">		pNew-&gt;score2 = score2;</span><br><span class="line">		pNew-&gt;score3 = score3;</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;address, address);</span><br><span class="line">		stu_arr[stu_num] = pNew; </span><br><span class="line">		<span class="keyword">int</span> index = hash(pNew-&gt;name);</span><br><span class="line">		hashTable1[index] = stu_arr[stu_num++];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (p1Tail == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			p1Head = pNew;</span><br><span class="line">			p1Tail = pNew;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			p1Tail-&gt;next1 = pNew;</span><br><span class="line">			p1Tail = p1Tail-&gt;next1;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//读入stu_account</span></span><br><span class="line">	<span class="keyword">char</span> user_name[<span class="number">20</span>], pwd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">int</span> <span class="class"><span class="keyword">class</span>, <span class="title">account_num</span> = 0;</span></span><br><span class="line">	pUser_t p2Head = <span class="literal">NULL</span>, p2Tail = <span class="literal">NULL</span>, account_arr[<span class="number">20</span>], hashTable2[MAXKEY] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">	<span class="keyword">while</span> ((<span class="built_in">fscanf</span>(fp2, <span class="string">"%s%s%d"</span>, user_name, pwd, &amp;class)) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		pUser_t pNew = (pUser_t)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(User_t));</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;user_name, user_name);</span><br><span class="line">		<span class="built_in">strcpy</span>(pNew-&gt;pwd, pwd);</span><br><span class="line">		pNew-&gt;<span class="class"><span class="keyword">class</span> = <span class="title">class</span>;</span></span><br><span class="line">		account_arr[account_num] = pNew;</span><br><span class="line">		<span class="keyword">int</span> index = hash(pNew-&gt;user_name);</span><br><span class="line">		hashTable2[index] = account_arr[account_num++];</span><br><span class="line">		<span class="keyword">if</span> (p2Tail == <span class="literal">NULL</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			p2Head = pNew;</span><br><span class="line">			p2Tail = pNew;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			p2Tail-&gt;next2 = pNew;</span><br><span class="line">			p2Tail = p2Tail-&gt;next2;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//用户登录</span></span><br><span class="line">	<span class="keyword">int</span> pclass;</span><br><span class="line">	<span class="keyword">char</span> input_name[<span class="number">20</span>], pawd[<span class="number">20</span>];</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">printf</span>(<span class="string">"用户名:"</span>), <span class="built_in">scanf</span>(<span class="string">"%s"</span>, input_name) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> index = hash(input_name);</span><br><span class="line">		<span class="keyword">if</span> (hashTable2[index])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">while</span> (<span class="built_in">printf</span>(<span class="string">"密码："</span>), <span class="built_in">scanf</span>(<span class="string">"%s"</span>, pawd) != EOF)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">strcmp</span>(hashTable2[index]-&gt;pwd, pawd) == <span class="number">0</span>)</span><br><span class="line">				&#123;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">while</span> (system(<span class="string">"cls"</span>), <span class="built_in">printf</span>(<span class="string">"您已登录成功,请选择权限等级："</span>), <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;pclass) != EOF)  <span class="comment">//权限不能高于自己，怎么跳出多重循环</span></span><br><span class="line">					&#123;</span><br><span class="line">						<span class="keyword">if</span> (hashTable2[index]-&gt;class == <span class="number">2</span> &amp;&amp; pclass == <span class="number">1</span>)</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="built_in">printf</span>(<span class="string">"无法获取权限。\n"</span>);</span><br><span class="line">							system(<span class="string">"pause"</span>);</span><br><span class="line">							<span class="keyword">continue</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">goto</span> label;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"密码输入错误请重新输入。\n"</span>);</span><br><span class="line">					<span class="keyword">continue</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"不存在该用户，请重新输入。"</span>);</span><br><span class="line">			system(<span class="string">"pause\n"</span>);</span><br><span class="line">			system(<span class="string">"cls"</span>);</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> no;</span><br><span class="line">label: </span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (pclass == <span class="number">2</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			system(<span class="string">"cls"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"请选择功能：\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"1.查询所有学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"2.通过姓名查询学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"3.退出\n"</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;no);</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">1</span>) searchStu(p1Head);</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">2</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要查询学生的姓名："</span>);</span><br><span class="line">					<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">					searchByName(name, hashTable1);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">3</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (pclass == <span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			system(<span class="string">"cls"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"请选择功能：\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"1.查询所有学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"2.查询所有用户信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"3.通过姓名查询学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"4.添加学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"5.添加用户信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"6.删除学生信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"7.删除用户信息\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"8.修改用户登录密码\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"9.退出\n"</span>);</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;no);</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">1</span>) searchStu(p1Head);</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">2</span>) searchAccount(p2Head);</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">3</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要查询学生的姓名："</span>);</span><br><span class="line">					<span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">					searchByName(name, hashTable1);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">4</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span> (fp1 == <span class="literal">NULL</span>)</span><br><span class="line">					&#123;</span><br><span class="line">						fp1 = fopen(str1, <span class="string">"r+"</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					fclose(fp1);</span><br><span class="line">					addStudentInfo(&amp;p1Head, &amp;p1Tail, str1);</span><br><span class="line">				&#125;</span><br><span class="line">					</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">5</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">					&#123;</span><br><span class="line">						fp2 = fopen(str2, <span class="string">"r+"</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					fclose(fp2);</span><br><span class="line">					addUserInfo(&amp;p2Head, &amp;p2Tail, str2);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">6</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span> (fp1 == <span class="literal">NULL</span>)</span><br><span class="line">					&#123;</span><br><span class="line">						fp1 = fopen(str1, <span class="string">"r+"</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					fclose(fp1);</span><br><span class="line">					<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要删除学生的名字："</span>);</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>,n);</span><br><span class="line">					deleteStudentInfo(&amp;p1Head, &amp;p1Tail, str1,n, hashTable1);</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"删除成功\n"</span>);</span><br><span class="line">					system(<span class="string">"pause\n"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">					</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">7</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span> (fp2 == <span class="literal">NULL</span>)</span><br><span class="line">					&#123;</span><br><span class="line">						fp2 = fopen(str2, <span class="string">"r+"</span>);</span><br><span class="line">					&#125;</span><br><span class="line">					fclose(fp2);</span><br><span class="line">					<span class="keyword">char</span> n[<span class="number">20</span>];</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"请输入要删除用户的名字："</span>);</span><br><span class="line">					<span class="built_in">scanf</span>(<span class="string">"%s"</span>, n);</span><br><span class="line">					deleteUserInfo(&amp;p2Head, &amp;p2Tail, str2, n, hashTable2);</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"删除成功。\n"</span>);</span><br><span class="line">					system(<span class="string">"pause\n"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">8</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					updatePwd(&amp;p2Head, &amp;p2Tail,str2, hashTable2);</span><br><span class="line">					<span class="built_in">printf</span>(<span class="string">"更改成功。\n"</span>);</span><br><span class="line">					system(<span class="string">"pause\n"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (no == <span class="number">9</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>c</category>
      </categories>
      <tags>
        <tag>c</tag>
      </tags>
  </entry>
  <entry>
    <title>39Linuxday14_01</title>
    <url>/category/39Linuxday14_01/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><p><strong>概念题：</strong></p><ol><li>锁在使用时候注意事项有哪些？</li><li>三种互斥锁的特点？以及各自加锁解锁时的行为？</li><li>什么是死锁？如何避免？</li><li>pthread_cond_wait函数为什么要传递一个mutex的指针？描述一下pthread_cond_wait的上半部和下半部都做了哪些事？</li></ol><p><strong>编程题：</strong></p><ol><li>主线程定义一个整数num=0，创建2个子线程，通过传参的方式把num传给子线程，让两个子线程分别对这个num各加1000万次，每次加1。</li><li>我们知道线程访问一些资源时要先加锁，加锁成功的线程代表抢到了资源，那么多个线程竞争一把锁时，锁能不能保证公平性，能不能保证资源是平均分配给多个线程的？<strong>设计一个程序验证一下锁的公平性。</strong><br><strong>提示：</strong>把资源数量设定为一个值（越大越能体现公平），线程抢到锁，就对这个值减一，同时每个线程统计一下自己抢到的资源数量。最后做个对比，看看是不是每个线程分到的资源数量差不多。</li><li>编写一个生产者消费者卖票放票的程序，一个生产者，两个消费者，消费者有票就卖票，没有票时等待通知，生产者运行时如果发现没票了，就放票出来，然后通知消费者卖票。<strong>卖票线程要写退出机制</strong></li><li>编写一个生产者消费者卖票放票的程序，一个生产者，两个消费者，消费者有票就卖票，没有票时发送通知放票线程放票，生产者收到放票通知后，就放票出来，卖票线程要写退出机制</li><li>上面的模型(第四题)有点不合理的地方，卖票者需要一直运行，判断是否有余票，这样比较浪费资源。把上面的程序改变一下，使用两个条件变量，消费者卖完票后通知生产者，然后在1号条件变量上面等待生产者放票，生产者放票后通知消费者，然后在2号条件变量上面等待消费者把票卖完。</li></ol><a id="more"></a><h3 id="概念题："><a href="#概念题：" class="headerlink" title="概念题："></a><strong>概念题：</strong></h3><p>1.</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">不能对一把正在使用的锁进行销毁操作</span><br><span class="line">加锁一次：锁的引用值+<span class="number">1</span>；解锁时，引用计数<span class="number">-1</span>。锁的引用计数为<span class="number">0</span>的时候，锁才能被销毁。所以，对一把锁加锁<span class="number">1</span>次，连续解锁两次，destroy不会成功。</span><br><span class="line">pthread_mutex_lock是一个阻塞性函数。连续加锁会阻塞。</span><br><span class="line">自死锁：自己连续加锁两次。</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">普通锁、快速锁，pthread_mutex_init(&amp;mutex,</span> <span class="literal">NULL</span><span class="string">);</span></span><br><span class="line"></span><br><span class="line"><span class="string">pthread_mutexattr_t</span> <span class="string">attr;</span></span><br><span class="line"><span class="string">pthread_mutexattr_init(&amp;attr);</span></span><br><span class="line"><span class="string">pthread_mutexattr_settype(&amp;attr,</span> <span class="string">type)</span></span><br><span class="line"><span class="string">嵌套锁：可以对一把锁连续加锁多次</span>   <span class="string">type为PTHREAD_MUTEX_RECURSIVE</span></span><br><span class="line"><span class="string">检错锁：它可以检测最简单的自死锁，</span> <span class="string">还可以检测多余的解锁。</span>   <span class="string">type为PTHREAD_MUTEX_ERRORCHECK</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span><span class="string">.</span> <span class="string">加锁：</span></span><br><span class="line">   <span class="number">1</span><span class="string">.</span> <span class="string">对于普通锁：不允许连续加锁</span></span><br><span class="line">   <span class="number">2</span><span class="string">.</span> <span class="string">对于嵌套锁：可以连续加锁多次</span></span><br><span class="line">   <span class="number">3</span><span class="string">.</span> <span class="string">对于检错锁：加锁，连续加锁会返回错误码</span></span><br><span class="line"><span class="number">2</span><span class="string">.</span> <span class="string">解锁：</span></span><br><span class="line">   <span class="number">1</span><span class="string">.</span> <span class="string">对于普通锁：解锁者可以是同进程内任意线程</span></span><br><span class="line">   <span class="number">2</span><span class="string">.</span> <span class="string">对于嵌套锁：文档要求必须由加锁者解锁，但是同进程的任意线程也可以解锁</span></span><br><span class="line">   <span class="number">3</span><span class="string">.</span> <span class="string">对于检错锁：解锁者必须由加锁者解锁</span></span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="section">死锁:多个进程因竞争资源产生的僵局，若无外力的干预，则这些进程将无法继续向前推进</span></span><br><span class="line">破坏互斥、请求和保持、不可剥夺、循环等待条件中的任意一个即可</span><br></pre></td></tr></table></figure><p>4.</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">因为pthread_cond_wait函数先要对当前线程资源解锁，并阻塞当前线程，然后收到条件成立信号后，不再阻塞，然后再对资源加锁，所以要用传递一个mutex的指针</span><br></pre></td></tr></table></figure><h3 id="编程题："><a href="#编程题：" class="headerlink" title="编程题："></a>编程题：</h3><p>1.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 10000000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add1Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add1线程运行后num为：%d\n"</span>,*p1);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add2Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; N;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add2线程运行后num为：%d\n"</span>,*p1);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>,num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> add1,add2;</span><br><span class="line"></span><br><span class="line">    pthread_mutex_init(&amp;mutex, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;add1, <span class="literal">NULL</span>, add1Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;add2, <span class="literal">NULL</span>, add2Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(add1, <span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join1"</span>);</span><br><span class="line">    ret = pthread_join(add2, <span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join2"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"最后的num为%d\n"</span>,num);</span><br><span class="line">    <span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lds\n"</span>, time_end - time_beg);</span><br><span class="line">    </span><br><span class="line">    ret = pthread_mutex_destroy(&amp;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//add1得到的资源数量为49881334   已经很公平了！</span></span><br><span class="line"><span class="comment">//add2得到的资源数量为50118666</span></span><br><span class="line"><span class="comment">//2s</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add1Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> num1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">while</span>(*p1)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)--;</span><br><span class="line">        num1++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)num1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">add2Func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> num2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>* p1 = (<span class="keyword">int</span> *)p;</span><br><span class="line">    <span class="keyword">while</span>(*p1)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = pthread_mutex_lock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">        (*p1)--;</span><br><span class="line">        num2++;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_unlock(&amp;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit((<span class="keyword">void</span>*)num2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>,num = <span class="number">100000000</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> add1,add2;</span><br><span class="line"></span><br><span class="line">    pthread_mutex_init(&amp;mutex, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">time_t</span> time_beg = time(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;add1, <span class="literal">NULL</span>, add1Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;add2, <span class="literal">NULL</span>, add2Func, &amp;num);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> retVal1,retVal2;</span><br><span class="line">    ret = pthread_join(add1,(<span class="keyword">void</span>**)&amp;retVal1);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join1"</span>);</span><br><span class="line">    ret = pthread_join(add2,(<span class="keyword">void</span>**)&amp;retVal2);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"join2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add1得到的资源数量为%ld\n"</span>,(<span class="keyword">long</span>)retVal1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"add2得到的资源数量为%ld\n"</span>,(<span class="keyword">long</span>)retVal2);</span><br><span class="line">    <span class="keyword">time_t</span> time_end = time(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lds\n"</span>, time_end - time_beg);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret, <span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ticket_num;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond;</span><br><span class="line">    <span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">&#125;Data_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale1func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"1窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_timedwait"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale2func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"2窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_timedwait"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">setfunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(p1-&gt;ticket_num);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">    p1-&gt;ticket_num = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"又放出10张票\n"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_signal(&amp;p1-&gt;cond);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_wait"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> sale1,sale2,<span class="built_in">set</span>;</span><br><span class="line"></span><br><span class="line">    Data_t data;</span><br><span class="line">    data.ticket_num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_init"</span>);</span><br><span class="line">    pthread_mutex_init(&amp;data.mutex,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;sale1,<span class="literal">NULL</span>,sale1func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;sale2,<span class="literal">NULL</span>,sale2func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;<span class="built_in">set</span>,<span class="literal">NULL</span>,setfunc,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(sale1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join1"</span>);</span><br><span class="line">    ret = pthread_join(sale2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join2"</span>);</span><br><span class="line">    ret = pthread_join(<span class="built_in">set</span>,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;data.mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ticket_num;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond;</span><br><span class="line">    <span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">&#125;Data_t;</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale1func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"1窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_signal"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale2func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"2窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_signal"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">setfunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_wait(&amp;p1-&gt;cond,&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_wait"</span>);</span><br><span class="line">    p1-&gt;ticket_num = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"又放出10张票\n"</span>);</span><br><span class="line">    ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> sale1,sale2,<span class="built_in">set</span>;</span><br><span class="line"></span><br><span class="line">    Data_t data;</span><br><span class="line">    data.ticket_num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_init"</span>);</span><br><span class="line">    pthread_mutex_init(&amp;data.mutex,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;sale1,<span class="literal">NULL</span>,sale1func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;sale2,<span class="literal">NULL</span>,sale2func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;<span class="built_in">set</span>,<span class="literal">NULL</span>,setfunc,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(sale1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join1"</span>);</span><br><span class="line">    ret = pthread_join(sale2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join2"</span>);</span><br><span class="line">    ret = pthread_join(<span class="built_in">set</span>,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;data.mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.</p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;func.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ticket_num;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond1;</span><br><span class="line">    <span class="keyword">pthread_cond_t</span> cond2;</span><br><span class="line">    <span class="keyword">pthread_mutex_t</span> mutex;</span><br><span class="line">&#125;Data_t;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale1func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"1窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond2);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_signal"</span>);</span><br><span class="line"></span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond1,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_wait"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">sale2func</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">timespec</span> <span class="title">spec</span>;</span></span><br><span class="line">        <span class="built_in">memset</span>(&amp;spec, <span class="number">0</span>, <span class="keyword">sizeof</span>(spec));</span><br><span class="line"></span><br><span class="line">        spec.tv_sec = time(<span class="literal">NULL</span>) + <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">        ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"2窗口卖出1张票，"</span>);</span><br><span class="line">            p1-&gt;ticket_num--;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"当前还剩%d张票！\n"</span>,p1-&gt;ticket_num);</span><br><span class="line">            sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p1-&gt;ticket_num == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret = pthread_cond_signal(&amp;p1-&gt;cond2);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_signal"</span>);</span><br><span class="line"></span><br><span class="line">            ret = pthread_cond_timedwait(&amp;p1-&gt;cond1,&amp;p1-&gt;mutex,&amp;spec);</span><br><span class="line">            THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_wait"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">        THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">        sleep(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">setfunc</span><span class="params">(<span class="keyword">void</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    Data_t* p1 = (Data_t*)p;</span><br><span class="line">    ret = pthread_mutex_lock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_lock"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_wait(&amp;p1-&gt;cond2,&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_wait"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_signal(&amp;p1-&gt;cond1);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_signal"</span>);</span><br><span class="line"></span><br><span class="line">    p1-&gt;ticket_num = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"又放出10张票\n"</span>);</span><br><span class="line">    ret = pthread_mutex_unlock(&amp;p1-&gt;mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_unlock"</span>);</span><br><span class="line">    pthread_exit(<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">pthread_t</span> sale1,sale2,<span class="built_in">set</span>;</span><br><span class="line"></span><br><span class="line">    Data_t data;</span><br><span class="line">    data.ticket_num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_init"</span>);</span><br><span class="line"></span><br><span class="line">    pthread_cond_init(&amp;data.cond2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_init"</span>);</span><br><span class="line"></span><br><span class="line">    pthread_mutex_init(&amp;data.mutex,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;sale1,<span class="literal">NULL</span>,sale1func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create1"</span>);</span><br><span class="line">    ret = pthread_create(&amp;sale2,<span class="literal">NULL</span>,sale2func,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create2"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_create(&amp;<span class="built_in">set</span>,<span class="literal">NULL</span>,setfunc,&amp;data);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_create3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_join(sale1,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join1"</span>);</span><br><span class="line">    ret = pthread_join(sale2,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join2"</span>);</span><br><span class="line">    ret = pthread_join(<span class="built_in">set</span>,<span class="literal">NULL</span>);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_join3"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond1);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond1_destroy"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ret = pthread_cond_destroy(&amp;data.cond2);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_cond2_init"</span>);</span><br><span class="line"></span><br><span class="line">    ret = pthread_mutex_destroy(&amp;data.mutex);</span><br><span class="line">    THREAD_ERROR_CHECK(ret,<span class="string">"pthread_mutex_destroy"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>c++39th</category>
        <category>linux</category>
      </categories>
      <tags>
        <tag>c</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>王道训练营C/C++方向基础60题</title>
    <url>/category/%E7%8E%8B%E9%81%93%E8%AE%AD%E7%BB%83%E8%90%A5CC++%E6%96%B9%E5%90%91%E5%9F%BA%E7%A1%8060%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- build time:Thu Jul 15 2021 23:58:46 GMT+0800 (GMT+08:00) --><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><blockquote><p>王道c++基础60题逐题题解</p></blockquote><a id="more"></a><h3 id="1-有一个函数如下："><a href="#1-有一个函数如下：" class="headerlink" title="1.有一个函数如下："></a>1.有一个函数如下：</h3><blockquote><p>有一个函数如下：<br>x (x&lt;5)<br>y = x+6 (5&lt;=x&lt;15)<br>x-6 (x&gt;=15)</p></blockquote><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">5</span>) <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;=<span class="number">5</span>&amp;&amp;x&lt;<span class="number">15</span>) <span class="built_in">cout</span>&lt;&lt;(x+<span class="number">6</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;=<span class="number">15</span>) <span class="built_in">cout</span>&lt;&lt;(x<span class="number">-6</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-输入一个小写字母，将其转换为大写字母。"><a href="#2-输入一个小写字母，将其转换为大写字母。" class="headerlink" title="2. 输入一个小写字母，将其转换为大写字母。"></a>2. 输入一个小写字母，将其转换为大写字母。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;(<span class="keyword">char</span>)(x<span class="number">-32</span>)&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//小写字母和大写字母相差32，最后注意要强制类型转换一下</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-求一个3×3-矩阵主对角线元素之和"><a href="#3-求一个3×3-矩阵主对角线元素之和" class="headerlink" title="3. 求一个3×3 矩阵主对角线元素之和"></a>3. 求一个3×3 矩阵主对角线元素之和</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">3</span>]=&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;,&#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;&#125;,sum=<span class="number">0</span>;  <span class="comment">//主要熟悉二维数组的初始化</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)</span><br><span class="line">       sum+=a[i][i];</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-求100～999-之间的水仙花数。所谓水仙花数，是指一个3-位数，它的每位数字的立方之和等于该数。例如，因为153-1-5-3，所以153-为水仙花数。"><a href="#4-求100～999-之间的水仙花数。所谓水仙花数，是指一个3-位数，它的每位数字的立方之和等于该数。例如，因为153-1-5-3，所以153-为水仙花数。" class="headerlink" title="4. 求100～999 之间的水仙花数。所谓水仙花数，是指一个3 位数，它的每位数字的立方之和等于该数。例如，因为153=1+5+3，所以153 为水仙花数。"></a>4. 求100～999 之间的水仙花数。所谓水仙花数，是指一个3 位数，它的每位数字的立方之和等于该数。例如，因为153=1+5+3，所以153 为水仙花数。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,j;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">100</span>;i&lt;<span class="number">1000</span>;i++)&#123;   <span class="comment">//i不动，把i赋给j，对j处理，</span></span><br><span class="line">        j=i;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">            a=j%<span class="number">10</span>;</span><br><span class="line">            sum+=a*a*a;</span><br><span class="line">            j/=<span class="number">10</span>;</span><br><span class="line">        &#125;<span class="keyword">while</span>(j);</span><br><span class="line">        <span class="keyword">if</span>(i==sum) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"是水仙花数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-输入百分制成绩，并把它转换成五级分制"><a href="#5-输入百分制成绩，并把它转换成五级分制" class="headerlink" title="5. 输入百分制成绩，并把它转换成五级分制"></a>5. 输入百分制成绩，并把它转换成五级分制</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/分数表.png"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">    <span class="keyword">switch</span>(x/<span class="number">10</span>)&#123;  </span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"合格"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"中等"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"良好"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">9</span>:                             <span class="comment">//9和10是一类</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">10</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"优秀"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-使用非递归的方法实现斐波拉契数列"><a href="#6-使用非递归的方法实现斐波拉契数列" class="headerlink" title="6.使用非递归的方法实现斐波拉契数列"></a>6.使用非递归的方法实现斐波拉契数列</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fib</span><span class="params">(<span class="keyword">long</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> *a = <span class="keyword">new</span> <span class="keyword">long</span>[n+<span class="number">1</span>];  <span class="comment">//对于不确定大小的数组，我们采用动态数组的方法来还创建</span></span><br><span class="line">    a[<span class="number">0</span>]=<span class="number">1</span>,a[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">long</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        a[i]=a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;a[n]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    fib(n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-编写一个程序，将一个数组中的值按逆序重新存放。例如-原来顺序为8-6-5-4-1。要求改为1-4-5-6-8。"><a href="#7-编写一个程序，将一个数组中的值按逆序重新存放。例如-原来顺序为8-6-5-4-1。要求改为1-4-5-6-8。" class="headerlink" title="7.编写一个程序，将一个数组中的值按逆序重新存放。例如,原来顺序为8,6,5,4,1。要求改为1,4,5,6,8。"></a>7.编写一个程序，将一个数组中的值按逆序重新存放。例如,原来顺序为8,6,5,4,1。要求改为1,4,5,6,8。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resort</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n/<span class="number">2</span>;i++)    <span class="comment">//逆序时，交换次序不需要考虑总数的奇偶情况，可统一处理</span></span><br><span class="line">            swap(a[i],a[n<span class="number">-1</span>-i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    resort(a,n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。"><a href="#8-编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。" class="headerlink" title="8. 编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。"></a>8. 编写一个程序根据输入的三角形的三条边判断是否能组成三角形，如果可以则输出它的面积和三角形类型（等边、等腰、直角三角形）。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(a+b&gt;c&amp;&amp;a+c&gt;b&amp;&amp;b+c&gt;a)   <span class="comment">//关键代码，三角形判定和三角形面积公式</span></span><br><span class="line">&#123;</span><br><span class="line">p=(a+b+c)/<span class="number">2</span>;</span><br><span class="line">v=<span class="built_in">sqrt</span>(p*(p-a)*(p-b)*(p-c));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。"><a href="#9-从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。" class="headerlink" title="9. 从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。"></a>9. 从键盘输入若干个学生成绩，统计并输出最高成绩和最低成绩，当输入负数时结束输入。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,<span class="built_in">min</span>=<span class="number">10000</span>,<span class="built_in">max</span>=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="built_in">min</span>) <span class="built_in">min</span>=x;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;<span class="built_in">max</span>) <span class="built_in">max</span>=x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"最高成绩："</span>&lt;&lt;<span class="built_in">max</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="string">"最低成绩"</span>&lt;&lt;<span class="built_in">min</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10-编写函数将化氏温度转换为摄氏温度，公式为C-（F-32）-5-9；并在主函数中调用。"><a href="#10-编写函数将化氏温度转换为摄氏温度，公式为C-（F-32）-5-9；并在主函数中调用。" class="headerlink" title="10. 编写函数将化氏温度转换为摄氏温度，公式为C=（F-32）*5/9；并在主函数中调用。"></a>10. 编写函数将化氏温度转换为摄氏温度，公式为C=（F-32）*5/9；并在主函数中调用。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">compute</span><span class="params">(<span class="keyword">double</span> f)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (f<span class="number">-32</span>)*<span class="number">5</span>/<span class="number">9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> f,c;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;f;</span><br><span class="line">    c=compute(f);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="11-输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12-1-2-2-3"><a href="#11-输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12-1-2-2-3" class="headerlink" title="11. 输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12=1* 2 * 2 * 3"></a>11. 输入一个自然数，输出其各因子的连乘形式，如输入12，则输出12=1* 2 * 2 * 3</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"=1"</span>;</span><br><span class="line">    y=x;                       <span class="comment">//y不动，把x赋给y，对x进行处理</span></span><br><span class="line">    <span class="keyword">if</span>(x&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;y;i++)</span><br><span class="line">            <span class="keyword">while</span>(!(x%i))&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">"*"</span>&lt;&lt;i;</span><br><span class="line">                x/=i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="12-N-个整数从小到大排列，输入一个新数插入其中，使N-1-个整数仍然有序。"><a href="#12-N-个整数从小到大排列，输入一个新数插入其中，使N-1-个整数仍然有序。" class="headerlink" title="12. N 个整数从小到大排列，输入一个新数插入其中，使N+1 个整数仍然有序。"></a>12. N 个整数从小到大排列，输入一个新数插入其中，使N+1 个整数仍然有序。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];   <span class="comment">//创建“大一个”的数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"输入一个要插入的新数："</span>;</span><br><span class="line">    <span class="keyword">int</span> x,pos;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(a[n<span class="number">-1</span>]&lt;x) pos=n;  <span class="comment">//如果插入的数最大，就不用移动其他元素了，需要特殊处理</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)  <span class="comment">//找出插入的位置pos</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[i]&lt;x) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                pos=i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=n<span class="number">-1</span>;j&gt;=pos;j--) <span class="comment">//后移元素，并赋值给插入位置的元素</span></span><br><span class="line">    &#123;</span><br><span class="line">        a[j+<span class="number">1</span>]=a[j];</span><br><span class="line">    &#125;</span><br><span class="line">    a[pos]=x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="13-在100～200-之间找出满足用3-除余2，用5-除余3-和用7-除余2-的所有整数。"><a href="#13-在100～200-之间找出满足用3-除余2，用5-除余3-和用7-除余2-的所有整数。" class="headerlink" title="13.在100～200 之间找出满足用3 除余2，用5 除余3 和用7 除余2 的所有整数。"></a>13.在100～200 之间找出满足用3 除余2，用5 除余3 和用7 除余2 的所有整数。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">100</span>;i&lt;<span class="number">201</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> j=i;</span><br><span class="line">        <span class="keyword">if</span>((j%<span class="number">3</span>==<span class="number">2</span>)&amp;&amp;(j%<span class="number">5</span>==<span class="number">3</span>)&amp;&amp;(j%<span class="number">7</span>==<span class="number">2</span>)) <span class="built_in">cout</span>&lt;&lt;j&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="14-输入10-个同学的成绩，统计80-分以上和不及格的人数，并输出平均值。"><a href="#14-输入10-个同学的成绩，统计80-分以上和不及格的人数，并输出平均值。" class="headerlink" title="14. 输入10 个同学的成绩，统计80 分以上和不及格的人数，并输出平均值。"></a>14. 输入10 个同学的成绩，统计80 分以上和不及格的人数，并输出平均值。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> countNumber=<span class="number">0</span>,failNumber=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">        <span class="keyword">if</span>(a[i]&gt;<span class="number">80</span>) countNumber++;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;<span class="number">60</span>) failNumber++;</span><br><span class="line">        sum+=a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> average = sum/<span class="number">10</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"80以上总数："</span>&lt;&lt;countNumber&lt;&lt;<span class="string">"不及格："</span>&lt;&lt;failNumber&lt;&lt;<span class="string">"平均成绩："</span>&lt;&lt;average&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="15-编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26-个英文字母。"><a href="#15-编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26-个英文字母。" class="headerlink" title="15. 编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26 个英文字母。"></a>15. 编写一个函数来检验输入的一个字符是大写字母还是小写字母或不是26 个英文字母。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> x;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x&gt;=<span class="string">'a'</span>&amp;&amp;x&lt;=<span class="string">'z'</span>) <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"是小写字母"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(x&gt;=<span class="string">'A'</span>&amp;&amp;x&lt;=<span class="string">'Z'</span>) <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"是大写字母"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">"不是26个英文字母"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="16-编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。"><a href="#16-编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。" class="headerlink" title="16. 编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。"></a>16. 编写一个程序，从键盘输入半径和高，输出圆柱体的底面积和体积。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.14  <span class="comment">//宏定义后不用加分号</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> r,h;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;r&gt;&gt;h)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> s=PI*r*r;</span><br><span class="line">        <span class="keyword">double</span> v=s*h;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"底面积："</span>&lt;&lt;s&lt;&lt;<span class="string">"体积为："</span>&lt;&lt;v&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="17-输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。"><a href="#17-输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。" class="headerlink" title="17. 输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。"></a>17. 输入一行字符，分别统计出其中英文字母、空格、数字和其他字符的个数。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,s))&#123;</span><br><span class="line">        <span class="keyword">int</span> letterNumber=<span class="number">0</span>,kongNumber=<span class="number">0</span>,digitNumber=<span class="number">0</span>,othersNumber=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>((s[i]&gt;=<span class="string">'a'</span>&amp;&amp;s[i]&lt;=<span class="string">'z'</span>)||(s[i]&gt;=<span class="string">'A'</span>&amp;&amp;s[i]&lt;=<span class="string">'Z'</span>)) letterNumber++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s[i]==<span class="string">' '</span>) kongNumber++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s[i]&gt;=<span class="string">'0'</span>&amp;&amp;s[i]&lt;=<span class="string">'9'</span>) digitNumber++;</span><br><span class="line">            <span class="keyword">else</span> othersNumber++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"英文字母个数："</span>&lt;&lt;letterNumber&lt;&lt;<span class="string">"空格个数："</span>&lt;&lt;kongNumber&lt;&lt;<span class="string">"数字个数："</span>&lt;&lt;digitNumber&lt;&lt;<span class="string">"其他字符个数："</span>&lt;&lt;othersNumber&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> letterNumber=<span class="number">0</span>,kongNumber=<span class="number">0</span>,digitNumber=<span class="number">0</span>,othersNumber=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((c=getchar())!=<span class="string">'\n'</span>)&#123;  <span class="comment">//getchar为空判定</span></span><br><span class="line">        <span class="keyword">if</span>((c&gt;=<span class="string">'a'</span>&amp;&amp;c&lt;=<span class="string">'z'</span>)||(c&gt;=<span class="string">'A'</span>&amp;&amp;c&lt;=<span class="string">'Z'</span>)) letterNumber++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">' '</span>) kongNumber++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c&gt;=<span class="string">'0'</span>&amp;&amp;c&lt;=<span class="string">'9'</span>) digitNumber++;</span><br><span class="line">        <span class="keyword">else</span> othersNumber++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"英文字母个数："</span>&lt;&lt;letterNumber&lt;&lt;<span class="string">"空格个数："</span>&lt;&lt;kongNumber&lt;&lt;<span class="string">"数字个数："</span>&lt;&lt;digitNumber&lt;&lt;<span class="string">"其他字符个数："</span>&lt;&lt;othersNumber&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="18-编写程序-形成如下矩阵-并输出。"><a href="#18-编写程序-形成如下矩阵-并输出。" class="headerlink" title="18.编写程序,形成如下矩阵,并输出。"></a>18.编写程序,形成如下矩阵,并输出。</h3><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/media/矩阵.png"><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">5</span>][<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i][j]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(j&lt;=i)</span><br><span class="line">                a[i][j]=i+<span class="number">1</span>-j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;a[i][j]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="19-用递归函数完成以下运算："><a href="#19-用递归函数完成以下运算：" class="headerlink" title="19. 用递归函数完成以下运算："></a>19. 用递归函数完成以下运算：</h3><blockquote><p>sum(n)=12+22+…+n2<br>函数的原型如下：<br>long sum(int n);<br>该函数完成12+22+…+n2 的运算，并返回运算结果，其中n&gt;0。<br>提示：你可以使用递归表达式：sum(n)=sum(n-1)+n2</p></blockquote><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">//基线条件</span></span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sum(n<span class="number">-1</span>)+n*n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;sum(n);</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="20-编写一个程序，将整数转换成字符串：void-itoa-int-char"><a href="#20-编写一个程序，将整数转换成字符串：void-itoa-int-char" class="headerlink" title="20.编写一个程序，将整数转换成字符串：void itoa(int,char);"></a>20.编写一个程序，将整数转换成字符串：void itoa(int,char);</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        <span class="built_in">string</span> s=<span class="string">""</span>;</span><br><span class="line">        <span class="keyword">do</span>&#123;</span><br><span class="line">          <span class="keyword">int</span> a= n%<span class="number">10</span>;                <span class="comment">//回顾下知识点：  </span></span><br><span class="line">          s+=(a+<span class="string">'0'</span>);                 <span class="comment">//求各位数用do-while</span></span><br><span class="line">          n/=<span class="number">10</span>;                      <span class="comment">//小写字母=（char）大写字母+32</span></span><br><span class="line">        &#125;<span class="keyword">while</span>(n);                    <span class="comment">//char数= int数+'0'  其中'0'是48</span></span><br><span class="line">        reverse(s.<span class="built_in">begin</span>(),s.<span class="built_in">end</span>());   <span class="comment">//reverse函数可以反转string字符串</span></span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;s&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="21-编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004-年12-月31-日23-时59-分59-秒，则输出2005-年1-月1-日0-时0-分0秒。"><a href="#21-编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004-年12-月31-日23-时59-分59-秒，则输出2005-年1-月1-日0-时0-分0秒。" class="headerlink" title="21. 编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004 年12 月31 日23 时59 分59 秒，则输出2005 年1 月1 日0 时0 分0秒。"></a>21. 编写一个函数，要求输入年月日时分秒，输出该年月日时分秒的下一秒。如输入2004 年12 月31 日23 时59 分59 秒，则输出2005 年1 月1 日0 时0 分0秒。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">NextTime</span><span class="params">(<span class="keyword">int</span> year,<span class="keyword">int</span> month,<span class="keyword">int</span> date,<span class="keyword">int</span> hour,<span class="keyword">int</span> minute,<span class="keyword">int</span> second)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Days=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//首先判断输入日期格式是否正确</span></span><br><span class="line">    <span class="keyword">if</span>(year&lt;<span class="number">0</span>||month&lt;<span class="number">1</span>||month&gt;<span class="number">12</span>||date&lt;<span class="number">1</span>||date&gt;<span class="number">31</span>||hour&lt;<span class="number">0</span>||hour&gt;<span class="number">23</span>||minute&lt;<span class="number">0</span>||minute&gt;<span class="number">59</span>||second&lt;<span class="number">0</span>||second&gt;<span class="number">59</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"格式输入错误!!!"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    second+=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(second==<span class="number">60</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        second=<span class="number">0</span>;</span><br><span class="line">        minute+=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(minute==<span class="number">60</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            minute=<span class="number">0</span>;</span><br><span class="line">            hour+=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(hour==<span class="number">24</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                hour=<span class="number">0</span>;</span><br><span class="line">                date+=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">switch</span>(month)</span><br><span class="line">                &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">                    Days=<span class="number">31</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    <span class="keyword">if</span>(year%<span class="number">400</span>==<span class="number">0</span>||year%<span class="number">100</span>!=<span class="number">0</span>&amp;&amp;year%<span class="number">4</span>==<span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Days=<span class="number">29</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span>&#123;</span><br><span class="line">                        Days=<span class="number">28</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    Days=<span class="number">30</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(date&gt;Days)</span><br><span class="line">                &#123;</span><br><span class="line">                    date=<span class="number">1</span>;</span><br><span class="line">                    month+=<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(month&gt;<span class="number">12</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    month=<span class="number">1</span>;</span><br><span class="line">                    year+=<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"下一秒是"</span>&lt;&lt;year&lt;&lt;<span class="string">"年"</span>&lt;&lt;month&lt;&lt;<span class="string">"月"</span>&lt;&lt;date&lt;&lt;<span class="string">"日"</span>&lt;&lt;hour&lt;&lt;<span class="string">"时"</span>&lt;&lt;minute&lt;&lt;<span class="string">"分"</span>&lt;&lt;second&lt;&lt;<span class="string">"秒"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">int</span> YEAR,MONTH,DATE,HOUR,MINUTE,SECOND;</span><br><span class="line">     <span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入年份&amp;月份&amp;天数&amp;小时&amp;分钟&amp;秒数"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">     <span class="built_in">cin</span>&gt;&gt;YEAR&gt;&gt;MONTH&gt;&gt;DATE&gt;&gt;HOUR&gt;&gt;MINUTE&gt;&gt;SECOND;</span><br><span class="line">     <span class="built_in">cout</span>&lt;&lt;<span class="string">"您输入的是"</span>&lt;&lt;YEAR&lt;&lt;<span class="string">"年"</span>&lt;&lt;MONTH&lt;&lt;<span class="string">"月"</span>&lt;&lt;DATE&lt;&lt;<span class="string">"日"</span>&lt;&lt;HOUR&lt;&lt;<span class="string">"时"</span>&lt;&lt;MINUTE&lt;&lt;<span class="string">"分"</span>&lt;&lt;SECOND&lt;&lt;<span class="string">"秒"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">     NextTime(YEAR,MONTH,DATE,HOUR,MINUTE,SECOND);</span><br><span class="line">     system(<span class="string">"pause"</span>);</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="22-编写一个程序，交换两个数，不用第三块儿内存"><a href="#22-编写一个程序，交换两个数，不用第三块儿内存" class="headerlink" title="22.编写一个程序，交换两个数，不用第三块儿内存"></a>22.编写一个程序，交换两个数，不用第三块儿内存</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y)&#123;</span><br><span class="line">        x=x+y;       <span class="comment">//关键代码</span></span><br><span class="line">        y=x-y;</span><br><span class="line">        x=x-y;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">" "</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="23-有一段文本，统计其中的单词数。"><a href="#23-有一段文本，统计其中的单词数。" class="headerlink" title="23.有一段文本，统计其中的单词数。"></a>23.有一段文本，统计其中的单词数。</h3><blockquote><p>例如：</p><p>As a technology , “HailStorm” is so new that it is still only known by<br>its code name.<br>注意：单词间的间隔不一定是一个空格。</p></blockquote><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> number=<span class="number">0</span>,flag=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(((c=getchar())!=<span class="string">'\n'</span>))&#123;   <span class="comment">//c=getchar()一定要打括号</span></span><br><span class="line">        <span class="keyword">if</span>((c&gt;=<span class="string">'a'</span>&amp;&amp;c&lt;=<span class="string">'z'</span>)||(c&gt;=<span class="string">'A'</span>&amp;&amp;c&lt;=<span class="string">'Z'</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="literal">false</span>)&#123;</span><br><span class="line">                flag=<span class="literal">true</span>;</span><br><span class="line">                number++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> flag=<span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;number&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="24-国际象棋有8×8-格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8-个皇后，并使它们互相无法威胁到彼此。"><a href="#24-国际象棋有8×8-格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8-个皇后，并使它们互相无法威胁到彼此。" class="headerlink" title="24. 国际象棋有8×8 格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8 个皇后，并使它们互相无法威胁到彼此。"></a>24. 国际象棋有8×8 格，每个格子可放一个棋子。皇后的规则是可以横、竖、斜移动。在一个棋盘放置8 个皇后，并使它们互相无法威胁到彼此。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n=<span class="number">8</span>,total=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *c=<span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_ok</span><span class="params">(<span class="keyword">int</span> row)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n&amp;&amp;i!=row;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c[row]==c[i]||row-c[row]==i-c[i]||row+c[row]==i+c[i])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">queen</span><span class="params">(<span class="keyword">int</span> row)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(row==n) total++;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">0</span>;col&lt;n;col++)&#123;</span><br><span class="line">            c[row]=col;</span><br><span class="line">            <span class="keyword">if</span>(is_ok(row))</span><br><span class="line">                queen(row+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queen(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"八皇后的解有"</span>&lt;&lt;total&lt;&lt;<span class="string">"种"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="25-有一字符串a，内容为：My-name-is-Li-jilin-，另有字符串b，内容为：Mr-Zhang-Haoling-is-very-happy-写一函数，将字符串b-中从第5-个到第17个字符复制到字符串a-中，取代字符串a-中第12-个字符以后的字符。输出新的字符串。"><a href="#25-有一字符串a，内容为：My-name-is-Li-jilin-，另有字符串b，内容为：Mr-Zhang-Haoling-is-very-happy-写一函数，将字符串b-中从第5-个到第17个字符复制到字符串a-中，取代字符串a-中第12-个字符以后的字符。输出新的字符串。" class="headerlink" title="25.有一字符串a，内容为：My name is Li jilin.，另有字符串b，内容为：Mr. Zhang Haoling is very happy.写一函数，将字符串b 中从第5 个到第17个字符复制到字符串a 中，取代字符串a 中第12 个字符以后的字符。输出新的字符串。"></a>25.有一字符串a，内容为：My name is Li jilin.，另有字符串b，内容为：Mr. Zhang Haoling is very happy.写一函数，将字符串b 中从第5 个到第17个字符复制到字符串a 中，取代字符串a 中第12 个字符以后的字符。输出新的字符串。</h3><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line">using namespace std<span class="comment">;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> s1 = <span class="string">"My name is Li jilin"</span>,s2 = <span class="string">"Mr. Zhang Haoling is very happy."</span><span class="comment">;</span></span><br><span class="line">    <span class="built_in">string</span> str<span class="comment">;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i=<span class="number">4</span><span class="comment">;i&lt;17;i++)</span></span><br><span class="line">    &#123;</span><br><span class="line">        str+=s2[i]<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">    //replace(被替换序子串的开始位置pos，被替换序子串的长度len,用以替换的子串str)</span><br><span class="line">    s1.replace(<span class="number">11</span>,<span class="number">-1</span>,str)<span class="comment">;</span></span><br><span class="line">    cout&lt;&lt;s1&lt;&lt;endl<span class="comment">;</span></span><br><span class="line">    system(<span class="string">"pause"</span>)<span class="comment">;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span><span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="26-有一分数序列：1-2-1-4-1-6-1-8……，用函数调用的方法，求此数列前20项的和。"><a href="#26-有一分数序列：1-2-1-4-1-6-1-8……，用函数调用的方法，求此数列前20项的和。" class="headerlink" title="26.有一分数序列：1/2,1/4,1/6,1/8……，用函数调用的方法，求此数列前20项的和。"></a>26.有一分数序列：1/2,1/4,1/6,1/8……，用函数调用的方法，求此数列前20项的和。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> sum=<span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">20</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum+=<span class="number">1.0</span>/(<span class="number">2.0</span>*i);  <span class="comment">//double运算时数建议都写成小数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="27-已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。"><a href="#27-已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。" class="headerlink" title="27. 已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。"></a>27. 已知一个单向链表的头，请写出删除其某一个结点的算法，要求，先找到此结点，然后删除。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; l;   <span class="comment">//初始化单链表</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        l.push_back(x);  <span class="comment">//在list末尾插入x</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:l) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"&gt;"</span>;   <span class="comment">//迭代器循环输出list</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"输入要删除的元素："</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;y;</span><br><span class="line">    <span class="keyword">auto</span> <span class="built_in">begin</span> = l.<span class="built_in">begin</span>();  </span><br><span class="line">    <span class="keyword">auto</span> <span class="built_in">end</span> = l.<span class="built_in">end</span>();</span><br><span class="line">    <span class="keyword">for</span>(;<span class="built_in">begin</span>!=<span class="built_in">end</span>;<span class="built_in">begin</span>++)&#123;   <span class="comment">//迭代器循环查找元素</span></span><br><span class="line">        <span class="keyword">if</span>(*<span class="built_in">begin</span>==y)&#123;</span><br><span class="line">            l.<span class="built_in">remove</span>(y);   <span class="comment">//可不用查找，直接删除元素y</span></span><br><span class="line">            <span class="keyword">break</span>;         <span class="comment">//l.insert(begin,y) ：将y插入begin之前</span></span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:l) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"&gt;"</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="28-用冒泡法对10-个整数排序。"><a href="#28-用冒泡法对10-个整数排序。" class="headerlink" title="28.用冒泡法对10 个整数排序。"></a>28.用冒泡法对10 个整数排序。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)               <span class="comment">//冒泡排序关键代码</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">9</span>-i;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j]&gt;a[j+<span class="number">1</span>]) </span><br><span class="line">                swap(a[j],a[j+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;a[i]&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="29-有一个16-位的整数，每4-位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101-0101-1011-0111（十进制为36）"><a href="#29-有一个16-位的整数，每4-位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101-0101-1011-0111（十进制为36）" class="headerlink" title="29.有一个16 位的整数，每4 位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101+0101+1011+0111（十进制为36）"></a>29.有一个16 位的整数，每4 位为一个数，写函数求他们的和。比如：整数1101010110110111（十进制为54711），和1101+0101+1011+0111（十进制为36）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> c=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(n)&#123;</span><br><span class="line">		c+=n&amp;<span class="number">15</span>;  <span class="comment">//4位和1111与</span></span><br><span class="line">		n&gt;&gt;=<span class="number">4</span>;  <span class="comment">//n右移四位</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;sum(n);</span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="30-设编号为1，2，…-n-的n-个人围坐一圈，约定编号为k（1-lt-k-lt-n）的人从1-开始报数，数到m-的那个人出列，它的下一位又从1-开始报数，数到m-的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。"><a href="#30-设编号为1，2，…-n-的n-个人围坐一圈，约定编号为k（1-lt-k-lt-n）的人从1-开始报数，数到m-的那个人出列，它的下一位又从1-开始报数，数到m-的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。" class="headerlink" title="30. 设编号为1，2，… n 的n 个人围坐一圈，约定编号为k（1&lt;=k&lt;=n）的人从1 开始报数，数到m 的那个人出列，它的下一位又从1 开始报数，数到m 的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。"></a>30. 设编号为1，2，… n 的n 个人围坐一圈，约定编号为k（1&lt;=k&lt;=n）的人从1 开始报数，数到m 的那个人出列，它的下一位又从1 开始报数，数到m 的那个人又出列，依次类推，直到所有人出列为止，由此产生一个出队编号的序列。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"> <span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k,m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k&gt;&gt;m)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n%m==<span class="number">0</span>)&#123;              <span class="comment">//不能输出所有元素</span></span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"不存在约瑟夫环"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(((k+m*i<span class="number">-1</span>)%n==<span class="number">0</span>)) <span class="built_in">cout</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;   <span class="comment">//模为0，则输出n</span></span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;(k+m*i<span class="number">-1</span>)%n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="31-声明一个类String，其数据成员为char-head-100-，构造函数String（char-Head）实现head-的初始化，成员函数void-reverse（）实现head-内字符串的逆序存放，成员函数void-print-实现head-内字符串的输出。"><a href="#31-声明一个类String，其数据成员为char-head-100-，构造函数String（char-Head）实现head-的初始化，成员函数void-reverse（）实现head-内字符串的逆序存放，成员函数void-print-实现head-内字符串的输出。" class="headerlink" title="31.声明一个类String，其数据成员为char head[100]，构造函数String（char*Head）实现head 的初始化，成员函数void reverse（）实现head 内字符串的逆序存放，成员函数void print()实现head 内字符串的输出。"></a>31.声明一个类String，其数据成员为char head[100]，构造函数String（char*Head）实现head 的初始化，成员函数void reverse（）实现head 内字符串的逆序存放，成员函数void print()实现head 内字符串的输出。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//定义一个String类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">String</span>&#123;</span>   </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="keyword">String</span>(<span class="keyword">char</span>*);  <span class="comment">//构造函数</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Reverse</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">char</span> head[<span class="number">100</span>];  <span class="comment">//成员变量</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">String</span>::<span class="keyword">String</span>(<span class="keyword">char</span>* Head)&#123;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> *p=Head;  <span class="comment">//定义新的指针</span></span><br><span class="line">    <span class="keyword">while</span>((*p)!=<span class="string">'\0'</span>)&#123;</span><br><span class="line">        head[i++]=*p;</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">    head[i]=<span class="string">'\0'</span>;   <span class="comment">//最后别忘了，是以'\0'结尾</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">String::Reverse</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> h[<span class="number">100</span>],*p=head;</span><br><span class="line">    <span class="keyword">while</span>((*p)!=<span class="string">'\0'</span>)&#123;</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>((*p)!=head[<span class="number">0</span>])&#123;</span><br><span class="line">        p--;</span><br><span class="line">        h[i++]=*p;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    h[i]=<span class="string">'\0'</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;h[i]!=<span class="string">'\0'</span>;i++)  </span><br><span class="line">    &#123;</span><br><span class="line">        head[i]=h[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">String::Print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* p=head;</span><br><span class="line">    <span class="keyword">for</span>(;(*p)!=<span class="string">'\0'</span>;p++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;*p&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *Head =(<span class="keyword">char</span>*) <span class="string">"abcd"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">s</span><span class="params">(Head)</span></span>;  <span class="comment">//类实例化</span></span><br><span class="line">    s.Print();</span><br><span class="line">    s.Reverse();</span><br><span class="line">    s.Print();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="32-定义盒子Box-类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。"><a href="#32-定义盒子Box-类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。" class="headerlink" title="32.定义盒子Box 类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。"></a>32.定义盒子Box 类，要求具有以下成员：可设置盒子形状；可计算盒子体积；可计算盒子的表面积。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Box(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);   <span class="comment">//不用定义形参</span></span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">v</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> x,y,z;</span><br><span class="line">&#125;;</span><br><span class="line">Box::Box(<span class="keyword">double</span> X,<span class="keyword">double</span> Y,<span class="keyword">double</span> Z)&#123;</span><br><span class="line">    x=X;</span><br><span class="line">    y=Y;</span><br><span class="line">    z=Z;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Box::v</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (x*y*z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Box::s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*(x*y+x*z+y*z);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Box <span class="title">B</span><span class="params">(<span class="number">5.0</span>,<span class="number">6.0</span>,<span class="number">7.0</span>)</span></span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;B.v()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;B.s()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="33-声明一个Tree（树）类，有成员ages-树龄-成员函数grow-int-years-用以对ages-加上years，showAge-用以显示tree-对象的ages-值。在主函数中定义Tree-类对象，并调用成员函数（自行指定实参数据）。"><a href="#33-声明一个Tree（树）类，有成员ages-树龄-成员函数grow-int-years-用以对ages-加上years，showAge-用以显示tree-对象的ages-值。在主函数中定义Tree-类对象，并调用成员函数（自行指定实参数据）。" class="headerlink" title="33.声明一个Tree（树）类，有成员ages(树龄),成员函数grow(int years)用以对ages 加上years，showAge()用以显示tree 对象的ages 值。在主函数中定义Tree 类对象，并调用成员函数（自行指定实参数据）。"></a>33.声明一个Tree（树）类，有成员ages(树龄),成员函数grow(int years)用以对ages 加上years，showAge()用以显示tree 对象的ages 值。在主函数中定义Tree 类对象，并调用成员函数（自行指定实参数据）。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Tree(<span class="keyword">int</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">showAge</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line">Tree::Tree(<span class="keyword">int</span> year)&#123;</span><br><span class="line">    age=year;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tree::grow</span><span class="params">(<span class="keyword">int</span> year)</span></span>&#123;</span><br><span class="line">    age+=year;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tree::showAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;age&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Tree <span class="title">tree</span><span class="params">(<span class="number">100</span>)</span></span>;</span><br><span class="line">    tree.showAge();</span><br><span class="line">    tree.grow(<span class="number">10</span>);</span><br><span class="line">    tree.showAge();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="34-有一个学生类Student-包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级："><a href="#34-有一个学生类Student-包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级：" class="headerlink" title="34.有一个学生类Student,包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级："></a>34.有一个学生类Student,包括学生姓名、成绩，设计一个友元函数，输出成绩对应的等级：</h3><blockquote><p>(1) 大于等于90：优；<br>(2) 80<del>90：良；<br>(3) 70</del>79：中；<br>(4) 60~69：及格；<br>(5) 小于60：不及格。</p></blockquote><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Student(<span class="built_in">string</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">getGrade</span><span class="params">(Student&amp;)</span></span>;  <span class="comment">//友元函数不属于某一个类，形参是对象，可以访问私有成员</span></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="built_in">string</span> name;</span><br><span class="line">        <span class="keyword">double</span> grade;</span><br><span class="line">&#125;;</span><br><span class="line">Student::Student(<span class="built_in">string</span> n,<span class="keyword">double</span> g)&#123;</span><br><span class="line">    name=n;</span><br><span class="line">    grade=g;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getGrade</span><span class="params">(Student &amp;s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (<span class="keyword">int</span>(s.grade/<span class="number">10.0</span>))    <span class="comment">//case都是int型，所以要强制类型转换下</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"不及格"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;  <span class="comment">//case下不用加括号</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"及格"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"中"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"良"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>: </span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>: <span class="built_in">cout</span>&lt;&lt;<span class="string">"优秀"</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Student s1("陈励鹏",98),s2("李晨",100);</span><br><span class="line">    getGrade(s1);           <span class="comment">//s1.name不可访问</span></span><br><span class="line">    getGrade(s2);</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="35-定义一个复数类，用友元函数实现对双目运算符“-”的运算符重载，使其适用于复数运算。"><a href="#35-定义一个复数类，用友元函数实现对双目运算符“-”的运算符重载，使其适用于复数运算。" class="headerlink" title="35.定义一个复数类，用友元函数实现对双目运算符“+”的运算符重载，使其适用于复数运算。"></a>35.定义一个复数类，用友元函数实现对双目运算符“+”的运算符重载，使其适用于复数运算。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Complex();</span><br><span class="line">        Complex(<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp;);</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getreal</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getimag</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> real,imag;</span><br><span class="line">&#125;;</span><br><span class="line">Complex::Complex()&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;real=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex::Complex(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y)&#123;  <span class="comment">//构造函数重载</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;real = _x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag = _y;</span><br><span class="line">&#125;</span><br><span class="line">Complex Complex::<span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp; c)&#123;   <span class="comment">//运算符重载</span></span><br><span class="line">    Complex n;  <span class="comment">//创建新对象，后返回</span></span><br><span class="line">    n.real = <span class="keyword">this</span>-&gt;real+c.real;</span><br><span class="line">    n.imag = <span class="keyword">this</span>-&gt;imag+c.imag;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getreal</span><span class="params">()</span></span>&#123;  <span class="comment">//私有成员只有通过成员函数取，不能直接取</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;real;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getimag</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;imag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Complex c1(10,5),c2(4,4);</span><br><span class="line">    Complex c3=c1+c2;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;c3.getreal()&lt;&lt;<span class="string">" "</span>&lt;&lt;c3.getimag();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">//友元函数实现版</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;                  </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Complex</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Complex();</span><br><span class="line">        Complex(<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="keyword">friend</span> Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp;,<span class="keyword">const</span> Complex&amp;); <span class="comment">//友元函数用不了this</span></span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getreal</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">getimag</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> real,imag;</span><br><span class="line">&#125;;</span><br><span class="line">Complex::Complex()&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;real=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Complex::Complex(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;real = _x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;imag = _y;</span><br><span class="line">&#125;</span><br><span class="line">Complex <span class="keyword">operator</span>+(<span class="keyword">const</span> Complex&amp; z1,<span class="keyword">const</span> Complex&amp; z2)&#123;</span><br><span class="line">    Complex n;</span><br><span class="line">    n.real = z1.real+z2.real;</span><br><span class="line">    n.imag = z1.imag+z2.imag;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getreal</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;real;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Complex::getimag</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;imag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Complex c1(10,5),c2(4,4);</span><br><span class="line">    Complex c3=c1+c2;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;c3.getreal()&lt;&lt;<span class="string">" "</span>&lt;&lt;c3.getimag();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="36-有一个Time-类，包含数据成员minute-分-和sec-秒-，模拟秒表，每次走一秒，满60-秒进一分钟，此时秒又从0-开始算。要求输出分和秒的值。（提示：重载单目运算符-）。"><a href="#36-有一个Time-类，包含数据成员minute-分-和sec-秒-，模拟秒表，每次走一秒，满60-秒进一分钟，此时秒又从0-开始算。要求输出分和秒的值。（提示：重载单目运算符-）。" class="headerlink" title="36. 有一个Time 类，包含数据成员minute(分)和sec(秒)，模拟秒表，每次走一秒，满60 秒进一分钟，此时秒又从0 开始算。要求输出分和秒的值。（提示：重载单目运算符++）。"></a>36. 有一个Time 类，包含数据成员minute(分)和sec(秒)，模拟秒表，每次走一秒，满60 秒进一分钟，此时秒又从0 开始算。要求输出分和秒的值。（提示：重载单目运算符++）。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Time</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Time();</span><br><span class="line">    Time(<span class="keyword">int</span>, <span class="keyword">int</span>);</span><br><span class="line">    Time <span class="keyword">operator</span>++(<span class="keyword">int</span>); <span class="comment">//带参数的是后置 t++</span></span><br><span class="line">    <span class="comment">//Time operator++();  //不带参数的是前置 ++t</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> minute;</span><br><span class="line">    <span class="keyword">int</span> second;</span><br><span class="line">&#125;;</span><br><span class="line">Time::Time()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;minute = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;second = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Time::Time(<span class="keyword">int</span> _m, <span class="keyword">int</span> _s)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;minute = _m;</span><br><span class="line">    <span class="keyword">this</span>-&gt;second = _s;</span><br><span class="line">&#125;</span><br><span class="line">Time Time::<span class="keyword">operator</span>++(<span class="keyword">int</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;second &lt; <span class="number">59</span>)    <span class="comment">//也可以新建一个对象Time temp(*this)</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;second++;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>-&gt;second == <span class="number">59</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;second = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;minute++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Time::display</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;minute&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="keyword">this</span>-&gt;second&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Time <span class="title">t</span><span class="params">(<span class="number">20</span>, <span class="number">59</span>)</span></span>;</span><br><span class="line">    t.<span class="built_in">display</span>();</span><br><span class="line">    Time t1=t++;</span><br><span class="line">    t1.<span class="built_in">display</span>();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="37-设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“-”，以实现求两个三角形对象的面积之和。"><a href="#37-设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“-”，以实现求两个三角形对象的面积之和。" class="headerlink" title="37.设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“+”，以实现求两个三角形对象的面积之和。"></a>37.设计一个三角形类Triangle，包含三角形三条边长的私有数据成员，另有一个重载运算符“+”，以实现求两个三角形对象的面积之和。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Triangle</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Triangle();</span><br><span class="line">        Triangle(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="keyword">double</span> <span class="keyword">operator</span>+(Triangle&amp;);</span><br><span class="line">        <span class="function"><span class="keyword">double</span> <span class="title">s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> a,b,c;</span><br><span class="line">&#125;;</span><br><span class="line">Triangle::Triangle()&#123;</span><br><span class="line">   <span class="keyword">this</span>-&gt;a = <span class="number">0</span>; </span><br><span class="line">   <span class="keyword">this</span>-&gt;b = <span class="number">0</span>; </span><br><span class="line">   <span class="keyword">this</span>-&gt;c = <span class="number">0</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Triangle::Triangle(<span class="keyword">double</span> _a,<span class="keyword">double</span> _b,<span class="keyword">double</span> _c)&#123;</span><br><span class="line">   <span class="keyword">this</span>-&gt;a = _a; </span><br><span class="line">   <span class="keyword">this</span>-&gt;b = _b; </span><br><span class="line">   <span class="keyword">this</span>-&gt;c = _c; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">double</span> Triangle::<span class="keyword">operator</span>+(Triangle&amp; t)&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">this</span>-&gt;s()+t.s();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Triangle::s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> p=(<span class="keyword">this</span>-&gt;a+<span class="keyword">this</span>-&gt;b+<span class="keyword">this</span>-&gt;c)/<span class="number">2.0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sqrt</span>(p*(p-<span class="keyword">this</span>-&gt;a)*(p-<span class="keyword">this</span>-&gt;b)*(p-<span class="keyword">this</span>-&gt;c));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Triangle t1(10,20,15),t2(5,10,13);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;t1+t2;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="38-使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。"><a href="#38-使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。" class="headerlink" title="38. 使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。"></a>38. 使用函数重载的方法定义两个重名函数，分别求出整型数的两数之和和浮点数的两数之和，并在主函数中调用。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;  <span class="comment">//模板</span></span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(T temp1,T tmep2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (temp1+tmep2);</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum(a,b)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">double</span> x,y;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum(x,y)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="39-定义一个抽象类Shape-用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。"><a href="#39-定义一个抽象类Shape-用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。" class="headerlink" title="39. 定义一个抽象类Shape 用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。"></a>39. 定义一个抽象类Shape 用以计算面积，从中派生出计算长方形、梯形、圆形面积的派生类。程序中通过基类指针来调用派生类中的虚函数，计算不同形状的面积。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.14</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Shape();</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>=<span class="number">0</span>;  <span class="comment">//纯虚函数</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        <span class="keyword">double</span> s;      </span><br><span class="line">&#125;;</span><br><span class="line">Shape::Shape()&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Shape::display</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;s&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span><span class="keyword">public</span> Shape&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Rectangle(<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> a,b;</span><br><span class="line">&#125;;</span><br><span class="line">Rectangle::Rectangle(<span class="keyword">double</span> _a,<span class="keyword">double</span> _b)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;a=_a;</span><br><span class="line">    <span class="keyword">this</span>-&gt;b=_b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Rectangle::compute_s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="keyword">this</span>-&gt;a*<span class="keyword">this</span>-&gt;b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trapezium</span>:</span><span class="keyword">public</span> Shape&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Trapezium(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> x,y,h;    </span><br><span class="line">&#125;;</span><br><span class="line">Trapezium::Trapezium(<span class="keyword">double</span> _x,<span class="keyword">double</span> _y,<span class="keyword">double</span> _h)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;x=_x;</span><br><span class="line">    <span class="keyword">this</span>-&gt;y=_y;</span><br><span class="line">    <span class="keyword">this</span>-&gt;h=_h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Trapezium::compute_s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=(<span class="keyword">this</span>-&gt;x+<span class="keyword">this</span>-&gt;y)*h/<span class="number">2.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Roundness</span>:</span><span class="keyword">public</span> Shape&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Roundness(<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> r;    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Roundness::Roundness(<span class="keyword">double</span> _r)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;r=_r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Roundness::compute_s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=PI*<span class="keyword">this</span>-&gt;r*<span class="keyword">this</span>-&gt;r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Shape *shape =<span class="keyword">new</span> Rectangle(<span class="number">10.0</span>,<span class="number">5.0</span>); <span class="comment">//两种方式创建，通过基类指针调用子类的函数（如下）</span></span><br><span class="line">    shape-&gt;compute_s();</span><br><span class="line">    shape-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">Trapezium <span class="title">tra</span><span class="params">(<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>)</span></span>;</span><br><span class="line">    shape=&amp;tra;</span><br><span class="line">    shape-&gt;compute_s();</span><br><span class="line">    shape-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">Roundness <span class="title">rou</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    shape=&amp;rou;</span><br><span class="line">    shape-&gt;compute_s();</span><br><span class="line">    shape-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="40-定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。"><a href="#40-定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。" class="headerlink" title="40.定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。"></a>40.定义计数器类Counter。要求具有以下成员：计数器值；可进行增值和减值记数；可提供记数值。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Counter(<span class="keyword">int</span>);</span><br><span class="line">        Counter <span class="keyword">operator</span>++(<span class="keyword">int</span>);  <span class="comment">//后置</span></span><br><span class="line">        Counter <span class="keyword">operator</span>--(<span class="keyword">int</span>);  <span class="comment">//同上</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line">Counter::Counter(<span class="keyword">int</span> a)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;i=a;</span><br><span class="line">&#125;</span><br><span class="line">Counter Counter::<span class="keyword">operator</span>++(<span class="keyword">int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;i++;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Counter Counter::<span class="keyword">operator</span>--(<span class="keyword">int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;i--;</span><br><span class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Counter::display</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Counter c1(2),c2(3);</span><br><span class="line">    c1--;</span><br><span class="line">    c1.<span class="built_in">display</span>(); <span class="comment">//1</span></span><br><span class="line">    c2++;</span><br><span class="line">    c2.<span class="built_in">display</span>();  <span class="comment">//4</span></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="41-声明一个哺乳动物Mammal-类，再由此派生出狗Dog-类，二者都定义speak-成员函数，基类中定义为虚函数。声明一个Dog-类的对象，调用speak-函数，观察运行结果。"><a href="#41-声明一个哺乳动物Mammal-类，再由此派生出狗Dog-类，二者都定义speak-成员函数，基类中定义为虚函数。声明一个Dog-类的对象，调用speak-函数，观察运行结果。" class="headerlink" title="41.声明一个哺乳动物Mammal 类，再由此派生出狗Dog 类，二者都定义speak( )成员函数，基类中定义为虚函数。声明一个Dog 类的对象，调用speak()函数，观察运行结果。"></a>41.声明一个哺乳动物Mammal 类，再由此派生出狗Dog 类，二者都定义speak( )成员函数，基类中定义为虚函数。声明一个Dog 类的对象，调用speak()函数，观察运行结果。</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mammal</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Mammal()&#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"Mammal"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span><span class="keyword">public</span> Mammal&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Dog()&#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"Dog"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Dog d;  <span class="comment">//无参数，则无括号</span></span><br><span class="line">    d.speak();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="42-编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求："><a href="#42-编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求：" class="headerlink" title="42.编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求："></a>42.编写一个程序计算“三角形、正方形、圆形”三种图形的面积，要求：</h3><pre><code>a) 抽象出一个基类Base；
b) 在其中说明一个虚函数用来求面积；
c) 利用派生类定义“三角形、正方形、圆形”；
d) 编写主函数并测试。</code></pre><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.14</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Base();</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>=<span class="number">0</span>;  <span class="comment">//纯虚函数</span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">protected</span>:</span><br><span class="line">        <span class="keyword">double</span> s;      </span><br><span class="line">&#125;;</span><br><span class="line">Base::Base()&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Base::display</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="keyword">this</span>-&gt;s&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Triangle</span>:</span><span class="keyword">public</span> Base&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Triangle(<span class="keyword">double</span>,<span class="keyword">double</span>,<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> a,b,c;</span><br><span class="line">&#125;;</span><br><span class="line">Triangle::Triangle(<span class="keyword">double</span> _a,<span class="keyword">double</span> _b,<span class="keyword">double</span> _c)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;a=_a;</span><br><span class="line">    <span class="keyword">this</span>-&gt;b=_b;</span><br><span class="line">    <span class="keyword">this</span>-&gt;c=_c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Triangle::compute_s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> p=(a+b+c)/<span class="number">2.0</span>;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=p*(p-<span class="keyword">this</span>-&gt;a)*(p-<span class="keyword">this</span>-&gt;b)*(p-<span class="keyword">this</span>-&gt;c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span>:</span><span class="keyword">public</span> Base&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Square(<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> x;    </span><br><span class="line">&#125;;</span><br><span class="line">Square::Square(<span class="keyword">double</span> _x)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;x=_x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Square::compute_s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=<span class="keyword">this</span>-&gt;x*<span class="keyword">this</span>-&gt;x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Roundness</span>:</span><span class="keyword">public</span> Base&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        Roundness(<span class="keyword">double</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">compute_s</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="keyword">double</span> r;    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Roundness::Roundness(<span class="keyword">double</span> _r)&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;r=_r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Roundness::compute_s</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;s=PI*<span class="keyword">this</span>-&gt;r*<span class="keyword">this</span>-&gt;r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Base *b1=<span class="keyword">new</span> Triangle(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">    b1-&gt;compute_s();</span><br><span class="line">    b1-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    Base *b2=<span class="keyword">new</span> Square(<span class="number">3</span>);</span><br><span class="line">    b2-&gt;compute_s();</span><br><span class="line">    b2-&gt;<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">    Base *b3=<span class="keyword">new</span> Roundness(<span class="number">3</span>);</span><br><span class="line">    b3-&gt;compute_s();</span><br><span class="line">    b3-&gt;<span class="built_in">display</span>();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="43-编写一段程序，从标准输入中一次读入一整行，存入std-string-中，然后修改该程序，使其一次读入一个词。（练习3-2）"><a href="#43-编写一段程序，从标准输入中一次读入一整行，存入std-string-中，然后修改该程序，使其一次读入一个词。（练习3-2）" class="headerlink" title="43. 编写一段程序，从标准输入中一次读入一整行，存入std::string 中，然后修改该程序，使其一次读入一个词。（练习3.2）"></a>43. 编写一段程序，从标准输入中一次读入一整行，存入std::string 中，然后修改该程序，使其一次读入一个词。（练习3.2）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="comment">// while(getline(cin,str))&#123;</span></span><br><span class="line">    <span class="comment">//     cout&lt;&lt;str&lt;&lt;endl;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;str)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="44-请说明std-string-类的输入运算符和getline-函数分别是如何处理空白字符的。（练习3-3）"><a href="#44-请说明std-string-类的输入运算符和getline-函数分别是如何处理空白字符的。（练习3-3）" class="headerlink" title="44. 请说明std::string 类的输入运算符和getline 函数分别是如何处理空白字符的。（练习3.3）"></a>44. 请说明std::string 类的输入运算符和getline 函数分别是如何处理空白字符的。（练习3.3）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//cin扫描到空白字符停止</span></span><br><span class="line">    <span class="comment">//getline可以读入空白字符，如空格</span></span><br><span class="line">    <span class="built_in">string</span> str=<span class="string">""</span>,s;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;s)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s==<span class="string">"\n"</span>) <span class="keyword">break</span>;</span><br><span class="line">        str+=s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="45-编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3-5）"><a href="#45-编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3-5）" class="headerlink" title="45. 编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3.5）"></a>45. 编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接成的大字符串。然后修改上述程序，用空格把输入的多个字符串分隔开来。（练习3.5）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str=<span class="string">""</span>,s;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,s))&#123;</span><br><span class="line">        <span class="keyword">if</span>(str==<span class="string">""</span>) str+=s;</span><br><span class="line">        <span class="keyword">else</span> str=str+<span class="string">' '</span>+s;</span><br><span class="line">        <span class="comment">//str+=s;</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;str&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="46-编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3-10）"><a href="#46-编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3-10）" class="headerlink" title="46.编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3.10）"></a>46.编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。（练习3.10）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,s))&#123;</span><br><span class="line">        <span class="built_in">string</span> row=<span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">ispunct</span>(s[i])) row+=s[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;row&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="47-编写一段程序，创建一个含有10-个整数的vector-对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector-对象的内容，检验程序是否正确。（练习3-23）"><a href="#47-编写一段程序，创建一个含有10-个整数的vector-对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector-对象的内容，检验程序是否正确。（练习3-23）" class="headerlink" title="47.编写一段程序，创建一个含有10 个整数的vector 对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector 对象的内容，检验程序是否正确。（练习3.23）"></a>47.编写一段程序，创建一个含有10 个整数的vector 对象，然后使用迭代器将所有元素的值都变成原来的两倍。输出vector 对象的内容，检验程序是否正确。（练习3.23）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v</span>;   <span class="comment">//只是声明，需要对比的是vector&lt;int&gt; v(10)是初始化10个0</span></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="comment">// for(auto i:v)   //vector初始化不能用cin，而应该push_back</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     cin&gt;&gt;i;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">        v.push_back(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for(auto i:v)</span></span><br><span class="line">    <span class="comment">//     i*=2;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)   <span class="comment">//如上for(auto i:v) i*=2不行</span></span><br><span class="line">    &#123;</span><br><span class="line">        v[i]*=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:v)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="48-编写一段程序，比较两个std-string-对象。再编写一段程序，比较两个C风格字符串的内容。（练习3-39）"><a href="#48-编写一段程序，比较两个std-string-对象。再编写一段程序，比较两个C风格字符串的内容。（练习3-39）" class="headerlink" title="48.编写一段程序，比较两个std::string 对象。再编写一段程序，比较两个C风格字符串的内容。（练习3.39）"></a>48.编写一段程序，比较两个std::string 对象。再编写一段程序，比较两个C风格字符串的内容。（练习3.39）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str1=<span class="string">"hello world"</span>,str2=<span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">if</span>(str1==str2) <span class="built_in">cout</span>&lt;&lt;<span class="string">"相等"</span>&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//string可以直接判等</span></span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"不相等"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> c1[]=<span class="string">"hello world"</span>,c2[]=<span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(c1,c2)) <span class="built_in">cout</span>&lt;&lt;<span class="string">"不相等"</span>&lt;&lt;<span class="built_in">endl</span>;   <span class="comment">//strcmp相等返回0，小于返回负数，大于返回正数</span></span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"相等"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="49-对于下面的程序任务，vector、deque-和list-哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9-1）"><a href="#49-对于下面的程序任务，vector、deque-和list-哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9-1）" class="headerlink" title="49. 对于下面的程序任务，vector、deque 和list 哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9.1）"></a>49. 对于下面的程序任务，vector、deque 和list 哪种容器最为合适？解释你的选择的理由。如果没有哪一种容器优于其他容器，也请解释理由。（练习9.1）</h3><blockquote><p>(1) 读取固定数量的单词，将他们按字典序插入到容器中。<br>(2) 读取未知数量的单词，总是将新单词插入到末尾。删除操作在头部进行。<br>(3) 从一个文件读取未知数量的整数。将这些数排序，然后将他们打印到标准输出。</p></blockquote><figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span><span class="type">list</span> 插入位置不固定，且不随机访问</span><br><span class="line"><span class="number">2.</span>deque 前出后进</span><br><span class="line"><span class="number">3.</span><span class="type">vector</span> 排序，需要随机访问</span><br></pre></td></tr></table></figure><h3 id="50-对6-种创建和初始化vector-对象的方法，每一种都给出一个实例。解释每个vector-包含什么值。（练习9-11）"><a href="#50-对6-种创建和初始化vector-对象的方法，每一种都给出一个实例。解释每个vector-包含什么值。（练习9-11）" class="headerlink" title="50.对6 种创建和初始化vector 对象的方法，每一种都给出一个实例。解释每个vector 包含什么值。（练习9.11）"></a>50.对6 种创建和初始化vector 对象的方法，每一种都给出一个实例。解释每个vector 包含什么值。（练习9.11）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec1;  <span class="comment">//定义但不初始化</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec2=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">vec3</span><span class="params">(<span class="number">3</span>)</span></span>; <span class="comment">//3个int类型的0</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">vec4</span><span class="params">(vec1)</span></span>;  <span class="comment">//拷贝初始化1</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">vec5</span><span class="params">(<span class="number">5</span>,<span class="number">3</span>)</span></span>;  <span class="comment">//5个int类型的3</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">8</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;; <span class="comment">//普通数组   </span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">v</span><span class="params">(a+<span class="number">1</span>, a+<span class="number">6</span>)</span></span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:v) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>; <span class="comment">////2,3,4,5,6</span></span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="51-如何从一个list-lt-int-gt-初始化一个vector-lt-double-gt-从一个vector-lt-int-gt-又该如何创建？编写代码验证你的答案。（练习9-13）"><a href="#51-如何从一个list-lt-int-gt-初始化一个vector-lt-double-gt-从一个vector-lt-int-gt-又该如何创建？编写代码验证你的答案。（练习9-13）" class="headerlink" title="51.如何从一个list&lt; int &gt; 初始化一个vector&lt; double &gt;?从一个vector&lt; int &gt;又该如何创建？编写代码验证你的答案。（练习9.13）"></a>51.如何从一个list&lt; int &gt; 初始化一个vector&lt; double &gt;?从一个vector&lt; int &gt;又该如何创建？编写代码验证你的答案。（练习9.13）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;  <span class="comment">//也可一个一个push_back</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; <span class="title">vec1</span><span class="params">(<span class="built_in">list</span>.<span class="built_in">begin</span>(),<span class="built_in">list</span>.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:vec1) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; basic_vec=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; <span class="title">vec2</span><span class="params">(basic_vec.<span class="built_in">begin</span>(),basic_vec.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:vec2) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="52-编写程序，将一个list-中的char-指针（指向C-风格字符串）元素赋值给一个vector-中的string。（练习9-14）"><a href="#52-编写程序，将一个list-中的char-指针（指向C-风格字符串）元素赋值给一个vector-中的string。（练习9-14）" class="headerlink" title="52. 编写程序，将一个list 中的char*指针（指向C 风格字符串）元素赋值给一个vector 中的string。（练习9.14）"></a>52. 编写程序，将一个list 中的char*指针（指向C 风格字符串）元素赋值给一个vector 中的string。（练习9.14）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">char</span> *&gt;l=&#123;<span class="string">"hello"</span>,<span class="string">"world"</span>&#125;;</span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; <span class="title">v</span><span class="params">(l.<span class="built_in">begin</span>(),l.<span class="built_in">end</span>())</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:v) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="53-编写程序，从标准输入读取string-序列，存入一个deque-中。编写一个循环，用迭代器打印deque-中的元素。（练习9-18）"><a href="#53-编写程序，从标准输入读取string-序列，存入一个deque-中。编写一个循环，用迭代器打印deque-中的元素。（练习9-18）" class="headerlink" title="53.编写程序，从标准输入读取string 序列，存入一个deque 中。编写一个循环，用迭代器打印deque 中的元素。（练习9.18）"></a>53.编写程序，从标准输入读取string 序列，存入一个deque 中。编写一个循环，用迭代器打印deque 中的元素。（练习9.18）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="built_in">string</span>&gt; d;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;str)&#123;  <span class="comment">//或者getline(cin,str)，都是ctrl+z结束</span></span><br><span class="line">        d.push_back(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">auto</span> dbegin=d.<span class="built_in">begin</span>();        <span class="comment">//或者 for(auto i:d) cout&lt;&lt;i&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">auto</span> dend=d.<span class="built_in">end</span>();</span><br><span class="line">    <span class="keyword">for</span>(;dbegin!=dend;dbegin++)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;*dbegin&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="54-编写程序，从一个list-lt-int-gt-拷贝元素到两个deque-中，其中值为偶数的所有元素都拷贝到一个deque-中，而奇数元素都拷贝到另一个deque-中。（9-20）"><a href="#54-编写程序，从一个list-lt-int-gt-拷贝元素到两个deque-中，其中值为偶数的所有元素都拷贝到一个deque-中，而奇数元素都拷贝到另一个deque-中。（9-20）" class="headerlink" title="54.编写程序，从一个list&lt; int &gt;拷贝元素到两个deque 中，其中值为偶数的所有元素都拷贝到一个deque 中，而奇数元素都拷贝到另一个deque 中。（9.20）"></a>54.编写程序，从一个list&lt; int &gt;拷贝元素到两个deque 中，其中值为偶数的所有元素都拷贝到一个deque 中，而奇数元素都拷贝到另一个deque 中。（9.20）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt; l=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; odd; <span class="comment">//奇数</span></span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; even; <span class="comment">//偶数</span></span><br><span class="line">    <span class="keyword">auto</span> lbegin=l.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">auto</span> lend=l.<span class="built_in">end</span>();</span><br><span class="line">    <span class="keyword">for</span>(;lbegin!=lend;lbegin++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(*lbegin%<span class="number">2</span>==<span class="number">1</span>) odd.push_back(*lbegin);</span><br><span class="line">        <span class="keyword">else</span> even.push_back(*lbegin);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:odd) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:even) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="55-假定你希望每次读取一个字符存入一个std-string-中，而且知道最少需要读取100-个字符，应该如何提高程序的性能？（9-42）"><a href="#55-假定你希望每次读取一个字符存入一个std-string-中，而且知道最少需要读取100-个字符，应该如何提高程序的性能？（9-42）" class="headerlink" title="55. 假定你希望每次读取一个字符存入一个std::string 中，而且知道最少需要读取100 个字符，应该如何提高程序的性能？（9.42）"></a>55. 假定你希望每次读取一个字符存入一个std::string 中，而且知道最少需要读取100 个字符，应该如何提高程序的性能？（9.42）</h3><figure class="highlight mizar"><table><tr><td class="code"><pre><span class="line"><span class="keyword">reserve</span>一下，提前预分配内存空间，提高运算性能</span><br></pre></td></tr></table></figure><h3 id="56-编写一个函数，接受一个表示名字的std-string-参数和两个分别表示前缀（如“Mr-”或“Ms-”）和后缀（如“Jr-”“III”）的字符串。使用迭代器insert-和append-函数将前缀和后缀加到给定的名字中，生成新的string-并返回。（9-45）"><a href="#56-编写一个函数，接受一个表示名字的std-string-参数和两个分别表示前缀（如“Mr-”或“Ms-”）和后缀（如“Jr-”“III”）的字符串。使用迭代器insert-和append-函数将前缀和后缀加到给定的名字中，生成新的string-并返回。（9-45）" class="headerlink" title="56.编写一个函数，接受一个表示名字的std::string 参数和两个分别表示前缀（如“Mr.”或“Ms.”）和后缀（如“Jr.”“III”）的字符串。使用迭代器insert 和append 函数将前缀和后缀加到给定的名字中，生成新的string 并返回。（9.45）"></a>56.编写一个函数，接受一个表示名字的std::string 参数和两个分别表示前缀（如“Mr.”或“Ms.”）和后缀（如“Jr.”“III”）的字符串。使用迭代器insert 和append 函数将前缀和后缀加到给定的名字中，生成新的string 并返回。（9.45）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">add</span><span class="params">(<span class="built_in">string</span> s,<span class="built_in">string</span> prefix,<span class="built_in">string</span> postfix)</span></span>&#123;</span><br><span class="line">	s.insert(<span class="number">0</span>,prefix);</span><br><span class="line">	s.append(postfix);</span><br><span class="line">	<span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">string</span> s=<span class="string">"lichen"</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;add(s,<span class="string">"Ms."</span>,<span class="string">"lll"</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="57-定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11-7）"><a href="#57-定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11-7）" class="headerlink" title="57.定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11.7）"></a>57.定义一个map，关键字是家庭的姓，值是一个vector，保存家中孩子（们）的名。编写代码，实现添加新的家庭以及向已有家庭中添加新的孩子。（11.7）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt; families;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_family</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; family)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(families.<span class="built_in">find</span>(family)==families.<span class="built_in">end</span>()) <span class="comment">//查找families里是否存在key值(key-value)，如果存在就返回key对应的迭代器，否则返回尾后迭代器end()</span></span><br><span class="line">        families[family]=<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;(); <span class="comment">//添加新家庭</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_child</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; family,<span class="keyword">const</span> <span class="built_in">string</span>&amp; child)</span></span>&#123;</span><br><span class="line">    families[family].push_back(child);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    add_family(<span class="string">"陈"</span>);</span><br><span class="line">    add_child(<span class="string">"陈"</span>,<span class="string">"李晨"</span>);</span><br><span class="line">    add_child(<span class="string">"陈"</span>,<span class="string">"儿砸"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:families)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;i.first&lt;&lt;<span class="string">"家有孩子："</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> j:i.second)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;j&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="58-编写一个程序，在一个vector-而不是一个set-中保存不重复的单词。使用set-的优点是什么？（练习11-8）"><a href="#58-编写一个程序，在一个vector-而不是一个set-中保存不重复的单词。使用set-的优点是什么？（练习11-8）" class="headerlink" title="58.编写一个程序，在一个vector 而不是一个set 中保存不重复的单词。使用set 的优点是什么？（练习11.8）"></a>58.编写一个程序，在一个vector 而不是一个set 中保存不重复的单词。使用set 的优点是什么？（练习11.8）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; dic;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span>,str))&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">find</span>(dic.<span class="built_in">begin</span>(),dic.<span class="built_in">end</span>(),str)==dic.<span class="built_in">end</span>())  <span class="comment">//注意vector find与57题map find的区别</span></span><br><span class="line">            dic.push_back(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:dic) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="59-可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11-26）"><a href="#59-可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11-26）" class="headerlink" title="59.可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11.26）"></a>59.可以用什么类型来对一个map进行下标操作？下标运算符返回的类型是什么？请给出一个具体例子——即，定义一个map，然后写出一个可以用来对map进行下标操作的类型以及下标运算符将会返回的类型。（11.26）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="built_in">string</span>,<span class="keyword">int</span>&gt; dic=&#123;&#123;<span class="string">"陈"</span>,<span class="number">90</span>&#125;,&#123;<span class="string">"李"</span>,<span class="number">100</span>&#125;&#125;;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;dic[<span class="string">"陈"</span>]&lt;&lt;<span class="string">" "</span>&lt;&lt;dic[<span class="string">"李"</span>]&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//对下标操作，即是根据key来操作；下标操作返回的是key对应的value值</span></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="60-用冒泡法对10-个整数排序。（用STL-的vector-容器实现）"><a href="#60-用冒泡法对10-个整数排序。（用STL-的vector-容器实现）" class="headerlink" title="60. 用冒泡法对10 个整数排序。（用STL 的vector 容器实现）"></a>60. 用冒泡法对10 个整数排序。（用STL 的vector 容器实现）</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec=&#123;<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;<span class="number">10</span>-i;j++)  <span class="comment">//j都在前</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(vec[j]&gt;vec[j+<span class="number">1</span>])</span><br><span class="line">                swap(vec[j],vec[j+<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i:vec) <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>专业相关</category>
        <category>刷题</category>
        <category>王道训练营</category>
      </categories>
      <tags>
        <tag>算法</tag>
        <tag>c++</tag>
      </tags>
  </entry>
</search>
